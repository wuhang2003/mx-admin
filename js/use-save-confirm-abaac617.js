import{g as u,x as l,y as v,ak as d}from"./index-8a35f31c.js";const p=(r,i,n="文章未保存是否确定离开？")=>{const t=e=>{if(!i())return e.preventDefault(),e.returnValue=n,!1};u(()=>{r&&window.addEventListener("beforeunload",t)}),l(()=>{r&&window.removeEventListener("beforeunload",t)});const a=v();d(async(e,c,o)=>{if(!r){o();return}if(i()){o();return}if(e.hash=="|publish"){o();return}const f=new Promise((s,m)=>{a.warning({title:n,negativeText:"嗯",positiveText:"手抖了啦",onNegativeClick(){s(!0)},onPositiveClick(){s(!1)}})});await Promise.resolve(f)&&o()})};export{p as u};
