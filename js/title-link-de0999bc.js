import{E as c}from"./ExternalLink-e62fbd08.js";import{b as f,I as g}from"./endpoint-c92b65ee.js";import{d as x,e as L,ax as m,i as r,W as h,h as e,l as k,I as i,N as p,k as u,H as w}from"./index-c46c2349.js";import{a as v}from"./DataTable-f1a241b1.js";const b=x({props:{inPageTo:{type:String,required:!0},title:{type:String,required:!0},externalLinkTo:{type:String,required:!1},id:{type:String,required:!1},withToken:{type:Boolean,required:!1},xLog:{type:Object,required:!1}},setup(t,{slots:o}){const{viewport:a}=L(m),s=r(()=>a.value.widest||a.value.wider),n=r(()=>{if(!t.externalLinkTo)return null;try{return new URL(t.externalLinkTo,t.externalLinkTo.startsWith("/")?h:void 0).toString()}catch{return null}}),d=f(t.id,t.withToken);return()=>e(w,{to:t.inPageTo,class:"inline-flex items-center space-x-2"},{default:()=>[e(v,{lineClamp:2,tooltip:{width:500}},{default:()=>[t.title]}),o.default?.(),n.value&&e(k,{text:!0,tag:"a",class:"cursor-[alias]",href:n.value,target:"_blank",type:"primary",onClick:l=>l.stopPropagation()},{default:()=>[e(i,null,{default:()=>[e(c,null,null)]})]}),t.id&&s.value&&e(g,{path:d},null),t.xLog&&t.xLog.pageId&&e(p,null,{default(){return e("div",{class:"max-w-300px"},[e("p",null,[u("此文章同步到 Crossbell 网络。")]),e("p",null,[u("xLog pageId: "),t.xLog.pageId]),t.xLog.relatedUrls?.map(l=>e("p",{key:l},[e("a",{href:l,target:"_blank"},[l])]))])},trigger(){return e(i,null,{default:()=>[e(T,null,null)]})}})]})}}),T=()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 1024 1024"},[e("path",{fill:"currentColor",d:"M866.9 169.9L527.1 54.1C523 52.7 517.5 52 512 52s-11 .7-15.1 2.1L157.1 169.9c-8.3 2.8-15.1 12.4-15.1 21.2v482.4c0 8.8 5.7 20.4 12.6 25.9L499.3 968c3.5 2.7 8 4.1 12.6 4.1s9.2-1.4 12.6-4.1l344.7-268.6c6.9-5.4 12.6-17 12.6-25.9V191.1c.2-8.8-6.6-18.3-14.9-21.2zM810 654.3L512 886.5L214 654.3V226.7l298-101.6l298 101.6v427.6zm-405.8-201c-3-4.1-7.8-6.6-13-6.6H336c-6.5 0-10.3 7.4-6.5 12.7l126.4 174a16.1 16.1 0 0 0 26 0l212.6-292.7c3.8-5.3 0-12.7-6.5-12.7h-55.2c-5.1 0-10 2.5-13 6.6L468.9 542.4l-64.7-89.1z"},null)]);export{b as T};
