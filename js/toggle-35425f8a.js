import{d as L,o as tt,c as nt,a as U,r as bt,w as et,al as It,h as y,l as Nt,I as Y,N as Lt,bI as Pt,k as Q,t as Ot,bo as At,F as Vt,s as D,z as Ft,_ as X,ak as ct,bD as Z,bJ as kt,ai as Bt,i as Dt,bd as jt,bE as Ut,J as zt,av as Rt,K as $t}from"./index-a5dd80c2.js";import{u as lt}from"./use-react-ec909456.js";import{u as Gt}from"./use-save-confirm-de11005b.js";import{t as xt}from"./throttle-333c8d0f.js";import{N as j}from"./FormItem-24e41756.js";import{N as Jt}from"./InputNumber-e6403ed8.js";import{N as Ht}from"./Switch-1453150d.js";import{N as Wt}from"./Form-ab7268b7.js";import{N as qt}from"./Select-00aee6c5.js";const Yt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Qt=U("path",{d:"M256 48C141.31 48 48 141.32 48 256c0 114.86 93.14 208 208 208c114.69 0 208-93.31 208-208c0-114.87-93.13-208-208-208zm0 313a94 94 0 0 1 0-188h4.21l-14.11-14.1a14 14 0 0 1 19.8-19.8l40 40a14 14 0 0 1 0 19.8l-40 40a14 14 0 0 1-19.8-19.8l18-18c-2.38-.1-5.1-.1-8.1-.1a66 66 0 1 0 66 66a14 14 0 0 1 28 0a94.11 94.11 0 0 1-94 94z",fill:"currentColor"},null,-1),Xt=[Qt],Zt=L({name:"RefreshCircle",render:function(t,n){return tt(),nt("svg",Yt,Xt)}}),Kt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},tn=U("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z",fill:"currentColor"},null,-1),nn=[tn],en=L({name:"FullscreenExitOutlined",render:function(t,n){return tt(),nt("svg",Kt,nn)}}),rn={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},on=U("g",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[U("path",{d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 0 0-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 0 0-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 0 0-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 0 0-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 0 0 1.066-2.573c-.94-1.543.826-3.31 2.37-2.37c1 .608 2.296.07 2.572-1.065z"}),U("circle",{cx:"12",cy:"12",r:"3"})],-1),sn=[on],an=L({name:"Settings",render:function(t,n){return tt(),nt("svg",rn,sn)}}),_t={editor:"editor-pref",general:"editor-general"};var P=(e=>(e.monaco="monaco",e.codemirror="codemirror",e.plain="plain",e))(P||{});const un="_editor_19kch_1",fn="_loading_19kch_1",dt={editor:un,loading:fn},Mt={text:{type:String,required:!0},onChange:{type:Function,required:!0},unSaveConfirm:{type:Boolean,default:!0}};var v;(function(e){e[e.PLAIN_TO_CLASS=0]="PLAIN_TO_CLASS",e[e.CLASS_TO_PLAIN=1]="CLASS_TO_PLAIN",e[e.CLASS_TO_CLASS=2]="CLASS_TO_CLASS"})(v||(v={}));var cn=function(){function e(){this._typeMetadatas=new Map,this._transformMetadatas=new Map,this._exposeMetadatas=new Map,this._excludeMetadatas=new Map,this._ancestorsMap=new Map}return e.prototype.addTypeMetadata=function(t){this._typeMetadatas.has(t.target)||this._typeMetadatas.set(t.target,new Map),this._typeMetadatas.get(t.target).set(t.propertyName,t)},e.prototype.addTransformMetadata=function(t){this._transformMetadatas.has(t.target)||this._transformMetadatas.set(t.target,new Map),this._transformMetadatas.get(t.target).has(t.propertyName)||this._transformMetadatas.get(t.target).set(t.propertyName,[]),this._transformMetadatas.get(t.target).get(t.propertyName).push(t)},e.prototype.addExposeMetadata=function(t){this._exposeMetadatas.has(t.target)||this._exposeMetadatas.set(t.target,new Map),this._exposeMetadatas.get(t.target).set(t.propertyName,t)},e.prototype.addExcludeMetadata=function(t){this._excludeMetadatas.has(t.target)||this._excludeMetadatas.set(t.target,new Map),this._excludeMetadatas.get(t.target).set(t.propertyName,t)},e.prototype.findTransformMetadatas=function(t,n,r){return this.findMetadatas(this._transformMetadatas,t,n).filter(function(o){return!o.options||o.options.toClassOnly===!0&&o.options.toPlainOnly===!0?!0:o.options.toClassOnly===!0?r===v.CLASS_TO_CLASS||r===v.PLAIN_TO_CLASS:o.options.toPlainOnly===!0?r===v.CLASS_TO_PLAIN:!0})},e.prototype.findExcludeMetadata=function(t,n){return this.findMetadata(this._excludeMetadatas,t,n)},e.prototype.findExposeMetadata=function(t,n){return this.findMetadata(this._exposeMetadatas,t,n)},e.prototype.findExposeMetadataByCustomName=function(t,n){return this.getExposedMetadatas(t).find(function(r){return r.options&&r.options.name===n})},e.prototype.findTypeMetadata=function(t,n){return this.findMetadata(this._typeMetadatas,t,n)},e.prototype.getStrategy=function(t){var n=this._excludeMetadatas.get(t),r=n&&n.get(void 0),o=this._exposeMetadatas.get(t),i=o&&o.get(void 0);return r&&i||!r&&!i?"none":r?"excludeAll":"exposeAll"},e.prototype.getExposedMetadatas=function(t){return this.getMetadata(this._exposeMetadatas,t)},e.prototype.getExcludedMetadatas=function(t){return this.getMetadata(this._excludeMetadatas,t)},e.prototype.getExposedProperties=function(t,n){return this.getExposedMetadatas(t).filter(function(r){return!r.options||r.options.toClassOnly===!0&&r.options.toPlainOnly===!0?!0:r.options.toClassOnly===!0?n===v.CLASS_TO_CLASS||n===v.PLAIN_TO_CLASS:r.options.toPlainOnly===!0?n===v.CLASS_TO_PLAIN:!0}).map(function(r){return r.propertyName})},e.prototype.getExcludedProperties=function(t,n){return this.getExcludedMetadatas(t).filter(function(r){return!r.options||r.options.toClassOnly===!0&&r.options.toPlainOnly===!0?!0:r.options.toClassOnly===!0?n===v.CLASS_TO_CLASS||n===v.PLAIN_TO_CLASS:r.options.toPlainOnly===!0?n===v.CLASS_TO_PLAIN:!0}).map(function(r){return r.propertyName})},e.prototype.clear=function(){this._typeMetadatas.clear(),this._exposeMetadatas.clear(),this._excludeMetadatas.clear(),this._ancestorsMap.clear()},e.prototype.getMetadata=function(t,n){var r=t.get(n),o;r&&(o=Array.from(r.values()).filter(function(l){return l.propertyName!==void 0}));for(var i=[],s=0,a=this.getAncestors(n);s<a.length;s++){var c=a[s],f=t.get(c);if(f){var d=Array.from(f.values()).filter(function(l){return l.propertyName!==void 0});i.push.apply(i,d)}}return i.concat(o||[])},e.prototype.findMetadata=function(t,n,r){var o=t.get(n);if(o){var i=o.get(r);if(i)return i}for(var s=0,a=this.getAncestors(n);s<a.length;s++){var c=a[s],f=t.get(c);if(f){var d=f.get(r);if(d)return d}}},e.prototype.findMetadatas=function(t,n,r){var o=t.get(n),i;o&&(i=o.get(r));for(var s=[],a=0,c=this.getAncestors(n);a<c.length;a++){var f=c[a],d=t.get(f);d&&d.has(r)&&s.push.apply(s,d.get(r))}return s.slice().reverse().concat((i||[]).slice().reverse())},e.prototype.getAncestors=function(t){if(!t)return[];if(!this._ancestorsMap.has(t)){for(var n=[],r=Object.getPrototypeOf(t.prototype.constructor);typeof r.prototype<"u";r=Object.getPrototypeOf(r.prototype.constructor))n.push(r);this._ancestorsMap.set(t,n)}return this._ancestorsMap.get(t)},e}(),T=new cn;function ln(){if(typeof globalThis<"u")return globalThis;if(typeof global<"u")return global;if(typeof window<"u")return window;if(typeof self<"u")return self}function dn(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var pt=globalThis&&globalThis.__spreadArray||function(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))};function pn(e){var t=new e;return!(t instanceof Set)&&!("push"in t)?[]:t}var V=function(){function e(t,n){this.transformationType=t,this.options=n,this.recursionStack=new Set}return e.prototype.transform=function(t,n,r,o,i,s){var a=this;if(s===void 0&&(s=0),Array.isArray(n)||n instanceof Set){var c=o&&this.transformationType===v.PLAIN_TO_CLASS?pn(o):[];return n.forEach(function(g,M){var S=t?t[M]:void 0;if(!a.options.enableCircularCheck||!a.isCircular(g)){var E=void 0;if(typeof r!="function"&&r&&r.options&&r.options.discriminator&&r.options.discriminator.property&&r.options.discriminator.subTypes){if(a.transformationType===v.PLAIN_TO_CLASS){E=r.options.discriminator.subTypes.find(function(C){return C.name===g[r.options.discriminator.property]});var h={newObject:c,object:g,property:void 0},p=r.typeFunction(h);E===void 0?E=p:E=E.value,r.options.keepDiscriminatorProperty||delete g[r.options.discriminator.property]}a.transformationType===v.CLASS_TO_CLASS&&(E=g.constructor),a.transformationType===v.CLASS_TO_PLAIN&&(g[r.options.discriminator.property]=r.options.discriminator.subTypes.find(function(C){return C.value===g.constructor}).name)}else E=r;var A=a.transform(S,g,E,void 0,g instanceof Map,s+1);c instanceof Set?c.add(A):c.push(A)}else a.transformationType===v.CLASS_TO_CLASS&&(c instanceof Set?c.add(g):c.push(g))}),c}else{if(r===String&&!i)return n==null?n:String(n);if(r===Number&&!i)return n==null?n:Number(n);if(r===Boolean&&!i)return n==null?n:!!n;if((r===Date||n instanceof Date)&&!i)return n instanceof Date?new Date(n.valueOf()):n==null?n:new Date(n);if(ln().Buffer&&(r===Buffer||n instanceof Buffer)&&!i)return n==null?n:Buffer.from(n);if(dn(n)&&!i)return new Promise(function(g,M){n.then(function(S){return g(a.transform(void 0,S,r,void 0,void 0,s+1))},M)});if(!i&&n!==null&&typeof n=="object"&&typeof n.then=="function")return n;if(typeof n=="object"&&n!==null){!r&&n.constructor!==Object&&(!Array.isArray(n)&&n.constructor===Array||(r=n.constructor)),!r&&t&&(r=t.constructor),this.options.enableCircularCheck&&this.recursionStack.add(n);var f=this.getKeys(r,n,i),d=t||{};!t&&(this.transformationType===v.PLAIN_TO_CLASS||this.transformationType===v.CLASS_TO_CLASS)&&(i?d=new Map:r?d=new r:d={});for(var l=function(g){if(g==="__proto__"||g==="constructor")return"continue";var M=g,S=g,E=g;if(!u.options.ignoreDecorators&&r){if(u.transformationType===v.PLAIN_TO_CLASS){var h=T.findExposeMetadataByCustomName(r,g);h&&(E=h.propertyName,S=h.propertyName)}else if(u.transformationType===v.CLASS_TO_PLAIN||u.transformationType===v.CLASS_TO_CLASS){var h=T.findExposeMetadata(r,g);h&&h.options&&h.options.name&&(S=h.options.name)}}var p=void 0;u.transformationType===v.PLAIN_TO_CLASS?p=n[M]:n instanceof Map?p=n.get(M):n[M]instanceof Function?p=n[M]():p=n[M];var A=void 0,C=p instanceof Map;if(r&&i)A=r;else if(r){var m=T.findTypeMetadata(r,E);if(m){var J={newObject:d,object:n,property:E},z=m.typeFunction?m.typeFunction(J):m.reflectedType;m.options&&m.options.discriminator&&m.options.discriminator.property&&m.options.discriminator.subTypes?n[M]instanceof Array?A=m:(u.transformationType===v.PLAIN_TO_CLASS&&(A=m.options.discriminator.subTypes.find(function(N){if(p&&p instanceof Object&&m.options.discriminator.property in p)return N.name===p[m.options.discriminator.property]}),A===void 0?A=z:A=A.value,m.options.keepDiscriminatorProperty||p&&p instanceof Object&&m.options.discriminator.property in p&&delete p[m.options.discriminator.property]),u.transformationType===v.CLASS_TO_CLASS&&(A=p.constructor),u.transformationType===v.CLASS_TO_PLAIN&&p&&(p[m.options.discriminator.property]=m.options.discriminator.subTypes.find(function(N){return N.value===p.constructor}).name)):A=z,C=C||m.reflectedType===Map}else if(u.options.targetMaps)u.options.targetMaps.filter(function(N){return N.target===r&&!!N.properties[E]}).forEach(function(N){return A=N.properties[E]});else if(u.options.enableImplicitConversion&&u.transformationType===v.PLAIN_TO_CLASS){var st=Reflect.getMetadata("design:type",r.prototype,E);st&&(A=st)}}var at=Array.isArray(n[M])?u.getReflectedType(r,E):void 0,ut=t?t[M]:void 0;if(d.constructor.prototype){var ft=Object.getOwnPropertyDescriptor(d.constructor.prototype,S);if((u.transformationType===v.PLAIN_TO_CLASS||u.transformationType===v.CLASS_TO_CLASS)&&(ft&&!ft.set||d[S]instanceof Function))return"continue"}if(!u.options.enableCircularCheck||!u.isCircular(p)){var R=u.transformationType===v.PLAIN_TO_CLASS?S:g,x=void 0;u.transformationType===v.CLASS_TO_PLAIN?(x=n[R],x=u.applyCustomTransformations(x,r,R,n,u.transformationType),x=n[R]===x?p:x,x=u.transform(ut,x,A,at,C,s+1)):p===void 0&&u.options.exposeDefaultValues?x=d[S]:(x=u.transform(ut,p,A,at,C,s+1),x=u.applyCustomTransformations(x,r,R,n,u.transformationType)),(x!==void 0||u.options.exposeUnsetFields)&&(d instanceof Map?d.set(S,x):d[S]=x)}else if(u.transformationType===v.CLASS_TO_CLASS){var x=p;x=u.applyCustomTransformations(x,r,g,n,u.transformationType),(x!==void 0||u.options.exposeUnsetFields)&&(d instanceof Map?d.set(S,x):d[S]=x)}},u=this,O=0,w=f;O<w.length;O++){var _=w[O];l(_)}return this.options.enableCircularCheck&&this.recursionStack.delete(n),d}else return n}},e.prototype.applyCustomTransformations=function(t,n,r,o,i){var s=this,a=T.findTransformMetadatas(n,r,this.transformationType);return this.options.version!==void 0&&(a=a.filter(function(c){return c.options?s.checkVersion(c.options.since,c.options.until):!0})),this.options.groups&&this.options.groups.length?a=a.filter(function(c){return c.options?s.checkGroups(c.options.groups):!0}):a=a.filter(function(c){return!c.options||!c.options.groups||!c.options.groups.length}),a.forEach(function(c){t=c.transformFn({value:t,key:r,obj:o,type:i,options:s.options})}),t},e.prototype.isCircular=function(t){return this.recursionStack.has(t)},e.prototype.getReflectedType=function(t,n){if(t){var r=T.findTypeMetadata(t,n);return r?r.reflectedType:void 0}},e.prototype.getKeys=function(t,n,r){var o=this,i=T.getStrategy(t);i==="none"&&(i=this.options.strategy||"exposeAll");var s=[];if((i==="exposeAll"||r)&&(n instanceof Map?s=Array.from(n.keys()):s=Object.keys(n)),r)return s;if(this.options.ignoreDecorators&&this.options.excludeExtraneousValues&&t){var a=T.getExposedProperties(t,this.transformationType),c=T.getExcludedProperties(t,this.transformationType);s=pt(pt([],a,!0),c,!0)}if(!this.options.ignoreDecorators&&t){var a=T.getExposedProperties(t,this.transformationType);this.transformationType===v.PLAIN_TO_CLASS&&(a=a.map(function(l){var u=T.findExposeMetadata(t,l);return u&&u.options&&u.options.name?u.options.name:l})),this.options.excludeExtraneousValues?s=a:s=s.concat(a);var f=T.getExcludedProperties(t,this.transformationType);f.length>0&&(s=s.filter(function(l){return!f.includes(l)})),this.options.version!==void 0&&(s=s.filter(function(l){var u=T.findExposeMetadata(t,l);return!u||!u.options?!0:o.checkVersion(u.options.since,u.options.until)})),this.options.groups&&this.options.groups.length?s=s.filter(function(l){var u=T.findExposeMetadata(t,l);return!u||!u.options?!0:o.checkGroups(u.options.groups)}):s=s.filter(function(l){var u=T.findExposeMetadata(t,l);return!u||!u.options||!u.options.groups||!u.options.groups.length})}return this.options.excludePrefixes&&this.options.excludePrefixes.length&&(s=s.filter(function(d){return o.options.excludePrefixes.every(function(l){return d.substr(0,l.length)!==l})})),s=s.filter(function(d,l,u){return u.indexOf(d)===l}),s},e.prototype.checkVersion=function(t,n){var r=!0;return r&&t&&(r=this.options.version>=t),r&&n&&(r=this.options.version<n),r},e.prototype.checkGroups=function(t){return t?this.options.groups.some(function(n){return t.includes(n)}):!0},e}(),F={enableCircularCheck:!1,enableImplicitConversion:!1,excludeExtraneousValues:!1,excludePrefixes:void 0,exposeDefaultValues:!1,exposeUnsetFields:!0,groups:void 0,ignoreDecorators:!1,strategy:void 0,targetMaps:void 0,version:void 0},b=globalThis&&globalThis.__assign||function(){return b=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},b.apply(this,arguments)},hn=function(){function e(){}return e.prototype.instanceToPlain=function(t,n){var r=new V(v.CLASS_TO_PLAIN,b(b({},F),n));return r.transform(void 0,t,void 0,void 0,void 0,void 0)},e.prototype.classToPlainFromExist=function(t,n,r){var o=new V(v.CLASS_TO_PLAIN,b(b({},F),r));return o.transform(n,t,void 0,void 0,void 0,void 0)},e.prototype.plainToInstance=function(t,n,r){var o=new V(v.PLAIN_TO_CLASS,b(b({},F),r));return o.transform(void 0,n,t,void 0,void 0,void 0)},e.prototype.plainToClassFromExist=function(t,n,r){var o=new V(v.PLAIN_TO_CLASS,b(b({},F),r));return o.transform(t,n,void 0,void 0,void 0,void 0)},e.prototype.instanceToInstance=function(t,n){var r=new V(v.CLASS_TO_CLASS,b(b({},F),n));return r.transform(void 0,t,void 0,void 0,void 0,void 0)},e.prototype.classToClassFromExist=function(t,n,r){var o=new V(v.CLASS_TO_CLASS,b(b({},F),r));return o.transform(n,t,void 0,void 0,void 0,void 0)},e.prototype.serialize=function(t,n){return JSON.stringify(this.instanceToPlain(t,n))},e.prototype.deserialize=function(t,n,r){var o=JSON.parse(n);return this.plainToInstance(t,o,r)},e.prototype.deserializeArray=function(t,n,r){var o=JSON.parse(n);return this.plainToInstance(t,o,r)},e}(),Et=new hn;function ht(e,t){return Et.instanceToPlain(e,t)}function yn(e,t,n){return Et.plainToInstance(e,t,n)}var wt=function(){function e(t){this.groups=[],this.each=!1,this.context=void 0,this.type=t.type,this.name=t.name,this.target=t.target,this.propertyName=t.propertyName,this.constraints=t?.constraints,this.constraintCls=t.constraintCls,this.validationTypeOptions=t.validationTypeOptions,t.validationOptions&&(this.message=t.validationOptions.message,this.groups=t.validationOptions.groups,this.always=t.validationOptions.always,this.each=t.validationOptions.each,this.context=t.validationOptions.context)}return e}(),vn=function(){function e(){}return e.prototype.transform=function(t){var n=[];return Object.keys(t.properties).forEach(function(r){t.properties[r].forEach(function(o){var i={message:o.message,groups:o.groups,always:o.always,each:o.each},s={type:o.type,name:o.name,target:t.name,propertyName:r,constraints:o.constraints,validationTypeOptions:o.options,validationOptions:i};n.push(new wt(s))})}),n},e}();function gn(e){return e instanceof Map?Array.from(e.values()):Array.isArray(e)?e:Array.from(e)}function Sn(){if(typeof globalThis<"u")return globalThis;if(typeof global<"u")return global;if(typeof window<"u")return window;if(typeof self<"u")return self}function H(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var mn=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},yt=globalThis&&globalThis.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],s;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return i},On=globalThis&&globalThis.__spreadArray||function(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},Ct=function(){function e(){this.validationMetadatas=new Map,this.constraintMetadatas=new Map}return Object.defineProperty(e.prototype,"hasValidationMetaData",{get:function(){return!!this.validationMetadatas.size},enumerable:!1,configurable:!0}),e.prototype.addValidationSchema=function(t){var n=this,r=new vn().transform(t);r.forEach(function(o){return n.addValidationMetadata(o)})},e.prototype.addValidationMetadata=function(t){var n=this.validationMetadatas.get(t.target);n?n.push(t):this.validationMetadatas.set(t.target,[t])},e.prototype.addConstraintMetadata=function(t){var n=this.constraintMetadatas.get(t.target);n?n.push(t):this.constraintMetadatas.set(t.target,[t])},e.prototype.groupByPropertyName=function(t){var n={};return t.forEach(function(r){n[r.propertyName]||(n[r.propertyName]=[]),n[r.propertyName].push(r)}),n},e.prototype.getTargetValidationMetadatas=function(t,n,r,o,i){var s,a,c=function(h){return typeof h.always<"u"?h.always:h.groups&&h.groups.length?!1:r},f=function(h){return!!(o&&(!i||!i.length)&&h.groups&&h.groups.length)},d=this.validationMetadatas.get(t)||[],l=d.filter(function(h){return h.target!==t&&h.target!==n?!1:c(h)?!0:f(h)?!1:i&&i.length>0?h.groups&&!!h.groups.find(function(p){return i.indexOf(p)!==-1}):!0}),u=[];try{for(var O=mn(this.validationMetadatas.entries()),w=O.next();!w.done;w=O.next()){var _=yt(w.value,2),g=_[0],M=_[1];t.prototype instanceof g&&u.push.apply(u,On([],yt(M),!1))}}catch(h){s={error:h}}finally{try{w&&!w.done&&(a=O.return)&&a.call(O)}finally{if(s)throw s.error}}var S=u.filter(function(h){return typeof h.target=="string"||h.target===t||h.target instanceof Function&&!(t.prototype instanceof h.target)?!1:c(h)?!0:f(h)?!1:i&&i.length>0?h.groups&&!!h.groups.find(function(p){return i.indexOf(p)!==-1}):!0}),E=S.filter(function(h){return!l.find(function(p){return p.propertyName===h.propertyName&&p.type===h.type})});return l.concat(E)},e.prototype.getTargetValidatorConstraints=function(t){return this.constraintMetadatas.get(t)||[]},e}();function K(){var e=Sn();return e.classValidatorMetadataStorage||(e.classValidatorMetadataStorage=new Ct),e.classValidatorMetadataStorage}var vt=function(){function e(){}return e.prototype.toString=function(t,n,r,o){var i=this;t===void 0&&(t=!1),n===void 0&&(n=!1),r===void 0&&(r=""),o===void 0&&(o=!1);var s=t?"\x1B[1m":"",a=t?"\x1B[22m":"",c=function(){var l;return(o?Object.values:Object.keys)((l=i.constraints)!==null&&l!==void 0?l:{}).join(", ")},f=function(l){return" - property ".concat(s).concat(r).concat(l).concat(a," has failed the following constraints: ").concat(s).concat(c()).concat(a,` 
`)};if(n){var d=Number.isInteger(+this.property)?"[".concat(this.property,"]"):"".concat(r?".":"").concat(this.property);return this.constraints?f(d):this.children?this.children.map(function(l){return l.toString(t,!0,"".concat(r).concat(d),o)}).join(""):""}else return"An instance of ".concat(s).concat(this.target?this.target.constructor.name:"an object").concat(a,` has failed the validation:
`)+(this.constraints?f(this.property):"")+(this.children?this.children.map(function(l){return l.toString(t,!0,i.property,o)}).join(""):"")},e}(),I=function(){function e(){}return e.isValid=function(t){var n=this;return t!=="isValid"&&t!=="getMessage"&&Object.keys(this).map(function(r){return n[r]}).indexOf(t)!==-1},e.CUSTOM_VALIDATION="customValidation",e.NESTED_VALIDATION="nestedValidation",e.PROMISE_VALIDATION="promiseValidation",e.CONDITIONAL_VALIDATION="conditionalValidation",e.WHITELIST="whitelistValidation",e.IS_DEFINED="isDefined",e}();function An(e){return Array.isArray(e)?e.join(", "):(typeof e=="symbol"&&(e=e.description),"".concat(e))}var xn=function(){function e(){}return e.replaceMessageSpecialTokens=function(t,n){var r;return t instanceof Function?r=t(n):typeof t=="string"&&(r=t),r&&Array.isArray(n.constraints)&&n.constraints.forEach(function(o,i){r=r.replace(new RegExp("\\$constraint".concat(i+1),"g"),An(o))}),r&&n.value!==void 0&&n.value!==null&&typeof n.value=="string"&&(r=r.replace(/\$value/g,n.value)),r&&(r=r.replace(/\$property/g,n.property)),r&&(r=r.replace(/\$target/g,n.targetName)),r},e}(),k=globalThis&&globalThis.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],s;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return i},gt=function(){function e(t,n){this.validator=t,this.validatorOptions=n,this.awaitingPromises=[],this.ignoreAsyncValidations=!1,this.metadataStorage=K()}return e.prototype.execute=function(t,n,r){var o=this,i,s;!this.metadataStorage.hasValidationMetaData&&((i=this.validatorOptions)===null||i===void 0?void 0:i.enableDebugMessages)===!0&&console.warn(`No validation metadata found. No validation will be  performed. There are multiple possible reasons:
  - There may be multiple class-validator versions installed. You will need to flatten your dependencies to fix the issue.
  - This validation runs before any file with validation decorator was parsed by NodeJS.`);var a=this.validatorOptions?this.validatorOptions.groups:void 0,c=this.validatorOptions&&this.validatorOptions.strictGroups||!1,f=this.validatorOptions&&this.validatorOptions.always||!1,d=((s=this.validatorOptions)===null||s===void 0?void 0:s.forbidUnknownValues)===void 0||this.validatorOptions.forbidUnknownValues!==!1,l=this.metadataStorage.getTargetValidationMetadatas(t.constructor,n,f,c,a),u=this.metadataStorage.groupByPropertyName(l);if(this.validatorOptions&&d&&!l.length){var O=new vt;(!this.validatorOptions||!this.validatorOptions.validationError||this.validatorOptions.validationError.target===void 0||this.validatorOptions.validationError.target===!0)&&(O.target=t),O.value=void 0,O.property=void 0,O.children=[],O.constraints={unknownValue:"an unknown value was passed to the validate function"},r.push(O);return}this.validatorOptions&&this.validatorOptions.whitelist&&this.whitelist(t,u,r),Object.keys(u).forEach(function(w){var _=t[w],g=u[w].filter(function(S){return S.type===I.IS_DEFINED}),M=u[w].filter(function(S){return S.type!==I.IS_DEFINED&&S.type!==I.WHITELIST});_ instanceof Promise&&M.find(function(S){return S.type===I.PROMISE_VALIDATION})?o.awaitingPromises.push(_.then(function(S){o.performValidations(t,S,w,g,M,r)})):o.performValidations(t,_,w,g,M,r)})},e.prototype.whitelist=function(t,n,r){var o=this,i=[];Object.keys(t).forEach(function(s){(!n[s]||n[s].length===0)&&i.push(s)}),i.length>0&&(this.validatorOptions&&this.validatorOptions.forbidNonWhitelisted?i.forEach(function(s){var a,c=o.generateValidationError(t,t[s],s);c.constraints=(a={},a[I.WHITELIST]="property ".concat(s," should not exist"),a),c.children=void 0,r.push(c)}):i.forEach(function(s){return delete t[s]}))},e.prototype.stripEmptyErrors=function(t){var n=this;return t.filter(function(r){if(r.children&&(r.children=n.stripEmptyErrors(r.children)),Object.keys(r.constraints).length===0){if(r.children.length===0)return!1;delete r.constraints}return!0})},e.prototype.performValidations=function(t,n,r,o,i,s){var a=i.filter(function(u){return u.type===I.CUSTOM_VALIDATION}),c=i.filter(function(u){return u.type===I.NESTED_VALIDATION}),f=i.filter(function(u){return u.type===I.CONDITIONAL_VALIDATION}),d=this.generateValidationError(t,n,r);s.push(d);var l=this.conditionalValidations(t,n,f);l&&(this.customValidations(t,n,o,d),this.mapContexts(t,n,o,d),!(n===void 0&&this.validatorOptions&&this.validatorOptions.skipUndefinedProperties===!0)&&(n===null&&this.validatorOptions&&this.validatorOptions.skipNullProperties===!0||n==null&&this.validatorOptions&&this.validatorOptions.skipMissingProperties===!0||(this.customValidations(t,n,a,d),this.nestedValidations(n,c,d),this.mapContexts(t,n,i,d),this.mapContexts(t,n,a,d))))},e.prototype.generateValidationError=function(t,n,r){var o=new vt;return(!this.validatorOptions||!this.validatorOptions.validationError||this.validatorOptions.validationError.target===void 0||this.validatorOptions.validationError.target===!0)&&(o.target=t),(!this.validatorOptions||!this.validatorOptions.validationError||this.validatorOptions.validationError.value===void 0||this.validatorOptions.validationError.value===!0)&&(o.value=n),o.property=r,o.children=[],o.constraints={},o},e.prototype.conditionalValidations=function(t,n,r){return r.map(function(o){return o.constraints[0](t,n)}).reduce(function(o,i){return o&&i},!0)},e.prototype.customValidations=function(t,n,r,o){var i=this;r.forEach(function(s){i.metadataStorage.getTargetValidatorConstraints(s.constraintCls).forEach(function(a){if(!(a.async&&i.ignoreAsyncValidations)&&!(i.validatorOptions&&i.validatorOptions.stopAtFirstError&&Object.keys(o.constraints||{}).length>0)){var c={targetName:t.constructor?t.constructor.name:void 0,property:s.propertyName,object:t,value:n,constraints:s.constraints};if(!s.each||!(Array.isArray(n)||n instanceof Set||n instanceof Map)){var f=a.instance.validate(n,c);if(H(f)){var d=f.then(function(p){if(!p){var A=k(i.createValidationError(t,n,s,a),2),C=A[0],m=A[1];o.constraints[C]=m,s.context&&(o.contexts||(o.contexts={}),o.contexts[C]=Object.assign(o.contexts[C]||{},s.context))}});i.awaitingPromises.push(d)}else if(!f){var l=k(i.createValidationError(t,n,s,a),2),u=l[0],O=l[1];o.constraints[u]=O}return}var w=gn(n),_=w.map(function(p){return a.instance.validate(p,c)}),g=_.some(function(p){return H(p)});if(g){var M=_.map(function(p){return H(p)?p:Promise.resolve(p)}),S=Promise.all(M).then(function(p){var A=p.every(function(z){return z});if(!A){var C=k(i.createValidationError(t,n,s,a),2),m=C[0],J=C[1];o.constraints[m]=J,s.context&&(o.contexts||(o.contexts={}),o.contexts[m]=Object.assign(o.contexts[m]||{},s.context))}});i.awaitingPromises.push(S);return}var E=_.every(function(p){return p});if(!E){var h=k(i.createValidationError(t,n,s,a),2),u=h[0],O=h[1];o.constraints[u]=O}}})})},e.prototype.nestedValidations=function(t,n,r){var o=this;t!==void 0&&n.forEach(function(i){if(!(i.type!==I.NESTED_VALIDATION&&i.type!==I.PROMISE_VALIDATION)&&!(o.validatorOptions&&o.validatorOptions.stopAtFirstError&&Object.keys(r.constraints||{}).length>0))if(Array.isArray(t)||t instanceof Set||t instanceof Map){var s=t instanceof Set?Array.from(t):t;s.forEach(function(l,u){o.performValidations(t,l,u.toString(),[],n,r.children)})}else if(t instanceof Object){var a=typeof i.target=="string"?i.target:i.target.name;o.execute(t,a,r.children)}else{var c=k(o.createValidationError(i.target,t,i),2),f=c[0],d=c[1];r.constraints[f]=d}})},e.prototype.mapContexts=function(t,n,r,o){var i=this;return r.forEach(function(s){if(s.context){var a=void 0;if(s.type===I.CUSTOM_VALIDATION){var c=i.metadataStorage.getTargetValidatorConstraints(s.constraintCls);a=c[0]}var f=i.getConstraintType(s,a);o.constraints[f]&&(o.contexts||(o.contexts={}),o.contexts[f]=Object.assign(o.contexts[f]||{},s.context))}})},e.prototype.createValidationError=function(t,n,r,o){var i=t.constructor?t.constructor.name:void 0,s=this.getConstraintType(r,o),a={targetName:i,property:r.propertyName,object:t,value:n,constraints:r.constraints},c=r.message||"";!r.message&&(!this.validatorOptions||this.validatorOptions&&!this.validatorOptions.dismissDefaultMessages)&&o&&o.instance.defaultMessage instanceof Function&&(c=o.instance.defaultMessage(a));var f=xn.replaceMessageSpecialTokens(c,a);return[s,f]},e.prototype.getConstraintType=function(t,n){var r=n&&n.name?n.name:t.type;return r},e}(),_n=globalThis&&globalThis.__awaiter||function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(d){try{f(r.next(d))}catch(l){s(l)}}function c(d){try{f(r.throw(d))}catch(l){s(l)}}function f(d){d.done?i(d.value):o(d.value).then(a,c)}f((r=r.apply(e,t||[])).next())})},Mn=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(f){return function(d){return c([f,d])}}function c(f){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(n=0)),n;)try{if(r=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,o=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){n.label=f[1];break}if(f[0]===6&&n.label<i[1]){n.label=i[1],i=f;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(f);break}i[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(d){f=[6,d],o=0}finally{r=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},St=function(){function e(){}return e.prototype.validate=function(t,n,r){return this.coreValidate(t,n,r)},e.prototype.validateOrReject=function(t,n,r){return _n(this,void 0,void 0,function(){var o;return Mn(this,function(i){switch(i.label){case 0:return[4,this.coreValidate(t,n,r)];case 1:return o=i.sent(),o.length?[2,Promise.reject(o)]:[2]}})})},e.prototype.validateSync=function(t,n,r){var o=typeof t=="string"?n:t,i=typeof t=="string"?r:n,s=typeof t=="string"?t:void 0,a=new gt(this,i);a.ignoreAsyncValidations=!0;var c=[];return a.execute(o,s,c),a.stripEmptyErrors(c)},e.prototype.coreValidate=function(t,n,r){var o=typeof t=="string"?n:t,i=typeof t=="string"?r:n,s=typeof t=="string"?t:void 0,a=new gt(this,i),c=[];return a.execute(o,s,c),Promise.all(a.awaitingPromises).then(function(){return a.stripEmptyErrors(c)})},e}(),En=new(function(){function e(){this.instances=[]}return e.prototype.get=function(t){var n=this.instances.find(function(r){return r.type===t});return n||(n={type:t,object:new t},this.instances.push(n)),n.object},e}());function $(e){return En.get(e)}var wn=function(){function e(t,n,r){r===void 0&&(r=!1),this.target=t,this.name=n,this.async=r}return Object.defineProperty(e.prototype,"instance",{get:function(){return $(this.target)},enumerable:!1,configurable:!0}),e}();function Cn(e){var t;if(e.validator instanceof Function){t=e.validator;var n=$(Ct).getTargetValidatorConstraints(e.validator);if(n.length>1)throw"More than one implementation of ValidatorConstraintInterface found for validator on: ".concat(e.target.name,":").concat(e.propertyName)}else{var r=e.validator;t=function(){function i(){}return i.prototype.validate=function(s,a){return r.validate(s,a)},i.prototype.defaultMessage=function(s){return r.defaultMessage?r.defaultMessage(s):""},i}(),K().addConstraintMetadata(new wn(t,e.name,e.async))}var o={type:e.name&&I.isValid(e.name)?e.name:I.CUSTOM_VALIDATION,name:e.name,target:e.target,propertyName:e.propertyName,validationOptions:e.options,constraintCls:t,constraints:e.constraints};K().addValidationMetadata(new wt(o))}function rt(e,t){return function(n){var r=t&&t.each?"each value in ":"";return e(r,n)}}function it(e,t){return function(n,r){Cn({name:e.name,target:n.constructor,propertyName:r,options:t,constraints:e.constraints,validator:e.validator})}}var Tn="isBoolean";function bn(e){return e instanceof Boolean||typeof e=="boolean"}function In(e){return it({name:Tn,validator:{validate:function(t,n){return bn(t)},defaultMessage:rt(function(t){return t+"$property must be a boolean value"},e)}},e)}var Nn="isInt";function Ln(e){return typeof e=="number"&&Number.isInteger(e)}function Pn(e){return it({name:Nn,validator:{validate:function(t,n){return Ln(t)},defaultMessage:rt(function(t){return t+"$property must be an integer number"},e)}},e)}var Vn="isString";function Fn(e){return e instanceof String||typeof e=="string"}function kn(e){return it({name:Vn,validator:{validate:function(t,n){return Fn(t)},defaultMessage:rt(function(t){return t+"$property must be a string"},e)}},e)}function Bn(e,t,n){return typeof e=="string"?$(St).validateSync(e,t,n):$(St).validateSync(e,t)}const W=new Map,Dn=(e,t,n=!0)=>{const r=()=>{const s=localStorage.getItem(t);if(!s)return console.debug(t,": no saved data"),null;try{const a=JSON.parse(s),c=yn(e,a),f=Bn(c);if(f.length>0){if(n){const d=new e;f.forEach(l=>{const u=l.property;a[u]=d[u],localStorage.setItem(t,JSON.stringify(a))})}return n?a:null}return a}catch(a){return console.log(a),null}},o=W.get(t),i=o??bt(r()??ht(new e));return o||W.set(t,i),et(()=>i,xt(s=>{localStorage.setItem(t,JSON.stringify(s))},400,{trailing:!0}),{deep:!0}),It(()=>{localStorage.setItem(t,JSON.stringify(i))}),{storage:i,reset:()=>{Object.assign(i,ht(new e))},clear(){localStorage.removeItem(t)},destory(){W.delete(t)}}};var jn=Object.defineProperty,Un=Object.getOwnPropertyDescriptor,ot=(e,t,n,r)=>{for(var o=r>1?void 0:r?Un(t,n):t,i=e.length-1,s;i>=0;i--)(s=e[i])&&(o=(r?s(t,n,o):s(o))||o);return r&&o&&jn(t,n,o),o};class G{fontSize=14;fontFamily='"Helvetica Neue","Luxi Sans","DejaVu Sans","Hiragino Sans GB","Microsoft Yahei",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Noto Color Emoji","Segoe UI Symbol","Android Emoji","EmojiSymbols"';autocorrect=!0}ot([Pn()],G.prototype,"fontSize",2);ot([kn()],G.prototype,"fontFamily",2);ot([In()],G.prototype,"autocorrect",2);const zn=L({props:{resetFn:{type:Function,required:!0}},setup(e){return()=>y(Lt,{trigger:"hover"},{trigger(){return y(Nt,{text:!0,class:"ml-2",onClick:()=>e.resetFn()},{default:()=>[y(Y,{size:"20",class:"opacity-40 hover:opacity-100 transition-opacity duration-500"},{default:()=>[y(Zt,null,null)]})]})},default(){return"将会重置这些设定"}})}}),Rn={editor:"editor-pref",general:"editor-general"},Tt=()=>{const{storage:e,reset:t,destory:n}=Dn(G,Rn.general);return{general:{setting:e,resetSetting:t,Panel:L(()=>()=>y(Vt,null,[y(Pt,{class:"!flex items-center !mt-0"},{default:()=>[Q("通用设置"),y(zn,{resetFn:t},null)]}),y(j,{label:"字体设定"},{default:()=>[y(Ot,{onInput:i=>void(e.fontFamily=i),value:e.fontFamily},null)]}),y(j,{label:"字号设定"},{default:()=>[y(Jt,{onUpdateValue:i=>void(e.fontSize=i??14),value:e.fontSize},null)]}),y(j,{label:"注意: ",labelAlign:"right"},{default:()=>[y(At,null,{default:()=>[Q("以上设定暂时不适于 Monaco Editor")]})]}),y(j,{label:"自动纠正标点"},{default:()=>[y(Ht,{value:e.autocorrect,onUpdateValue:i=>void(e.autocorrect=i)},null)]})]))},destory:()=>{n()}}},mt=L({props:{...Mt,wrapperProps:{type:Object,required:!1}},setup(e){const t=D();let n=Ft(e.text);et(()=>e.text,i=>{!n&&i&&(n=i)}),Gt(e.unSaveConfirm,()=>n===e.text);const{general:r}=Tt(),o=i=>{r.setting.autocorrect&&i.key==="Enter"&&X(()=>import("./autocorrect-55e57c14.js"),[]).then(({format:a})=>{const c=a(i.target.value);e.onChange(c)}).catch(()=>{console.log("not support wasm")})};return()=>y("div",e.wrapperProps,[y(Ot,{onKeydown:o,ref:t,type:"textarea",onInput:i=>void e.onChange(i),value:e.text,class:"h-full"},null)])}}),B={[P.monaco]:null,[P.plain]:null,[P.codemirror]:null},q=e=>{if(B[e])return B[e];switch(e){case"monaco":{const t=ct({loader:()=>X(()=>import("./monaco-2926b60f.js"),["js/monaco-2926b60f.js","js/index-a5dd80c2.js","assets/index-74c7d957.css","js/index-cd66362b.js","js/use-save-confirm-de11005b.js","js/use-react-ec909456.js","js/throttle-333c8d0f.js","js/FormItem-24e41756.js","js/Form-ab7268b7.js","js/InputNumber-e6403ed8.js","js/Remove-4da0ff5c.js","js/Add-4676fae0.js","js/Switch-1453150d.js","js/Select-00aee6c5.js","js/Tag-f04586d2.js"]).then(n=>n.MonacoEditor),loadingComponent:y(Z,{strokeWidth:14,show:!0,rotate:!0},null),suspensible:!0});return B[e]=t,t}case"plain":return B[e]=mt,mt;case"codemirror":{const t=ct({loader:()=>X(()=>import("./codemirror-ce533285.js").then(n=>n.u),["js/codemirror-ce533285.js","js/use-save-confirm-de11005b.js","js/index-a5dd80c2.js","assets/index-74c7d957.css","assets/codemirror-57b15ec7.css"]).then(n=>n.CodemirrorEditor),loadingComponent:y(Z,{strokeWidth:14,show:!0,rotate:!0},null),suspensible:!0});return B[e]=t,t}default:return null}};const $n=()=>{const e=localStorage.getItem(_t.editor);if(!e)return null;try{const t=JSON.parse(e);return Object.keys(P).includes(t)?t:null}catch{return null}},Kn=L({name:"EditorToggleWrapper",props:{...Mt,loading:{type:Boolean,required:!0}},setup(e){const t=$n(),n=D(t??P.codemirror),r=D(!1),o=kt(),i=D();lt(()=>{const l=o.addFloatButton(y("button",{onClick:()=>{r.value=!0}},[y(Y,{size:18},{default:()=>[y(an,null,null)]})])),u=o.addFloatButton(y("button",{onClick:()=>{i.value?.$el.requestFullscreen()}},[y(Y,{size:18},{default:()=>[y(en,null,null)]})]));return()=>{o.removeFloatButton(l),o.removeFloatButton(u)}}),lt(()=>{document.addEventListener("fullscreenchange",()=>{document.fullscreenElement===i.value?document.documentElement.classList.add("editor-fullscreen"):document.documentElement.classList.remove("editor-fullscreen")})}),et(()=>n.value,xt(l=>{localStorage.setItem(_t.editor,JSON.stringify(l))},300,{trailing:!0}));const s=D(),{general:a,destory:c}=Tt();Bt(()=>{c()});const f=Dt(()=>{if(e.loading)return y("div",{class:[dt.editor,dt.loading]},[y(Z,{strokeWidth:14,show:!0,rotate:!0},null)]);switch(n.value){case"monaco":{const l=q(n.value);return y(l,jt({ref:s},e),null)}case"plain":{const l=q(n.value);return y(l,e,null)}case"codemirror":{const l=q(n.value);return y(l,e,null)}default:return null}}),d=L({setup(){const l=()=>{r.value=!1},{Panel:u}=a,O=_=>void(n.value=_),w=_=>void(r.value=_);return()=>y($t,{transformOrigin:"center",show:r.value,onUpdateShow:w},{default:()=>[y(zt,{closable:!0,onClose:l,title:"编辑器设定",style:"max-width: 90vw;width: 500px; max-height: 65vh; overflow: auto",bordered:!1},{default:()=>[y(At,{class:"text-center"},{default:()=>[y(Rt,{depth:"3"},{default:()=>[Q("此设定仅存储在本地！")]})]}),y(Wt,{labelPlacement:"left",labelWidth:"8rem",labelAlign:"right"},{default:()=>[y(j,{label:"编辑器选择"},{default:()=>[y(qt,{value:n.value,onUpdateValue:O,options:Object.keys(P).map(_=>({key:_,label:_,value:_}))},null)]}),y(u,null,null)]})]})]})}});return()=>{const{setting:l}=a;return y(Ut,{tag:"div",style:{"--editor-font-size":l.fontSize?`${l.fontSize/14}rem`:"","--editor-font-family":l.fontFamily},class:"editor-wrapper",ref:i},{default:()=>[f.value,y(d,null,null)]})}}});export{Kn as E,kn as I,mt as P,it as V,Tt as a,rt as b,Mt as e,dt as s,Dn as u};
