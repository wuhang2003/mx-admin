import{gs as g6,bQ as v6,aR as Nb,gt as w6,gu as A6,d1 as E6,d6 as _6,gv as T6,gw as M6,gx as Rp,gy as k6,ag as Yn,_ as I6,dx as dn,n as Ye,gz as Rb,R as qc}from"./index-80f33cae.js";import{b as Pb}from"./preview-4af21add.js";import{l as S6}from"./last-862de5a8.js";import{s as C6}from"./confetti-fa4954ff.js";import"./marked.esm-cdc2cd67.js";import"./DatePicker-f6684217.js";import"./ChevronRight-24ab37a2.js";import"./Select-1f1e6182.js";import"./Tag-0900633e.js";import"./Forward-fd576f22.js";import"./Form-d42e2af5.js";import"./FormItem-f0f74c7b.js";import"./InputNumber-5eddfb79.js";import"./Remove-63cc32e6.js";import"./Add-7936108e.js";import"./ButtonGroup-d6c9928a.js";import"./use-async-monaco-f8127efa.js";import"./index-1988997a.js";import"./use-save-confirm-29d3fe25.js";import"./Switch-57fd2237.js";import"./DynamicInput-be1f722a.js";import"./Image-6c3a880b.js";import"./utils-9d90ac1b.js";import"./Tooltip-89746c99.js";import"./rounded-button-f32d2fa6.js";import"./toggle-5ed4d462.js";import"./use-react-b3ae43ae.js";import"./throttle-8f601e62.js";import"./vue.runtime.esm-bundler-f35a76a8.js";import"./js-yaml-e14800c0.js";function N6(t,e,r,n){for(var i=-1,a=t==null?0:t.length;++i<a;){var s=t[i];e(n,s,r(s),t)}return n}function R6(t,e,r,n){return g6(t,function(i,a,s){e(n,i,r(i),s)}),n}function P6(t,e){return function(r,n){var i=v6(r)?N6:R6,a=e?e():{};return i(r,t,Nb(n),a)}}var B6=w6(function(t,e,r,n){A6(t,e,r,n)});const Bb=B6;function O6(t,e){return E6(e,function(r){return t[r]})}function Ob(t){return t==null?[]:O6(t,_6(t))}var L6=P6(function(t,e,r){T6(t,r,e)});const Eu=L6;var F6=M6(function(t){var e=S6(t);return Rp(e)&&(e=void 0),Pb(k6(t,1,Rp,!0),Nb(e))});const Lb=F6;function Fb(t,e){return e=typeof e=="function"?e:void 0,t&&t.length?Pb(t,void 0,e):[]}var Db={};function kn(t,e){typeof e=="boolean"&&(e={forever:e}),this._originalTimeouts=JSON.parse(JSON.stringify(t)),this._timeouts=t,this._options=e||{},this._maxRetryTime=e&&e.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var D6=kn;kn.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};kn.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};kn.prototype.retry=function(t){if(this._timeout&&clearTimeout(this._timeout),!t)return!1;var e=new Date().getTime();if(t&&e-this._operationStart>=this._maxRetryTime)return this._errors.push(t),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(t);var r=this._timeouts.shift();if(r===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1);else return!1;var n=this;return this._timer=setTimeout(function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout(function(){n._operationTimeoutCb(n._attempts)},n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)},r),this._options.unref&&this._timer.unref(),!0};kn.prototype.attempt=function(t,e){this._fn=t,e&&(e.timeout&&(this._operationTimeout=e.timeout),e.cb&&(this._operationTimeoutCb=e.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){r._operationTimeoutCb()},r._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};kn.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated"),this.attempt(t)};kn.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated"),this.attempt(t)};kn.prototype.start=kn.prototype.try;kn.prototype.errors=function(){return this._errors};kn.prototype.attempts=function(){return this._attempts};kn.prototype.mainError=function(){if(this._errors.length===0)return null;for(var t={},e=null,r=0,n=0;n<this._errors.length;n++){var i=this._errors[n],a=i.message,s=(t[a]||0)+1;t[a]=s,s>=r&&(e=i,r=s)}return e};(function(t){var e=D6;t.operation=function(r){var n=t.timeouts(r);return new e(n,{forever:r&&(r.forever||r.retries===1/0),unref:r&&r.unref,maxRetryTime:r&&r.maxRetryTime})},t.timeouts=function(r){if(r instanceof Array)return[].concat(r);var n={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var i in r)n[i]=r[i];if(n.minTimeout>n.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var a=[],s=0;s<n.retries;s++)a.push(this.createTimeout(s,n));return r&&r.forever&&!a.length&&a.push(this.createTimeout(s,n)),a.sort(function(o,c){return o-c}),a},t.createTimeout=function(r,n){var i=n.randomize?Math.random()+1:1,a=Math.round(i*Math.max(n.minTimeout,1)*Math.pow(n.factor,r));return a=Math.min(a,n.maxTimeout),a},t.wrap=function(r,n,i){if(n instanceof Array&&(i=n,n=null),!i){i=[];for(var a in r)typeof r[a]=="function"&&i.push(a)}for(var s=0;s<i.length;s++){var o=i[s],c=r[o];r[o]=function(l){var x=t.operation(n),E=Array.prototype.slice.call(arguments,1),C=E.pop();E.push(function(M){x.retry(M)||(M&&(arguments[0]=x.mainError()),C.apply(this,arguments))}),x.attempt(function(){l.apply(r,E)})}.bind(r,c),r[o].options=n}}})(Db);var U6=Db,$6=U6;function H6(t,e){function r(n,i){var a=e||{},s;"randomize"in a||(a.randomize=!0),s=$6.operation(a);function o(l){i(l||new Error("Aborted"))}function c(l,x){if(l.bail){o(l);return}s.retry(l)?a.onRetry&&a.onRetry(l,x):i(s.mainError())}function f(l){var x;try{x=t(o,l)}catch(E){c(E,l);return}Promise.resolve(x).then(n).catch(function(C){c(C,l)})}s.attempt(f)}return new Promise(r)}var z6=H6;const Do=Yn(z6);var Ub=["https://4everland.xyz/ipfs/{cid}{pathToResource}","https://w3s.link/ipfs/{cid}{pathToResource}","https://ipfs.io/ipfs/{cid}{pathToResource}","https://dweb.link/ipfs/{cid}{pathToResource}","https://cf-ipfs.com/ipfs/{cid}{pathToResource}"],$b=/^ipfs:\/\/([^/]+)(.*)$/;function q6(t){let[,e="",r=""]=$b.exec(t)??[];return e?{cid:e,pathToResource:r}:null}function j6(t,e){let r=(()=>e.pathToResource===""||e.pathToResource.startsWith("/")?e.pathToResource:`/${e.pathToResource}`)();return t.replace(/{cid}/g,e.cid).replace(/\/?{pathToResource}/g,r)}function K6(t,e=Ub){let r=q6(t);return r?e.map(n=>({gateway:n,url:j6(n,r)})):[]}function G6(t){return $b.test(t)}var V6=(t=>(t.allFailed="ipfsFetch all failed",t))(V6||{}),W6=class extends Error{constructor(e,r,n){super(e),this.url=r,this.web2InfoList=n}name="IpfsFetchError"},J6=new Promise(()=>{});function Y6(t,{gateways:e=Ub,signal:r,...n}={}){let i=K6(t,e),a=new Set,s=0;return Promise.race(i.map(o=>{let c=new AbortController;a.add(c),r?.addEventListener("abort",()=>c.abort());let f=()=>(s+=1,s>=i.length?Promise.reject(new W6("ipfsFetch all failed",t,i)):J6);return fetch(o.url,{...n,signal:c.signal}).then(l=>l.ok?(a.delete(c),Object.assign(l,{_info:o})):f()).catch(l=>l instanceof Error&&l.name==="AbortError"?Promise.reject(l):f())})).finally(()=>{a.forEach(o=>o.abort()),a.clear()})}function Z6(t){return Do(async()=>await fetch("https://ipfs-relay.crossbell.io/json",{method:"POST",body:JSON.stringify(t)}).then(r=>r.json()),{retries:3})}async function Q6(t){const e=await Z6(t);if(!e?.url?.startsWith("ipfs://"))throw new Error("upload to IPFS failed");return e.url}function Z0(t){return Do(async()=>{if(G6(t)){const r=await Y6(t).then(n=>n.text());try{return JSON.parse(r)}catch{throw new Error(`Failed to parse metadata from uri: ${t}`)}}let e;try{return e=await fetch(t).then(r=>r.text()),e=JSON.parse(e),e}catch{throw new Error(`Failed to fetch metadata from uri: ${t} . Response: ${e}`)}},{retries:3})}async function ea(t,e,r=!1){if(e==="")return{uri:"",metadata:void 0};let n,i;return typeof e=="string"?(n=e,i=r?await Z0(n):void 0):(i=e,i.type||(i.type=t),n=await Q6(i)),{metadata:i,uri:n}}var X6={id:3737,network:"crossbell",name:"Crossbell",nativeCurrency:{decimals:18,name:"CSB",symbol:"CSB"},rpcUrls:{default:{http:["https://rpc.crossbell.io"]},public:{http:["https://rpc.crossbell.io"]}},blockExplorers:{default:{name:"CrossScan",url:"https://scan.crossbell.io"}},contracts:{multicall3:{address:"0xBB9759009cDaC82774EfC84D94cD9F7440f75Fcf",blockCreated:23499787}}};const ew="0.3.13",tw=t=>t,rf=t=>t,rw=()=>`viem@${ew}`;class le extends Error{constructor(e,r={}){super(),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ViemError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:rw()});const n=r.cause instanceof le?r.cause.details:r.cause?.message?r.cause.message:r.details,i=r.cause instanceof le&&r.cause.docsPath||r.docsPath;this.message=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...i?[`Docs: https://viem.sh${i}.html${r.docsSlug?`#${r.docsSlug}`:""}`]:[],...n?[`Details: ${n}`]:[],`Version: ${this.version}`].join(`
`),r.cause&&(this.cause=r.cause),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.shortMessage=e}}class nw extends le{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorNotFoundError"})}}class Pp extends le{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorParamsNotFoundError"})}}class iw extends le{constructor({data:e,size:r}){super([`Data size of ${r} bytes is invalid.`,"Size must be in increments of 32 bytes (size % 32 === 0)."].join(`
`),{metaMessages:[`Data: ${e} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingDataSizeInvalidError"})}}class Hb extends le{constructor({data:e,params:r,size:n}){super([`Data size of ${n} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${uf(r,{includeName:!0})})`,`Data:   ${e} (${n} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=r,this.size=n}}class nf extends le{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingZeroDataError"})}}class aw extends le{constructor({expectedLength:e,givenLength:r,type:n}){super([`ABI encoding array length mismatch for type ${n}.`,`Expected length: ${e}`,`Given length: ${r}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingArrayLengthMismatchError"})}}class sw extends le{constructor({expectedSize:e,value:r}){super(`Size of bytes "${r}" (bytes${cr(r)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingBytesSizeMismatchError"})}}class zb extends le{constructor({expectedLength:e,givenLength:r}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${r}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingLengthMismatchError"})}}class ow extends le{constructor(e,{docsPath:r}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiErrorSignatureNotFoundError"})}}class cw extends le{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureEmptyTopicsError"})}}class uw extends le{constructor(e,{docsPath:r}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureNotFoundError"})}}class fw extends le{constructor(e,{docsPath:r}){super([`Event "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventNotFoundError"})}}class qb extends le{constructor(e,{docsPath:r}){super([`Function "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionNotFoundError"})}}class dw extends le{constructor(e,{docsPath:r}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionOutputsNotFoundError"})}}class jb extends le{constructor({expectedSize:e,givenSize:r}){super(`Expected bytes${e}, got bytes${r}.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytesSizeMismatchError"})}}class lw extends le{constructor({data:e,params:r,size:n}){super([`Data size of ${n} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:["This error is usually caused if the ABI event has too many non-indexed event parameters for the emitted log.","",`Params: (${uf(r,{includeName:!0})})`,`Data:   ${e} (${n} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogDataMismatch"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=r,this.size=n}}class hw extends le{constructor({abiItem:e,param:r}){super([`Expected a topic for indexed event parameter${r.name?` "${r.name}"`:""} on event "${Ya(e,{includeName:!0})}".`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogTopicsMismatch"})}}class pw extends le{constructor(e,{docsPath:r}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiEncodingType"})}}class mw extends le{constructor(e,{docsPath:r}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiDecodingType"})}}class yw extends le{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidArrayError"})}}class bw extends le{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidDefinitionTypeError"})}}class xw extends le{constructor(e){super(`Type "${e}" is not supported for packed encoding.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedPackedAbiType"})}}class gc extends le{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the WalletClient."].join(`
`),{docsPath:e,docsSlug:"account"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountNotFoundError"})}}class Vr extends le{constructor({address:e}){super(`Address "${e}" is invalid.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"})}}class gw extends le{constructor({blockHash:e,blockNumber:r}){let n="Block";e&&(n=`Block at hash "${e}"`),r&&(n=`Block at number "${r}"`),super(`${n} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlockNotFoundError"})}}class Tl extends le{constructor({blockNumber:e,chain:r,contract:n}){super(`Chain "${r.name}" does not support contract "${n.name}".`,{metaMessages:["This could be due to any of the following:",...e&&n.blockCreated&&n.blockCreated>e?[`- The contract "${n.name}" was not deployed until block ${n.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${n.name}" configured.`]]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDoesNotSupportContract"})}}class vw extends le{constructor({chain:e,currentChainId:r}){super(`The current chain of the wallet (id: ${r}) does not match the target chain for the transaction (id: ${e.id} – ${e.name}).`,{metaMessages:[`Current Chain ID:  ${r}`,`Expected Chain ID: ${e.id} – ${e.name}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainMismatchError"})}}class ww extends le{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotFoundError"})}}class Kb extends le{constructor(){super("No chain was provided to the Client."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ClientChainNotConfiguredError"})}}class Q0 extends le{constructor({chainId:e}){super(`Chain ID "${e}" is invalid.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidChainIdError"})}}const Ml=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],Gb=[{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],Bp=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],Op=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]}],Aw="0x82ad56cb",Vb={1:"An `assert` condition failed.",17:"Arithmic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Ew={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},_w={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"},Tw={gwei:9,wei:18},Wb={ether:-9,wei:9};function vc(t){const e=Object.entries(t).map(([n,i])=>i===void 0||i===!1?null:[n,i]).filter(Boolean),r=e.reduce((n,[i])=>Math.max(n,i.length),0);return e.map(([n,i])=>`  ${`${n}:`.padEnd(r+1)}  ${i}`).join(`
`)}class Mw extends le{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeConflictError"})}}class kw extends le{constructor({v:e}){super(`Invalid \`v\` value "${e}". Expected 27 or 28.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidLegacyVError"})}}class Iw extends le{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",vc(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- a Legacy Transaction with `gasPrice`"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSerializableTransactionError"})}}class Sw extends le{constructor({storageKey:e}){super(`Size for storage key "${e}" is invalid. Expected 32 bytes. Got ${Math.floor((e.length-2)/2)} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStorageKeySizeError"})}}class Cw extends le{constructor(e,{account:r,docsPath:n,chain:i,data:a,gas:s,gasPrice:o,maxFeePerGas:c,maxPriorityFeePerGas:f,nonce:l,to:x,value:E}){const C=vc({chain:i&&`${i?.name} (id: ${i?.id})`,from:r?.address,to:x,value:typeof E<"u"&&`${wh(E)} ${i?.nativeCurrency.symbol||"ETH"}`,data:a,gas:s,gasPrice:typeof o<"u"&&`${un(o)} gwei`,maxFeePerGas:typeof c<"u"&&`${un(c)} gwei`,maxPriorityFeePerGas:typeof f<"u"&&`${un(f)} gwei`,nonce:l});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",C].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionExecutionError"}),this.cause=e}}class Jb extends le{constructor({blockHash:e,blockNumber:r,blockTag:n,hash:i,index:a}){let s="Transaction";n&&a!==void 0&&(s=`Transaction at block time "${n}" at index "${a}"`),e&&a!==void 0&&(s=`Transaction at block hash "${e}" at index "${a}"`),r&&a!==void 0&&(s=`Transaction at block number "${r}" at index "${a}"`),i&&(s=`Transaction with hash "${i}"`),super(`${s} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionNotFoundError"})}}class Yb extends le{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionReceiptNotFoundError"})}}class Nw extends le{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WaitForTransactionReceiptTimeoutError"})}}class Zb extends le{constructor(e,{account:r,docsPath:n,chain:i,data:a,gas:s,gasPrice:o,maxFeePerGas:c,maxPriorityFeePerGas:f,nonce:l,to:x,value:E}){const C=r?Zn(r):void 0,M=vc({from:C?.address,to:x,value:typeof E<"u"&&`${wh(E)} ${i?.nativeCurrency.symbol||"ETH"}`,data:a,gas:s,gasPrice:typeof o<"u"&&`${un(o)} gwei`,maxFeePerGas:typeof c<"u"&&`${un(c)} gwei`,maxPriorityFeePerGas:typeof f<"u"&&`${un(f)} gwei`,nonce:l});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",M].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CallExecutionError"}),this.cause=e}}class Qb extends le{constructor(e,{abi:r,args:n,contractAddress:i,docsPath:a,functionName:s,sender:o}){const c=_c({abi:r,args:n,name:s}),f=c?M1({abiItem:c,args:n,includeFunctionName:!1,includeName:!1}):void 0,l=c?Ya(c,{includeName:!0}):void 0,x=vc({address:i&&tw(i),function:l,args:f&&f!=="()"&&`${[...Array(s?.length??0).keys()].map(()=>" ").join("")}${f}`,sender:o});super(e.shortMessage||`An unknown error occurred while executing the contract function "${s}".`,{cause:e,docsPath:a,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Contract Call:",x].filter(Boolean)}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionExecutionError"}),this.abi=r,this.args=n,this.cause=e,this.contractAddress=i,this.functionName=s,this.sender=o}}class Rw extends le{constructor({abi:e,data:r,functionName:n,message:i}){let a,s,o;if(r&&r!=="0x"){a=E5({abi:e,data:r});const{abiItem:c,errorName:f,args:l}=a;if(f==="Error")o=l[0];else if(f==="Panic"){const[x]=l;o=Vb[x]}else if(l){const x=c?Ya(c,{includeName:!0}):void 0,E=c?M1({abiItem:c,args:l,includeFunctionName:!1,includeName:!1}):void 0;s=[x?`Error: ${x}`:"",E&&E!=="()"?`       ${[...Array(f?.length??0).keys()].map(()=>" ").join("")}${E}`:""]}}else i&&(o=i);super(o&&o!=="execution reverted"?[`The contract function "${n}" reverted with the following reason:`,o].join(`
`):`The contract function "${n}" reverted.`,{metaMessages:s}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.reason=o,this.data=a}}class Pw extends le{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionZeroDataError"})}}class X0 extends le{constructor({data:e,message:r}){super(r||""),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RawContractError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}class Xb extends le{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${r}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeExceedsPaddingSizeError"})}}class Bw extends le{constructor({max:e,min:r,signed:n,size:i,value:a}){super(`Number "${a}" is not in safe ${i?`${i*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${r} to ${e})`:`(above ${r})`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntegerOutOfRangeError"})}}class Ow extends le{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidHexBooleanError"})}}class Lw extends le{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${e} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeOverflowError"})}}class Fw extends le{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidMetadataError"})}}class po extends le{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidNftUriError"})}}class eh extends le{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUriResolutionError"})}}class Dw extends le{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUnsupportedNamespaceError"})}}class e1 extends le{constructor(e,{account:r,docsPath:n,chain:i,data:a,gas:s,gasPrice:o,maxFeePerGas:c,maxPriorityFeePerGas:f,nonce:l,to:x,value:E}){const C=vc({from:r?.address,to:x,value:typeof E<"u"&&`${wh(E)} ${i?.nativeCurrency.symbol||"ETH"}`,data:a,gas:s,gasPrice:typeof o<"u"&&`${un(o)} gwei`,maxFeePerGas:typeof c<"u"&&`${un(c)} gwei`,maxPriorityFeePerGas:typeof f<"u"&&`${un(f)} gwei`,nonce:l});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",C].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EstimateGasExecutionError"}),this.cause=e}}class Uw extends le{constructor(e){super(`Filter type "${e}" is not supported.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FilterTypeNotSupportedError"})}}class As extends le{constructor({cause:e,message:r}={}){const n=r?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${n?`with reason: ${n}`:"for an unknown reason"}.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ExecutionRevertedError"})}}Object.defineProperty(As,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(As,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class Ha extends le{constructor({cause:e,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${un(r)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooHigh"})}}Object.defineProperty(Ha,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class kl extends le{constructor({cause:e,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${un(r)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooLow"})}}Object.defineProperty(kl,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class Il extends le{constructor({cause:e,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}is higher than the next one expected.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooHighError"})}}Object.defineProperty(Il,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class Sl extends le{constructor({cause:e,nonce:r}={}){super([`Nonce provided for the transaction ${r?`(${r}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooLowError"})}}Object.defineProperty(Sl,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported/});class Cl extends le{constructor({cause:e,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}exceeds the maximum allowed nonce.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceMaxValueError"})}}Object.defineProperty(Cl,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class Nl extends le{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InsufficientFundsError"})}}Object.defineProperty(Nl,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds/});class Rl extends le{constructor({cause:e,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooHighError"})}}Object.defineProperty(Rl,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class Pl extends le{constructor({cause:e,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction is too low.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooLowError"})}}Object.defineProperty(Pl,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class Bl extends le{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionTypeNotSupportedError"})}}Object.defineProperty(Bl,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class Vo extends le{constructor({cause:e,maxPriorityFeePerGas:r,maxFeePerGas:n}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${r?` = ${un(r)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${n?` = ${un(n)} gwei`:""}).`].join(`
`),{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TipAboveFeeCapError"})}}Object.defineProperty(Vo,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class $w extends le{constructor({cause:e}){super(`An error occurred while executing: ${e?.message}`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownNodeError"})}}class Uo extends le{constructor({body:e,details:r,headers:n,status:i,url:a}){super("HTTP request failed.",{details:r,metaMessages:[i&&`Status: ${i}`,`URL: ${rf(a)}`,`Request body: ${ca(e)}`].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=n,this.status=i,this.url=a}}class Hw extends le{constructor({body:e,details:r,url:n}){super("WebSocket request failed.",{details:r,metaMessages:[`URL: ${rf(n)}`,`Request body: ${ca(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WebSocketRequestError"})}}class Wo extends le{constructor({body:e,error:r,url:n}){super("RPC Request failed.",{cause:r,details:r.message,metaMessages:[`URL: ${rf(n)}`,`Request body: ${ca(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=r.code}}class Ol extends le{constructor({body:e,url:r}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${rf(r)}`,`Request body: ${ca(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TimeoutError"})}}const zw=-1;class Zr extends le{constructor(e,{code:r=zw,docsPath:n,metaMessages:i,shortMessage:a}){super(a,{cause:e,docsPath:n,metaMessages:i||e?.metaMessages}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.code=e instanceof Wo?e.code:r}}class qs extends Zr{constructor(e,r){super(e,r),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=r.data}}class qw extends Zr{constructor(e){super(e,{code:-32700,shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ParseRpcError"})}}class jw extends Zr{constructor(e){super(e,{code:-32600,shortMessage:"JSON is not a valid request object."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRequestRpcError"})}}class Kw extends Zr{constructor(e){super(e,{code:-32601,shortMessage:"The method does not exist / is not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotFoundRpcError"})}}class Gw extends Zr{constructor(e){super(e,{code:-32602,shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParamsRpcError"})}}class Vw extends Zr{constructor(e){super(e,{code:-32603,shortMessage:"An internal error was received."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalRpcError"})}}class t1 extends Zr{constructor(e){super(e,{code:-32e3,shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidInputRpcError"})}}class Ww extends Zr{constructor(e){super(e,{code:-32001,shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}class Jw extends Zr{constructor(e){super(e,{code:-32002,shortMessage:"Requested resource not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceUnavailableRpcError"})}}class r1 extends Zr{constructor(e){super(e,{code:-32003,shortMessage:"Transaction creation failed."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionRejectedRpcError"})}}class Lp extends Zr{constructor(e){super(e,{code:-32004,shortMessage:"Method is not implemented."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotSupportedRpcError"})}}class Yw extends Zr{constructor(e){super(e,{code:-32005,shortMessage:"Request exceeds defined limit."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"LimitExceededRpcError"})}}class Zw extends Zr{constructor(e){super(e,{code:-32006,shortMessage:"Version of JSON-RPC protocol is not supported."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"JsonRpcVersionUnsupportedError"})}}class Qw extends qs{constructor(e){super(e,{code:4001,shortMessage:"User rejected the request."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UserRejectedRequestError"})}}class Xw extends qs{constructor(e){super(e,{code:4100,shortMessage:"The requested method and/or account has not been authorized by the user."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnauthorizedProviderError"})}}class e3 extends qs{constructor(e){super(e,{code:4200,shortMessage:"The Provider does not support the requested method."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedProviderMethodError"})}}class t3 extends qs{constructor(e){super(e,{code:4900,shortMessage:"The Provider is disconnected from all chains."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderDisconnectedError"})}}class r3 extends qs{constructor(e){super(e,{code:4901,shortMessage:"The Provider is not connected to the requested chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDisconnectedError"})}}class n3 extends qs{constructor(e){super(e,{code:4902,shortMessage:"An error occurred when attempting to switch chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainError"})}}class i3 extends Zr{constructor(e){super(e,{shortMessage:"An unknown RPC error occurred."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownRpcError"})}}class n1 extends le{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro"})}}function wc(t){return!t||typeof t!="string"?!1:/^0x[0-9a-fA-F]*$/.test(t)}function Ct(t,{dir:e,size:r=32}={}){return typeof t=="string"?na(t,{dir:e,size:r}):a3(t,{dir:e,size:r})}function na(t,{dir:e,size:r=32}={}){if(r===null)return t;const n=t.replace("0x","");if(n.length>r*2)throw new Xb({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[e==="right"?"padEnd":"padStart"](r*2,"0")}`}function a3(t,{dir:e,size:r=32}={}){if(r===null)return t;if(t.length>r)throw new Xb({size:t.length,targetSize:r,type:"bytes"});const n=new Uint8Array(r);for(let i=0;i<r;i++){const a=e==="right";n[a?i:r-i-1]=t[a?i:t.length-i-1]}return n}function cr(t){return wc(t)?Math.ceil((t.length-2)/2):t.length}function In(t){return typeof t[0]=="string"?Ac(t):s3(t)}function s3(t){let e=0;for(const i of t)e+=i.length;const r=new Uint8Array(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return r}function Ac(t){return`0x${t.reduce((e,r)=>e+r.replace("0x",""),"")}`}function Oa(t,{dir:e="left"}={}){let r=typeof t=="string"?t.replace("0x",""):t,n=0;for(let i=0;i<r.length-1&&r[e==="left"?i:r.length-i-1].toString()==="0";i++)n++;return r=e==="left"?r.slice(n):r.slice(0,r.length-n),typeof t=="string"?(r.length===1&&e==="right"&&(r=`${r}0`),`0x${r}`):r}function qt(t,e,r){return wc(t)?c3(t,e,r):o3(t,e,r)}function i1(t,e){if(typeof e=="number"&&e>0&&e>cr(t)-1)throw new Error(`Slice starting at offset "${e}" is out-of-bounds (size: ${cr(t)}).`)}function o3(t,e,r){return i1(t,e),t.slice(e,r)}function c3(t,e,r){return i1(t,e),`0x${t.replace("0x","").slice((e??0)*2,(r??t.length)*2)}`}function pa(t,{size:e}){if(cr(t)>e)throw new Lw({givenSize:cr(t),maxSize:e})}function u3(t,e){const r=typeof e=="string"?{to:e}:e,n=r.to;return n==="number"?Mr(t,r):n==="bigint"?Is(t,r):n==="string"?s1(t,r):n==="boolean"?a1(t,r):af(t,r)}function Is(t,e={}){const{signed:r}=e;e.size&&pa(t,{size:e.size});const n=BigInt(t);if(!r)return n;const i=(t.length-2)/2,a=(1n<<BigInt(i)*8n-1n)-1n;return n<=a?n:n-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function a1(t,e={}){let r=t;if(e.size&&(pa(r,{size:e.size}),r=Oa(r)),Oa(r)==="0x0")return!1;if(Oa(r)==="0x1")return!0;throw new Ow(r)}function Mr(t,e={}){return Number(Is(t,e))}function s1(t,e={}){let r=af(t);return e.size&&(pa(r,{size:e.size}),r=Oa(r,{dir:"right"})),new TextDecoder().decode(r)}const f3=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function je(t,e={}){return typeof t=="number"||typeof t=="bigint"?at(t,e):typeof t=="string"?rh(t,e):typeof t=="boolean"?th(t,e):Jo(t,e)}function th(t,e={}){const r=`0x${Number(t)}`;return typeof e.size=="number"?(pa(r,{size:e.size}),Ct(r,{size:e.size})):r}function Jo(t,e={}){let r="";for(let i=0;i<t.length;i++)r+=f3[t[i]];const n=`0x${r}`;return typeof e.size=="number"?(pa(n,{size:e.size}),Ct(n,{dir:"right",size:e.size})):n}function at(t,e={}){const{signed:r,size:n}=e,i=BigInt(t);let a;n?r?a=(1n<<BigInt(n)*8n-1n)-1n:a=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(a=BigInt(Number.MAX_SAFE_INTEGER));const s=typeof a=="bigint"&&r?-a-1n:0;if(a&&i>a||i<s){const c=typeof t=="bigint"?"n":"";throw new Bw({max:a?`${a}${c}`:void 0,min:`${s}${c}`,signed:r,size:n,value:`${t}${c}`})}const o=`0x${(r&&i<0?(1n<<BigInt(n*8))+BigInt(i):i).toString(16)}`;return n?Ct(o,{size:n}):o}const d3=new TextEncoder;function rh(t,e={}){const r=d3.encode(t);return Jo(r,e)}const l3=new TextEncoder;function sa(t,e={}){return typeof t=="number"||typeof t=="bigint"?p3(t,e):typeof t=="boolean"?h3(t,e):wc(t)?af(t,e):Yo(t,e)}function h3(t,e={}){const r=new Uint8Array(1);return r[0]=Number(t),typeof e.size=="number"?(pa(r,{size:e.size}),Ct(r,{size:e.size})):r}function af(t,e={}){let r=t;e.size&&(pa(r,{size:e.size}),r=Ct(r,{dir:"right",size:e.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);const i=new Uint8Array(n.length/2);for(let a=0;a<i.length;a++){const s=a*2,o=n.slice(s,s+2),c=Number.parseInt(o,16);if(Number.isNaN(c)||c<0)throw new le(`Invalid byte sequence ("${o}" in "${n}").`);i[a]=c}return i}function p3(t,e){const r=at(t,e);return af(r)}function Yo(t,e={}){const r=l3.encode(t);return typeof e.size=="number"?(pa(r,{size:e.size}),Ct(r,{dir:"right",size:e.size})):r}function nh(t,e){const r=e||"hex";return m3(c1(o1(t)),r)}function o1(t){return Array.isArray(t)?t.map(o1):typeof t=="string"?sa(t):t}function m3(t,e="bytes"){return e==="hex"?Jo(t):t}function c1(t){if(Array.isArray(t)){const e=In(t.map(c1));return new Uint8Array([...Fp(e.length,192),...e])}return t.length===1&&t[0]<128?t:new Uint8Array([...Fp(t.length,128),...t])}function Fp(t,e){return t<56?[e+t]:[sa(t).length+e+55,...sa(t)]}const y3=/((function|event)\s)?(.*)(\((.*)\))/;function u1(t){const e=t.match(y3),r=e?.[2]||void 0,n=e?.[3],i=e?.[5]||void 0;return{type:r,name:n,params:i}}function b3(t){return u1(t).name}function x3(t){return u1(t).params?.split(",").map(n=>n.trim().split(" "))?.map(n=>({type:n[0],name:n[1]==="indexed"?n[2]:n[1],...n[1]==="indexed"?{indexed:!0}:{}}))}function Ll(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function g3(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function f1(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function v3(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Ll(t.outputLen),Ll(t.blockLen)}function w3(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function A3(t,e){f1(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const nn={number:Ll,bool:g3,bytes:f1,hash:v3,exists:w3,output:A3},jc=BigInt(2**32-1),Fl=BigInt(32);function d1(t,e=!1){return e?{h:Number(t&jc),l:Number(t>>Fl&jc)}:{h:Number(t>>Fl&jc)|0,l:Number(t&jc)|0}}function E3(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:a,l:s}=d1(t[i],e);[r[i],n[i]]=[a,s]}return[r,n]}const _3=(t,e)=>BigInt(t>>>0)<<Fl|BigInt(e>>>0),T3=(t,e,r)=>t>>>r,M3=(t,e,r)=>t<<32-r|e>>>r,k3=(t,e,r)=>t>>>r|e<<32-r,I3=(t,e,r)=>t<<32-r|e>>>r,S3=(t,e,r)=>t<<64-r|e>>>r-32,C3=(t,e,r)=>t>>>r-32|e<<64-r,N3=(t,e)=>e,R3=(t,e)=>t,P3=(t,e,r)=>t<<r|e>>>32-r,B3=(t,e,r)=>e<<r|t>>>32-r,O3=(t,e,r)=>e<<r-32|t>>>64-r,L3=(t,e,r)=>t<<r-32|e>>>64-r;function F3(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}const D3=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),U3=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,$3=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),H3=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,z3=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),q3=(t,e,r,n,i,a)=>e+r+n+i+a+(t/2**32|0)|0,Zo={fromBig:d1,split:E3,toBig:_3,shrSH:T3,shrSL:M3,rotrSH:k3,rotrSL:I3,rotrBH:S3,rotrBL:C3,rotr32H:N3,rotr32L:R3,rotlSH:P3,rotlSL:B3,rotlBH:O3,rotlBL:L3,add:F3,add3L:D3,add3H:U3,add4L:$3,add4H:H3,add5H:q3,add5L:z3},wd=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const j3=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),Ad=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),ti=(t,e)=>t<<32-e|t>>>e,K3=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!K3)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function G3(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function Ec(t){if(typeof t=="string"&&(t=G3(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}function V3(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];const e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const a=t[n];r.set(a,i),i+=a.length}return r}let ih=class{clone(){return this._cloneInto()}};function ah(t){const e=n=>t().update(Ec(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function W3(t){const e=(n,i)=>t(i).update(Ec(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}function l1(t=32){if(wd&&typeof wd.getRandomValues=="function")return wd.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}const[h1,p1,m1]=[[],[],[]],J3=BigInt(0),mo=BigInt(1),Y3=BigInt(2),Z3=BigInt(7),Q3=BigInt(256),X3=BigInt(113);for(let t=0,e=mo,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],h1.push(2*(5*n+r)),p1.push((t+1)*(t+2)/2%64);let i=J3;for(let a=0;a<7;a++)e=(e<<mo^(e>>Z3)*X3)%Q3,e&Y3&&(i^=mo<<(mo<<BigInt(a))-mo);m1.push(i)}const[e5,t5]=Zo.split(m1,!0),Dp=(t,e,r)=>r>32?Zo.rotlBH(t,e,r):Zo.rotlSH(t,e,r),Up=(t,e,r)=>r>32?Zo.rotlBL(t,e,r):Zo.rotlSL(t,e,r);function r5(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let s=0;s<10;s++)r[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){const o=(s+8)%10,c=(s+2)%10,f=r[c],l=r[c+1],x=Dp(f,l,1)^r[o],E=Up(f,l,1)^r[o+1];for(let C=0;C<50;C+=10)t[s+C]^=x,t[s+C+1]^=E}let i=t[2],a=t[3];for(let s=0;s<24;s++){const o=p1[s],c=Dp(i,a,o),f=Up(i,a,o),l=h1[s];i=t[l],a=t[l+1],t[l]=c,t[l+1]=f}for(let s=0;s<50;s+=10){for(let o=0;o<10;o++)r[o]=t[s+o];for(let o=0;o<10;o++)t[s+o]^=~r[(o+2)%10]&r[(o+4)%10]}t[0]^=e5[n],t[1]^=t5[n]}r.fill(0)}let y1=class b1 extends ih{constructor(e,r,n,i=!1,a=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=a,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,nn.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=j3(this.state)}keccak(){r5(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){nn.exists(this);const{blockLen:r,state:n}=this;e=Ec(e);const i=e.length;for(let a=0;a<i;){const s=Math.min(r-this.pos,i-a);for(let o=0;o<s;o++)n[this.pos++]^=e[a++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){nn.exists(this,!1),nn.bytes(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,a=e.length;i<a;){this.posOut>=n&&this.keccak();const s=Math.min(n-this.posOut,a-i);e.set(r.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return nn.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(nn.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:a,enableXOF:s}=this;return e||(e=new b1(r,n,i,s,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=n,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}};const ma=(t,e,r)=>ah(()=>new y1(e,t,r));ma(6,144,224/8);ma(6,136,256/8);ma(6,104,384/8);ma(6,72,512/8);ma(1,144,224/8);const n5=ma(1,136,256/8);ma(1,104,384/8);ma(1,72,512/8);const x1=(t,e,r)=>W3((n={})=>new y1(e,t,n.dkLen===void 0?r:n.dkLen,!0));x1(31,168,128/8);x1(31,136,256/8);function zt(t,e){const r=e||"hex",n=n5(wc(t)?sa(t):t);return r==="bytes"?n:je(n)}const $p=t=>zt(sa(t));function g1(t){const e=b3(t),r=x3(t);return!r||r.length===0?$p(t.replace(/ /g,"")):$p(`${e}(${r.map(({type:n})=>n).join(",")})`)}const v1=t=>g1(t),w1=t=>qt(g1(t),0,4),i5=/^0x[a-fA-F0-9]{40}$/;function zr(t){return i5.test(t)}function sf(t,e){const r=e?`${e}${t.toLowerCase()}`:t.substring(2).toLowerCase(),n=zt(Yo(r),"bytes"),i=(e?r.substring(`${e}0x`.length):r).split("");for(let a=0;a<40;a+=2)n[a>>1]>>4>=8&&i[a]&&(i[a]=i[a].toUpperCase()),(n[a>>1]&15)>=8&&i[a+1]&&(i[a+1]=i[a+1].toUpperCase());return`0x${i.join("")}`}function a5(t,e){if(!zr(t))throw new Vr({address:t});return sf(t,e)}function A1(t,e){if(!zr(t))throw new Vr({address:t});if(!zr(e))throw new Vr({address:e});return t.toLowerCase()===e.toLowerCase()}function oa(t,e){if(t.length!==e.length)throw new zb({expectedLength:t.length,givenLength:e.length});const r=s5({params:t,values:e}),n=oh(r);return n.length===0?"0x":n}function s5({params:t,values:e}){const r=[];for(let n=0;n<t.length;n++)r.push(sh({param:t[n],value:e[n]}));return r}function sh({param:t,value:e}){const r=of(t.type);if(r){const[n,i]=r;return c5(e,{length:n,param:{...t,type:i}})}if(t.type==="tuple")return h5(e,{param:t});if(t.type==="address")return o5(e);if(t.type==="bool")return f5(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const n=t.type.startsWith("int");return d5(e,{signed:n})}if(t.type.startsWith("bytes"))return u5(e,{param:t});if(t.type==="string")return l5(e);throw new pw(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function oh(t){let e=0;for(let a=0;a<t.length;a++){const{dynamic:s,encoded:o}=t[a];s?e+=32:e+=cr(o)}const r=[],n=[];let i=0;for(let a=0;a<t.length;a++){const{dynamic:s,encoded:o}=t[a];s?(r.push(at(e+i,{size:32})),n.push(o),i+=cr(o)):r.push(o)}return In([...r,...n])}function o5(t){if(!zr(t))throw new Vr({address:t});return{dynamic:!1,encoded:na(t.toLowerCase())}}function c5(t,{length:e,param:r}){const n=e===null;if(!Array.isArray(t))throw new yw(t);if(!n&&t.length!==e)throw new aw({expectedLength:e,givenLength:t.length,type:`${r.type}[${e}]`});let i=!1;const a=[];for(let s=0;s<t.length;s++){const o=sh({param:r,value:t[s]});o.dynamic&&(i=!0),a.push(o)}if(n||i){const s=oh(a);if(n){const o=at(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?In([o,s]):o}}if(i)return{dynamic:!0,encoded:s}}return{dynamic:!1,encoded:In(a.map(({encoded:s})=>s))}}function u5(t,{param:e}){const[r,n]=e.type.split("bytes");if(!n){const i=Math.ceil(cr(t)/32),a=[];for(let s=0;s<i;s++)a.push(na(qt(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:In([na(at(cr(t),{size:32})),...a])}}if(cr(t)!==parseInt(n))throw new sw({expectedSize:parseInt(n),value:t});return{dynamic:!1,encoded:na(t,{dir:"right"})}}function f5(t){return{dynamic:!1,encoded:na(th(t))}}function d5(t,{signed:e}){return{dynamic:!1,encoded:at(t,{size:32,signed:e})}}function l5(t){const e=rh(t),r=Math.ceil(cr(e)/32),n=[];for(let i=0;i<r;i++)n.push(na(qt(e,i*32,(i+1)*32),{dir:"right"}));return{dynamic:!0,encoded:In([na(at(cr(e),{size:32})),...n])}}function h5(t,{param:e}){let r=!1;const n=[];for(let i=0;i<e.components.length;i++){const a=e.components[i],s=Array.isArray(t)?i:a.name,o=sh({param:a,value:t[s]});n.push(o),o.dynamic&&(r=!0)}return{dynamic:r,encoded:r?oh(n):In(n.map(({encoded:i})=>i))}}function of(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function cf(t,e){if(e==="0x"&&t.length>0)throw new nf;if(cr(e)%32!==0)throw new iw({data:e,size:cr(e)});return p5({data:e,params:t})}function p5({data:t,params:e}){const r=[];let n=0;for(let i=0;i<e.length;i++){if(n>=cr(t))throw new Hb({data:t,params:e,size:cr(t)});const a=e[i],{consumed:s,value:o}=Es({data:t,param:a,position:n});r.push(o),n+=s}return r}function Es({data:t,param:e,position:r}){const n=of(e.type);if(n){const[a,s]=n;return y5(t,{length:a,param:{...e,type:s},position:r})}if(e.type==="tuple")return w5(t,{param:e,position:r});if(e.type==="string")return v5(t,{position:r});if(e.type.startsWith("bytes"))return x5(t,{param:e,position:r});const i=qt(t,r,r+32);if(e.type.startsWith("uint")||e.type.startsWith("int"))return g5(i,{param:e});if(e.type==="address")return m5(i);if(e.type==="bool")return b5(i);throw new mw(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}function m5(t){return{consumed:32,value:sf(qt(t,-20))}}function y5(t,{param:e,length:r,position:n}){if(!r){const s=Mr(qt(t,n,n+32)),o=Mr(qt(t,s,s+32));let c=0;const f=[];for(let l=0;l<o;++l){const x=Es({data:qt(t,s+32),param:e,position:c});c+=x.consumed,f.push(x.value)}return{value:f,consumed:32}}if(_u(e)){const o=!of(e.type)?.[0];let c=0;const f=[];for(let l=0;l<r;++l){const x=Mr(qt(t,n,n+32)),E=Es({data:qt(t,x),param:e,position:o?c:l*32});c+=E.consumed,f.push(E.value)}return{value:f,consumed:32}}let i=0;const a=[];for(let s=0;s<r;++s){const o=Es({data:t,param:e,position:n+i});i+=o.consumed,a.push(o.value)}return{value:a,consumed:i}}function b5(t){return{consumed:32,value:a1(t)}}function x5(t,{param:e,position:r}){const[n,i]=e.type.split("bytes");if(!i){const s=Mr(qt(t,r,r+32)),o=Mr(qt(t,s,s+32));return o===0?{consumed:32,value:"0x"}:{consumed:32,value:qt(t,s+32,s+32+o)}}return{consumed:32,value:qt(t,r,r+parseInt(i))}}function g5(t,{param:e}){const r=e.type.startsWith("int");return{consumed:32,value:parseInt(e.type.split("int")[1]||"256")>48?Is(t,{signed:r}):Mr(t,{signed:r})}}function v5(t,{position:e}){const r=Mr(qt(t,e,e+32)),n=Mr(qt(t,r,r+32));return n===0?{consumed:32,value:""}:{consumed:32,value:s1(Oa(qt(t,r+32,r+32+n)))}}function w5(t,{param:e,position:r}){const n=e.components.length===0||e.components.some(({name:s})=>!s),i=n?[]:{};let a=0;if(_u(e)){const s=Mr(qt(t,r,r+32));for(let o=0;o<e.components.length;++o){const c=e.components[o],f=Es({data:qt(t,s),param:c,position:a});a+=f.consumed,i[n?o:c?.name]=f.value}return{consumed:32,value:i}}for(let s=0;s<e.components.length;++s){const o=e.components[s],c=Es({data:t,param:o,position:r+a});a+=c.consumed,i[n?s:o?.name]=c.value}return{consumed:a,value:i}}function _u(t){const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return t.components?.some(_u);const r=of(t.type);return!!(r&&_u({...t,type:r[1]}))}function Ya(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new bw(t.type);return`${t.name}(${uf(t.inputs,{includeName:e})})`}function uf(t,{includeName:e=!1}={}){return t?t.map(r=>A5(r,{includeName:e})).join(e?", ":","):""}function A5(t,{includeName:e}){return t.type.startsWith("tuple")?`(${uf(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}function E5({abi:t,data:e}){const r=qt(e,0,4);if(r==="0x")throw new nf;const i=[...t||[],Ew,_w].find(a=>a.type==="error"&&r===w1(Ya(a)));if(!i)throw new ow(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:i,args:"inputs"in i&&i.inputs&&i.inputs.length>0?cf(i.inputs,qt(e,4)):void 0,errorName:i.name}}const Hp="/docs/contract/decodeEventLog";function ff({abi:t,data:e,topics:r}){const[n,...i]=r;if(!n)throw new cw({docsPath:Hp});const a=t.find(l=>l.type==="event"&&n===v1(Ya(l)));if(!(a&&"name"in a))throw new uw(n,{docsPath:Hp});const{name:s,inputs:o}=a,c=o?.some(l=>!("name"in l&&l.name));let f=c?[]:{};if(i.length>0){const l=o.filter(x=>"indexed"in x&&x.indexed);for(let x=0;x<l.length;x++){const E=l[x],C=i[x];if(!C)throw new hw({abiItem:a,param:E});f[E.name||x]=_5({param:E,value:C})}}if(e&&e!=="0x"){const l=o.filter(x=>!("indexed"in x&&x.indexed));try{const x=cf(l,e);if(x)if(c)f=[...f,...x];else for(let E=0;E<l.length;E++)f[l[E].name]=x[E]}catch(x){throw x instanceof Hb?new lw({data:x.data,params:x.params,size:x.size}):x}}return{eventName:s,args:Object.values(f).length>0?f:void 0}}function _5({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(cf([t],e)||[])[0]}function _c({abi:t,args:e=[],name:r}){const n=t.filter(i=>"name"in i&&i.name===r);if(n.length!==0){if(n.length===1)return n[0];for(const i of n){if(!("inputs"in i))continue;if(!e||e.length===0){if(!i.inputs||i.inputs.length===0)return i;continue}if(!i.inputs||i.inputs.length===0)continue;if(e.every((s,o)=>{const c="inputs"in i&&i.inputs[o];return c?Dl(s,c):!1}))return i}return n[0]}}function Dl(t,e){const r=typeof t,n=e.type;switch(n){case"address":return zr(t);case"bool":return r==="boolean";case"function":return r==="string";case"string":return r==="string";default:return n==="tuple"&&"components"in e?Object.values(e.components).every((i,a)=>Dl(Object.values(t)[a],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(n)?r==="number"||r==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(n)?r==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(n)?Array.isArray(t)&&t.every(i=>Dl(i,{...e,type:n.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}const zp="/docs/contract/decodeFunctionResult";function js({abi:t,args:e,functionName:r,data:n}){const i=_c({abi:t,args:e,name:r});if(!i)throw new qb(r,{docsPath:zp});if(!("outputs"in i))throw new dw(r,{docsPath:zp});const a=cf(i.outputs,n);if(a&&a.length>1)return a;if(a&&a.length===1)return a[0]}const Ed="/docs/contract/encodeDeployData";function T5({abi:t,args:e,bytecode:r}){if(!e||e.length===0)return r;const n=t.find(a=>"type"in a&&a.type==="constructor");if(!n)throw new nw({docsPath:Ed});if(!("inputs"in n))throw new Pp({docsPath:Ed});if(!n.inputs||n.inputs.length===0)throw new Pp({docsPath:Ed});const i=oa(n.inputs,e);return Ac([r,i])}function ch({abi:t,eventName:e,args:r}){const n=_c({abi:t,args:r,name:e});if(!n)throw new fw(e,{docsPath:"/docs/contract/encodeEventTopics"});const i=Ya(n),a=v1(i);let s=[];if(r&&"inputs"in n){const o=Array.isArray(r)?r:n.inputs?.map(c=>r[c.name])??[];s=n.inputs?.filter(c=>"indexed"in c&&c.indexed).map((c,f)=>Array.isArray(o[f])?o[f].map((l,x)=>qp({param:c,value:o[f][x]})):o[f]?qp({param:c,value:o[f]}):null)??[]}return[a,...s]}function qp({param:t,value:e}){if(t.type==="string"||t.type==="bytes")return zt(sa(e));if(t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/))throw new Uw(t.type);return oa([t],[e])}function zi({abi:t,args:e,functionName:r}){const n=_c({abi:t,args:e,name:r});if(!n)throw new qb(r,{docsPath:"/docs/contract/encodeFunctionData"});const i=Ya(n),a=w1(i),s="inputs"in n&&n.inputs?oa(n.inputs,e??[]):void 0;return Ac([a,s??"0x"])}const M5=/^(.*)\[([0-9]*)\]$/,E1=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,_1=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function cs(t,e){if(t.length!==e.length)throw new zb({expectedLength:t.length,givenLength:e.length});const r=[];for(let n=0;n<t.length;n++){const i=t[n],a=e[n];r.push(T1(i,a))}return In(r)}function T1(t,e,r=!1){if(t==="address"){const s=e;if(!zr(s))throw new Vr({address:s});return Ct(s.toLowerCase(),{size:r?32:null})}if(t==="string")return rh(e);if(t==="bytes")return e;if(t==="bool")return Ct(th(e),{size:r?32:1});const n=t.match(_1);if(n){const[s,o,c="256"]=n,f=parseInt(c)/8;return at(e,{size:r?32:f,signed:o==="int"})}const i=t.match(E1);if(i){const[s,o]=i;if(parseInt(o)!==(e.length-2)/2)throw new jb({expectedSize:parseInt(o),givenSize:(e.length-2)/2});return Ct(e,{dir:"right",size:r?32:null})}const a=t.match(M5);if(a&&Array.isArray(e)){const[s,o]=a,c=[];for(let f=0;f<e.length;f++)c.push(T1(o,e[f],!0));return In(c)}throw new xw(t)}function M1({abiItem:t,args:e,includeFunctionName:r=!0,includeName:n=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${r?t.name:""}(${t.inputs.map((i,a)=>`${n&&i.name?`${i.name}: `:""}${typeof e[a]=="object"?ca(e[a]):e[a]}`).join(", ")})`}function Zn(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}function k5(t){const e=zt(`0x${t.substring(4)}`).substring(26);return sf(`0x${e}`)}const _d=new Map;function I5({fn:t,id:e,shouldSplitBatch:r,wait:n=0}){const i=async()=>{const f=o();a();const l=f.map(({args:x})=>x);l.length!==0&&t(l).then(x=>{f.forEach(({pendingPromise:E},C)=>E.resolve?.([x[C],x]))}).catch(x=>{f.forEach(({pendingPromise:E})=>E.reject?.(x))})},a=()=>_d.delete(e),s=()=>o().map(({args:f})=>f),o=()=>_d.get(e)||[],c=f=>_d.set(e,[...o(),f]);return{flush:a,async schedule(f){const l={},x=new Promise((M,k)=>{l.resolve=M,l.reject=k});return r?.([...s(),f])&&i(),o().length>0?(c({args:f,pendingPromise:l}),x):(c({args:f,pendingPromise:l}),setTimeout(i,n),x)}}}const S5=new Map,C5=new Map;function N5(t){const e=(i,a)=>({clear:()=>a.delete(i),get:()=>a.get(i),set:s=>a.set(i,s)}),r=e(t,S5),n=e(t,C5);return{clear:()=>{r.clear(),n.clear()},promise:r,response:n}}async function R5(t,{cacheKey:e,maxAge:r=1/0}){const n=N5(e),i=n.response.get();if(i&&r>0&&new Date().getTime()-i.created.getTime()<r)return i.data;let a=n.promise.get();a||(a=t(),n.promise.set(a));const s=await a;return n.promise.clear(),n.response.set({created:new Date,data:s}),s}async function Ul(t){return new Promise(e=>setTimeout(e,t))}function P5(t,{delay:e=100,retryCount:r=2,shouldRetry:n=()=>!0}={}){return new Promise((i,a)=>{const s=async({count:o=0}={})=>{const c=async({error:f})=>{const l=typeof e=="function"?e({count:o,error:f}):e;l&&await Ul(l),s({count:o+1})};try{const f=await t();i(f)}catch(f){if(o<r&&await n({count:o,error:f}))return c({error:f});a(f)}};s()})}function k1(t,{errorInstance:e,timeout:r,signal:n}){return new Promise((i,a)=>{(async()=>{let s;try{const o=new AbortController;r>0&&(s=setTimeout(()=>{n?o.abort():a(e)},r)),i(await t({signal:o?.signal}))}catch(o){o.name==="AbortError"&&a(e),a(o)}finally{clearTimeout(s)}})()})}const B5=t=>"code"in t?t.code!==-1&&t.code!==-32004&&t.code!==-32005&&t.code!==-32042&&t.code!==-32603:t instanceof Uo&&t.status?t.status!==403&&t.status!==408&&t.status!==413&&t.status!==429&&t.status!==500&&t.status!==502&&t.status!==503&&t.status!==504:!1;function O5(t,{retryDelay:e=150,retryCount:r=3}={}){return async n=>P5(async()=>{try{return await t(n)}catch(i){const a=i;throw a.code===-32700?new qw(a):a.code===-32600?new jw(a):a.code===-32601?new Kw(a):a.code===-32602?new Gw(a):a.code===-32603?new Vw(a):a.code===-32e3?new t1(a):a.code===-32001?new Ww(a):a.code===-32002?new Jw(a):a.code===-32003?new r1(a):a.code===-32004?new Lp(a):a.code===-32005?new Yw(a):a.code===-32006?new Zw(a):a.code===-32042?new Lp(a):a.code===4001?new Qw(a):a.code===4100?new Xw(a):a.code===4200?new e3(a):a.code===4900?new t3(a):a.code===4901?new r3(a):a.code===4902?new n3(a):i instanceof le?i:new i3(a)}},{delay:({count:i,error:a})=>{if(a&&a instanceof Uo){const s=a?.headers?.get("Retry-After");if(s?.match(/\d/))return parseInt(s)*1e3}return~~(1<<i)*e},retryCount:r,shouldRetry:({error:i})=>!B5(i)})}function Ks({blockNumber:t,chain:e,contract:r}){const n=e?.contracts?.[r];if(!n)throw new Tl({chain:e,contract:{name:r}});if(t&&n.blockCreated&&n.blockCreated>t)throw new Tl({blockNumber:t,chain:e,contract:{name:r,blockCreated:n.blockCreated}});return n.address}function Gs(t,{formatter:e}){return e(t)}const I1={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559"};function S1(t){const e={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?Mr(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?Mr(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?I1[t.type]:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return e.type==="legacy"&&(delete e.accessList,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e.type==="eip2930"&&(delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e}function L5(t){const e=t.transactions?.map(r=>typeof r=="string"?r:S1(r));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,difficulty:t.difficulty?BigInt(t.difficulty):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:e,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}function uh(t,{formatter:e}){return e?Object.keys(e({})).reduce((n,i)=>(t?.hasOwnProperty(i)&&(n[i]=t[i]),n),{}):{}}function F5(t){return{baseFeePerGas:t.baseFeePerGas.map(e=>BigInt(e)),gasUsedRatio:t.gasUsedRatio,oldestBlock:BigInt(t.oldestBlock),reward:t.reward?.map(e=>e.map(r=>BigInt(r)))}}function df(t,{args:e,eventName:r}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?BigInt(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?BigInt(t.transactionIndex):null,...r?{args:e,eventName:r}:{}}}const D5={"0x0":"reverted","0x1":"success"};function U5(t){return{...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(e=>df(e)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Mr(t.transactionIndex):null,status:t.status?D5[t.status]:null,type:t.type?I1[t.type]:null}}function fh(t){return{...t,gas:typeof t.gas<"u"?at(t.gas):void 0,gasPrice:typeof t.gasPrice<"u"?at(t.gasPrice):void 0,maxFeePerGas:typeof t.maxFeePerGas<"u"?at(t.maxFeePerGas):void 0,maxPriorityFeePerGas:typeof t.maxPriorityFeePerGas<"u"?at(t.maxPriorityFeePerGas):void 0,nonce:typeof t.nonce<"u"?at(t.nonce):void 0,value:typeof t.value<"u"?at(t.value):void 0}}function dh(t){return t instanceof r1||t instanceof t1||t instanceof Wo&&t.code===As.code}function lh(t,e){const r=t.details.toLowerCase();return Ha.nodeMessage.test(r)?new Ha({cause:t,maxFeePerGas:e?.maxFeePerGas}):kl.nodeMessage.test(r)?new kl({cause:t,maxFeePerGas:e?.maxFeePerGas}):Il.nodeMessage.test(r)?new Il({cause:t,nonce:e?.nonce}):Sl.nodeMessage.test(r)?new Sl({cause:t,nonce:e?.nonce}):Cl.nodeMessage.test(r)?new Cl({cause:t,nonce:e?.nonce}):Nl.nodeMessage.test(r)?new Nl({cause:t}):Rl.nodeMessage.test(r)?new Rl({cause:t,gas:e?.gas}):Pl.nodeMessage.test(r)?new Pl({cause:t,gas:e?.gas}):Bl.nodeMessage.test(r)?new Bl({cause:t}):Vo.nodeMessage.test(r)?new Vo({cause:t,maxFeePerGas:e?.maxFeePerGas,maxPriorityFeePerGas:e?.maxPriorityFeePerGas}):r.match(As.nodeMessage)||"code"in t.cause&&t.cause?.code===As.code?new As({cause:t,message:t.cause.details}):new $w({cause:t.cause.cause})}function $5(t,{docsPath:e,...r}){let n=t;return dh(t)&&(n=lh(t,r)),new Zb(n,{docsPath:e,...r})}const H5=3;function Qo(t,{abi:e,address:r,args:n,docsPath:i,functionName:a,sender:s}){const{code:o,data:c,message:f,shortMessage:l}=t instanceof X0?t:!(t.cause&&"data"in t.cause)&&(t instanceof Zb||t instanceof e1)?t.cause?.cause?.cause||{}:t.cause||{};let x=t;return t instanceof nf?x=new Pw({functionName:a}):o===H5&&(c||f||l)&&(x=new Rw({abi:e,data:c,functionName:a,message:l??f})),new Qb(x,{abi:e,args:n,contractAddress:r,docsPath:i,functionName:a,sender:s})}function z5(t,{docsPath:e,...r}){let n=t;return dh(t)&&(n=lh(t,r)),new e1(n,{docsPath:e,...r})}function q5(t,{docsPath:e,...r}){let n=t;return dh(t)&&(n=lh(t,r)),new Cw(n,{docsPath:e,...r})}const ca=(t,e,r)=>JSON.stringify(t,(n,i)=>{const a=typeof i=="bigint"?i.toString():i;return typeof e=="function"?e(n,a):a},r);let C1=0;async function j5(t,{body:e,fetchOptions:r={},timeout:n=1e4}){const{headers:i,method:a,signal:s}=r;try{const o=await k1(async({signal:f})=>await fetch(t,{...r,body:ca({jsonrpc:"2.0",id:C1++,...e}),headers:{...i,"Content-Type":"application/json"},method:a||"POST",signal:s||(n>0?f:void 0)}),{errorInstance:new Ol({body:e,url:t}),timeout:n,signal:!0});let c;if(o.headers.get("Content-Type")?.startsWith("application/json")?c=await o.json():c=await o.text(),!o.ok)throw new Uo({body:e,details:ca(c.error)||o.statusText,headers:o.headers,status:o.status,url:t});if(c.error)throw new Wo({body:e,error:c.error,url:t});return c}catch(o){throw o instanceof Uo||o instanceof Wo||o instanceof Ol?o:new Uo({body:e,details:o.message,url:t})}}const Td=new Map;async function Md(t){const e=new URL(t),r=e.toString();let n=Td.get(r);if(n)return n;let i=await I6(()=>import("./browser-3852a342.js"),[]);i.default?.constructor?i=i.default:i=i.WebSocket;const a=new i(e),s=new Map,o=new Map,c=({data:l})=>{const x=JSON.parse(l),E=x.method==="eth_subscription",C=E?x.params.subscription:x.id,M=E?o:s,k=M.get(C);k&&k({data:l}),E||M.delete(C)},f=()=>{Td.delete(r),a.removeEventListener("close",f),a.removeEventListener("message",c)};return a.addEventListener("close",f),a.addEventListener("message",c),a.readyState===i.CONNECTING&&await new Promise((l,x)=>{a&&(a.onopen=l,a.onerror=x)}),n=Object.assign(a,{requests:s,subscriptions:o}),Td.set(r,n),n}function K5(t,{body:e,onData:r,onError:n}){if(t.readyState===t.CLOSED||t.readyState===t.CLOSING)throw new Hw({body:e,url:t.url,details:"Socket is closed."});const i=C1++,a=({data:s})=>{const o=JSON.parse(s);typeof o.id=="number"&&i!==o.id||(o.error?n?.(new Wo({body:e,error:o.error,url:t.url})):r?.(o),e.method==="eth_subscribe"&&typeof o.result=="string"&&t.subscriptions.set(o.result,a),e.method==="eth_unsubscribe"&&t.subscriptions.delete(e.params?.[0]))};return t.requests.set(i,a),t.send(JSON.stringify({jsonrpc:"2.0",...e,id:i})),t}async function G5(t,{body:e,timeout:r=1e4}){return k1(()=>new Promise((n,i)=>$o.webSocket(t,{body:e,onData:n,onError:i})),{errorInstance:new Ol({body:e,url:t.url}),timeout:r})}const $o={http:j5,webSocket:K5,webSocketAsync:G5};function V5(t,e){const r=sa(t),n=sa(`Ethereum Signed Message:
${r.length}`);return zt(In([n,r]),e)}function N1({domain:t,message:e,primaryType:r,types:n}){const i=n,a=(s,o)=>{for(const c of s){const{name:f,type:l}=c,x=l,E=o[f],C=x.match(_1);if(C&&(typeof E=="number"||typeof E=="bigint")){const[S,R,B]=C;at(E,{signed:R==="int",size:parseInt(B)/8})}if(x==="address"&&typeof E=="string"&&!zr(E))throw new Vr({address:E});const M=x.match(E1);if(M){const[S,R]=M;if(R&&cr(E)!==parseInt(R))throw new jb({expectedSize:parseInt(R),givenSize:cr(E)})}const k=i[x];k&&a(k,E)}};if(i.EIP712Domain&&t&&a(i.EIP712Domain,t),r!=="EIP712Domain"){const s=i[r];a(s,e)}}function W5({domain:t,message:e,primaryType:r,types:n}){const i=typeof t>"u"?{}:t,a={EIP712Domain:[i?.name&&{name:"name",type:"string"},i?.version&&{name:"version",type:"string"},i?.chainId&&{name:"chainId",type:"uint256"},i?.verifyingContract&&{name:"verifyingContract",type:"address"},i?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean),...n};N1({domain:i,message:e,primaryType:r,types:a});const s=["0x1901"];return i&&s.push(J5({domain:i,types:a})),r!=="EIP712Domain"&&s.push(R1({data:e,primaryType:r,types:a})),zt(In(s))}function J5({domain:t,types:e}){return R1({data:t,primaryType:"EIP712Domain",types:e})}function R1({data:t,primaryType:e,types:r}){const n=P1({data:t,primaryType:e,types:r});return zt(n)}function P1({data:t,primaryType:e,types:r}){const n=[{type:"bytes32"}],i=[Y5({primaryType:e,types:r})];for(const a of r[e]){const[s,o]=O1({types:r,name:a.name,type:a.type,value:t[a.name]});n.push(s),i.push(o)}return oa(n,i)}function Y5({primaryType:t,types:e}){const r=je(Z5({primaryType:t,types:e}));return zt(r)}function Z5({primaryType:t,types:e}){let r="";const n=B1({primaryType:t,types:e});n.delete(t);const i=[t,...Array.from(n).sort()];for(const a of i)r+=`${a}(${e[a].map(({name:s,type:o})=>`${o} ${s}`).join(",")})`;return r}function B1({primaryType:t,types:e},r=new Set){const i=t.match(/^\w*/u)?.[0];if(r.has(i)||e[i]===void 0)return r;r.add(i);for(const a of e[i])B1({primaryType:a.type,types:e},r);return r}function O1({types:t,name:e,type:r,value:n}){if(t[r]!==void 0)return[{type:"bytes32"},zt(P1({data:n,primaryType:r,types:t}))];if(r==="bytes")return n=`0x${(n.length%2?"0":"")+n.slice(2)}`,[{type:"bytes32"},zt(n)];if(r==="string")return[{type:"bytes32"},zt(je(n))];if(r.lastIndexOf("]")===r.length-1){const i=r.slice(0,r.lastIndexOf("[")),a=n.map(s=>O1({name:e,type:i,types:t,value:s}));return[{type:"bytes32"},zt(oa(a.map(([s])=>s),a.map(([,s])=>s)))]}return[{type:r},n]}function lf(t){const{account:e,gasPrice:r,maxFeePerGas:n,maxPriorityFeePerGas:i,to:a}=t,s=e?Zn(e):void 0;if(s&&!zr(s.address))throw new Vr({address:s.address});if(a&&!zr(a))throw new Vr({address:a});if(typeof r<"u"&&(typeof n<"u"||typeof i<"u"))throw new Mw;if(n&&n>2n**256n-1n)throw new Ha({maxFeePerGas:n});if(i&&n&&i>n)throw new Vo({maxFeePerGas:n,maxPriorityFeePerGas:i})}function Q5(t){if(t.type)return t.type;if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new Iw({transaction:t})}const X5=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,e4=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,t4=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,r4=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function n4(t){try{const e=await fetch(t,{method:"HEAD"});return e.status===200?e.headers.get("content-type")?.startsWith("image/"):!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(r=>{const n=new Image;n.onload=()=>{r(!0)},n.onerror=()=>{r(!1)},n.src=t})}}function jp(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function L1({uri:t,gatewayUrls:e}){const r=t4.test(t);if(r)return{uri:t,isOnChain:!0,isEncoded:r};const n=jp(e?.ipfs,"https://ipfs.io"),i=jp(e?.arweave,"https://arweave.net"),a=t.match(X5),{protocol:s,subpath:o,target:c,subtarget:f=""}=a?.groups||{},l=s==="ipns:/"||o==="ipns/",x=s==="ipfs:/"||o==="ipfs/"||e4.test(t);if(t.startsWith("http")&&!l&&!x){let C=t;return e?.arweave&&(C=t.replace(/https:\/\/arweave.net/g,e?.arweave)),{uri:C,isOnChain:!1,isEncoded:!1}}if((l||x)&&c)return{uri:`${n}/${l?"ipns":"ipfs"}/${c}${f}`,isOnChain:!1,isEncoded:!1};if(s==="ar:/"&&c)return{uri:`${i}/${c}${f||""}`,isOnChain:!1,isEncoded:!1};let E=t.replace(r4,"");if(E.startsWith("<svg")&&(E=`data:image/svg+xml;base64,${btoa(E)}`),E.startsWith("data:")||E.startsWith("{"))return{uri:E,isOnChain:!0,isEncoded:!1};throw new eh({uri:t})}function F1(t){if(typeof t!="object"||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new Fw({data:t});return t.image||t.image_url||t.image_data}async function i4({gatewayUrls:t,uri:e}){try{const r=await fetch(e).then(i=>i.json());return await hh({gatewayUrls:t,uri:F1(r)})}catch{throw new eh({uri:e})}}async function hh({gatewayUrls:t,uri:e}){const{uri:r,isOnChain:n}=L1({uri:e,gatewayUrls:t});if(n||await n4(r))return r;throw new eh({uri:e})}function a4(t){t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[e,r,n]=t.split("/"),[i,a]=e.split(":"),[s,o]=r.split(":");if(!i||i.toLowerCase()!=="eip155")throw new po({reason:"Only EIP-155 supported"});if(!a)throw new po({reason:"Chain ID not found"});if(!o)throw new po({reason:"Contract address not found"});if(!n)throw new po({reason:"Token ID not found"});if(!s)throw new po({reason:"ERC namespace not found"});return{chainID:parseInt(a),namespace:s.toLowerCase(),contractAddress:o,tokenID:n}}async function s4(t,{nft:e}){if(e.namespace==="erc721")return Li(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return Li(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new Dw({namespace:e.namespace})}async function o4(t,{gatewayUrls:e,record:r}){return/eip155:/i.test(r)?c4(t,{gatewayUrls:e,record:r}):hh({uri:r,gatewayUrls:e})}async function c4(t,{gatewayUrls:e,record:r}){const n=a4(r),i=await s4(t,{nft:n}),{uri:a,isOnChain:s,isEncoded:o}=L1({uri:i,gatewayUrls:e});if(s&&(a.includes("data:application/json;base64,")||a.startsWith("{"))){const f=o?atob(a.replace("data:application/json;base64,","")):a,l=JSON.parse(f);return hh({uri:F1(l),gatewayUrls:e})}let c=n.tokenID;return n.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),i4({gatewayUrls:e,uri:a.replace(/(?:0x)?{id}/,c)})}function D1(t){let e=new Uint8Array(32).fill(0);if(!t)return Jo(e);const r=t.split(".");for(let n=r.length-1;n>=0;n-=1){const i=zt(Yo(r[n]),"bytes");e=zt(In([e,i]),"bytes")}return Jo(e)}function hf(t){function e(s){return s==="."||s===".."?1:Yo(s.replace(/^\.|\.$/gm,"")).length+2}const r=new Uint8Array(e(t)),n=t.replace(/^\.|\.$/gm,"");if(!n.length)return r;let i=0;const a=n.split(".");for(let s=0;s<a.length;s++){const o=Yo(a[s]);r[i]=o.length,r.set(o,i+1),i+=o.length+1}return r}async function ph(t,e){const{account:r,batch:n=!!t.batch?.multicall,blockNumber:i,blockTag:a="latest",accessList:s,data:o,gas:c,gasPrice:f,maxFeePerGas:l,maxPriorityFeePerGas:x,nonce:E,to:C,value:M,...k}=e,S=r?Zn(r):void 0;try{lf(e);const R=i?at(i):void 0,B=t.chain?.formatters?.transactionRequest,$=Gs({from:S?.address,accessList:s,data:o,gas:c,gasPrice:f,maxFeePerGas:l,maxPriorityFeePerGas:x,nonce:E,to:C,value:M,...uh(k,{formatter:B})},{formatter:B||fh});if(n&&u4({request:$}))try{return await f4(t,{...$,blockNumber:i,blockTag:a})}catch(K){if(!(K instanceof Kb)&&!(K instanceof Tl))throw K}const H=await t.request({method:"eth_call",params:[$,R||a]});return H==="0x"?{data:void 0}:{data:H}}catch(R){throw $5(R,{...e,account:S,chain:t.chain})}}function u4({request:t}){const{data:e,to:r,...n}=t;return!(!e||e.startsWith(Aw)||!r||Object.values(n).filter(i=>typeof i<"u").length>0)}async function f4(t,e){const{batchSize:r=1024,wait:n=0}=typeof t.batch?.multicall=="object"?t.batch?.multicall:{},{blockNumber:i,blockTag:a="latest",data:s,multicallAddress:o,to:c}=e;let f=o;if(!f){if(!t.chain)throw new Kb;f=Ks({blockNumber:i,chain:t.chain,contract:"multicall3"})}const x=(i?at(i):void 0)||a,{schedule:E}=I5({id:`${t.uid}.${x}`,wait:n,shouldSplitBatch(k){return k.reduce((R,{data:B})=>R+(B.length-2),0)>r*2},fn:async k=>{const S=k.map($=>({allowFailure:!0,callData:$.data,target:$.to})),R=zi({abi:Ml,args:[S],functionName:"aggregate3"}),B=await t.request({method:"eth_call",params:[{data:R,to:f},x]});return js({abi:Ml,args:[S],functionName:"aggregate3",data:B||"0x"})}}),[{returnData:C,success:M}]=await E({data:s,to:c});if(!M)throw new X0({data:C});return C==="0x"?{data:void 0}:{data:C}}async function U1(t,{abi:e,address:r,args:n,functionName:i,...a}){const s=a.account?Zn(a.account):void 0,o=zi({abi:e,args:n,functionName:i});try{const{data:c}=await ph(t,{batch:!1,data:o,to:r,...a});return{result:js({abi:e,args:n,functionName:i,data:c||"0x"}),request:{abi:e,address:r,args:n,functionName:i,...a}}}catch(c){throw Qo(c,{abi:e,address:r,args:n,docsPath:"/docs/contract/simulateContract",functionName:i,sender:s?.address})}}function pf(t,{method:e}){const r={};return t.transport.type==="fallback"&&t.transport.onResponse?.(({method:n,response:i,status:a,transport:s})=>{a==="success"&&e===n&&(r[i]=s.request)}),n=>r[n]||t.request}async function $1(t){const e=pf(t,{method:"eth_newPendingTransactionFilter"}),r=await t.request({method:"eth_newPendingTransactionFilter"});return{id:r,request:e(r),type:"transaction"}}async function d4(t){const e=pf(t,{method:"eth_newBlockFilter"}),r=await t.request({method:"eth_newBlockFilter"});return{id:r,request:e(r),type:"block"}}async function H1(t,{address:e,args:r,event:n,fromBlock:i,toBlock:a}={}){const s=pf(t,{method:"eth_newFilter"});let o=[];n&&(o=ch({abi:[n],eventName:n.name,args:r}));const c=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof i=="bigint"?at(i):i,toBlock:typeof a=="bigint"?at(a):a,...o.length?{topics:o}:{}}]});return{abi:n?[n]:void 0,args:r,eventName:n?n.name:void 0,id:c,request:s(c),type:"event"}}async function mh(t,{address:e,abi:r,args:n,eventName:i,fromBlock:a,toBlock:s}){const o=pf(t,{method:"eth_newFilter"}),c=i?ch({abi:r,args:n,eventName:i}):void 0,f=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof a=="bigint"?at(a):a,toBlock:typeof s=="bigint"?at(s):s,topics:c}]});return{abi:r,args:n,eventName:i,id:f,request:o(f),type:"event"}}async function yh(t,e){if(!e.account)throw new gc({docsPath:"/docs/actions/public/estimateGas"});const r=Zn(e.account);try{const{accessList:n,blockNumber:i,blockTag:a="latest",data:s,gas:o,gasPrice:c,maxFeePerGas:f,maxPriorityFeePerGas:l,nonce:x,to:E,value:C,...M}=r.type==="local"?await J1(t,e):e,k=i?at(i):void 0;lf(e);const S=t.chain?.formatters?.transactionRequest,R=Gs({from:r.address,accessList:n,data:s,gas:o,gasPrice:c,maxFeePerGas:f,maxPriorityFeePerGas:l,nonce:x,to:E,value:C,...uh(M,{formatter:S})},{formatter:S||fh}),B=await t.request({method:"eth_estimateGas",params:[R,k||a]});return BigInt(B)}catch(n){throw z5(n,{...e,account:r,chain:t.chain})}}async function z1(t,{abi:e,address:r,args:n,functionName:i,...a}){const s=Zn(a.account),o=zi({abi:e,args:n,functionName:i});try{return await yh(t,{data:o,to:r,...a})}catch(c){throw Qo(c,{abi:e,address:r,args:n,docsPath:"/docs/contract/simulateContract",functionName:i,sender:s?.address})}}async function l4(t,{address:e,blockNumber:r,blockTag:n="latest"}){const i=r?at(r):void 0,a=await t.request({method:"eth_getBalance",params:[e,i||n]});return BigInt(a)}async function Xo(t,{blockHash:e,blockNumber:r,blockTag:n="latest",includeTransactions:i=!1}={}){const a=r!==void 0?at(r):void 0;let s=null;if(e?s=await t.request({method:"eth_getBlockByHash",params:[e,i]}):s=await t.request({method:"eth_getBlockByNumber",params:[a||n,i]}),!s)throw new gw({blockHash:e,blockNumber:r});return Gs(s,{formatter:t.chain?.formatters?.block||L5})}const h4=t=>`blockNumber.${t}`;async function Tc(t,{maxAge:e=t.pollingInterval}={}){const r=await R5(()=>t.request({method:"eth_blockNumber"}),{cacheKey:h4(t.uid),maxAge:e});return BigInt(r)}async function p4(t,{blockHash:e,blockNumber:r,blockTag:n="latest"}={}){const i=r!==void 0?at(r):void 0;let a=null;return e?a=await t.request({method:"eth_getBlockTransactionCountByHash",params:[e]}):a=await t.request({method:"eth_getBlockTransactionCountByNumber",params:[i||n]}),Mr(a)}async function m4(t,{address:e,blockNumber:r,blockTag:n="latest"}){const i=r!==void 0?at(r):void 0,a=await t.request({method:"eth_getCode",params:[e,i||n]});if(a!=="0x")return a}async function bh(t){const e=await t.request({method:"eth_chainId"});return Mr(e)}async function y4(t,{blockCount:e,blockNumber:r,blockTag:n="latest",rewardPercentiles:i}){const a=r?at(r):void 0,s=await t.request({method:"eth_feeHistory",params:[at(e),a||n,i]});return F5(s)}async function mf(t,{filter:e}){return(await e.request({method:"eth_getFilterChanges",params:[e.id]})).map(n=>{if(typeof n=="string")return n;try{const{eventName:i,args:a}="abi"in e&&e.abi?ff({abi:e.abi,data:n.data,topics:n.topics}):{eventName:void 0,args:void 0};return df(n,{args:a,eventName:i})}catch{return}}).filter(Boolean)}async function b4(t,{filter:e}){return(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map(n=>{try{const{eventName:i,args:a}="abi"in e&&e.abi?ff({abi:e.abi,data:n.data,topics:n.topics}):{eventName:void 0,args:void 0};return df(n,{args:a,eventName:i})}catch{return}}).filter(Boolean)}async function q1(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function xh(t,{address:e,blockHash:r,fromBlock:n,toBlock:i,event:a,args:s}={}){let o=[];a&&(o=ch({abi:[a],eventName:a.name,args:s}));let c;return r?c=await t.request({method:"eth_getLogs",params:[{address:e,topics:o,blockHash:r}]}):c=await t.request({method:"eth_getLogs",params:[{address:e,topics:o,fromBlock:typeof n=="bigint"?at(n):n,toBlock:typeof i=="bigint"?at(i):i}]}),c.map(f=>{try{const{eventName:l,args:x}=a?ff({abi:[a],data:f.data,topics:f.topics}):{eventName:void 0,args:void 0};return df(f,{args:x,eventName:l})}catch{return}}).filter(Boolean)}async function x4(t,{address:e,blockNumber:r,blockTag:n="latest",slot:i}){const a=r!==void 0?at(r):void 0;return await t.request({method:"eth_getStorageAt",params:[e,i,a||n]})}async function gh(t,{blockHash:e,blockNumber:r,blockTag:n="latest",hash:i,index:a}){const s=r!==void 0?at(r):void 0;let o=null;if(i?o=await t.request({method:"eth_getTransactionByHash",params:[i]}):e?o=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,at(a)]}):(s||n)&&(o=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[s||n,at(a)]})),!o)throw new Jb({blockHash:e,blockNumber:r,blockTag:n,hash:i,index:a});return Gs(o,{formatter:t.chain?.formatters?.transaction||S1})}async function g4(t,{hash:e,transactionReceipt:r}){const[n,i]=await Promise.all([Tc(t),e?gh(t,{hash:e}):void 0]),a=r?.blockNumber||i?.blockNumber;return a?n-a+1n:0n}async function j1(t,{address:e,blockTag:r="latest",blockNumber:n}){const i=await t.request({method:"eth_getTransactionCount",params:[e,n?at(n):r]});return Mr(i)}async function $l(t,{hash:e}){const r=await t.request({method:"eth_getTransactionReceipt",params:[e]});if(!r)throw new Yb({hash:e});return Gs(r,{formatter:t.chain?.formatters?.transactionReceipt||U5})}async function Li(t,{abi:e,address:r,args:n,functionName:i,...a}){const s=zi({abi:e,args:n,functionName:i});try{const{data:o}=await ph(t,{data:s,to:r,...a});return js({abi:e,args:n,functionName:i,data:o||"0x"})}catch(o){throw Qo(o,{abi:e,address:r,args:n,docsPath:"/docs/contract/readContract",functionName:i})}}async function v4(t,e){const{allowFailure:r=!0,batchSize:n,blockNumber:i,blockTag:a,contracts:s,multicallAddress:o}=e,c=n??(typeof t.batch?.multicall=="object"&&t.batch.multicall.batchSize||1024),f=s;let l=o;if(!l){if(!t.chain)throw new Error("client chain not configured. multicallAddress is required.");l=Ks({blockNumber:i,chain:t.chain,contract:"multicall3"})}const x=[[]];let E=0,C=0;for(let k=0;k<f.length;k++){const{abi:S,address:R,args:B,functionName:$}=f[k];try{const H=zi({abi:S,args:B,functionName:$});C+=H.length,c>0&&C>c&&(E++,C=(H.length-2)/2,x[E]=[]),x[E]=[...x[E],{allowFailure:!0,callData:H,target:R}]}catch(H){const K=Qo(H,{abi:S,address:R,args:B,docsPath:"/docs/contract/multicall",functionName:$});if(!r)throw K;x[E]=[...x[E],{allowFailure:!0,callData:"0x",target:R}]}}return(await Promise.all(x.map(k=>Li(t,{abi:Ml,address:l,args:[k],blockNumber:i,blockTag:a,functionName:"aggregate3"})))).flat().flatMap(({returnData:k,success:S},R)=>{const B=x.flat(),{callData:$}=B[R],{abi:H,address:K,functionName:J,args:ie}=f[R];try{if($==="0x")throw new nf;if(!S)throw new X0({data:k});const X=js({abi:H,data:k,functionName:J});return r?{result:X,status:"success"}:X}catch(X){const re=Qo(X,{abi:H,address:K,args:ie,docsPath:"/docs/contract/multicall",functionName:J});if(!r)throw re;return{error:re,result:void 0,status:"failure"}}})}async function yf(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}const kd=new Map,Kp=new Map;let w4=0;function Vs(t,e,r){const n=++w4,i=()=>kd.get(t)||[],a=()=>{const l=i();kd.set(t,l.filter(x=>x.id!==n))},s=()=>{const l=Kp.get(t);i().length===1&&l&&l(),a()},o=i();if(kd.set(t,[...o,{id:n,fns:e}]),o&&o.length>0)return s;const c={};for(const l in e)c[l]=(...x)=>{const E=i();E.length!==0&&E.forEach(C=>C.fns[l]?.(...x))};const f=r(c);return typeof f=="function"&&Kp.set(t,f),s}async function A4(t,{confirmations:e=1,hash:r,onReplaced:n,pollingInterval:i=t.pollingInterval,timeout:a}){const s=JSON.stringify(["waitForTransactionReceipt",t.uid,r]);let o,c,f;return new Promise((l,x)=>{a&&setTimeout(()=>x(new Nw({hash:r})),a);const E=Vs(s,{onReplaced:n,resolve:l,reject:x},C=>{const M=K1(t,{emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:i,async onBlockNumber(k){const S=async R=>{M(),R(),E()};try{if(f){if(k-f.blockNumber+1n<e)return;S(()=>C.resolve(f));return}if(o=await gh(t,{hash:r}),f=await $l(t,{hash:r}),k-f.blockNumber+1n<e)return;S(()=>C.resolve(f))}catch(R){if(o&&(R instanceof Jb||R instanceof Yb)){c=o;const $=(await Xo(t,{blockNumber:k,includeTransactions:!0})).transactions.find(({from:K,nonce:J})=>K===c.from&&J===c.nonce);if(!$||(f=await $l(t,{hash:$.hash}),k-f.blockNumber+1n<e))return;let H="replaced";$.to===c.to&&$.value===c.value?H="repriced":$.from===$.to&&$.value===0n&&(H="cancelled"),S(()=>{C.onReplaced?.({reason:H,replacedTransaction:c,transaction:$,transactionReceipt:f}),C.resolve(f)})}else S(()=>C.reject(R))}}});return M})})}function Mc(t,{emitOnBegin:e,initialWaitTime:r,interval:n}){let i=!0;const a=()=>i=!1;return(async()=>{let o;e&&(o=await t({unpoll:a}));const c=await r?.(o)??n;await Ul(c);const f=async()=>{i&&(await t({unpoll:a}),await Ul(n),f())};f()})(),a}function K1(t,{emitOnBegin:e=!1,emitMissed:r=!1,onBlockNumber:n,onError:i,poll:a,pollingInterval:s=t.pollingInterval}){const o=typeof a<"u"?a:t.transport.type!=="webSocket";let c;return o?(()=>{const x=JSON.stringify(["watchBlockNumber",t.uid,e,r,s]);return Vs(x,{onBlockNumber:n,onError:i},E=>Mc(async()=>{try{const C=await Tc(t,{maxAge:0});if(c){if(C===c)return;if(C-c>1&&r)for(let M=c+1n;M<C;M++)E.onBlockNumber(M,c),c=M}(!c||C>c)&&(E.onBlockNumber(C,c),c=C)}catch(C){E.onError?.(C)}},{emitOnBegin:e,interval:s}))})():(()=>{let x=!0,E=()=>x=!1;return(async()=>{try{const{unsubscribe:C}=await t.transport.subscribe({params:["newHeads"],onData(M){if(!x)return;const k=Is(M.result?.number);n(k,c),c=k},onError(M){i?.(M)}});E=C,x||E()}catch(C){i?.(C)}})(),E})()}function E4(t,{blockTag:e="latest",emitMissed:r=!1,emitOnBegin:n=!1,onBlock:i,onError:a,includeTransactions:s=!1,poll:o,pollingInterval:c=t.pollingInterval}){const f=typeof o<"u"?o:t.transport.type!=="webSocket";let l;return f?(()=>{const C=JSON.stringify(["watchBlocks",t.uid,r,n,s,c]);return Vs(C,{onBlock:i,onError:a},M=>Mc(async()=>{try{const k=await Xo(t,{blockTag:e,includeTransactions:s});if(k.number&&l?.number){if(k.number===l.number)return;if(k.number-l.number>1&&r)for(let S=l?.number+1n;S<k.number;S++){const R=await Xo(t,{blockNumber:S,includeTransactions:s});M.onBlock(R,l),l=R}}(!l?.number||e==="pending"&&!k?.number||k.number&&k.number>l.number)&&(M.onBlock(k,l),l=k)}catch(k){M.onError?.(k)}},{emitOnBegin:n,interval:c}))})():(()=>{let C=!0,M=()=>C=!1;return(async()=>{try{const{unsubscribe:k}=await t.transport.subscribe({params:["newHeads"],onData(S){if(!C)return;const R=S.result;i(R,l),l=R},onError(S){a?.(S)}});M=k,C||M()}catch(k){a?.(k)}})(),M})()}function G1(t,{abi:e,address:r,args:n,batch:i=!0,eventName:a,onError:s,onLogs:o,pollingInterval:c=t.pollingInterval}){const f=JSON.stringify(["watchContractEvent",r,n,i,t.uid,a,c]);return Vs(f,{onLogs:o,onError:s},l=>{let x,E,C=!1;const M=Mc(async()=>{if(!C){try{E=await mh(t,{abi:e,address:r,args:n,eventName:a})}catch{}C=!0;return}try{let k;if(E)k=await mf(t,{filter:E});else{const S=await Tc(t);x&&x!==S?k=await xh(t,{address:r,args:n,fromBlock:x+1n,toBlock:S,event:_c({abi:e,name:a})}):k=[],x=S}if(k.length===0)return;i?l.onLogs(k):k.forEach(S=>l.onLogs([S]))}catch(k){l.onError?.(k)}},{emitOnBegin:!0,interval:c});return async()=>{E&&await yf(t,{filter:E}),M()}})}function _4(t,{address:e,args:r,batch:n=!0,event:i,onError:a,onLogs:s,pollingInterval:o=t.pollingInterval}){const c=JSON.stringify(["watchEvent",e,r,n,t.uid,i,o]);return Vs(c,{onLogs:s,onError:a},f=>{let l,x,E=!1;const C=Mc(async()=>{if(!E){try{x=await H1(t,{address:e,args:r,event:i})}catch{}E=!0;return}try{let M;if(x)M=await mf(t,{filter:x});else{const k=await Tc(t);l&&l!==k?M=await xh(t,{address:e,args:r,fromBlock:l+1n,toBlock:k,event:i}):M=[],l=k}if(M.length===0)return;n?f.onLogs(M):M.forEach(k=>f.onLogs([k]))}catch(M){f.onError?.(M)}},{emitOnBegin:!0,interval:o});return async()=>{x&&await yf(t,{filter:x}),C()}})}function T4(t,{batch:e=!0,onError:r,onTransactions:n,poll:i,pollingInterval:a=t.pollingInterval}){return(typeof i<"u"?i:t.transport.type!=="webSocket")?(()=>{const f=JSON.stringify(["watchPendingTransactions",t.uid,e,a]);return Vs(f,{onTransactions:n,onError:r},l=>{let x;const E=Mc(async()=>{try{if(!x)try{x=await $1(t);return}catch(M){throw E(),M}const C=await mf(t,{filter:x});if(C.length===0)return;e?l.onTransactions(C):C.forEach(M=>l.onTransactions([M]))}catch(C){l.onError?.(C)}},{emitOnBegin:!0,interval:a});return async()=>{x&&await yf(t,{filter:x}),E()}})})():(()=>{let f=!0,l=()=>f=!1;return(async()=>{try{const{unsubscribe:x}=await t.transport.subscribe({params:["newPendingTransactions"],onData(E){if(!f)return;const C=E.result;n([C])},onError(E){r?.(E)}});l=x,f||l()}catch(x){r?.(x)}})(),l})()}async function M4(t,{blockNumber:e,blockTag:r,name:n,universalResolverAddress:i}){let a=i;if(!a){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=Ks({blockNumber:e,chain:t.chain,contract:"ensUniversalResolver"})}const s=await Li(t,{address:a,abi:Gb,functionName:"resolve",args:[je(hf(n)),zi({abi:Op,functionName:"addr",args:[D1(n)]})],blockNumber:e,blockTag:r});if(s[0]==="0x")return null;const o=js({abi:Op,functionName:"addr",data:s[0]});return Oa(o)==="0x0"?null:o}async function V1(t,{blockNumber:e,blockTag:r,name:n,key:i,universalResolverAddress:a}){let s=a;if(!s){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");s=Ks({blockNumber:e,chain:t.chain,contract:"ensUniversalResolver"})}const o=await Li(t,{address:s,abi:Gb,functionName:"resolve",args:[je(hf(n)),zi({abi:Bp,functionName:"text",args:[D1(n),i]})],blockNumber:e,blockTag:r});if(o[0]==="0x")return null;const c=js({abi:Bp,functionName:"text",data:o[0]});return c===""?null:c}async function k4(t,{blockNumber:e,blockTag:r,gatewayUrls:n,name:i,universalResolverAddress:a}){const s=await V1(t,{blockNumber:e,blockTag:r,key:"avatar",name:i,universalResolverAddress:a});if(!s)return null;try{return await o4(t,{record:s,gatewayUrls:n})}catch{return null}}async function I4(t,{address:e,blockNumber:r,blockTag:n,universalResolverAddress:i}){let a=i;if(!a){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=Ks({blockNumber:r,chain:t.chain,contract:"ensUniversalResolver"})}const s=`${e.toLowerCase().substring(2)}.addr.reverse`;try{return(await Li(t,{address:a,abi:[{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],functionName:"reverse",args:[je(hf(s))],blockNumber:r,blockTag:n}))[0]}catch(o){if(o instanceof Qb&&o.cause.reason===Vb[50])return null;throw o}}async function S4(t,{blockNumber:e,blockTag:r,name:n,universalResolverAddress:i}){let a=i;if(!a){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=Ks({blockNumber:e,chain:t.chain,contract:"ensUniversalResolver"})}const[s]=await Li(t,{address:a,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[je(hf(n))],blockNumber:e,blockTag:r});return s}async function C4(t,{chain:e}){const{id:r,name:n,nativeCurrency:i,rpcUrls:a,blockExplorers:s}=e;await t.request({method:"wallet_addEthereumChain",params:[{chainId:at(r),chainName:n,nativeCurrency:i,rpcUrls:a.default.http,blockExplorerUrls:s?Object.values(s).map(({url:o})=>o):void 0}]})}function N4(t,{abi:e,args:r,bytecode:n,...i}){const a=T5({abi:e,args:r,bytecode:n});return vh(t,{...i,data:a})}async function R4(t){return(await t.request({method:"eth_accounts"})).map(r=>sf(r))}async function P4(t){return await t.request({method:"wallet_getPermissions"})}async function B4(t){return(await t.request({method:"eth_requestAccounts"})).map(r=>a5(r))}async function O4(t,e){return t.request({method:"wallet_requestPermissions",params:[e]})}async function vh(t,e){const{account:r=t.account,chain:n=t.chain,accessList:i,data:a,gas:s,gasPrice:o,maxFeePerGas:c,maxPriorityFeePerGas:f,nonce:l,to:x,value:E,...C}=e;if(!r)throw new gc({docsPath:"/docs/actions/wallet/sendTransaction"});const M=Zn(r);try{lf(e);const k=await bh(t);if(n!==null&&k!==n?.id)throw n?new vw({chain:n,currentChainId:k}):new ww;if(M.type==="local"){const B=await J1(t,{account:M,accessList:i,chain:n,data:a,gas:s,gasPrice:o,maxFeePerGas:c,maxPriorityFeePerGas:f,nonce:l,to:x,value:E,...C}),$=await M.signTransaction({chainId:k,...B});return await t.request({method:"eth_sendRawTransaction",params:[$]})}const S=n?.formatters?.transactionRequest,R=Gs({accessList:i,data:a,from:M.address,gas:s,gasPrice:o,maxFeePerGas:c,maxPriorityFeePerGas:f,nonce:l,to:x,value:E,...uh(C,{formatter:S})},{formatter:S||fh});return await t.request({method:"eth_sendTransaction",params:[R]})}catch(k){throw q5(k,{...e,account:M,chain:e.chain||void 0})}}async function L4(t,{account:e=t.account,message:r}){if(!e)throw new gc({docsPath:"/docs/actions/wallet/signMessage"});const n=Zn(e);return n.type==="local"?n.signMessage({message:r}):t.request({method:"personal_sign",params:[je(r),n.address]})}async function F4(t,{account:e=t.account,domain:r,message:n,primaryType:i,types:a}){if(!e)throw new gc({docsPath:"/docs/actions/wallet/signTypedData"});const s=Zn(e),o={EIP712Domain:[r?.name&&{name:"name",type:"string"},r?.version&&{name:"version",type:"string"},r?.chainId&&{name:"chainId",type:"uint256"},r?.verifyingContract&&{name:"verifyingContract",type:"address"},r?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean),...a};if(N1({domain:r,message:n,primaryType:i,types:o}),s.type==="local")return s.signTypedData({domain:r,primaryType:i,types:o,message:n});const c=ca({domain:r??{},primaryType:i,types:o,message:n},(f,l)=>wc(l)?l.toLowerCase():l);return t.request({method:"eth_signTypedData_v4",params:[s.address,c]})}async function D4(t,{id:e}){await t.request({method:"wallet_switchEthereumChain",params:[{chainId:at(e)}]})}async function U4(t,e){return await t.request({method:"wallet_watchAsset",params:e})}async function W1(t,{abi:e,address:r,args:n,functionName:i,...a}){const s=zi({abi:e,args:n,functionName:i});return await vh(t,{data:s,to:r,...a})}function us({abi:t,address:e,publicClient:r,walletClient:n}){const i=r!=null,a=n!=null,s={};let o=!1,c=!1,f=!1;for(const l of t)if(l.type==="function"?l.stateMutability==="view"||l.stateMutability==="pure"?o=!0:c=!0:l.type==="event"&&(f=!0),o&&c&&f)break;return i&&(o&&(s.read=new Proxy({},{get(l,x){return(...E)=>{const{args:C,options:M}=Kc(E);return Li(r,{abi:t,address:e,functionName:x,args:C,...M})}}})),c&&(s.estimateGas=new Proxy({},{get(l,x){return(...E)=>{const{args:C,options:M}=Kc(E);return z1(r,{abi:t,address:e,functionName:x,args:C,...M})}}}),s.simulate=new Proxy({},{get(l,x){return(...E)=>{const{args:C,options:M}=Kc(E);return U1(r,{abi:t,address:e,functionName:x,args:C,...M})}}})),f&&(s.createEventFilter=new Proxy({},{get(l,x){return(...E)=>{const C=t.find(S=>S.type==="event"&&S.name===x),{args:M,options:k}=Gp(E,C);return mh(r,{abi:t,address:e,eventName:x,args:M,...k})}}}),s.watchEvent=new Proxy({},{get(l,x){return(...E)=>{const C=t.find(S=>S.type==="event"&&S.name===x),{args:M,options:k}=Gp(E,C);return G1(r,{abi:t,address:e,eventName:x,args:M,...k})}}}))),a&&c&&(s.write=new Proxy({},{get(l,x){return(...E)=>{const{args:C,options:M}=Kc(E);return W1(n,{abi:t,address:e,functionName:x,args:C,...M})}}})),s}function Kc(t){const e=t.length&&Array.isArray(t[0]),r=e?t[0]:[],n=(e?t[1]:t[0])??{};return{args:r,options:n}}function Gp(t,e){let r=!1;Array.isArray(t[0])?r=!0:t.length===1?r=e.inputs.some(a=>a.indexed):t.length===2&&(r=!0);const n=r?t[0]:void 0,i=(r?t[1]:t[0])??{};return{args:n,options:i}}function $4(t,e){let[r,n="0"]=t.split(".");const i=r.startsWith("-");if(i&&(r=r.slice(1)),n=n.replace(/(0+)$/,""),e===0)r=`${Math.round(+`${r}.${n}`)}`,n="";else if(n.length>e){const[a,s]=[n.slice(0,e),n.slice(e)];n=`${/^0+$/.test(a)?a.slice(0,a.length-1):""}${Math.round(+`${a}.${s}`)}`}else n=n.padEnd(e,"0");return BigInt(`${i?"-":""}${r}${n}`)}function H4(t,e="wei"){return $4(t,Wb[e])}const Id=H4("1.5");async function J1(t,e){const{account:r,gas:n,gasPrice:i,maxFeePerGas:a,maxPriorityFeePerGas:s,nonce:o}=e;if(!r)throw new gc;const c=Zn(r),f=await Xo(t,{blockTag:"latest"}),l={...e,from:c.address};if(typeof o>"u"&&(l.nonce=await j1(t,{address:c.address,blockTag:"pending"})),f.baseFeePerGas){if(typeof i<"u")throw new le("Chain does not support legacy `gasPrice`.");if(typeof a>"u")l.maxPriorityFeePerGas=s??Id,l.maxFeePerGas=f.baseFeePerGas*120n/100n+l.maxPriorityFeePerGas;else{if(typeof s>"u"&&a<Id)throw new le("`maxFeePerGas` cannot be less than the default `maxPriorityFeePerGas` (1.5 gwei).");l.maxFeePerGas=a,l.maxPriorityFeePerGas=s??Id}}else{if(typeof a<"u"||typeof s<"u")throw new le("Chain does not support EIP-1559 fees.");typeof i>"u"&&(l.gasPrice=await q1(t)*120n/100n)}return typeof n>"u"&&(l.gas=await yh(t,{...l,account:{address:c.address,type:"json-rpc"}})),lf(l),l}function z4(t){const{chainId:e,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:i,to:a}=t;if(e<=0)throw new Q0({chainId:e});if(a&&!zr(a))throw new Vr({address:a});if(n)throw new le("`gasPrice` is not a valid EIP-1559 Transaction attribute.");if(i&&i>2n**256n-1n)throw new Ha({maxFeePerGas:i});if(r&&i&&r>i)throw new Vo({maxFeePerGas:i,maxPriorityFeePerGas:r})}function q4(t){const{chainId:e,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:i,to:a}=t;if(e<=0)throw new Q0({chainId:e});if(a&&!zr(a))throw new Vr({address:a});if(r||i)throw new le("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(n&&n>2n**256n-1n)throw new Ha({maxFeePerGas:n})}function j4(t){const{chainId:e,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:i,to:a,accessList:s}=t;if(a&&!zr(a))throw new Vr({address:a});if(typeof e<"u"&&e<=0)throw new Q0({chainId:e});if(r||i)throw new le("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(n&&n>2n**256n-1n)throw new Ha({maxFeePerGas:n});if(s)throw new le("`accessList` is not a valid Legacy Transaction attribute.")}function Vp(t,e){const r=Q5(t);return r==="eip1559"?K4(t,e):r==="eip2930"?G4(t,e):V4(t,e)}function K4(t,e){const{chainId:r,gas:n,nonce:i,to:a,value:s,maxFeePerGas:o,maxPriorityFeePerGas:c,accessList:f,data:l}=t;z4(t);const x=Y1(f),E=[je(r),i?je(i):"0x",c?je(c):"0x",o?je(o):"0x",n?je(n):"0x",a??"0x",s?je(s):"0x",l??"0x",x];return e&&E.push(e.v===27n?"0x":je(1),e.r,e.s),Ac(["0x02",nh(E)])}function G4(t,e){const{chainId:r,gas:n,data:i,nonce:a,to:s,value:o,accessList:c,gasPrice:f}=t;q4(t);const l=Y1(c),x=[je(r),a?je(a):"0x",f?je(f):"0x",n?je(n):"0x",s??"0x",o?je(o):"0x",i??"0x",l];return e&&x.push(e.v===27n?"0x":je(1),e.r,e.s),Ac(["0x01",nh(x)])}function V4(t,e){const{chainId:r=0,gas:n,data:i,nonce:a,to:s,value:o,gasPrice:c}=t;j4(t);let f=[a?je(a):"0x",c?je(c):"0x",n?je(n):"0x",s??"0x",o?je(o):"0x",i??"0x"];if(e){let l=27n+(e.v===27n?0n:1n);if(r>0)l=BigInt(r*2)+BigInt(35n+e.v-27n);else if(e.v!==l)throw new kw({v:e.v});f=[...f,je(l),e.r,e.s]}else r>0&&(f=[...f,je(r),"0x","0x"]);return nh(f)}function Y1(t){if(!t||t.length===0)return[];const e=[];for(let r=0;r<t.length;r++){const{address:n,storageKeys:i}=t[r];for(let a=0;a<i.length;a++)if(i[a].length-2!==64)throw new Sw({storageKey:i[a]});if(!zr(n))throw new Vr({address:n});e.push([n,i])}return e}function Z1(t,e){let r=t.toString();const n=r.startsWith("-");n&&(r=r.slice(1)),r=r.padStart(e,"0");let[i,a]=[r.slice(0,r.length-e),r.slice(r.length-e)];return a=a.replace(/(0+)$/,""),`${n?"-":""}${i||"0"}${a?`.${a}`:""}`}function wh(t,e="wei"){return Z1(t,Tw[e])}function un(t,e="wei"){return Z1(t,Wb[e])}const za=X6;var Aa={ENTRY:"0xa6f969045641Cf486a747A2688F3a5A6d43cd0D8",PERIPHERY:"0x96e96b7af62d628ce7eb2016d2c1d2786614ea73",NEWBIE_VILLA:"0xD0c83f0BB2c61D55B3d33950b70C59ba2f131caA",CBT:"0x3D1b588a6Bcd728Bb61570ced6656eA4C05e404f",TIPS:"0x0058be0845952D887D1668B5545de995E12e8783",MIRA:"0xAfB95CC0BD320648B3E8Df6223d9CDD05EbeDC64",LINKLIST:"0xFc8C75bD5c26F50798758f387B698f207a016b6A"},W4=globalThis.process?.env.CROSSBELL_RPC_ADDRESS??"https://rpc.crossbell.io";function J4(){return W4}async function Y4(t){return await t.getChainId()===za.id}var Q1=Object.defineProperty,Z4=Object.getOwnPropertyDescriptor,X1=(t,e)=>{for(var r in e)Q1(t,r,{get:e[r],enumerable:!0})},Qe=(t,e,r,n)=>{for(var i=n>1?void 0:n?Z4(e,r):e,a=t.length-1,s;a>=0;a--)(s=t[a])&&(i=(n?s(e,r,i):s(i))||i);return n&&i&&Q1(e,r,i),i};function Ah({key:t,name:e,request:r,retryCount:n=3,retryDelay:i=150,timeout:a,type:s},o){return{config:{key:t,name:e,request:r,retryCount:n,retryDelay:i,timeout:a,type:s},request:O5(r,{retryCount:n,retryDelay:i}),value:o}}function Q4(t,e={}){const{key:r="custom",name:n="Custom Provider",retryDelay:i}=e;return({retryCount:a})=>Ah({key:r,name:n,request:t.request.bind(t),retryCount:e.retryCount??a,retryDelay:i,type:"custom"})}function X4(t,e={}){const{fetchOptions:r,key:n="http",name:i="HTTP JSON-RPC",retryDelay:a}=e;return({chain:s,retryCount:o,timeout:c})=>{const f=e.retryCount??o,l=c??e.timeout??1e4,x=t||s?.rpcUrls.default.http[0];if(!x)throw new n1;return Ah({key:n,name:i,async request({method:E,params:C}){const{result:M}=await $o.http(x,{body:{method:E,params:C},fetchOptions:r,timeout:l});return M},retryCount:f,retryDelay:a,timeout:l,type:"http"},{url:t})}}function e8(t,e={}){const{key:r="webSocket",name:n="WebSocket JSON-RPC",retryDelay:i}=e;return({chain:a,retryCount:s,timeout:o})=>{const c=e.retryCount??s,f=o??e.timeout??1e4,l=t||a?.rpcUrls.default.webSocket?.[0];if(!l)throw new n1;return Ah({key:r,name:n,async request({method:x,params:E}){const C=await Md(l),{result:M}=await $o.webSocketAsync(C,{body:{method:x,params:E},timeout:f});return M},retryCount:c,retryDelay:i,timeout:f,type:"webSocket"},{getSocket(){return Md(l)},async subscribe({params:x,onData:E,onError:C}){const M=await Md(l),{result:k}=await new Promise((S,R)=>$o.webSocket(M,{body:{method:"eth_subscribe",params:x},onData:B=>{if(typeof B.id=="number"){S(B);return}B.method==="eth_subscription"&&E(B.params)},onError:B=>{R(B),C?.(B)}}));return{subscriptionId:k,async unsubscribe(){return new Promise((S,R)=>$o.webSocket(M,{body:{method:"eth_unsubscribe",params:[k]},onData:S,onError:R}))}}}})}}const Hl=256;let Gc=Hl,Vc;function t8(t=11){if(!Vc||Gc+t>Hl*2){Vc="",Gc=0;for(let e=0;e<Hl;e++)Vc+=(256+Math.random()*256|0).toString(16).substring(1)}return Vc.substring(Gc,Gc+++t)}function e2({chain:t,key:e="base",name:r="Base Client",pollingInterval:n=4e3,transport:i,type:a="base"}){const{config:s,request:o,value:c}=i({chain:t,pollingInterval:n});return{chain:t,key:e,name:r,pollingInterval:n,request:o,transport:{...s,...c},type:a,uid:t8()}}const r8=t=>({call:e=>ph(t,e),createBlockFilter:()=>d4(t),createContractEventFilter:e=>mh(t,e),createEventFilter:e=>H1(t,e),createPendingTransactionFilter:()=>$1(t),estimateContractGas:e=>z1(t,e),estimateGas:e=>yh(t,e),getBalance:e=>l4(t,e),getBlock:e=>Xo(t,e),getBlockNumber:e=>Tc(t,e),getBlockTransactionCount:e=>p4(t,e),getBytecode:e=>m4(t,e),getChainId:()=>bh(t),getEnsAddress:e=>M4(t,e),getEnsAvatar:e=>k4(t,e),getEnsName:e=>I4(t,e),getEnsResolver:e=>S4(t,e),getEnsText:e=>V1(t,e),getFeeHistory:e=>y4(t,e),getFilterChanges:e=>mf(t,e),getFilterLogs:e=>b4(t,e),getGasPrice:()=>q1(t),getLogs:e=>xh(t,e),getStorageAt:e=>x4(t,e),getTransaction:e=>gh(t,e),getTransactionConfirmations:e=>g4(t,e),getTransactionCount:e=>j1(t,e),getTransactionReceipt:e=>$l(t,e),multicall:e=>v4(t,e),readContract:e=>Li(t,e),simulateContract:e=>U1(t,e),uninstallFilter:e=>yf(t,e),waitForTransactionReceipt:e=>A4(t,e),watchBlocks:e=>E4(t,e),watchBlockNumber:e=>K1(t,e),watchContractEvent:e=>G1(t,e),watchEvent:e=>_4(t,e),watchPendingTransactions:e=>T4(t,e)}),n8=t=>({addChain:e=>C4(t,e),deployContract:e=>N4(t,e),getAddresses:()=>R4(t),getChainId:()=>bh(t),getPermissions:()=>P4(t),requestAddresses:()=>B4(t),requestPermissions:e=>O4(t,e),sendTransaction:e=>vh(t,e),signMessage:e=>L4(t,e),signTypedData:e=>F4(t,e),switchChain:e=>D4(t,e),watchAsset:e=>U4(t,e),writeContract:e=>W1(t,e)});function i8({batch:t,chain:e,key:r="public",name:n="Public Client",transport:i,pollingInterval:a}){const s={batch:t,...e2({chain:e,key:r,name:n,pollingInterval:a,transport:i,type:"publicClient"})};return{...s,...r8(s)}}function t2({account:t,chain:e,transport:r,key:n="wallet",name:i="Wallet Client",pollingInterval:a}){const s={...e2({chain:e,key:n,name:i,pollingInterval:a,transport:o=>r({...o,retryCount:0}),type:"walletClient"}),account:t?Zn(t):void 0};return{...s,...n8(s)}}class r2 extends ih{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,nn.hash(e);const n=Ec(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,a=new Uint8Array(i);a.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<a.length;s++)a[s]^=54;this.iHash.update(a),this.oHash=e.create();for(let s=0;s<a.length;s++)a[s]^=106;this.oHash.update(a),a.fill(0)}update(e){return nn.exists(this),this.iHash.update(e),this}digestInto(e){nn.exists(this),nn.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:a,blockLen:s,outputLen:o}=this;return e=e,e.finished=i,e.destroyed=a,e.blockLen=s,e.outputLen=o,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const n2=(t,e,r)=>new r2(t,e).update(r).digest();n2.create=(t,e)=>new r2(t,e);function a8(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),a=BigInt(4294967295),s=Number(r>>i&a),o=Number(r&a),c=n?4:0,f=n?0:4;t.setUint32(e+c,s,n),t.setUint32(e+f,o,n)}class s8 extends ih{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Ad(this.buffer)}update(e){nn.exists(this);const{view:r,buffer:n,blockLen:i}=this;e=Ec(e);const a=e.length;for(let s=0;s<a;){const o=Math.min(i-this.pos,a-s);if(o===i){const c=Ad(e);for(;i<=a-s;s+=i)this.process(c,s);continue}n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){nn.exists(this),nn.output(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:a}=this;let{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let x=s;x<i;x++)r[x]=0;a8(n,i-8,BigInt(this.length*8),a),this.process(n,0);const o=Ad(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=c/4,l=this.get();if(f>l.length)throw new Error("_sha2: outputLen bigger than state");for(let x=0;x<f;x++)o.setUint32(4*x,l[x],a)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:a,destroyed:s,pos:o}=this;return e.length=i,e.pos=o,e.finished=a,e.destroyed=s,i%r&&e.buffer.set(n),e}}const o8=(t,e,r)=>t&e^~t&r,c8=(t,e,r)=>t&e^t&r^e&r,u8=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Vi=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Wi=new Uint32Array(64);let i2=class extends s8{constructor(){super(64,32,8,!1),this.A=Vi[0]|0,this.B=Vi[1]|0,this.C=Vi[2]|0,this.D=Vi[3]|0,this.E=Vi[4]|0,this.F=Vi[5]|0,this.G=Vi[6]|0,this.H=Vi[7]|0}get(){const{A:e,B:r,C:n,D:i,E:a,F:s,G:o,H:c}=this;return[e,r,n,i,a,s,o,c]}set(e,r,n,i,a,s,o,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=a|0,this.F=s|0,this.G=o|0,this.H=c|0}process(e,r){for(let x=0;x<16;x++,r+=4)Wi[x]=e.getUint32(r,!1);for(let x=16;x<64;x++){const E=Wi[x-15],C=Wi[x-2],M=ti(E,7)^ti(E,18)^E>>>3,k=ti(C,17)^ti(C,19)^C>>>10;Wi[x]=k+Wi[x-7]+M+Wi[x-16]|0}let{A:n,B:i,C:a,D:s,E:o,F:c,G:f,H:l}=this;for(let x=0;x<64;x++){const E=ti(o,6)^ti(o,11)^ti(o,25),C=l+E+o8(o,c,f)+u8[x]+Wi[x]|0,k=(ti(n,2)^ti(n,13)^ti(n,22))+c8(n,i,a)|0;l=f,f=c,c=o,o=s+C|0,s=a,a=i,i=n,n=C+k|0}n=n+this.A|0,i=i+this.B|0,a=a+this.C|0,s=s+this.D|0,o=o+this.E|0,c=c+this.F|0,f=f+this.G|0,l=l+this.H|0,this.set(n,i,a,s,o,c,f,l)}roundClean(){Wi.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},f8=class extends i2{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};const Tu=ah(()=>new i2);ah(()=>new f8);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const d8=BigInt(0),Eh=BigInt(1),l8=BigInt(2),bf=t=>t instanceof Uint8Array,h8=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Ss(t){if(!bf(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=h8[t[r]];return e}function a2(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function _h(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function Cs(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(t.length%2)throw new Error("hex string is invalid: unpadded "+t.length);const e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){const n=r*2,i=t.slice(n,n+2),a=Number.parseInt(i,16);if(Number.isNaN(a)||a<0)throw new Error("invalid byte sequence");e[r]=a}return e}function Hr(t){return _h(Ss(t))}function Th(t){if(!bf(t))throw new Error("Uint8Array expected");return _h(Ss(Uint8Array.from(t).reverse()))}const ia=(t,e)=>Cs(t.toString(16).padStart(e*2,"0")),s2=(t,e)=>ia(t,e).reverse(),p8=t=>Cs(a2(t));function hr(t,e,r){let n;if(typeof e=="string")try{n=Cs(e)}catch(a){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${a}`)}else if(bf(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}function an(...t){const e=new Uint8Array(t.reduce((n,i)=>n+i.length,0));let r=0;return t.forEach(n=>{if(!bf(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}function m8(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function xf(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function y8(t){let e;for(e=0;t>0n;t>>=Eh,e+=1);return e}const b8=(t,e)=>t>>BigInt(e)&1n,x8=(t,e,r)=>t|(r?Eh:d8)<<BigInt(e),Mh=t=>(l8<<BigInt(t-1))-Eh,Sd=t=>new Uint8Array(t),Wp=t=>Uint8Array.from(t);function o2(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=Sd(t),i=Sd(t),a=0;const s=()=>{n.fill(1),i.fill(0),a=0},o=(...x)=>r(i,n,...x),c=(x=Sd())=>{i=o(Wp([0]),x),n=o(),x.length!==0&&(i=o(Wp([1]),x),n=o())},f=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let x=0;const E=[];for(;x<e;){n=o();const C=n.slice();E.push(C),x+=n.length}return an(...E)};return(x,E)=>{s(),c(x);let C;for(;!(C=E(f()));)c();return s(),C}}const g8={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Ws(t,e,r={}){const n=(i,a,s)=>{const o=g8[a];if(typeof o!="function")throw new Error(`Invalid validator "${a}", expected function`);const c=t[i];if(!(s&&c===void 0)&&!o(c,t))throw new Error(`Invalid param ${String(i)}=${c} (${typeof c}), expected ${a}`)};for(const[i,a]of Object.entries(e))n(i,a,!1);for(const[i,a]of Object.entries(r))n(i,a,!0);return t}const v8=Object.freeze(Object.defineProperty({__proto__:null,bitGet:b8,bitLen:y8,bitMask:Mh,bitSet:x8,bytesToHex:Ss,bytesToNumberBE:Hr,bytesToNumberLE:Th,concatBytes:an,createHmacDrbg:o2,ensureBytes:hr,equalBytes:m8,hexToBytes:Cs,hexToNumber:_h,numberToBytesBE:ia,numberToBytesLE:s2,numberToHexUnpadded:a2,numberToVarBytesBE:p8,utf8ToBytes:xf,validateObject:Ws},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const or=BigInt(0),Zt=BigInt(1),Ia=BigInt(2),w8=BigInt(3),zl=BigInt(4),Jp=BigInt(5),Yp=BigInt(8);BigInt(9);BigInt(16);function ar(t,e){const r=t%e;return r>=or?r:e+r}function A8(t,e,r){if(r<=or||e<or)throw new Error("Expected power/modulo > 0");if(r===Zt)return or;let n=Zt;for(;e>or;)e&Zt&&(n=n*t%r),t=t*t%r,e>>=Zt;return n}function pn(t,e,r){let n=t;for(;e-- >or;)n*=n,n%=r;return n}function ql(t,e){if(t===or||e<=or)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=ar(t,e),n=e,i=or,a=Zt;for(;r!==or;){const o=n/r,c=n%r,f=i-a*o;n=r,r=c,i=a,a=f}if(n!==Zt)throw new Error("invert: does not exist");return ar(i,e)}function E8(t){const e=(t-Zt)/Ia;let r,n,i;for(r=t-Zt,n=0;r%Ia===or;r/=Ia,n++);for(i=Ia;i<t&&A8(i,e,t)!==t-Zt;i++);if(n===1){const s=(t+Zt)/zl;return function(c,f){const l=c.pow(f,s);if(!c.eql(c.sqr(l),f))throw new Error("Cannot find square root");return l}}const a=(r+Zt)/Ia;return function(o,c){if(o.pow(c,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let f=n,l=o.pow(o.mul(o.ONE,i),r),x=o.pow(c,a),E=o.pow(c,r);for(;!o.eql(E,o.ONE);){if(o.eql(E,o.ZERO))return o.ZERO;let C=1;for(let k=o.sqr(E);C<f&&!o.eql(k,o.ONE);C++)k=o.sqr(k);const M=o.pow(l,Zt<<BigInt(f-C-1));l=o.sqr(M),x=o.mul(x,M),E=o.mul(E,l),f=C}return x}}function _8(t){if(t%zl===w8){const e=(t+Zt)/zl;return function(n,i){const a=n.pow(i,e);if(!n.eql(n.sqr(a),i))throw new Error("Cannot find square root");return a}}if(t%Yp===Jp){const e=(t-Jp)/Yp;return function(n,i){const a=n.mul(i,Ia),s=n.pow(a,e),o=n.mul(i,s),c=n.mul(n.mul(o,Ia),s),f=n.mul(o,n.sub(c,n.ONE));if(!n.eql(n.sqr(f),i))throw new Error("Cannot find square root");return f}}return E8(t)}const T8=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function c2(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=T8.reduce((n,i)=>(n[i]="function",n),e);return Ws(t,r)}function M8(t,e,r){if(r<or)throw new Error("Expected power > 0");if(r===or)return t.ONE;if(r===Zt)return e;let n=t.ONE,i=e;for(;r>or;)r&Zt&&(n=t.mul(n,i)),i=t.sqr(i),r>>=1n;return n}function k8(t,e){const r=new Array(e.length),n=e.reduce((a,s,o)=>t.is0(s)?a:(r[o]=a,t.mul(a,s)),t.ONE),i=t.inv(n);return e.reduceRight((a,s,o)=>t.is0(s)?a:(r[o]=t.mul(a,r[o]),t.mul(a,s)),i),r}function kh(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function I8(t,e,r=!1,n={}){if(t<=or)throw new Error(`Expected Fp ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:a}=kh(t,e);if(a>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=_8(t),o=Object.freeze({ORDER:t,BITS:i,BYTES:a,MASK:Mh(i),ZERO:or,ONE:Zt,create:c=>ar(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return or<=c&&c<t},is0:c=>c===or,isOdd:c=>(c&Zt)===Zt,neg:c=>ar(-c,t),eql:(c,f)=>c===f,sqr:c=>ar(c*c,t),add:(c,f)=>ar(c+f,t),sub:(c,f)=>ar(c-f,t),mul:(c,f)=>ar(c*f,t),pow:(c,f)=>M8(o,c,f),div:(c,f)=>ar(c*ql(f,t),t),sqrN:c=>c*c,addN:(c,f)=>c+f,subN:(c,f)=>c-f,mulN:(c,f)=>c*f,inv:c=>ql(c,t),sqrt:n.sqrt||(c=>s(o,c)),invertBatch:c=>k8(o,c),cmov:(c,f,l)=>l?f:c,toBytes:c=>r?s2(c,a):ia(c,a),fromBytes:c=>{if(c.length!==a)throw new Error(`Fp.fromBytes: expected ${a}, got ${c.length}`);return r?Th(c):Hr(c)}});return Object.freeze(o)}function S8(t,e,r=!1){t=hr("privateHash",t);const n=t.length,i=kh(e).nByteLength+8;if(i<24||n<i||n>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${n}`);const a=r?Th(t):Hr(t);return ar(a,e-Zt)+Zt}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const C8=BigInt(0),Cd=BigInt(1);function N8(t,e){const r=(i,a)=>{const s=a.negate();return i?s:a},n=i=>{const a=Math.ceil(e/i)+1,s=2**(i-1);return{windows:a,windowSize:s}};return{constTimeNegate:r,unsafeLadder(i,a){let s=t.ZERO,o=i;for(;a>C8;)a&Cd&&(s=s.add(o)),o=o.double(),a>>=Cd;return s},precomputeWindow(i,a){const{windows:s,windowSize:o}=n(a),c=[];let f=i,l=f;for(let x=0;x<s;x++){l=f,c.push(l);for(let E=1;E<o;E++)l=l.add(f),c.push(l);f=l.double()}return c},wNAF(i,a,s){const{windows:o,windowSize:c}=n(i);let f=t.ZERO,l=t.BASE;const x=BigInt(2**i-1),E=2**i,C=BigInt(i);for(let M=0;M<o;M++){const k=M*c;let S=Number(s&x);s>>=C,S>c&&(S-=E,s+=Cd);const R=k,B=k+Math.abs(S)-1,$=M%2!==0,H=S<0;S===0?l=l.add(r($,a[R])):f=f.add(r(H,a[B]))}return{p:f,f:l}},wNAFCached(i,a,s,o){const c=i._WINDOW_SIZE||1;let f=a.get(i);return f||(f=this.precomputeWindow(i,c),c!==1&&a.set(i,o(f))),this.wNAF(c,f,s)}}}function u2(t){return c2(t.Fp),Ws(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...kh(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function R8(t){const e=u2(t);Ws(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:P8,hexToBytes:B8}=v8,Na={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=Na;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]===0&&n[1]<=127)throw new e("Invalid signature integer: trailing length");return{d:P8(n),l:t.subarray(r+2)}},toSig(t){const{Err:e}=Na,r=typeof t=="string"?B8(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");const{d:i,l:a}=Na._parseInt(r.subarray(2)),{d:s,l:o}=Na._parseInt(a);if(o.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s}},hexFromSig(t){const e=f=>Number.parseInt(f[0],16)>=8?"00"+f:f,r=f=>{const l=f.toString(16);return l.length&1?`0${l}`:l},n=e(r(t.s)),i=e(r(t.r)),a=n.length/2,s=i.length/2,o=r(a),c=r(s);return`30${r(s+a+4)}02${c}${i}02${o}${n}`}},Ci=BigInt(0),vn=BigInt(1);function O8(t){const e=R8(t),{Fp:r}=e,n=e.toBytes||((M,k,S)=>{const R=k.toAffine();return an(Uint8Array.from([4]),r.toBytes(R.x),r.toBytes(R.y))}),i=e.fromBytes||(M=>{const k=M.subarray(1),S=r.fromBytes(k.subarray(0,r.BYTES)),R=r.fromBytes(k.subarray(r.BYTES,2*r.BYTES));return{x:S,y:R}});function a(M){const{a:k,b:S}=e,R=r.sqr(M),B=r.mul(R,M);return r.add(r.add(B,r.mul(M,k)),S)}function s(M){return typeof M=="bigint"&&Ci<M&&M<e.n}function o(M){if(!s(M))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(M){const{allowedPrivateKeyLengths:k,nByteLength:S,wrapPrivateKey:R,n:B}=e;if(k&&typeof M!="bigint"){if(M instanceof Uint8Array&&(M=Ss(M)),typeof M!="string"||!k.includes(M.length))throw new Error("Invalid key");M=M.padStart(S*2,"0")}let $;try{$=typeof M=="bigint"?M:Hr(hr("private key",M,S))}catch{throw new Error(`private key must be ${S} bytes, hex or bigint, not ${typeof M}`)}return R&&($=ar($,B)),o($),$}const f=new Map;function l(M){if(!(M instanceof x))throw new Error("ProjectivePoint expected")}class x{constructor(k,S,R){if(this.px=k,this.py=S,this.pz=R,k==null||!r.isValid(k))throw new Error("x required");if(S==null||!r.isValid(S))throw new Error("y required");if(R==null||!r.isValid(R))throw new Error("z required")}static fromAffine(k){const{x:S,y:R}=k||{};if(!k||!r.isValid(S)||!r.isValid(R))throw new Error("invalid affine point");if(k instanceof x)throw new Error("projective point not allowed");const B=$=>r.eql($,r.ZERO);return B(S)&&B(R)?x.ZERO:new x(S,R,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(k){const S=r.invertBatch(k.map(R=>R.pz));return k.map((R,B)=>R.toAffine(S[B])).map(x.fromAffine)}static fromHex(k){const S=x.fromAffine(i(hr("pointHex",k)));return S.assertValidity(),S}static fromPrivateKey(k){return x.BASE.multiply(c(k))}_setWindowSize(k){this._WINDOW_SIZE=k,f.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint)return;throw new Error("bad point: ZERO")}const{x:k,y:S}=this.toAffine();if(!r.isValid(k)||!r.isValid(S))throw new Error("bad point: x or y not FE");const R=r.sqr(S),B=a(k);if(!r.eql(R,B))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:k}=this.toAffine();if(r.isOdd)return!r.isOdd(k);throw new Error("Field doesn't support isOdd")}equals(k){l(k);const{px:S,py:R,pz:B}=this,{px:$,py:H,pz:K}=k,J=r.eql(r.mul(S,K),r.mul($,B)),ie=r.eql(r.mul(R,K),r.mul(H,B));return J&&ie}negate(){return new x(this.px,r.neg(this.py),this.pz)}double(){const{a:k,b:S}=e,R=r.mul(S,3n),{px:B,py:$,pz:H}=this;let K=r.ZERO,J=r.ZERO,ie=r.ZERO,X=r.mul(B,B),re=r.mul($,$),D=r.mul(H,H),m=r.mul(B,$);return m=r.add(m,m),ie=r.mul(B,H),ie=r.add(ie,ie),K=r.mul(k,ie),J=r.mul(R,D),J=r.add(K,J),K=r.sub(re,J),J=r.add(re,J),J=r.mul(K,J),K=r.mul(m,K),ie=r.mul(R,ie),D=r.mul(k,D),m=r.sub(X,D),m=r.mul(k,m),m=r.add(m,ie),ie=r.add(X,X),X=r.add(ie,X),X=r.add(X,D),X=r.mul(X,m),J=r.add(J,X),D=r.mul($,H),D=r.add(D,D),X=r.mul(D,m),K=r.sub(K,X),ie=r.mul(D,re),ie=r.add(ie,ie),ie=r.add(ie,ie),new x(K,J,ie)}add(k){l(k);const{px:S,py:R,pz:B}=this,{px:$,py:H,pz:K}=k;let J=r.ZERO,ie=r.ZERO,X=r.ZERO;const re=e.a,D=r.mul(e.b,3n);let m=r.mul(S,$),d=r.mul(R,H),h=r.mul(B,K),u=r.add(S,R),p=r.add($,H);u=r.mul(u,p),p=r.add(m,d),u=r.sub(u,p),p=r.add(S,B);let g=r.add($,K);return p=r.mul(p,g),g=r.add(m,h),p=r.sub(p,g),g=r.add(R,B),J=r.add(H,K),g=r.mul(g,J),J=r.add(d,h),g=r.sub(g,J),X=r.mul(re,p),J=r.mul(D,h),X=r.add(J,X),J=r.sub(d,X),X=r.add(d,X),ie=r.mul(J,X),d=r.add(m,m),d=r.add(d,m),h=r.mul(re,h),p=r.mul(D,p),d=r.add(d,h),h=r.sub(m,h),h=r.mul(re,h),p=r.add(p,h),m=r.mul(d,p),ie=r.add(ie,m),m=r.mul(g,p),J=r.mul(u,J),J=r.sub(J,m),m=r.mul(u,d),X=r.mul(g,X),X=r.add(X,m),new x(J,ie,X)}subtract(k){return this.add(k.negate())}is0(){return this.equals(x.ZERO)}wNAF(k){return C.wNAFCached(this,f,k,S=>{const R=r.invertBatch(S.map(B=>B.pz));return S.map((B,$)=>B.toAffine(R[$])).map(x.fromAffine)})}multiplyUnsafe(k){const S=x.ZERO;if(k===Ci)return S;if(o(k),k===vn)return this;const{endo:R}=e;if(!R)return C.unsafeLadder(this,k);let{k1neg:B,k1:$,k2neg:H,k2:K}=R.splitScalar(k),J=S,ie=S,X=this;for(;$>Ci||K>Ci;)$&vn&&(J=J.add(X)),K&vn&&(ie=ie.add(X)),X=X.double(),$>>=vn,K>>=vn;return B&&(J=J.negate()),H&&(ie=ie.negate()),ie=new x(r.mul(ie.px,R.beta),ie.py,ie.pz),J.add(ie)}multiply(k){o(k);let S=k,R,B;const{endo:$}=e;if($){const{k1neg:H,k1:K,k2neg:J,k2:ie}=$.splitScalar(S);let{p:X,f:re}=this.wNAF(K),{p:D,f:m}=this.wNAF(ie);X=C.constTimeNegate(H,X),D=C.constTimeNegate(J,D),D=new x(r.mul(D.px,$.beta),D.py,D.pz),R=X.add(D),B=re.add(m)}else{const{p:H,f:K}=this.wNAF(S);R=H,B=K}return x.normalizeZ([R,B])[0]}multiplyAndAddUnsafe(k,S,R){const B=x.BASE,$=(K,J)=>J===Ci||J===vn||!K.equals(B)?K.multiplyUnsafe(J):K.multiply(J),H=$(this,S).add($(k,R));return H.is0()?void 0:H}toAffine(k){const{px:S,py:R,pz:B}=this,$=this.is0();k==null&&(k=$?r.ONE:r.inv(B));const H=r.mul(S,k),K=r.mul(R,k),J=r.mul(B,k);if($)return{x:r.ZERO,y:r.ZERO};if(!r.eql(J,r.ONE))throw new Error("invZ was invalid");return{x:H,y:K}}isTorsionFree(){const{h:k,isTorsionFree:S}=e;if(k===vn)return!0;if(S)return S(x,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:k,clearCofactor:S}=e;return k===vn?this:S?S(x,this):this.multiplyUnsafe(e.h)}toRawBytes(k=!0){return this.assertValidity(),n(x,this,k)}toHex(k=!0){return Ss(this.toRawBytes(k))}}x.BASE=new x(e.Gx,e.Gy,r.ONE),x.ZERO=new x(r.ZERO,r.ONE,r.ZERO);const E=e.nBitLength,C=N8(x,e.endo?Math.ceil(E/2):E);return{CURVE:e,ProjectivePoint:x,normPrivateKeyToScalar:c,weierstrassEquation:a,isWithinCurveOrder:s}}function L8(t){const e=u2(t);return Ws(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function F8(t){const e=L8(t),{Fp:r,n}=e,i=r.BYTES+1,a=2*r.BYTES+1;function s(p){return Ci<p&&p<r.ORDER}function o(p){return ar(p,n)}function c(p){return ql(p,n)}const{ProjectivePoint:f,normPrivateKeyToScalar:l,weierstrassEquation:x,isWithinCurveOrder:E}=O8({...e,toBytes(p,g,_){const A=g.toAffine(),y=r.toBytes(A.x),b=an;return _?b(Uint8Array.from([g.hasEvenY()?2:3]),y):b(Uint8Array.from([4]),y,r.toBytes(A.y))},fromBytes(p){const g=p.length,_=p[0],A=p.subarray(1);if(g===i&&(_===2||_===3)){const y=Hr(A);if(!s(y))throw new Error("Point is not on curve");const b=x(y);let w=r.sqrt(b);const v=(w&vn)===vn;return(_&1)===1!==v&&(w=r.neg(w)),{x:y,y:w}}else if(g===a&&_===4){const y=r.fromBytes(A.subarray(0,r.BYTES)),b=r.fromBytes(A.subarray(r.BYTES,2*r.BYTES));return{x:y,y:b}}else throw new Error(`Point of length ${g} was invalid. Expected ${i} compressed bytes or ${a} uncompressed bytes`)}}),C=p=>Ss(ia(p,e.nByteLength));function M(p){const g=n>>vn;return p>g}function k(p){return M(p)?o(-p):p}const S=(p,g,_)=>Hr(p.slice(g,_));class R{constructor(g,_,A){this.r=g,this.s=_,this.recovery=A,this.assertValidity()}static fromCompact(g){const _=e.nByteLength;return g=hr("compactSignature",g,_*2),new R(S(g,0,_),S(g,_,2*_))}static fromDER(g){const{r:_,s:A}=Na.toSig(hr("DER",g));return new R(_,A)}assertValidity(){if(!E(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!E(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(g){return new R(this.r,this.s,g)}recoverPublicKey(g){const{r:_,s:A,recovery:y}=this,b=ie(hr("msgHash",g));if(y==null||![0,1,2,3].includes(y))throw new Error("recovery id invalid");const w=y===2||y===3?_+e.n:_;if(w>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const v=y&1?"03":"02",P=f.fromHex(v+C(w)),j=c(w),I=o(-b*j),L=o(A*j),q=f.BASE.multiplyAndAddUnsafe(P,I,L);if(!q)throw new Error("point at infinify");return q.assertValidity(),q}hasHighS(){return M(this.s)}normalizeS(){return this.hasHighS()?new R(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return Cs(this.toDERHex())}toDERHex(){return Na.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Cs(this.toCompactHex())}toCompactHex(){return C(this.r)+C(this.s)}}const B={isValidPrivateKey(p){try{return l(p),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const p=e.randomBytes(r.BYTES+8),g=S8(p,n);return ia(g,e.nByteLength)},precompute(p=8,g=f.BASE){return g._setWindowSize(p),g.multiply(BigInt(3)),g}};function $(p,g=!0){return f.fromPrivateKey(p).toRawBytes(g)}function H(p){const g=p instanceof Uint8Array,_=typeof p=="string",A=(g||_)&&p.length;return g?A===i||A===a:_?A===2*i||A===2*a:p instanceof f}function K(p,g,_=!0){if(H(p))throw new Error("first arg must be private key");if(!H(g))throw new Error("second arg must be public key");return f.fromHex(g).multiply(l(p)).toRawBytes(_)}const J=e.bits2int||function(p){const g=Hr(p),_=p.length*8-e.nBitLength;return _>0?g>>BigInt(_):g},ie=e.bits2int_modN||function(p){return o(J(p))},X=Mh(e.nBitLength);function re(p){if(typeof p!="bigint")throw new Error("bigint expected");if(!(Ci<=p&&p<X))throw new Error(`bigint expected < 2^${e.nBitLength}`);return ia(p,e.nByteLength)}function D(p,g,_=m){if(["recovered","canonical"].some(V=>V in _))throw new Error("sign() legacy options not supported");const{hash:A,randomBytes:y}=e;let{lowS:b,prehash:w,extraEntropy:v}=_;b==null&&(b=!0),p=hr("msgHash",p),w&&(p=hr("prehashed msgHash",A(p)));const P=ie(p),j=l(g),I=[re(j),re(P)];if(v!=null){const V=v===!0?y(r.BYTES):v;I.push(hr("extraEntropy",V,r.BYTES))}const L=an(...I),q=P;function G(V){const ne=J(V);if(!E(ne))return;const U=c(ne),F=f.BASE.multiply(ne).toAffine(),te=o(F.x);if(te===Ci)return;const ee=o(U*o(q+te*j));if(ee===Ci)return;let oe=(F.x===te?0:2)|Number(F.y&vn),ye=ee;return b&&M(ee)&&(ye=k(ee),oe^=1),new R(te,ye,oe)}return{seed:L,k2sig:G}}const m={lowS:e.lowS,prehash:!1},d={lowS:e.lowS,prehash:!1};function h(p,g,_=m){const{seed:A,k2sig:y}=D(p,g,_);return o2(e.hash.outputLen,e.nByteLength,e.hmac)(A,y)}f.BASE._setWindowSize(8);function u(p,g,_,A=d){const y=p;if(g=hr("msgHash",g),_=hr("publicKey",_),"strict"in A)throw new Error("options.strict was renamed to lowS");const{lowS:b,prehash:w}=A;let v,P;try{if(typeof y=="string"||y instanceof Uint8Array)try{v=R.fromDER(y)}catch(F){if(!(F instanceof Na.Err))throw F;v=R.fromCompact(y)}else if(typeof y=="object"&&typeof y.r=="bigint"&&typeof y.s=="bigint"){const{r:F,s:te}=y;v=new R(F,te)}else throw new Error("PARSE");P=f.fromHex(_)}catch(F){if(F.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(b&&v.hasHighS())return!1;w&&(g=e.hash(g));const{r:j,s:I}=v,L=ie(g),q=c(I),G=o(L*q),V=o(j*q),ne=f.BASE.multiplyAndAddUnsafe(P,G,V)?.toAffine();return ne?o(ne.x)===j:!1}return{CURVE:e,getPublicKey:$,getSharedSecret:K,sign:h,verify:u,ProjectivePoint:f,Signature:R,utils:B}}function D8(t,e){const r=t.ORDER;let n=0n;for(let E=r-1n;E%2n===0n;E/=2n)n+=1n;const i=n,a=(r-1n)/2n**i,s=(a-1n)/2n,o=2n**i-1n,c=2n**(i-1n),f=t.pow(e,a),l=t.pow(e,(a+1n)/2n);let x=(E,C)=>{let M=f,k=t.pow(C,o),S=t.sqr(k);S=t.mul(S,C);let R=t.mul(E,S);R=t.pow(R,s),R=t.mul(R,k),k=t.mul(R,C),S=t.mul(R,E);let B=t.mul(S,k);R=t.pow(B,c);let $=t.eql(R,t.ONE);k=t.mul(S,l),R=t.mul(B,M),S=t.cmov(k,S,$),B=t.cmov(R,B,$);for(let H=i;H>1;H--){let K=2n**(H-2n),J=t.pow(B,K);const ie=t.eql(J,t.ONE);k=t.mul(S,M),M=t.mul(M,M),J=t.mul(B,M),S=t.cmov(k,S,ie),B=t.cmov(J,B,ie)}return{isValid:$,value:S}};if(t.ORDER%4n===3n){const E=(t.ORDER-3n)/4n,C=t.sqrt(t.neg(e));x=(M,k)=>{let S=t.sqr(k);const R=t.mul(M,k);S=t.mul(S,R);let B=t.pow(S,E);B=t.mul(B,R);const $=t.mul(B,C),H=t.mul(t.sqr(B),k),K=t.eql(H,M);let J=t.cmov($,B,K);return{isValid:K,value:J}}}return x}function U8(t,e){if(c2(t),!t.isValid(e.A)||!t.isValid(e.B)||!t.isValid(e.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const r=D8(t,e.Z);if(!t.isOdd)throw new Error("Fp.isOdd is not implemented!");return n=>{let i,a,s,o,c,f,l,x;i=t.sqr(n),i=t.mul(i,e.Z),a=t.sqr(i),a=t.add(a,i),s=t.add(a,t.ONE),s=t.mul(s,e.B),o=t.cmov(e.Z,t.neg(a),!t.eql(a,t.ZERO)),o=t.mul(o,e.A),a=t.sqr(s),f=t.sqr(o),c=t.mul(f,e.A),a=t.add(a,c),a=t.mul(a,s),f=t.mul(f,o),c=t.mul(f,e.B),a=t.add(a,c),l=t.mul(i,s);const{isValid:E,value:C}=r(a,f);x=t.mul(i,n),x=t.mul(x,C),l=t.cmov(l,s,E),x=t.cmov(x,C,E);const M=t.isOdd(n)===t.isOdd(x);return x=t.cmov(t.neg(x),x,M),l=t.div(l,o),{x:l,y:x}}}function $8(t){if(t instanceof Uint8Array)return t;if(typeof t=="string")return xf(t);throw new Error("DST must be Uint8Array or string")}const H8=Hr;function Xi(t,e){if(t<0||t>=1<<8*e)throw new Error(`bad I2OSP call: value=${t} length=${e}`);const r=Array.from({length:e}).fill(0);for(let n=e-1;n>=0;n--)r[n]=t&255,t>>>=8;return new Uint8Array(r)}function z8(t,e){const r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t[n]^e[n];return r}function ec(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected")}function Ih(t){if(!Number.isSafeInteger(t))throw new Error("number expected")}function q8(t,e,r,n){ec(t),ec(e),Ih(r),e.length>255&&(e=n(an(xf("H2C-OVERSIZE-DST-"),e)));const{outputLen:i,blockLen:a}=n,s=Math.ceil(r/i);if(s>255)throw new Error("Invalid xmd length");const o=an(e,Xi(e.length,1)),c=Xi(0,a),f=Xi(r,2),l=new Array(s),x=n(an(c,t,f,Xi(0,1),o));l[0]=n(an(x,Xi(1,1),o));for(let C=1;C<=s;C++){const M=[z8(x,l[C-1]),Xi(C+1,1),o];l[C]=n(an(...M))}return an(...l).slice(0,r)}function j8(t,e,r,n,i){if(ec(t),ec(e),Ih(r),e.length>255){const a=Math.ceil(2*n/8);e=i.create({dkLen:a}).update(xf("H2C-OVERSIZE-DST-")).update(e).digest()}if(r>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:r}).update(t).update(Xi(r,2)).update(e).update(Xi(e.length,1)).digest()}function Zp(t,e,r){Ws(r,{DST:"string",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:n,k:i,m:a,hash:s,expand:o,DST:c}=r;ec(t),Ih(e);const f=$8(c),l=n.toString(2).length,x=Math.ceil((l+i)/8),E=e*a*x;let C;if(o==="xmd")C=q8(t,f,E,s);else if(o==="xof")C=j8(t,f,E,i,s);else if(o===void 0)C=t;else throw new Error('expand must be "xmd", "xof" or undefined');const M=new Array(e);for(let k=0;k<e;k++){const S=new Array(a);for(let R=0;R<a;R++){const B=x*(R+k*a),$=C.subarray(B,B+x);S[R]=ar(H8($),n)}M[k]=S}return M}function K8(t,e){const r=e.map(n=>Array.from(n).reverse());return(n,i)=>{const[a,s,o,c]=r.map(f=>f.reduce((l,x)=>t.add(t.mul(l,n),x)));return n=t.div(a,s),i=t.mul(i,t.div(o,c)),{x:n,y:i}}}function G8(t,e,r){if(typeof e!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(n,i){const a=Zp(n,2,{...r,DST:r.DST,...i}),s=t.fromAffine(e(a[0])),o=t.fromAffine(e(a[1])),c=s.add(o).clearCofactor();return c.assertValidity(),c},encodeToCurve(n,i){const a=Zp(n,1,{...r,DST:r.encodeDST,...i}),s=t.fromAffine(e(a[0])).clearCofactor();return s.assertValidity(),s}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function V8(t){return{hash:t,hmac:(e,...r)=>n2(t,e,V3(...r)),randomBytes:l1}}function W8(t,e){const r=n=>F8({...t,...V8(n)});return Object.freeze({...r(e),create:r})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const gf=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Mu=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),f2=BigInt(1),jl=BigInt(2),Qp=(t,e)=>(t+e/jl)/e;function d2(t){const e=gf,r=BigInt(3),n=BigInt(6),i=BigInt(11),a=BigInt(22),s=BigInt(23),o=BigInt(44),c=BigInt(88),f=t*t*t%e,l=f*f*t%e,x=pn(l,r,e)*l%e,E=pn(x,r,e)*l%e,C=pn(E,jl,e)*f%e,M=pn(C,i,e)*C%e,k=pn(M,a,e)*M%e,S=pn(k,o,e)*k%e,R=pn(S,c,e)*S%e,B=pn(R,o,e)*k%e,$=pn(B,r,e)*l%e,H=pn($,s,e)*M%e,K=pn(H,n,e)*f%e,J=pn(K,jl,e);if(!ua.eql(ua.sqr(J),t))throw new Error("Cannot find square root");return J}const ua=I8(gf,void 0,void 0,{sqrt:d2}),Za=W8({a:BigInt(0),b:BigInt(7),Fp:ua,n:Mu,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=Mu,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-f2*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=r,s=BigInt("0x100000000000000000000000000000000"),o=Qp(a*t,e),c=Qp(-n*t,e);let f=ar(t-o*r-c*i,e),l=ar(-o*n-c*a,e);const x=f>s,E=l>s;if(x&&(f=e-f),E&&(l=e-l),f>s||l>s)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:x,k1:f,k2neg:E,k2:l}}}},Tu),Sh=BigInt(0),l2=t=>typeof t=="bigint"&&Sh<t&&t<gf,J8=t=>typeof t=="bigint"&&Sh<t&&t<Mu,Xp={};function ku(t,...e){let r=Xp[t];if(r===void 0){const n=Tu(Uint8Array.from(t,i=>i.charCodeAt(0)));r=an(n,n),Xp[t]=r}return Tu(an(r,...e))}const Ch=t=>t.toRawBytes(!0).slice(1),Kl=t=>ia(t,32),Nd=t=>ar(t,gf),tc=t=>ar(t,Mu),Nh=Za.ProjectivePoint,Y8=(t,e,r)=>Nh.BASE.multiplyAndAddUnsafe(t,e,r);function Gl(t){let e=Za.utils.normPrivateKeyToScalar(t),r=Nh.fromPrivateKey(e);return{scalar:r.hasEvenY()?e:tc(-e),bytes:Ch(r)}}function h2(t){if(!l2(t))throw new Error("bad x: need 0 < x < p");const e=Nd(t*t),r=Nd(e*t+BigInt(7));let n=d2(r);n%2n!==0n&&(n=Nd(-n));const i=new Nh(t,n,f2);return i.assertValidity(),i}function p2(...t){return tc(Hr(ku("BIP0340/challenge",...t)))}function Z8(t){return Gl(t).bytes}function Q8(t,e,r=l1(32)){const n=hr("message",t),{bytes:i,scalar:a}=Gl(e),s=hr("auxRand",r,32),o=Kl(a^Hr(ku("BIP0340/aux",s))),c=ku("BIP0340/nonce",o,i,n),f=tc(Hr(c));if(f===Sh)throw new Error("sign failed: k is zero");const{bytes:l,scalar:x}=Gl(f),E=p2(l,i,n),C=new Uint8Array(64);if(C.set(l,0),C.set(Kl(tc(x+E*a)),32),!m2(C,n,i))throw new Error("sign: Invalid signature produced");return C}function m2(t,e,r){const n=hr("signature",t,64),i=hr("message",e),a=hr("publicKey",r,32);try{const s=h2(Hr(a)),o=Hr(n.subarray(0,32));if(!l2(o))return!1;const c=Hr(n.subarray(32,64));if(!J8(c))return!1;const f=p2(Kl(o),Ch(s),i),l=Y8(s,c,tc(-f));return!(!l||!l.hasEvenY()||l.toAffine().x!==o)}catch{return!1}}Za.utils.randomPrivateKey;const X8=K8(ua,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(t=>t.map(e=>BigInt(e)))),e7=U8(ua,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:ua.create(BigInt("-11"))});G8(Za.ProjectivePoint,t=>{const{x:e,y:r}=e7(ua.create(t[0]));return X8(e,r)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:ua.ORDER,m:1,k:128,expand:"xmd",hash:Tu});async function Rh({hash:t,privateKey:e}){const{r,s:n,recovery:i}=Za.sign(t.slice(2),e.slice(2));return{r:je(r),s:je(n),v:i?28n:27n}}function y2({r:t,s:e,v:r}){return`0x${new Za.Signature(Is(t),Is(e)).toCompactHex()}${je(r).slice(2)}`}async function t7({message:t,privateKey:e}){const r=await Rh({hash:V5(t),privateKey:e});return y2(r)}async function r7({privateKey:t,transaction:e}){const r=await Rh({hash:zt(Vp(e)),privateKey:t});return Vp(e,r)}async function n7({privateKey:t,...e}){const r=await Rh({hash:W5(e),privateKey:t});return y2(r)}function i7(t){if(typeof t=="string"){if(!zr(t))throw new Vr({address:t});return{address:t,type:"json-rpc"}}if(!zr(t.address))throw new Vr({address:t.address});return{address:t.address,signMessage:t.signMessage,signTransaction:t.signTransaction,signTypedData:t.signTypedData,source:"custom",type:"local"}}function a7(t){const e=je(Za.getPublicKey(t.slice(2),!1)),r=k5(e);return{...i7({address:r,async signMessage({message:i}){return t7({message:i,privateKey:t})},async signTransaction(i){return r7({privateKey:t,transaction:i})},async signTypedData(i){return n7({...i,privateKey:t})}}),publicKey:e,source:"privateKey"}}class s7{constructor(e){this.value=e,this.next=void 0}}let o7=class{constructor(){this.clear()}enqueue(e){const r=new s7(e);this._head?(this._tail.next=r,this._tail=r):(this._head=r,this._tail=r),this._size++}dequeue(){const e=this._head;if(e)return this._head=this._head.next,this._size--,e.value}clear(){this._head=void 0,this._tail=void 0,this._size=0}get size(){return this._size}*[Symbol.iterator](){let e=this._head;for(;e;)yield e.value,e=e.next}};var c7=o7;const u7=c7,f7=t=>{if(!((Number.isInteger(t)||t===1/0)&&t>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up");const e=new u7;let r=0;const n=()=>{r--,e.size>0&&e.dequeue()()},i=async(o,c,...f)=>{r++;const l=(async()=>o(...f))();c(l);try{await l}catch{}n()},a=(o,c,...f)=>{e.enqueue(i.bind(null,o,c,...f)),(async()=>(await Promise.resolve(),r<t&&e.size>0&&e.dequeue()()))()},s=(o,...c)=>new Promise(f=>{a(o,f,...c)});return Object.defineProperties(s,{activeCount:{get:()=>r},pendingCount:{get:()=>e.size},clearQueue:{value:()=>{e.clear()}}}),s};var d7=f7;const b2=Yn(d7);var l7={};X1(l7,{BaseContract:()=>T2,CbtContract:()=>Af,CharacterContract:()=>wi,CsbContract:()=>Ph,LinkContract:()=>Sr,LinkModuleContract:()=>_f,MintModuleContract:()=>Bh,NoteContract:()=>Qn,OperatorContract:()=>wf,RevisionContract:()=>k2,TipsContract:()=>Ef});var h7=new Set(["0x8589427373d6d84e98730d7795d8f6f8731fda16","0x722122df12d4e14e13ac3b6895a86e84145b6967","0xdd4c48c0b24039969fc16d1cdf626eab821d3384","0xd90e2f925da726b50c4ed8d0fb90ad053324f31b","0xd96f2b1c14db8458374d9aca76e26c3d18364307","0x4736dcf1b7a3d580672cce6e7c65cd5cc9cfba9d","0xd4b88df4d29f5cedd6857912842cff3b20c8cfa3","0x910cbd523d972eb0a6f4cae4618ad62622b39dbf","0xa160cdab225685da1d56aa342ad8841c3b53f291","0xfd8610d20aa15b7b2e3be39b396a1bc3516c7144","0xf60dd140cff0706bae9cd734ac3ae76ad9ebc32a","0x22aaa7720ddd5388a3c0a3333430953c68f1849b","0xba214c1c1928a32bffe790263e38b4af9bfcd659","0xb1c8094b234dce6e03f10a5b673c1d8c69739a00","0x527653ea119f3e6a1f5bd18fbf4714081d7b31ce","0x58e8dcc13be9780fc42e8723d8ead4cf46943df2","0xd691f27f38b395864ea86cfc7253969b409c362d","0xaeaac358560e11f52454d997aaff2c5731b6f8a6","0x1356c899d8c9467c7f71c195612f8a395abf2f0a","0xa60c772958a3ed56c1f15dd055ba37ac8e523a0d","0x169ad27a470d064dede56a2d3ff727986b15d52b","0x0836222f2b2b24a3f36f98668ed8f0b38d1a872f","0xf67721a2d8f736e75a49fdd7fad2e31d8676542a","0x9ad122c22b14202b4490edaf288fdb3c7cb3ff5e","0x905b63fff465b9ffbf41dea908ceb12478ec7601","0x07687e702b410fa43f4cb4af7fa097918ffd2730","0x94a1b5cdb22c43faab4abeb5c74999895464ddaf","0xb541fc07bc7619fd4062a54d96268525cbc6ffef","0x12d66f87a04a9e220743712ce6d9bb1b5616b8fc","0x47ce0c6ed5b0ce3d3a51fdb1c52dc66a7c3c2936","0x23773e65ed146a459791799d01336db287f25334","0xd21be7248e0197ee08e0c20d4a96debdac3d20af","0x610b717796ad172b316836ac95a2ffad065ceab4","0x178169b423a011fff22b9e3f3abea13414ddd0f1","0xbb93e510bbcd0b7beb5a853875f9ec60275cf498","0x2717c5e28cf931547b621a5dddb772ab6a35b701","0x03893a7c7463ae47d46bc7f091665f1893656003","0xca0840578f57fe71599d29375e16783424023357","0x58e8dcc13be9780fc42e8723d8ead4cf46943df2","0x8589427373d6d84e98730d7795d8f6f8731fda16","0x722122df12d4e14e13ac3b6895a86e84145b6967","0xdd4c48c0b24039969fc16d1cdf626eab821d3384","0xd90e2f925da726b50c4ed8d0fb90ad053324f31b","0xd96f2b1c14db8458374d9aca76e26c3d18364307","0x4736dcf1b7a3d580672cce6e7c65cd5cc9cfba9d"]),p7=t=>h7.has(t.toLowerCase()),m7=t=>{if(p7(t))throw new Error(`This address ${t} is in the U.S. SDN list. All transactions from this address will be rejected. Info: https://home.treasury.gov/policy-issues/financial-sanctions/recent-actions/20220808`)},ii="0x0000000000000000000000000000000000000000";function Kr(t){Array.isArray(t)?t.forEach(e=>Kr(e)):m7(t)}var Rd=void 0,em=0;async function y7({type:t}={}){const e=Date.now(),r=e-em>60*1e3;let n=[];return!Rd||r?(n=await fetch("https://raw.githubusercontent.com/Crossbell-Box/Crossbell-Contracts/main/deployments/modules.json").then(i=>i.json()),Rd=n,em=e):n=Rd,t?n.filter(i=>i.type===t):n}async function b7(t){return(await y7()).find(r=>A1(r.address,t))}async function wn(t){if(!t)return{address:ii,initData:ii};const e=await b7(t.address);if(!e)throw new Error(`Invalid module address ${t.address}`);const r=oa(e.initDataStructure.map(n=>({type:n.type})),t.data);return{address:t.address,initData:r}}var x7={};X1(x7,{cbt:()=>g2,entry:()=>vf,linklist:()=>E2,mira:()=>A2,newbieVilla:()=>v2,periphery:()=>x2,tips:()=>w2});var vf=[{inputs:[{name:"characterId",type:"uint256"}],name:"ErrCharacterNotExists",type:"error"},{inputs:[],name:"ErrHandleContainsInvalidCharacters",type:"error"},{inputs:[],name:"ErrHandleExists",type:"error"},{inputs:[],name:"ErrHandleLengthInvalid",type:"error"},{inputs:[],name:"ErrNotAddressOwner",type:"error"},{inputs:[],name:"ErrNotCharacterOwner",type:"error"},{inputs:[],name:"ErrNotEnoughPermission",type:"error"},{inputs:[],name:"ErrNotEnoughPermissionForThisNote",type:"error"},{inputs:[],name:"ErrNoteIsDeleted",type:"error"},{inputs:[],name:"ErrNoteLocked",type:"error"},{inputs:[],name:"ErrNoteNotExists",type:"error"},{inputs:[],name:"ErrSocialTokenExists",type:"error"},{inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"approved",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"operator",type:"address"},{indexed:!1,name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{inputs:[{indexed:!1,name:"version",type:"uint8"}],name:"Initialized",type:"event"},{inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{name:"to",type:"address"},{name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"owner",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"to",type:"address"},{name:"handle",type:"string"},{name:"uri",type:"string"},{name:"linkModule",type:"address"},{name:"linkModuleInitData",type:"bytes"}],name:"vars",type:"tuple"}],name:"createCharacter",outputs:[{name:"characterId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"fromCharacterId",type:"uint256"},{name:"to",type:"address"},{name:"linkType",type:"bytes32"}],name:"vars",type:"tuple"}],name:"createThenLinkCharacter",outputs:[{name:"characterId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"noteId",type:"uint256"}],name:"deleteNote",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"}],name:"getCharacter",outputs:[{components:[{name:"characterId",type:"uint256"},{name:"handle",type:"string"},{name:"uri",type:"string"},{name:"noteCount",type:"uint256"},{name:"socialToken",type:"address"},{name:"linkModule",type:"address"}],name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{name:"handle",type:"string"}],name:"getCharacterByHandle",outputs:[{components:[{name:"characterId",type:"uint256"},{name:"handle",type:"string"},{name:"uri",type:"string"},{name:"noteCount",type:"uint256"},{name:"socialToken",type:"address"},{name:"linkModule",type:"address"}],name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"}],name:"getCharacterUri",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"}],name:"getHandle",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"}],name:"getLinkModule4Address",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenAddress",type:"address"},{name:"tokenId",type:"uint256"}],name:"getLinkModule4ERC721",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkModule4Linklist",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getLinklistContract",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"linkType",type:"bytes32"}],name:"getLinklistId",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"linkListId",type:"uint256"}],name:"getLinklistType",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinklistUri",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"noteId",type:"uint256"}],name:"getNote",outputs:[{components:[{name:"linkItemType",type:"bytes32"},{name:"linkKey",type:"bytes32"},{name:"contentUri",type:"string"},{name:"linkModule",type:"address"},{name:"mintModule",type:"address"},{name:"mintNFT",type:"address"},{name:"deleted",type:"bool"},{name:"locked",type:"bool"}],name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"operator",type:"address"}],name:"getOperatorPermissions",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"}],name:"getOperators",outputs:[{name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"noteId",type:"uint256"}],name:"getOperators4Note",outputs:[{name:"blocklist",type:"address[]"},{name:"allowlist",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"}],name:"getPrimaryCharacterId",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getRevision",outputs:[{name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"operator",type:"address"},{name:"permissionBitMap",type:"uint256"}],name:"grantOperatorPermissions",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"noteId",type:"uint256"},{name:"blocklist",type:"address[]"},{name:"allowlist",type:"address[]"}],name:"grantOperators4Note",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"name_",type:"string"},{name:"symbol_",type:"string"},{name:"linklist_",type:"address"},{name:"mintNFTImpl_",type:"address"},{name:"periphery_",type:"address"},{name:"newbieVilla_",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"owner",type:"address"},{name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"noteId",type:"uint256"},{name:"operator",type:"address"}],name:"isOperatorAllowedForNote",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"}],name:"isPrimaryCharacter",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{components:[{name:"fromCharacterId",type:"uint256"},{name:"ethAddress",type:"address"},{name:"linkType",type:"bytes32"},{name:"data",type:"bytes"}],name:"vars",type:"tuple"}],name:"linkAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"fromCharacterId",type:"uint256"},{name:"toUri",type:"string"},{name:"linkType",type:"bytes32"},{name:"data",type:"bytes"}],name:"vars",type:"tuple"}],name:"linkAnyUri",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"fromCharacterId",type:"uint256"},{name:"toCharacterId",type:"uint256"},{name:"linkType",type:"bytes32"},{name:"data",type:"bytes"}],name:"vars",type:"tuple"}],name:"linkCharacter",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"fromCharacterId",type:"uint256"},{name:"tokenAddress",type:"address"},{name:"tokenId",type:"uint256"},{name:"linkType",type:"bytes32"},{name:"data",type:"bytes"}],name:"vars",type:"tuple"}],name:"linkERC721",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"fromCharacterId",type:"uint256"},{name:"toLinkListId",type:"uint256"},{name:"linkType",type:"bytes32"},{name:"data",type:"bytes"}],name:"vars",type:"tuple"}],name:"linkLinklist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"fromCharacterId",type:"uint256"},{name:"toCharacterId",type:"uint256"},{name:"toNoteId",type:"uint256"},{name:"linkType",type:"bytes32"},{name:"data",type:"bytes"}],name:"vars",type:"tuple"}],name:"linkNote",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"noteId",type:"uint256"}],name:"lockNote",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"characterId",type:"uint256"},{name:"noteId",type:"uint256"},{name:"to",type:"address"},{name:"mintModuleData",type:"bytes"}],name:"vars",type:"tuple"}],name:"mintNote",outputs:[{name:"tokenId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"data",type:"bytes[]"}],name:"multicall",outputs:[{name:"results",type:"bytes[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{name:"characterId",type:"uint256"},{name:"contentUri",type:"string"},{name:"linkModule",type:"address"},{name:"linkModuleInitData",type:"bytes"},{name:"mintModule",type:"address"},{name:"mintModuleInitData",type:"bytes"},{name:"locked",type:"bool"}],name:"vars",type:"tuple"}],name:"postNote",outputs:[{name:"noteId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"characterId",type:"uint256"},{name:"contentUri",type:"string"},{name:"linkModule",type:"address"},{name:"linkModuleInitData",type:"bytes"},{name:"mintModule",type:"address"},{name:"mintModuleInitData",type:"bytes"},{name:"locked",type:"bool"}],name:"vars",type:"tuple"},{name:"ethAddress",type:"address"}],name:"postNote4Address",outputs:[{name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"characterId",type:"uint256"},{name:"contentUri",type:"string"},{name:"linkModule",type:"address"},{name:"linkModuleInitData",type:"bytes"},{name:"mintModule",type:"address"},{name:"mintModuleInitData",type:"bytes"},{name:"locked",type:"bool"}],name:"vars",type:"tuple"},{name:"uri",type:"string"}],name:"postNote4AnyUri",outputs:[{name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"characterId",type:"uint256"},{name:"contentUri",type:"string"},{name:"linkModule",type:"address"},{name:"linkModuleInitData",type:"bytes"},{name:"mintModule",type:"address"},{name:"mintModuleInitData",type:"bytes"},{name:"locked",type:"bool"}],name:"vars",type:"tuple"},{name:"toCharacterId",type:"uint256"}],name:"postNote4Character",outputs:[{name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"characterId",type:"uint256"},{name:"contentUri",type:"string"},{name:"linkModule",type:"address"},{name:"linkModuleInitData",type:"bytes"},{name:"mintModule",type:"address"},{name:"mintModuleInitData",type:"bytes"},{name:"locked",type:"bool"}],name:"vars",type:"tuple"},{components:[{name:"tokenAddress",type:"address"},{name:"erc721TokenId",type:"uint256"}],name:"erc721",type:"tuple"}],name:"postNote4ERC721",outputs:[{name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"characterId",type:"uint256"},{name:"contentUri",type:"string"},{name:"linkModule",type:"address"},{name:"linkModuleInitData",type:"bytes"},{name:"mintModule",type:"address"},{name:"mintModuleInitData",type:"bytes"},{name:"locked",type:"bool"}],name:"vars",type:"tuple"},{name:"toLinklistId",type:"uint256"}],name:"postNote4Linklist",outputs:[{name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"characterId",type:"uint256"},{name:"contentUri",type:"string"},{name:"linkModule",type:"address"},{name:"linkModuleInitData",type:"bytes"},{name:"mintModule",type:"address"},{name:"mintModuleInitData",type:"bytes"},{name:"locked",type:"bool"}],name:"vars",type:"tuple"},{components:[{name:"characterId",type:"uint256"},{name:"noteId",type:"uint256"}],name:"note",type:"tuple"}],name:"postNote4Note",outputs:[{name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"resolver",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"tokenId",type:"uint256"},{name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"operator",type:"address"},{name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"newUri",type:"string"}],name:"setCharacterUri",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"newHandle",type:"string"}],name:"setHandle",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"account",type:"address"},{name:"linkModule",type:"address"},{name:"linkModuleInitData",type:"bytes"}],name:"vars",type:"tuple"}],name:"setLinkModule4Address",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"linklistId",type:"uint256"},{name:"linkModule",type:"address"},{name:"linkModuleInitData",type:"bytes"}],name:"vars",type:"tuple"}],name:"setLinkModule4Linklist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"linklistId",type:"uint256"},{name:"uri",type:"string"}],name:"setLinklistUri",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"characterId",type:"uint256"},{name:"noteId",type:"uint256"},{name:"mintModule",type:"address"},{name:"mintModuleInitData",type:"bytes"}],name:"vars",type:"tuple"}],name:"setMintModule4Note",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"noteId",type:"uint256"},{name:"newUri",type:"string"}],name:"setNoteUri",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"characterId",type:"uint256"}],name:"setPrimaryCharacterId",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"tokenAddress",type:"address"}],name:"setSocialToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"owner",type:"address"},{name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"}],name:"tokenURI",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"fromCharacterId",type:"uint256"},{name:"ethAddress",type:"address"},{name:"linkType",type:"bytes32"}],name:"vars",type:"tuple"}],name:"unlinkAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"fromCharacterId",type:"uint256"},{name:"toUri",type:"string"},{name:"linkType",type:"bytes32"}],name:"vars",type:"tuple"}],name:"unlinkAnyUri",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"fromCharacterId",type:"uint256"},{name:"toCharacterId",type:"uint256"},{name:"linkType",type:"bytes32"}],name:"vars",type:"tuple"}],name:"unlinkCharacter",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"fromCharacterId",type:"uint256"},{name:"tokenAddress",type:"address"},{name:"tokenId",type:"uint256"},{name:"linkType",type:"bytes32"}],name:"vars",type:"tuple"}],name:"unlinkERC721",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"fromCharacterId",type:"uint256"},{name:"toLinkListId",type:"uint256"},{name:"linkType",type:"bytes32"}],name:"vars",type:"tuple"}],name:"unlinkLinklist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"fromCharacterId",type:"uint256"},{name:"toCharacterId",type:"uint256"},{name:"toNoteId",type:"uint256"},{name:"linkType",type:"bytes32"}],name:"vars",type:"tuple"}],name:"unlinkNote",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{indexed:!0,name:"linklistId",type:"uint256"},{indexed:!0,name:"characterId",type:"uint256"},{indexed:!0,name:"linkType",type:"bytes32"}],name:"AttachLinklist",type:"event"},{inputs:[{indexed:!1,name:"name",type:"string"},{indexed:!1,name:"symbol",type:"string"},{indexed:!1,name:"timestamp",type:"uint256"}],name:"BaseInitialized",type:"event"},{inputs:[{indexed:!0,name:"characterId",type:"uint256"},{indexed:!0,name:"creator",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"handle",type:"string"},{indexed:!1,name:"timestamp",type:"uint256"}],name:"CharacterCreated",type:"event"},{inputs:[{indexed:!0,name:"characterId",type:"uint256"},{indexed:!1,name:"noteId",type:"uint256"}],name:"DeleteNote",type:"event"},{inputs:[{indexed:!0,name:"linklistId",type:"uint256"},{indexed:!0,name:"characterId",type:"uint256"},{indexed:!0,name:"linkType",type:"bytes32"}],name:"DetachLinklist",type:"event"},{inputs:[{indexed:!0,name:"characterId",type:"uint256"},{indexed:!0,name:"operator",type:"address"},{indexed:!1,name:"permissionBitMap",type:"uint256"}],name:"GrantOperatorPermissions",type:"event"},{inputs:[{indexed:!0,name:"characterId",type:"uint256"},{indexed:!0,name:"noteId",type:"uint256"},{indexed:!1,name:"blocklist",type:"address[]"},{indexed:!1,name:"allowlist",type:"address[]"}],name:"GrantOperators4Note",type:"event"},{inputs:[{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"ethAddress",type:"address"},{indexed:!1,name:"linkType",type:"bytes32"},{indexed:!1,name:"linklistId",type:"uint256"}],name:"LinkAddress",type:"event"},{inputs:[{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!1,name:"toUri",type:"string"},{indexed:!1,name:"linkType",type:"bytes32"},{indexed:!1,name:"linklistId",type:"uint256"}],name:"LinkAnyUri",type:"event"},{inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"toCharacterId",type:"uint256"},{indexed:!1,name:"linkType",type:"bytes32"},{indexed:!1,name:"linklistId",type:"uint256"}],name:"LinkCharacter",type:"event"},{inputs:[{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"linkType",type:"bytes32"},{indexed:!1,name:"clFromCharacterId",type:"uint256"},{indexed:!1,name:"clToCharacterId",type:"uint256"},{indexed:!1,name:"clLinkType",type:"bytes32"}],name:"LinkCharacterLink",type:"event"},{inputs:[{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"tokenAddress",type:"address"},{indexed:!0,name:"toNoteId",type:"uint256"},{indexed:!1,name:"linkType",type:"bytes32"},{indexed:!1,name:"linklistId",type:"uint256"}],name:"LinkERC721",type:"event"},{inputs:[{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"toLinklistId",type:"uint256"},{indexed:!1,name:"linkType",type:"bytes32"},{indexed:!0,name:"linklistId",type:"uint256"}],name:"LinkLinklist",type:"event"},{inputs:[{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"toCharacterId",type:"uint256"},{indexed:!0,name:"toNoteId",type:"uint256"},{indexed:!1,name:"linkType",type:"bytes32"},{indexed:!1,name:"linklistId",type:"uint256"}],name:"LinkNote",type:"event"},{inputs:[{indexed:!1,name:"timestamp",type:"uint256"}],name:"LinklistNFTInitialized",type:"event"},{inputs:[{indexed:!0,name:"characterId",type:"uint256"},{indexed:!1,name:"noteId",type:"uint256"}],name:"LockNote",type:"event"},{inputs:[{indexed:!1,name:"characterId",type:"uint256"},{indexed:!1,name:"noteId",type:"uint256"},{indexed:!1,name:"timestamp",type:"uint256"}],name:"MintNFTInitialized",type:"event"},{inputs:[{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"characterId",type:"uint256"},{indexed:!0,name:"noteId",type:"uint256"},{indexed:!1,name:"tokenAddress",type:"address"},{indexed:!1,name:"tokenId",type:"uint256"}],name:"MintNote",type:"event"},{inputs:[{indexed:!0,name:"characterId",type:"uint256"},{indexed:!0,name:"noteId",type:"uint256"},{indexed:!0,name:"linkKey",type:"bytes32"},{indexed:!1,name:"linkItemType",type:"bytes32"},{indexed:!1,name:"data",type:"bytes"}],name:"PostNote",type:"event"},{inputs:[{indexed:!0,name:"characterId",type:"uint256"},{indexed:!0,name:"noteId",type:"uint256"},{indexed:!0,name:"amount",type:"uint256"},{indexed:!1,name:"approvedAddresses",type:"address[]"}],name:"SetApprovedMintAmount4Addresses",type:"event"},{inputs:[{indexed:!0,name:"characterId",type:"uint256"},{indexed:!1,name:"newUri",type:"string"}],name:"SetCharacterUri",type:"event"},{inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!0,name:"characterId",type:"uint256"},{indexed:!1,name:"newHandle",type:"string"}],name:"SetHandle",type:"event"},{inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!0,name:"linkModule",type:"address"},{indexed:!1,name:"linkModuleInitData",type:"bytes"},{indexed:!1,name:"returnData",type:"bytes"}],name:"SetLinkModule4Address",type:"event"},{inputs:[{indexed:!0,name:"characterId",type:"uint256"},{indexed:!0,name:"linkModule",type:"address"},{indexed:!1,name:"linkModuleInitData",type:"bytes"},{indexed:!1,name:"returnData",type:"bytes"}],name:"SetLinkModule4Character",type:"event"},{inputs:[{indexed:!0,name:"tokenAddress",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"},{indexed:!0,name:"linkModule",type:"address"},{indexed:!1,name:"linkModuleInitData",type:"bytes"},{indexed:!1,name:"returnData",type:"bytes"}],name:"SetLinkModule4ERC721",type:"event"},{inputs:[{indexed:!0,name:"linklistId",type:"uint256"},{indexed:!0,name:"linkModule",type:"address"},{indexed:!1,name:"linkModuleInitData",type:"bytes"},{indexed:!1,name:"returnData",type:"bytes"}],name:"SetLinkModule4Linklist",type:"event"},{inputs:[{indexed:!0,name:"characterId",type:"uint256"},{indexed:!0,name:"noteId",type:"uint256"},{indexed:!0,name:"linkModule",type:"address"},{indexed:!1,name:"linkModuleInitData",type:"bytes"},{indexed:!1,name:"returnData",type:"bytes"}],name:"SetLinkModule4Note",type:"event"},{inputs:[{indexed:!0,name:"characterId",type:"uint256"},{indexed:!0,name:"noteId",type:"uint256"},{indexed:!0,name:"mintModule",type:"address"},{indexed:!1,name:"mintModuleInitData",type:"bytes"},{indexed:!1,name:"returnData",type:"bytes"}],name:"SetMintModule4Note",type:"event"},{inputs:[{indexed:!0,name:"characterId",type:"uint256"},{indexed:!1,name:"noteId",type:"uint256"},{indexed:!1,name:"newUri",type:"string"}],name:"SetNoteUri",type:"event"},{inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!0,name:"characterId",type:"uint256"},{indexed:!0,name:"oldCharacterId",type:"uint256"}],name:"SetPrimaryCharacterId",type:"event"},{inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!0,name:"characterId",type:"uint256"},{indexed:!0,name:"tokenAddress",type:"address"}],name:"SetSocialToken",type:"event"},{inputs:[{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"ethAddress",type:"address"},{indexed:!1,name:"linkType",type:"bytes32"}],name:"UnlinkAddress",type:"event"},{inputs:[{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!1,name:"toUri",type:"string"},{indexed:!1,name:"linkType",type:"bytes32"}],name:"UnlinkAnyUri",type:"event"},{inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"toCharacterId",type:"uint256"},{indexed:!1,name:"linkType",type:"bytes32"}],name:"UnlinkCharacter",type:"event"},{inputs:[{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"linkType",type:"bytes32"},{indexed:!1,name:"clFromCharactereId",type:"uint256"},{indexed:!1,name:"clToCharacterId",type:"uint256"},{indexed:!1,name:"clLinkType",type:"bytes32"}],name:"UnlinkCharacterLink",type:"event"},{inputs:[{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"tokenAddress",type:"address"},{indexed:!0,name:"toNoteId",type:"uint256"},{indexed:!1,name:"linkType",type:"bytes32"},{indexed:!1,name:"linklistId",type:"uint256"}],name:"UnlinkERC721",type:"event"},{inputs:[{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"toLinklistId",type:"uint256"},{indexed:!1,name:"linkType",type:"bytes32"},{indexed:!0,name:"linklistId",type:"uint256"}],name:"UnlinkLinklist",type:"event"},{inputs:[{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"toCharacterId",type:"uint256"},{indexed:!0,name:"toNoteId",type:"uint256"},{indexed:!1,name:"linkType",type:"bytes32"},{indexed:!1,name:"linklistId",type:"uint256"}],name:"UnlinkNote",type:"event"},{inputs:[{indexed:!1,name:"timestamp",type:"uint256"}],name:"Web3EntryInitialized",type:"event"}],x2=[{inputs:[{name:"linkKey",type:"bytes32"}],name:"getLinkingAddress",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"fromCharacterId",type:"uint256"},{name:"linkType",type:"bytes32"}],name:"getLinkingAddresses",outputs:[{name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"linkKey",type:"bytes32"}],name:"getLinkingAnyUri",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{name:"fromCharacterId",type:"uint256"},{name:"linkType",type:"bytes32"}],name:"getLinkingAnyUris",outputs:[{name:"results",type:"string[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"linkKey",type:"bytes32"}],name:"getLinkingCharacterId",outputs:[{name:"characterId",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"fromCharacterId",type:"uint256"},{name:"linkType",type:"bytes32"}],name:"getLinkingCharacterIds",outputs:[{name:"results",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"linkKey",type:"bytes32"}],name:"getLinkingERC721",outputs:[{components:[{name:"tokenAddress",type:"address"},{name:"erc721TokenId",type:"uint256"}],name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{name:"fromCharacterId",type:"uint256"},{name:"linkType",type:"bytes32"}],name:"getLinkingERC721s",outputs:[{components:[{name:"tokenAddress",type:"address"},{name:"erc721TokenId",type:"uint256"}],name:"results",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"linkKey",type:"bytes32"}],name:"getLinkingLinklistId",outputs:[{name:"linklistId",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"fromCharacterId",type:"uint256"},{name:"linkType",type:"bytes32"}],name:"getLinkingLinklistIds",outputs:[{name:"linklistIds",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"linkKey",type:"bytes32"}],name:"getLinkingNote",outputs:[{components:[{name:"characterId",type:"uint256"},{name:"noteId",type:"uint256"}],name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{name:"fromCharacterId",type:"uint256"},{name:"linkType",type:"bytes32"}],name:"getLinkingNotes",outputs:[{components:[{name:"linkItemType",type:"bytes32"},{name:"linkKey",type:"bytes32"},{name:"contentUri",type:"string"},{name:"linkModule",type:"address"},{name:"mintModule",type:"address"},{name:"mintNFT",type:"address"},{name:"deleted",type:"bool"},{name:"locked",type:"bool"}],name:"results",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"offset",type:"uint256"},{name:"limit",type:"uint256"}],name:"getNotesByCharacterId",outputs:[{components:[{name:"linkItemType",type:"bytes32"},{name:"linkKey",type:"bytes32"},{name:"contentUri",type:"string"},{name:"linkModule",type:"address"},{name:"mintModule",type:"address"},{name:"mintNFT",type:"address"},{name:"deleted",type:"bool"},{name:"locked",type:"bool"}],name:"results",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"_web3Entry",type:"address"},{name:"_linklist",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"fromCharacterId",type:"uint256"},{name:"toCharacterIds",type:"uint256[]"},{name:"data",type:"bytes[]"},{name:"toAddresses",type:"address[]"},{name:"linkType",type:"bytes32"}],name:"vars",type:"tuple"}],name:"linkCharactersInBatch",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"linklist",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{name:"account",type:"address"},{name:"handle",type:"string"},{name:"uri",type:"string"},{name:"toAddresses",type:"address[]"},{name:"linkType",type:"bytes32"}],name:"vars",type:"tuple"}],name:"migrate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"web3Entry",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"}],g2=[{inputs:[{name:"web3Entry",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!0,name:"operator",type:"address"},{indexed:!1,name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{inputs:[{indexed:!0,name:"from",type:"uint256"},{indexed:!0,name:"tokenId",type:"uint256"},{indexed:!0,name:"amount",type:"uint256"}],name:"Burn",type:"event"},{inputs:[{indexed:!0,name:"to",type:"uint256"},{indexed:!0,name:"tokenId",type:"uint256"},{indexed:!0,name:"tokenNumber",type:"uint256"}],name:"Mint",type:"event"},{inputs:[{indexed:!0,name:"role",type:"bytes32"},{indexed:!0,name:"previousAdminRole",type:"bytes32"},{indexed:!0,name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{inputs:[{indexed:!0,name:"role",type:"bytes32"},{indexed:!0,name:"account",type:"address"},{indexed:!0,name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{inputs:[{indexed:!0,name:"role",type:"bytes32"},{indexed:!0,name:"account",type:"address"},{indexed:!0,name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{inputs:[{indexed:!0,name:"operator",type:"address"},{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"ids",type:"uint256[]"},{indexed:!1,name:"values",type:"uint256[]"}],name:"TransferBatch",type:"event"},{inputs:[{indexed:!0,name:"operator",type:"address"},{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"id",type:"uint256"},{indexed:!1,name:"value",type:"uint256"}],name:"TransferSingle",type:"event"},{inputs:[{indexed:!1,name:"value",type:"string"},{indexed:!0,name:"id",type:"uint256"}],name:"URI",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MINTER_ROLE",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"_web3Entry",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"},{name:"tokenId",type:"uint256"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"tokenId",type:"uint256"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"accounts",type:"address[]"},{name:"tokenIds",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"tokenId",type:"uint256"},{name:"amount",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{name:"role",type:"bytes32"},{name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"role",type:"bytes32"},{name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"role",type:"bytes32"},{name:"account",type:"address"}],name:"hasRole",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"},{name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"tokenId",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"role",type:"bytes32"},{name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"role",type:"bytes32"},{name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"",type:"address"},{name:"",type:"address"},{name:"",type:"uint256[]"},{name:"",type:"uint256[]"},{name:"",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"",type:"address"},{name:"",type:"address"},{name:"",type:"uint256"},{name:"",type:"uint256"},{name:"",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"operator",type:"address"},{name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"tokenURI",type:"string"}],name:"setTokenURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"uri",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"}],v2=[{inputs:[{indexed:!1,name:"version",type:"uint8"}],name:"Initialized",type:"event"},{inputs:[{indexed:!0,name:"role",type:"bytes32"},{indexed:!0,name:"previousAdminRole",type:"bytes32"},{indexed:!0,name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{inputs:[{indexed:!0,name:"role",type:"bytes32"},{indexed:!0,name:"account",type:"address"},{indexed:!0,name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{inputs:[{indexed:!0,name:"role",type:"bytes32"},{indexed:!0,name:"account",type:"address"},{indexed:!0,name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{inputs:[{indexed:!1,name:"to",type:"address"},{indexed:!1,name:"characterId",type:"uint256"},{indexed:!1,name:"token",type:"address"},{indexed:!1,name:"amount",type:"uint256"}],name:"Withdraw",type:"event"},{inputs:[],name:"ADMIN_ROLE",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"ERC1820_REGISTRY",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"TOKENS_RECIPIENT_INTERFACE_HASH",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{name:"role",type:"bytes32"},{name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getToken",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"role",type:"bytes32"},{name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"role",type:"bytes32"},{name:"account",type:"address"}],name:"hasRole",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{name:"web3Entry_",type:"address"},{name:"xsyncOperator_",type:"address"},{name:"token_",type:"address"},{name:"admin_",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"operator",type:"address"},{name:"",type:"address"},{name:"tokenId",type:"uint256"},{name:"data",type:"bytes"}],name:"onERC721Received",outputs:[{name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"role",type:"bytes32"},{name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"role",type:"bytes32"},{name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{name:"",type:"address"},{name:"",type:"address"},{name:"to",type:"address"},{name:"amount",type:"uint256"},{name:"userData",type:"bytes"},{name:"operatorData",type:"bytes"}],name:"tokensReceived",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"web3Entry",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"to",type:"address"},{name:"characterId",type:"uint256"},{name:"nonce",type:"uint256"},{name:"expires",type:"uint256"},{name:"proof",type:"bytes"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"xsyncOperator",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"}],w2=[{inputs:[],name:"ErrCallerNotCharacterOwner",type:"error"},{inputs:[{indexed:!1,name:"version",type:"uint8"}],name:"Initialized",type:"event"},{inputs:[{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"toCharacterId",type:"uint256"},{indexed:!1,name:"token",type:"address"},{indexed:!1,name:"amount",type:"uint256"}],name:"TipCharacter",type:"event"},{inputs:[{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"toCharacterId",type:"uint256"},{indexed:!0,name:"toNoteId",type:"uint256"},{indexed:!1,name:"token",type:"address"},{indexed:!1,name:"amount",type:"uint256"}],name:"TipCharacterForNote",type:"event"},{inputs:[],name:"ERC1820_REGISTRY",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"TOKENS_RECIPIENT_INTERFACE_HASH",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getToken",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getWeb3Entry",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"web3Entry_",type:"address"},{name:"token_",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"",type:"address"},{name:"from",type:"address"},{name:"to",type:"address"},{name:"amount",type:"uint256"},{name:"userData",type:"bytes"},{name:"operatorData",type:"bytes"}],name:"tokensReceived",outputs:[],stateMutability:"nonpayable",type:"function"}],A2=[{inputs:[{name:"name_",type:"string"},{name:"symbol_",type:"string"},{name:"admin",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{inputs:[{indexed:!0,name:"operator",type:"address"},{indexed:!0,name:"tokenHolder",type:"address"}],name:"AuthorizedOperator",type:"event"},{inputs:[{indexed:!0,name:"operator",type:"address"},{indexed:!0,name:"from",type:"address"},{indexed:!1,name:"amount",type:"uint256"},{indexed:!1,name:"data",type:"bytes"},{indexed:!1,name:"operatorData",type:"bytes"}],name:"Burned",type:"event"},{inputs:[{indexed:!0,name:"operator",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"amount",type:"uint256"},{indexed:!1,name:"data",type:"bytes"},{indexed:!1,name:"operatorData",type:"bytes"}],name:"Minted",type:"event"},{inputs:[{indexed:!0,name:"operator",type:"address"},{indexed:!0,name:"tokenHolder",type:"address"}],name:"RevokedOperator",type:"event"},{inputs:[{indexed:!0,name:"role",type:"bytes32"},{indexed:!0,name:"previousAdminRole",type:"bytes32"},{indexed:!0,name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{inputs:[{indexed:!0,name:"role",type:"bytes32"},{indexed:!0,name:"account",type:"address"},{indexed:!0,name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{inputs:[{indexed:!0,name:"role",type:"bytes32"},{indexed:!0,name:"account",type:"address"},{indexed:!0,name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{inputs:[{indexed:!0,name:"operator",type:"address"},{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"amount",type:"uint256"},{indexed:!1,name:"data",type:"bytes"},{indexed:!1,name:"operatorData",type:"bytes"}],name:"Sent",type:"event"},{inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"BLOCK_ROLE",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{name:"holder",type:"address"},{name:"spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"spender",type:"address"},{name:"value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"operator",type:"address"}],name:"authorizeOperator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenHolder",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"amount",type:"uint256"},{name:"data",type:"bytes"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],stateMutability:"pure",type:"function"},{inputs:[],name:"defaultOperators",outputs:[{name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{name:"role",type:"bytes32"},{name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"role",type:"bytes32"},{name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"granularity",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"role",type:"bytes32"},{name:"account",type:"address"}],name:"hasRole",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{name:"operator",type:"address"},{name:"tokenHolder",type:"address"}],name:"isOperatorFor",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{name:"to",type:"address"},{name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"},{name:"amount",type:"uint256"},{name:"data",type:"bytes"},{name:"operatorData",type:"bytes"}],name:"operatorBurn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"},{name:"data",type:"bytes"},{name:"operatorData",type:"bytes"}],name:"operatorSend",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"role",type:"bytes32"},{name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"operator",type:"address"}],name:"revokeOperator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"role",type:"bytes32"},{name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"},{name:"data",type:"bytes"}],name:"send",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"holder",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}],E2=[{inputs:[],name:"ErrCallerNotWeb3Entry",type:"error"},{inputs:[],name:"ErrCallerNotWeb3EntryOrNotOwner",type:"error"},{inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"approved",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"operator",type:"address"},{indexed:!1,name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{inputs:[{indexed:!1,name:"version",type:"uint8"}],name:"Initialized",type:"event"},{inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"characterId",type:"uint256"},{indexed:!0,name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{name:"tokenId",type:"uint256"}],name:"Uri",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"Web3Entry",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"ethAddress",type:"address"}],name:"addLinkingAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"toUri",type:"string"}],name:"addLinkingAnyUri",outputs:[{name:"",type:"bytes32"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"toCharacterId",type:"uint256"}],name:"addLinkingCharacterId",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{components:[{name:"fromCharacterId",type:"uint256"},{name:"toCharacterId",type:"uint256"},{name:"linkType",type:"bytes32"}],name:"linkData",type:"tuple"}],name:"addLinkingCharacterLink",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"tokenAddress",type:"address"},{name:"erc721TokenId",type:"uint256"}],name:"addLinkingERC721",outputs:[{name:"",type:"bytes32"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"linklistId",type:"uint256"}],name:"addLinkingLinklistId",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"toCharacterId",type:"uint256"},{name:"toNoteId",type:"uint256"}],name:"addLinkingNote",outputs:[{name:"",type:"bytes32"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"to",type:"address"},{name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"characterOwnerOf",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getCurrentTakeOver",outputs:[{name:"characterId",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkType",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkingAddressListLength",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkingAddresses",outputs:[{name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkingAnyListLength",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"linkKey",type:"bytes32"}],name:"getLinkingAnyUri",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkingAnyUriKeys",outputs:[{name:"",type:"bytes32[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkingAnyUris",outputs:[{name:"results",type:"string[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkingCharacterIds",outputs:[{name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"linkKey",type:"bytes32"}],name:"getLinkingCharacterLink",outputs:[{components:[{name:"fromCharacterId",type:"uint256"},{name:"toCharacterId",type:"uint256"},{name:"linkType",type:"bytes32"}],name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkingCharacterLinkListLength",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkingCharacterLinks",outputs:[{components:[{name:"fromCharacterId",type:"uint256"},{name:"toCharacterId",type:"uint256"},{name:"linkType",type:"bytes32"}],name:"results",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkingCharacterListLength",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"linkKey",type:"bytes32"}],name:"getLinkingERC721",outputs:[{components:[{name:"tokenAddress",type:"address"},{name:"erc721TokenId",type:"uint256"}],name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkingERC721ListLength",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkingERC721s",outputs:[{components:[{name:"tokenAddress",type:"address"},{name:"erc721TokenId",type:"uint256"}],name:"results",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkingLinklistIds",outputs:[{name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkingLinklistLength",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"linkKey",type:"bytes32"}],name:"getLinkingNote",outputs:[{components:[{name:"characterId",type:"uint256"},{name:"noteId",type:"uint256"}],name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkingNoteListLength",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkingNotes",outputs:[{components:[{name:"characterId",type:"uint256"},{name:"noteId",type:"uint256"}],name:"results",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getOwnerCharacterId",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"name_",type:"string"},{name:"symbol_",type:"string"},{name:"web3Entry_",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"owner",type:"address"},{name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"linkType",type:"bytes32"}],name:"mint",outputs:[{name:"tokenId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"ethAddress",type:"address"}],name:"removeLinkingAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"toUri",type:"string"}],name:"removeLinkingAnyUri",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"toCharacterId",type:"uint256"}],name:"removeLinkingCharacterId",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{components:[{name:"fromCharacterId",type:"uint256"},{name:"toCharacterId",type:"uint256"},{name:"linkType",type:"bytes32"}],name:"linkData",type:"tuple"}],name:"removeLinkingCharacterLink",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"tokenAddress",type:"address"},{name:"erc721TokenId",type:"uint256"}],name:"removeLinkingERC721",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"linklistId",type:"uint256"}],name:"removeLinkingLinklistId",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"toCharacterId",type:"uint256"},{name:"toNoteId",type:"uint256"}],name:"removeLinkingNote",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"tokenId",type:"uint256"},{name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"operator",type:"address"},{name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"newUri",type:"string"}],name:"setUri",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"owner",type:"address"},{name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"}];function _2(t=J4()){return t.startsWith("ws://")||t.startsWith("wss://")?e8(t,{timeout:3e4,key:za.network,name:za.network,retryCount:5,retryDelay:5e3}):X4(t)}function g7(){const t=_2();return i8({transport:t,chain:za,pollingInterval:100})}function v7(t){const e=_2();return t2({transport:e,chain:za,account:t,pollingInterval:100})}function w7(t){if("selectedAddress"in t&&t.selectedAddress)return Iu(t.selectedAddress);if("send"in t&&typeof t.send=="function"){const e=t.send({method:"eth_accounts"});if(e?.result?.[0])return Iu(e.result[0])}}function A7(t,e){return t2({transport:Q4(t),chain:za,account:e,pollingInterval:100})}function ir(t,e,{throwOnMultipleLogsFound:r,returnMultipleLogs:n}={}){const i=t.map(a=>ff({abi:[...vf,...E2],...a})).filter(a=>a.eventName===e);if(i.length===0)throw new Error(`Log with topic ${e} not found`);if(r&&i.length>1)throw new Error(`More than one log with topic ${i} found`);return n?i:i[0]}function Iu(t){return typeof t=="string"?{type:"json-rpc",address:t}:t}var T2=class{publicClient=g7();#e;#t;get account(){return this.#t}set account(e){this.#t=typeof e=="string"?Iu(e):e,this.#e&&(this.#e.account=this.#t)}get walletClient(){return this.#e}options;contract;newbieVillaContract;peripheryContract;cbtContract;miraContract;tipsContract;constructor(e,r){if(typeof e=="string"){const n=a7(e);this.#t=n,this.#e=v7(n)}else if(e){const n=e;this.#t=r?.account?Iu(r.account):w7(n),r?.account||n.on("accountsChanged",i=>{this.account=i[0]}),this.#e=A7(n,this.account)}this.options=this.#r(r),this.#n()}#r(e){return{account:this.account,gasPrice:e?.gasPrice??10n**9n,address:{entryContract:Aa.ENTRY,peripheryContract:Aa.PERIPHERY,cbtContract:Aa.CBT,tipsContract:Aa.TIPS,miraContract:Aa.MIRA,newbieVillaContract:Aa.NEWBIE_VILLA,linklistContract:Aa.LINKLIST,...e?.address}}}#n(){this.contract=this.proxyContract(us({address:this.options.address.entryContract,abi:vf,publicClient:this.publicClient,walletClient:this.#e})),this.newbieVillaContract=this.proxyContract(us({address:this.options.address.newbieVillaContract,abi:v2,publicClient:this.publicClient,walletClient:this.#e})),this.peripheryContract=this.proxyContract(us({address:this.options.address.peripheryContract,abi:x2,publicClient:this.publicClient,walletClient:this.#e})),this.cbtContract=this.proxyContract(us({address:this.options.address.cbtContract,abi:g2,publicClient:this.publicClient,walletClient:this.#e})),this.miraContract=this.proxyContract(us({address:this.options.address.miraContract,abi:A2,publicClient:this.publicClient,walletClient:this.#e})),this.tipsContract=this.proxyContract(us({address:this.options.address.tipsContract,abi:w2,publicClient:this.publicClient,walletClient:this.#e}))}proxyContract(e){return e.write&&(e.write=new Proxy(e.write,{get:(...r)=>new Proxy(Reflect.get(...r),{apply:(n,i,a)=>{const s=a.length>0&&Array.isArray(a[0]),o={...(s?a[1]:a[0])??{}};return typeof this.options.gasPrice=="bigint"&&(o.gasPrice=this.options.gasPrice),a.length>0?s?a[1]=o:a[0]=o:a.push(o),Reflect.apply(n,i,a)}})})),e}},E7="[crossbell.js]";globalThis?.process?.env?.NODE_ENV;function M2(...t){console.warn(E7,...t)}function Xe(){return(t,e,r)=>{const n=r.value;return r.value=async function(...i){const a=async()=>{const{walletClient:s}=this.base;if(!s)return;await Y4(s)||(M2("You're not on the mainnet. Switching to mainnet."),await s.switchChain({id:za.id}))};try{await a()}catch{await a()}return n.apply(this,i)},r}}var Ph=class{constructor(t){this.base=t}async getBalance(t){return Kr(t),{data:await this.base.publicClient.getBalance({address:t})}}async transfer(t,e){Kr(t);const r=await this.base.walletClient.sendTransaction({account:this.base.account,to:t,value:BigInt(e)}),n=await this.base.publicClient.waitForTransactionReceipt({hash:r});return{data:{},transactionHash:n.transactionHash}}};Qe([Xe()],Ph.prototype,"transfer",1);var Sr=class{constructor(t){this.base=t}async linkCharacter(t,e,r,n,i={}){const a=await this.base.contract.write.linkCharacter([{fromCharacterId:BigInt(t),toCharacterId:BigInt(e),linkType:Ct(je(r),{dir:"right"}),data:n??ii}],i),s=await this.base.publicClient.waitForTransactionReceipt({hash:a});return{data:ir(s.logs,"LinkCharacter").args.linklistId,transactionHash:s.transactionHash}}async linkCharactersInBatch(t,e,r,n,i,a={}){r.forEach(f=>{Kr(f)});const s=await this.base.peripheryContract.write.linkCharactersInBatch([{fromCharacterId:BigInt(t),toCharacterIds:e.map(f=>BigInt(f)),toAddresses:r,linkType:Ct(je(n),{dir:"right"}),data:i??e.map(()=>ii)}],a),o=await this.base.publicClient.waitForTransactionReceipt({hash:s});return{data:ir(o.logs,"LinkCharacter",{throwOnMultipleLogsFound:!1}).args.linklistId,transactionHash:o.transactionHash}}async getLinklistIdByTransaction(t){const e=await this.base.publicClient.getTransactionReceipt({hash:t});return{data:ir(e.logs,"LinkCharacter").args.linklistId}}async createThenLinkCharacter(t,e,r,n={}){Kr(e);const i=await this.base.contract.write.createThenLinkCharacter([{fromCharacterId:BigInt(t),to:e,linkType:Ct(je(r),{dir:"right"})}],n),a=await this.base.publicClient.waitForTransactionReceipt({hash:i}),s=ir(a.logs,"CharacterCreated"),o=ir(a.logs,"LinkCharacter");return{data:{toCharacterId:s.args.characterId,linklistId:o.args.linklistId},transactionHash:a.transactionHash}}async unlinkCharacter(t,e,r,n={}){const i=await this.base.contract.write.unlinkCharacter([{fromCharacterId:BigInt(t),toCharacterId:BigInt(e),linkType:Ct(je(r),{dir:"right"})}],n);return{data:void 0,transactionHash:(await this.base.publicClient.waitForTransactionReceipt({hash:i})).transactionHash}}async getLinkingCharacterIds(t,e,r={}){return{data:(await this.base.peripheryContract.read.getLinkingCharacterIds([BigInt(t),Ct(je(e),{dir:"right"})],r)).map(i=>i)}}async getLinkingCharacters(t,e,r={}){const n=await this.base.peripheryContract.read.getLinkingCharacterIds([BigInt(t),Ct(je(e),{dir:"right"})],r);return{data:(await Promise.all(n.map(a=>this.base.character.get(a)))).map(a=>a.data)}}async linkAddress(t,e,r,n=ii,i={}){const a=await this.base.contract.write.linkAddress([{fromCharacterId:BigInt(t),ethAddress:e,linkType:Ct(je(r),{dir:"right"}),data:n}],i),s=await this.base.publicClient.waitForTransactionReceipt({hash:a});return{data:ir(s.logs,"LinkAddress").args.linklistId,transactionHash:s.transactionHash}}async unlinkAddress(t,e,r,n={}){const i=await this.base.contract.write.unlinkAddress([{fromCharacterId:BigInt(t),ethAddress:e,linkType:Ct(je(r),{dir:"right"})}],n);return{data:void 0,transactionHash:(await this.base.publicClient.waitForTransactionReceipt({hash:i})).transactionHash}}async linkAnyUri(t,e,r,n=ii,i={}){const a=await this.base.contract.write.linkAnyUri([{fromCharacterId:BigInt(t),toUri:e,linkType:Ct(je(r),{dir:"right"}),data:n}],i),s=await this.base.publicClient.waitForTransactionReceipt({hash:a});return{data:ir(s.logs,"LinkAnyUri").args.linklistId,transactionHash:s.transactionHash}}async unlinkAnyUri(t,e,r,n={}){const i=await this.base.contract.write.unlinkAnyUri([{fromCharacterId:BigInt(t),toUri:e,linkType:Ct(je(r),{dir:"right"})}],n);return{data:void 0,transactionHash:(await this.base.publicClient.waitForTransactionReceipt({hash:i})).transactionHash}}async linkErc721(t,e,r,n,i=ii,a={}){const s=await this.base.contract.write.linkERC721([{fromCharacterId:BigInt(t),tokenAddress:e,tokenId:BigInt(r),linkType:Ct(je(n),{dir:"right"}),data:i}],a),o=await this.base.publicClient.waitForTransactionReceipt({hash:s});return{data:ir(o.logs,"LinkAnyUri").args.linklistId,transactionHash:o.transactionHash}}async unlinkErc721(t,e,r,n,i={}){const a=await this.base.contract.write.unlinkERC721([{fromCharacterId:BigInt(t),tokenAddress:e,tokenId:BigInt(r),linkType:Ct(je(n),{dir:"right"})}],i);return{data:void 0,transactionHash:(await this.base.publicClient.waitForTransactionReceipt({hash:a})).transactionHash}}async linkNote(t,e,r,n,i,a={}){const s=await this.base.contract.write.linkNote([{fromCharacterId:BigInt(t),toCharacterId:BigInt(e),toNoteId:BigInt(r),linkType:Ct(je(n),{dir:"right"}),data:i??ii}],a),o=await this.base.publicClient.waitForTransactionReceipt({hash:s});return{data:ir(o.logs,"LinkNote").args.linklistId,transactionHash:o.transactionHash}}async unlinkNote(t,e,r,n,i={}){const a=await this.base.contract.write.unlinkNote([{fromCharacterId:BigInt(t),toCharacterId:BigInt(e),toNoteId:BigInt(r),linkType:Ct(je(n),{dir:"right"})}],i);return{data:void 0,transactionHash:(await this.base.publicClient.waitForTransactionReceipt({hash:a})).transactionHash}}async linkLinklist(t,e,r,n=ii,i={}){const a=await this.base.contract.write.linkLinklist([{fromCharacterId:BigInt(t),toLinkListId:BigInt(e),linkType:Ct(je(r),{dir:"right"}),data:n}],i),s=await this.base.publicClient.waitForTransactionReceipt({hash:a});return{data:ir(s.logs,"LinkNote").args.linklistId,transactionHash:s.transactionHash}}async unlinkLinklist(t,e,r,n={}){const i=await this.base.contract.write.unlinkLinklist([{fromCharacterId:BigInt(t),toLinkListId:BigInt(e),linkType:Ct(je(r),{dir:"right"})}],n);return{data:void 0,transactionHash:(await this.base.publicClient.waitForTransactionReceipt({hash:i})).transactionHash}}};Qe([Xe()],Sr.prototype,"linkCharacter",1);Qe([Xe()],Sr.prototype,"linkCharactersInBatch",1);Qe([Xe()],Sr.prototype,"createThenLinkCharacter",1);Qe([Xe()],Sr.prototype,"unlinkCharacter",1);Qe([Xe()],Sr.prototype,"linkAddress",1);Qe([Xe()],Sr.prototype,"unlinkAddress",1);Qe([Xe()],Sr.prototype,"linkAnyUri",1);Qe([Xe()],Sr.prototype,"unlinkAnyUri",1);Qe([Xe()],Sr.prototype,"linkErc721",1);Qe([Xe()],Sr.prototype,"unlinkErc721",1);Qe([Xe()],Sr.prototype,"linkNote",1);Qe([Xe()],Sr.prototype,"unlinkNote",1);Qe([Xe()],Sr.prototype,"linkLinklist",1);Qe([Xe()],Sr.prototype,"unlinkLinklist",1);var Qn=class{constructor(t){this.base=t}async post(t,e,{locked:r=!1,linkModule:n,mintModule:i}={},a={}){const{uri:s}=await ea("note",e),o=await wn(n),c=await wn(i),f=await this.base.contract.write.postNote([{characterId:BigInt(t),contentUri:s,linkModule:o.address,linkModuleInitData:o.initData,mintModule:c.address,mintModuleInitData:c.initData,locked:r}],a),l=await this.base.publicClient.waitForTransactionReceipt({hash:f});return{data:{noteId:ir(l.logs,"PostNote").args.noteId},transactionHash:l.transactionHash}}async postMany(t,e={}){const r=b2(10),n=await Promise.all(t.map(c=>r(async()=>{const{uri:f}=await ea("note",c.metadataOrUri),l=await wn(c.options?.linkModule),x=await wn(c.options?.mintModule);return zi({abi:vf,functionName:"postNote",args:[{characterId:BigInt(c.characterId),contentUri:f,linkModule:l.address,linkModuleInitData:l.initData,mintModule:x.address,mintModuleInitData:x.initData,locked:c.options?.locked??!1}]})}))),i=await this.base.contract.write.multicall([n],e),a=await this.base.publicClient.waitForTransactionReceipt({hash:i});return{data:{noteIds:ir(a.logs,"PostNote",{throwOnMultipleLogsFound:!1,returnMultipleLogs:!0}).map(c=>c.args.noteId)},transactionHash:a.transactionHash}}async postForAnyUri(t,e,r,{locked:n=!1,linkModule:i,mintModule:a}={},s={}){const{uri:o}=await ea("note",e),c=await wn(i),f=await wn(a),l=await this.base.contract.write.postNote4AnyUri([{characterId:BigInt(t),contentUri:o,linkModule:c.address,linkModuleInitData:c.initData,mintModule:f.address,mintModuleInitData:f.initData,locked:n},r],s),x=await this.base.publicClient.waitForTransactionReceipt({hash:l});return{data:{noteId:ir(x.logs,"PostNote").args.noteId},transactionHash:x.transactionHash}}async postForNote(t,e,r,n,{locked:i=!1,linkModule:a,mintModule:s}={},o={}){const{uri:c}=await ea("note",e),f=await wn(a),l=await wn(s),x=await this.base.contract.write.postNote4Note([{characterId:BigInt(t),contentUri:c,linkModule:f.address,linkModuleInitData:f.initData,mintModule:l.address,mintModuleInitData:l.initData,locked:i},{characterId:BigInt(r),noteId:BigInt(n)}],o),E=await this.base.publicClient.waitForTransactionReceipt({hash:x});return{data:{noteId:ir(E.logs,"PostNote").args.noteId},transactionHash:E.transactionHash}}async setUri(t,e,r,n={}){const{uri:i,metadata:a}=await ea("note",r,!0),s=await this.base.contract.write.setNoteUri([BigInt(t),BigInt(e),i],n),o=await this.base.publicClient.waitForTransactionReceipt({hash:s});return{data:{uri:i,metadata:a},transactionHash:o.transactionHash}}async changeMetadata(t,e,r,n={}){const i=await this.get(t,e),a=r(i.data.metadata);if(typeof a>"u")throw new TypeError("The modified metadata is undefined. Did you return it?");return a.type||(a.type="note"),this.setMetadata(t,e,a,n)}setMetadata(t,e,r,n={}){return this.setUri(t,e,r,n)}async get(t,e,r,n={}){const i=await this.base.contract.read.getNote([BigInt(t),BigInt(e)],n),a=u3(Oa(i.linkItemType,{dir:"right"}),"string")||void 0,s=i.contentUri?await Z0(i.contentUri):void 0;let o;const c=this.base.peripheryContract.read;if(r==="AnyUri")o={uri:await c.getLinkingAnyUri([i.linkKey])};else if(r==="ERC721"){const f=await c.getLinkingERC721([i.linkKey]);o={contractAddress:f.tokenAddress,tokenId:f.erc721TokenId.toString()}}else if(r==="Address")o={address:await c.getLinkingAddress([i.linkKey])};else if(r==="Character")o={characterId:await c.getLinkingCharacterId([i.linkKey])};else if(r==="Note"){const f=await c.getLinkingNote([i.linkKey]);o={characterId:f.characterId,noteId:f.noteId}}else r==="Linklist"?o={linklistId:await c.getLinkingLinklistId([i.linkKey])}:o=void 0;return{data:{characterId:BigInt(t),noteId:BigInt(e),contentUri:i.contentUri,metadata:s,linkItemType:i.linkItemType,linkItemTypeString:a,linkItem:o,linkKey:i.linkKey,linkModule:i.linkModule,contractAddress:i.mintNFT,mintModule:i.mintModule,deleted:i.deleted,locked:i.locked}}}async delete(t,e,r={}){const n=await this.base.contract.write.deleteNote([BigInt(t),BigInt(e)],r);return{data:void 0,transactionHash:(await this.base.publicClient.waitForTransactionReceipt({hash:n})).transactionHash}}async lock(t,e,r={}){const n=await this.base.contract.write.lockNote([BigInt(t),BigInt(e)],r);return{data:void 0,transactionHash:(await this.base.publicClient.waitForTransactionReceipt({hash:n})).transactionHash}}async mint(t,e,r,n={}){Kr(r);const i=await this.base.contract.write.mintNote([{characterId:BigInt(t),noteId:BigInt(e),to:r,mintModuleData:ii}],n),a=await this.base.publicClient.waitForTransactionReceipt({hash:i}),s=ir(a.logs,"MintNote");return{data:{contractAddress:s.args.tokenAddress,tokenId:s.args.tokenId},transactionHash:a.transactionHash}}getLinkKeyForCharacter(t){return zt(cs(["string","uint"],["Character",BigInt(t)]))}getLinkKeyForAddress(t){return Kr(t),zt(cs(["string","address"],["Address",t]))}getLinkKeyForNote(t,e){return zt(cs(["string","uint","uint"],["Note",BigInt(t),BigInt(e)]))}getLinkKeyForERC721(t,e){return zt(cs(["string","address","uint"],["ERC721",t,BigInt(e)]))}getLinkKeyForLinklist(t){return zt(cs(["string","uint"],["Linklist",BigInt(t)]))}getLinkKeyForAnyUri(t){return zt(cs(["string","string"],["AnyUri",t]))}};Qe([Xe()],Qn.prototype,"post",1);Qe([Xe()],Qn.prototype,"postMany",1);Qe([Xe()],Qn.prototype,"postForAnyUri",1);Qe([Xe()],Qn.prototype,"postForNote",1);Qe([Xe()],Qn.prototype,"setUri",1);Qe([Xe()],Qn.prototype,"changeMetadata",1);Qe([Xe()],Qn.prototype,"delete",1);Qe([Xe()],Qn.prototype,"lock",1);Qe([Xe()],Qn.prototype,"mint",1);var wi=class{constructor(t){this.base=t}async create(t,e,r,{linkModule:n}={},i={}){Kr(t),this.#e(e);const{uri:a}=await ea("character",r),s=await wn(n),o=await this.base.contract.write.createCharacter([{to:t,handle:e,uri:a,linkModule:s.address,linkModuleInitData:s.initData}],i),c=await this.base.publicClient.waitForTransactionReceipt({hash:o});return{data:ir(c.logs,"CharacterCreated").args.characterId,transactionHash:c.transactionHash}}async setHandle(t,e,r={}){this.#e(e);const n=await this.base.contract.write.setHandle([BigInt(t),e],r);return{data:void 0,transactionHash:(await this.base.publicClient.waitForTransactionReceipt({hash:n})).transactionHash}}async setUri(t,e,r={}){const{uri:n,metadata:i}=await ea("character",e,!0),a=await this.base.contract.write.setCharacterUri([BigInt(t),n],r),s=await this.base.publicClient.waitForTransactionReceipt({hash:a});return{data:{uri:n,metadata:i},transactionHash:s.transactionHash}}setMetadata(t,e,r={}){return this.setUri(t,e,r)}async changeMetadata(t,e,r={}){const n=await this.get(t),i=e(n.data.metadata);if(typeof i>"u")throw new TypeError("The modified metadata is undefined. Did you return it?");return i.type||(i.type="character"),this.setMetadata(t,i,r)}async setSocialToken(t,e,r={}){const n=await this.base.contract.write.setSocialToken([BigInt(t),e],r);return{data:void 0,transactionHash:(await this.base.publicClient.waitForTransactionReceipt({hash:n})).transactionHash}}async setPrimaryId(t,e={}){const r=await this.base.contract.write.setPrimaryCharacterId([BigInt(t)],e);return{data:void 0,transactionHash:(await this.base.publicClient.waitForTransactionReceipt({hash:r})).transactionHash}}async burn(t,e={}){const r=await this.base.contract.write.burn([BigInt(t)],e);return{data:void 0,transactionHash:(await this.base.publicClient.waitForTransactionReceipt({hash:r})).transactionHash}}async getPrimaryId(t,e={}){return Kr(t),{data:await this.base.contract.read.getPrimaryCharacterId([t],e)}}async isPrimaryId(t,e={}){return{data:await this.base.contract.read.isPrimaryCharacter([BigInt(t)],e)}}async getByHandle(t,e={}){t=t.toLowerCase();const r=await this.base.contract.read.getCharacterByHandle([t],e),n=r.uri?await Z0(r.uri):void 0;return{data:{characterId:r.characterId,handle:r.handle,uri:r.uri,metadata:n,socialToken:r.socialToken,noteCount:r.noteCount}}}async get(t,e={}){const r=await this.base.contract.read.getCharacter([BigInt(t)],e),{metadata:n}=await ea("character",r.uri,!0);return{data:{characterId:r.characterId,handle:r.handle,uri:r.uri,socialToken:r.socialToken,noteCount:r.noteCount,metadata:n}}}async getHandle(t,e={}){return{data:await this.base.contract.read.getHandle([BigInt(t)],e)}}async getUri(t,e={}){return{data:await this.base.contract.read.getCharacterUri([BigInt(t)],e)}}async getByTransaction(t,e={}){const r=await this.base.publicClient.waitForTransactionReceipt({hash:t}),n=ir(r.logs,"CharacterCreated");return await this.get(n.args.characterId,e)}async existsForAddress(t,e={}){return Kr(t),{data:await this.base.contract.read.getPrimaryCharacterId([t],e)!==0n}}async existsForHandle(t,e={}){return{data:(await this.base.contract.read.getCharacterByHandle([t],e)).handle!==""}}async withdrawFromNewbieVilla(t,e,r,n,i,a={}){Kr(t);const s=await this.base.newbieVillaContract.write.withdraw([t,BigInt(e),BigInt(r),BigInt(n),i],a);return{data:void 0,transactionHash:(await this.base.publicClient.waitForTransactionReceipt({hash:s})).transactionHash}}#e(t){if(t.length>=32||t.length<=2)throw new Error("Invalid handle: handle must be between 3 and 31 characters.");if(!/^[\d_a-z-]+$/.test(t))throw new Error("Invalid handle: handle must only contain [a-z0-9-_].")}};Qe([Xe()],wi.prototype,"create",1);Qe([Xe()],wi.prototype,"setHandle",1);Qe([Xe()],wi.prototype,"setUri",1);Qe([Xe()],wi.prototype,"changeMetadata",1);Qe([Xe()],wi.prototype,"setSocialToken",1);Qe([Xe()],wi.prototype,"setPrimaryId",1);Qe([Xe()],wi.prototype,"burn",1);Qe([Xe()],wi.prototype,"withdrawFromNewbieVilla",1);var wf=class{constructor(t){this.base=t}async grantForCharacter(t,e,r,n={}){Kr(e);const i=this.convertPermissionsToUint256ForCharacter(r),a=await this.base.contract.write.grantOperatorPermissions([BigInt(t),e,i],n),s=await this.base.publicClient.waitForTransactionReceipt({hash:a});return{data:{bitmapUint256:ir(s.logs,"GrantOperatorPermissions").args.permissionBitMap},transactionHash:s.transactionHash}}async grantForNote(t,e,r,n=[],i={}){Kr(r),Kr(n);const a=await this.base.contract.write.grantOperators4Note([BigInt(t),BigInt(e),n,r],i),s=await this.base.publicClient.waitForTransactionReceipt({hash:a});return{data:{},transactionHash:s.transactionHash}}async getForCharacter(t,e={}){return{data:await this.base.contract.read.getOperators([BigInt(t)],e)}}async getForNote(t,e,r={}){const[n,i]=await this.base.contract.read.getOperators4Note([BigInt(t),BigInt(e)],r);return{data:{allowlist:n,blocklist:i}}}async isAllowedForNote(t,e,r,n={}){return{data:await this.base.contract.read.isOperatorAllowedForNote([BigInt(t),BigInt(e),r],n)}}async getPermissionsForCharacter(t,e,r={}){const n=await this.base.contract.read.getOperatorPermissions([BigInt(t),e],r);return{data:this.convertUint256ToPermissionsForCharacter(n)}}convertPermissionsToUint256ForCharacter(t){const e=t.map(i=>{const a=Object.entries(Pd).find(([,s])=>s===i)[0];return Number.parseInt(a)}),r=Array.from({length:256}).fill(0);return e.forEach(i=>{r[i]=1}),r.reverse(),this.convertBinaryBitsToUint256(r)}convertUint256ToPermissionsForCharacter(t){return this.#e(t).reverse().map((n,i)=>{if(n===1){if(this.#t(i))return Pd[i];M2("Found invalid permission bit.",i)}}).filter(Boolean)}convertBinaryBitsToUint256(t){return t.join("").replace(/^0+/,"").split("").reverse().reduce((r,n,i)=>n==="1"?r+2n**BigInt(i):r,0n)}#e(t){return t.toString(2).padStart(256,"0").split("").map(e=>Number.parseInt(e))}#t(t){return Object.keys(Pd).includes(t.toString())}};Qe([Xe()],wf.prototype,"grantForCharacter",1);Qe([Xe()],wf.prototype,"grantForNote",1);var Pd={0:"SET_HANDLE",1:"SET_SOCIAL_TOKEN",2:"GRANT_OPERATOR_PERMISSIONS",3:"GRANT_OPERATORS_FOR_NOTE",176:"SET_CHARACTER_URI",177:"SET_LINKLIST_URI",178:"LINK_CHARACTER",179:"UNLINK_CHARACTER",180:"CREATE_THEN_LINK_CHARACTER",181:"LINK_NOTE",182:"UNLINK_NOTE",183:"LINK_ERC721",184:"UNLINK_ERC721",185:"LINK_ADDRESS",186:"UNLINK_ADDRESS",187:"LINK_ANY_URI",188:"UNLINK_ANY_URI",189:"LINK_LINKLIST",190:"UNLINK_LINKLIST",191:"SET_LINK_MODULE_FOR_CHARACTER",192:"SET_LINK_MODULE_FOR_NOTE",193:"SET_LINK_MODULE_FOR_LINKLIST",194:"SET_MINT_MODULE_FOR_NOTE",195:"SET_NOTE_URI",196:"LOCK_NOTE",197:"DELETE_NOTE",198:"POST_NOTE_FOR_CHARACTER",199:"POST_NOTE_FOR_ADDRESS",200:"POST_NOTE_FOR_LINKLIST",201:"POST_NOTE_FOR_NOTE",202:"POST_NOTE_FOR_ERC721",203:"POST_NOTE_FOR_ANY_URI",236:"POST_NOTE"},Af=class{constructor(t){this.base=t}async mint(t,e,r={}){const n=await this.base.cbtContract.write.mint([BigInt(t),BigInt(e)],r);return{data:void 0,transactionHash:(await this.base.publicClient.waitForTransactionReceipt({hash:n})).transactionHash}}async setTokenUri(t,e,r={}){const n=await this.base.cbtContract.write.setTokenURI([BigInt(t),e],r);return{data:void 0,transactionHash:(await this.base.publicClient.waitForTransactionReceipt({hash:n})).transactionHash}}async getTokenUri(t,e={}){return{data:await this.base.cbtContract.read.uri([BigInt(t)],e)}}};Qe([Xe()],Af.prototype,"mint",1);Qe([Xe()],Af.prototype,"setTokenUri",1);var Ef=class{constructor(t){this.base=t}async tipCharacter(t,e,r,n={}){const i=oa([{type:"uint256"},{type:"uint256"}],[BigInt(t),BigInt(e)]),a=await this.base.miraContract.write.send([this.base.options.address.tipsContract,BigInt(r),i],n);return{data:void 0,transactionHash:(await this.base.publicClient.waitForTransactionReceipt({hash:a})).transactionHash}}async tipCharacterForNote(t,e,r,n,i={}){const a=oa([{type:"uint256"},{type:"uint256"},{type:"uint256"}],[BigInt(t),BigInt(e),BigInt(r)]),s=await this.base.miraContract.write.send([this.base.options.address.tipsContract,BigInt(n),a],i);return{data:void 0,transactionHash:(await this.base.publicClient.waitForTransactionReceipt({hash:s})).transactionHash}}async getBalanceOfCharacter(t,e={}){const r=await this.base.contract.read.ownerOf([BigInt(t)],e);return{data:A1(r,this.base.options.address.newbieVillaContract)?await this.base.newbieVillaContract.read.balanceOf([BigInt(t)],e):await this.base.miraContract.read.balanceOf([r],e)}}async getBalance(t,e={}){return{data:await this.base.miraContract.read.balanceOf([t],e)}}async getTokenAddress(t={}){return{data:await this.base.tipsContract.read.getToken(t)}}async getTokenDecimals(t={}){return{data:await this.base.miraContract.read.decimals(t)}}};Qe([Xe()],Ef.prototype,"tipCharacter",1);Qe([Xe()],Ef.prototype,"tipCharacterForNote",1);var tm=4n,k2=class{constructor(t){this.base=t}async getLatest(t={}){return{data:await this.base.contract.read.getRevision(t)}}getCurrent(){return{data:tm}}async check(){const{data:t}=await this.getLatest(),e=tm;return{data:{isUpToDate:t===e,currentRevision:e,latestRevision:t}}}},_f=class{constructor(t){this.base=t}async setForAddress(t,e,r={}){const n=await wn(e),i=await this.base.contract.write.setLinkModule4Address([{account:t,linkModule:n.address,linkModuleInitData:n.initData}],r);return{data:void 0,transactionHash:(await this.base.publicClient.waitForTransactionReceipt({hash:i})).transactionHash}}async setForLinklist(t,e,r={}){const n=await wn(e),i=await this.base.contract.write.setLinkModule4Linklist([{linklistId:BigInt(t),linkModule:n.address,linkModuleInitData:n.initData}],r);return{data:void 0,transactionHash:(await this.base.publicClient.waitForTransactionReceipt({hash:i})).transactionHash}}};Qe([Xe()],_f.prototype,"setForAddress",1);Qe([Xe()],_f.prototype,"setForLinklist",1);var Bh=class{constructor(t){this.base=t}async setForNote(t,e,r,n={}){const i=await wn(r),a=await this.base.contract.write.setMintModule4Note([{characterId:BigInt(t),noteId:BigInt(e),mintModule:i.address,mintModuleInitData:i.initData}],n);return{data:void 0,transactionHash:(await this.base.publicClient.waitForTransactionReceipt({hash:a})).transactionHash}}};Qe([Xe()],Bh.prototype,"setForNote",1);var _7=class extends T2{csb=new Ph(this);character=new wi(this);link=new Sr(this);cbt=new Af(this);note=new Qn(this);operator=new wf(this);tips=new Ef(this);revision=new k2(this);linkModule=new _f(this);mintModule=new Bh(this)};function T7(t,e){return new _7(t,e)}var Oh={exports:{}};Oh.exports;(function(t){(function(e,r){function n(h,u){if(!h)throw new Error(u||"Assertion failed")}function i(h,u){h.super_=u;var p=function(){};p.prototype=u.prototype,h.prototype=new p,h.prototype.constructor=h}function a(h,u,p){if(a.isBN(h))return h;this.negative=0,this.words=null,this.length=0,this.red=null,h!==null&&((u==="le"||u==="be")&&(p=u,u=10),this._init(h||0,u||10,p||"be"))}typeof e=="object"?e.exports=a:r.BN=a,a.BN=a,a.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=dn.Buffer}catch{}a.isBN=function(u){return u instanceof a?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===a.wordSize&&Array.isArray(u.words)},a.max=function(u,p){return u.cmp(p)>0?u:p},a.min=function(u,p){return u.cmp(p)<0?u:p},a.prototype._init=function(u,p,g){if(typeof u=="number")return this._initNumber(u,p,g);if(typeof u=="object")return this._initArray(u,p,g);p==="hex"&&(p=16),n(p===(p|0)&&p>=2&&p<=36),u=u.toString().replace(/\s+/g,"");var _=0;u[0]==="-"&&(_++,this.negative=1),_<u.length&&(p===16?this._parseHex(u,_,g):(this._parseBase(u,p,_),g==="le"&&this._initArray(this.toArray(),p,g)))},a.prototype._initNumber=function(u,p,g){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(n(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),g==="le"&&this._initArray(this.toArray(),p,g)},a.prototype._initArray=function(u,p,g){if(n(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var A,y,b=0;if(g==="be")for(_=u.length-1,A=0;_>=0;_-=3)y=u[_]|u[_-1]<<8|u[_-2]<<16,this.words[A]|=y<<b&67108863,this.words[A+1]=y>>>26-b&67108863,b+=24,b>=26&&(b-=26,A++);else if(g==="le")for(_=0,A=0;_<u.length;_+=3)y=u[_]|u[_+1]<<8|u[_+2]<<16,this.words[A]|=y<<b&67108863,this.words[A+1]=y>>>26-b&67108863,b+=24,b>=26&&(b-=26,A++);return this._strip()};function o(h,u){var p=h.charCodeAt(u);if(p>=48&&p<=57)return p-48;if(p>=65&&p<=70)return p-55;if(p>=97&&p<=102)return p-87;n(!1,"Invalid character in "+h)}function c(h,u,p){var g=o(h,p);return p-1>=u&&(g|=o(h,p-1)<<4),g}a.prototype._parseHex=function(u,p,g){this.length=Math.ceil((u.length-p)/6),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var A=0,y=0,b;if(g==="be")for(_=u.length-1;_>=p;_-=2)b=c(u,p,_)<<A,this.words[y]|=b&67108863,A>=18?(A-=18,y+=1,this.words[y]|=b>>>26):A+=8;else{var w=u.length-p;for(_=w%2===0?p+1:p;_<u.length;_+=2)b=c(u,p,_)<<A,this.words[y]|=b&67108863,A>=18?(A-=18,y+=1,this.words[y]|=b>>>26):A+=8}this._strip()};function f(h,u,p,g){for(var _=0,A=0,y=Math.min(h.length,p),b=u;b<y;b++){var w=h.charCodeAt(b)-48;_*=g,w>=49?A=w-49+10:w>=17?A=w-17+10:A=w,n(w>=0&&A<g,"Invalid character"),_+=A}return _}a.prototype._parseBase=function(u,p,g){this.words=[0],this.length=1;for(var _=0,A=1;A<=67108863;A*=p)_++;_--,A=A/p|0;for(var y=u.length-g,b=y%_,w=Math.min(y,y-b)+g,v=0,P=g;P<w;P+=_)v=f(u,P,P+_,p),this.imuln(A),this.words[0]+v<67108864?this.words[0]+=v:this._iaddn(v);if(b!==0){var j=1;for(v=f(u,P,u.length,p),P=0;P<b;P++)j*=p;this.imuln(j),this.words[0]+v<67108864?this.words[0]+=v:this._iaddn(v)}this._strip()},a.prototype.copy=function(u){u.words=new Array(this.length);for(var p=0;p<this.length;p++)u.words[p]=this.words[p];u.length=this.length,u.negative=this.negative,u.red=this.red};function l(h,u){h.words=u.words,h.length=u.length,h.negative=u.negative,h.red=u.red}if(a.prototype._move=function(u){l(u,this)},a.prototype.clone=function(){var u=new a(null);return this.copy(u),u},a.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},a.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{a.prototype[Symbol.for("nodejs.util.inspect.custom")]=x}catch{a.prototype.inspect=x}else a.prototype.inspect=x;function x(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var E=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],C=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],M=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(u,p){u=u||10,p=p|0||1;var g;if(u===16||u==="hex"){g="";for(var _=0,A=0,y=0;y<this.length;y++){var b=this.words[y],w=((b<<_|A)&16777215).toString(16);A=b>>>24-_&16777215,_+=2,_>=26&&(_-=26,y--),A!==0||y!==this.length-1?g=E[6-w.length]+w+g:g=w+g}for(A!==0&&(g=A.toString(16)+g);g.length%p!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}if(u===(u|0)&&u>=2&&u<=36){var v=C[u],P=M[u];g="";var j=this.clone();for(j.negative=0;!j.isZero();){var I=j.modrn(P).toString(u);j=j.idivn(P),j.isZero()?g=I+g:g=E[v-I.length]+I+g}for(this.isZero()&&(g="0"+g);g.length%p!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}n(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},a.prototype.toJSON=function(){return this.toString(16,2)},s&&(a.prototype.toBuffer=function(u,p){return this.toArrayLike(s,u,p)}),a.prototype.toArray=function(u,p){return this.toArrayLike(Array,u,p)};var k=function(u,p){return u.allocUnsafe?u.allocUnsafe(p):new u(p)};a.prototype.toArrayLike=function(u,p,g){this._strip();var _=this.byteLength(),A=g||Math.max(1,_);n(_<=A,"byte array longer than desired length"),n(A>0,"Requested array length <= 0");var y=k(u,A),b=p==="le"?"LE":"BE";return this["_toArrayLike"+b](y,_),y},a.prototype._toArrayLikeLE=function(u,p){for(var g=0,_=0,A=0,y=0;A<this.length;A++){var b=this.words[A]<<y|_;u[g++]=b&255,g<u.length&&(u[g++]=b>>8&255),g<u.length&&(u[g++]=b>>16&255),y===6?(g<u.length&&(u[g++]=b>>24&255),_=0,y=0):(_=b>>>24,y+=2)}if(g<u.length)for(u[g++]=_;g<u.length;)u[g++]=0},a.prototype._toArrayLikeBE=function(u,p){for(var g=u.length-1,_=0,A=0,y=0;A<this.length;A++){var b=this.words[A]<<y|_;u[g--]=b&255,g>=0&&(u[g--]=b>>8&255),g>=0&&(u[g--]=b>>16&255),y===6?(g>=0&&(u[g--]=b>>24&255),_=0,y=0):(_=b>>>24,y+=2)}if(g>=0)for(u[g--]=_;g>=0;)u[g--]=0},Math.clz32?a.prototype._countBits=function(u){return 32-Math.clz32(u)}:a.prototype._countBits=function(u){var p=u,g=0;return p>=4096&&(g+=13,p>>>=13),p>=64&&(g+=7,p>>>=7),p>=8&&(g+=4,p>>>=4),p>=2&&(g+=2,p>>>=2),g+p},a.prototype._zeroBits=function(u){if(u===0)return 26;var p=u,g=0;return p&8191||(g+=13,p>>>=13),p&127||(g+=7,p>>>=7),p&15||(g+=4,p>>>=4),p&3||(g+=2,p>>>=2),p&1||g++,g},a.prototype.bitLength=function(){var u=this.words[this.length-1],p=this._countBits(u);return(this.length-1)*26+p};function S(h){for(var u=new Array(h.bitLength()),p=0;p<u.length;p++){var g=p/26|0,_=p%26;u[p]=h.words[g]>>>_&1}return u}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,p=0;p<this.length;p++){var g=this._zeroBits(this.words[p]);if(u+=g,g!==26)break}return u},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},a.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var p=0;p<u.length;p++)this.words[p]=this.words[p]|u.words[p];return this._strip()},a.prototype.ior=function(u){return n((this.negative|u.negative)===0),this.iuor(u)},a.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},a.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},a.prototype.iuand=function(u){var p;this.length>u.length?p=u:p=this;for(var g=0;g<p.length;g++)this.words[g]=this.words[g]&u.words[g];return this.length=p.length,this._strip()},a.prototype.iand=function(u){return n((this.negative|u.negative)===0),this.iuand(u)},a.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},a.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},a.prototype.iuxor=function(u){var p,g;this.length>u.length?(p=this,g=u):(p=u,g=this);for(var _=0;_<g.length;_++)this.words[_]=p.words[_]^g.words[_];if(this!==p)for(;_<p.length;_++)this.words[_]=p.words[_];return this.length=p.length,this._strip()},a.prototype.ixor=function(u){return n((this.negative|u.negative)===0),this.iuxor(u)},a.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},a.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},a.prototype.inotn=function(u){n(typeof u=="number"&&u>=0);var p=Math.ceil(u/26)|0,g=u%26;this._expand(p),g>0&&p--;for(var _=0;_<p;_++)this.words[_]=~this.words[_]&67108863;return g>0&&(this.words[_]=~this.words[_]&67108863>>26-g),this._strip()},a.prototype.notn=function(u){return this.clone().inotn(u)},a.prototype.setn=function(u,p){n(typeof u=="number"&&u>=0);var g=u/26|0,_=u%26;return this._expand(g+1),p?this.words[g]=this.words[g]|1<<_:this.words[g]=this.words[g]&~(1<<_),this._strip()},a.prototype.iadd=function(u){var p;if(this.negative!==0&&u.negative===0)return this.negative=0,p=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,p=this.isub(u),u.negative=1,p._normSign();var g,_;this.length>u.length?(g=this,_=u):(g=u,_=this);for(var A=0,y=0;y<_.length;y++)p=(g.words[y]|0)+(_.words[y]|0)+A,this.words[y]=p&67108863,A=p>>>26;for(;A!==0&&y<g.length;y++)p=(g.words[y]|0)+A,this.words[y]=p&67108863,A=p>>>26;if(this.length=g.length,A!==0)this.words[this.length]=A,this.length++;else if(g!==this)for(;y<g.length;y++)this.words[y]=g.words[y];return this},a.prototype.add=function(u){var p;return u.negative!==0&&this.negative===0?(u.negative=0,p=this.sub(u),u.negative^=1,p):u.negative===0&&this.negative!==0?(this.negative=0,p=u.sub(this),this.negative=1,p):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},a.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var p=this.iadd(u);return u.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var g=this.cmp(u);if(g===0)return this.negative=0,this.length=1,this.words[0]=0,this;var _,A;g>0?(_=this,A=u):(_=u,A=this);for(var y=0,b=0;b<A.length;b++)p=(_.words[b]|0)-(A.words[b]|0)+y,y=p>>26,this.words[b]=p&67108863;for(;y!==0&&b<_.length;b++)p=(_.words[b]|0)+y,y=p>>26,this.words[b]=p&67108863;if(y===0&&b<_.length&&_!==this)for(;b<_.length;b++)this.words[b]=_.words[b];return this.length=Math.max(this.length,b),_!==this&&(this.negative=1),this._strip()},a.prototype.sub=function(u){return this.clone().isub(u)};function R(h,u,p){p.negative=u.negative^h.negative;var g=h.length+u.length|0;p.length=g,g=g-1|0;var _=h.words[0]|0,A=u.words[0]|0,y=_*A,b=y&67108863,w=y/67108864|0;p.words[0]=b;for(var v=1;v<g;v++){for(var P=w>>>26,j=w&67108863,I=Math.min(v,u.length-1),L=Math.max(0,v-h.length+1);L<=I;L++){var q=v-L|0;_=h.words[q]|0,A=u.words[L]|0,y=_*A+j,P+=y/67108864|0,j=y&67108863}p.words[v]=j|0,w=P|0}return w!==0?p.words[v]=w|0:p.length--,p._strip()}var B=function(u,p,g){var _=u.words,A=p.words,y=g.words,b=0,w,v,P,j=_[0]|0,I=j&8191,L=j>>>13,q=_[1]|0,G=q&8191,V=q>>>13,ne=_[2]|0,U=ne&8191,F=ne>>>13,te=_[3]|0,ee=te&8191,oe=te>>>13,ye=_[4]|0,de=ye&8191,pe=ye>>>13,Ze=_[5]|0,Re=Ze&8191,me=Ze>>>13,ze=_[6]|0,Ce=ze&8191,be=ze>>>13,qe=_[7]|0,Ne=qe&8191,O=qe>>>13,T=_[8]|0,N=T&8191,z=T>>>13,W=_[9]|0,Y=W&8191,Z=W>>>13,ge=A[0]|0,xe=ge&8191,ce=ge>>>13,Pe=A[1]|0,he=Pe&8191,we=Pe>>>13,ut=A[2]|0,Be=ut&8191,Ae=ut>>>13,ft=A[3]|0,Oe=ft&8191,Ee=ft>>>13,dt=A[4]|0,Le=dt&8191,_e=dt>>>13,lt=A[5]|0,Fe=lt&8191,Te=lt>>>13,ht=A[6]|0,De=ht&8191,Me=ht>>>13,pt=A[7]|0,Ue=pt&8191,ke=pt>>>13,mt=A[8]|0,$e=mt&8191,Ie=mt>>>13,st=A[9]|0,rt=st&8191,nt=st>>>13;g.negative=u.negative^p.negative,g.length=19,w=Math.imul(I,xe),v=Math.imul(I,ce),v=v+Math.imul(L,xe)|0,P=Math.imul(L,ce);var Kt=(b+w|0)+((v&8191)<<13)|0;b=(P+(v>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,w=Math.imul(G,xe),v=Math.imul(G,ce),v=v+Math.imul(V,xe)|0,P=Math.imul(V,ce),w=w+Math.imul(I,he)|0,v=v+Math.imul(I,we)|0,v=v+Math.imul(L,he)|0,P=P+Math.imul(L,we)|0;var Gt=(b+w|0)+((v&8191)<<13)|0;b=(P+(v>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,w=Math.imul(U,xe),v=Math.imul(U,ce),v=v+Math.imul(F,xe)|0,P=Math.imul(F,ce),w=w+Math.imul(G,he)|0,v=v+Math.imul(G,we)|0,v=v+Math.imul(V,he)|0,P=P+Math.imul(V,we)|0,w=w+Math.imul(I,Be)|0,v=v+Math.imul(I,Ae)|0,v=v+Math.imul(L,Be)|0,P=P+Math.imul(L,Ae)|0;var Vt=(b+w|0)+((v&8191)<<13)|0;b=(P+(v>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,w=Math.imul(ee,xe),v=Math.imul(ee,ce),v=v+Math.imul(oe,xe)|0,P=Math.imul(oe,ce),w=w+Math.imul(U,he)|0,v=v+Math.imul(U,we)|0,v=v+Math.imul(F,he)|0,P=P+Math.imul(F,we)|0,w=w+Math.imul(G,Be)|0,v=v+Math.imul(G,Ae)|0,v=v+Math.imul(V,Be)|0,P=P+Math.imul(V,Ae)|0,w=w+Math.imul(I,Oe)|0,v=v+Math.imul(I,Ee)|0,v=v+Math.imul(L,Oe)|0,P=P+Math.imul(L,Ee)|0;var Wt=(b+w|0)+((v&8191)<<13)|0;b=(P+(v>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,w=Math.imul(de,xe),v=Math.imul(de,ce),v=v+Math.imul(pe,xe)|0,P=Math.imul(pe,ce),w=w+Math.imul(ee,he)|0,v=v+Math.imul(ee,we)|0,v=v+Math.imul(oe,he)|0,P=P+Math.imul(oe,we)|0,w=w+Math.imul(U,Be)|0,v=v+Math.imul(U,Ae)|0,v=v+Math.imul(F,Be)|0,P=P+Math.imul(F,Ae)|0,w=w+Math.imul(G,Oe)|0,v=v+Math.imul(G,Ee)|0,v=v+Math.imul(V,Oe)|0,P=P+Math.imul(V,Ee)|0,w=w+Math.imul(I,Le)|0,v=v+Math.imul(I,_e)|0,v=v+Math.imul(L,Le)|0,P=P+Math.imul(L,_e)|0;var Jt=(b+w|0)+((v&8191)<<13)|0;b=(P+(v>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,w=Math.imul(Re,xe),v=Math.imul(Re,ce),v=v+Math.imul(me,xe)|0,P=Math.imul(me,ce),w=w+Math.imul(de,he)|0,v=v+Math.imul(de,we)|0,v=v+Math.imul(pe,he)|0,P=P+Math.imul(pe,we)|0,w=w+Math.imul(ee,Be)|0,v=v+Math.imul(ee,Ae)|0,v=v+Math.imul(oe,Be)|0,P=P+Math.imul(oe,Ae)|0,w=w+Math.imul(U,Oe)|0,v=v+Math.imul(U,Ee)|0,v=v+Math.imul(F,Oe)|0,P=P+Math.imul(F,Ee)|0,w=w+Math.imul(G,Le)|0,v=v+Math.imul(G,_e)|0,v=v+Math.imul(V,Le)|0,P=P+Math.imul(V,_e)|0,w=w+Math.imul(I,Fe)|0,v=v+Math.imul(I,Te)|0,v=v+Math.imul(L,Fe)|0,P=P+Math.imul(L,Te)|0;var Cr=(b+w|0)+((v&8191)<<13)|0;b=(P+(v>>>13)|0)+(Cr>>>26)|0,Cr&=67108863,w=Math.imul(Ce,xe),v=Math.imul(Ce,ce),v=v+Math.imul(be,xe)|0,P=Math.imul(be,ce),w=w+Math.imul(Re,he)|0,v=v+Math.imul(Re,we)|0,v=v+Math.imul(me,he)|0,P=P+Math.imul(me,we)|0,w=w+Math.imul(de,Be)|0,v=v+Math.imul(de,Ae)|0,v=v+Math.imul(pe,Be)|0,P=P+Math.imul(pe,Ae)|0,w=w+Math.imul(ee,Oe)|0,v=v+Math.imul(ee,Ee)|0,v=v+Math.imul(oe,Oe)|0,P=P+Math.imul(oe,Ee)|0,w=w+Math.imul(U,Le)|0,v=v+Math.imul(U,_e)|0,v=v+Math.imul(F,Le)|0,P=P+Math.imul(F,_e)|0,w=w+Math.imul(G,Fe)|0,v=v+Math.imul(G,Te)|0,v=v+Math.imul(V,Fe)|0,P=P+Math.imul(V,Te)|0,w=w+Math.imul(I,De)|0,v=v+Math.imul(I,Me)|0,v=v+Math.imul(L,De)|0,P=P+Math.imul(L,Me)|0;var Nr=(b+w|0)+((v&8191)<<13)|0;b=(P+(v>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,w=Math.imul(Ne,xe),v=Math.imul(Ne,ce),v=v+Math.imul(O,xe)|0,P=Math.imul(O,ce),w=w+Math.imul(Ce,he)|0,v=v+Math.imul(Ce,we)|0,v=v+Math.imul(be,he)|0,P=P+Math.imul(be,we)|0,w=w+Math.imul(Re,Be)|0,v=v+Math.imul(Re,Ae)|0,v=v+Math.imul(me,Be)|0,P=P+Math.imul(me,Ae)|0,w=w+Math.imul(de,Oe)|0,v=v+Math.imul(de,Ee)|0,v=v+Math.imul(pe,Oe)|0,P=P+Math.imul(pe,Ee)|0,w=w+Math.imul(ee,Le)|0,v=v+Math.imul(ee,_e)|0,v=v+Math.imul(oe,Le)|0,P=P+Math.imul(oe,_e)|0,w=w+Math.imul(U,Fe)|0,v=v+Math.imul(U,Te)|0,v=v+Math.imul(F,Fe)|0,P=P+Math.imul(F,Te)|0,w=w+Math.imul(G,De)|0,v=v+Math.imul(G,Me)|0,v=v+Math.imul(V,De)|0,P=P+Math.imul(V,Me)|0,w=w+Math.imul(I,Ue)|0,v=v+Math.imul(I,ke)|0,v=v+Math.imul(L,Ue)|0,P=P+Math.imul(L,ke)|0;var Rr=(b+w|0)+((v&8191)<<13)|0;b=(P+(v>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,w=Math.imul(N,xe),v=Math.imul(N,ce),v=v+Math.imul(z,xe)|0,P=Math.imul(z,ce),w=w+Math.imul(Ne,he)|0,v=v+Math.imul(Ne,we)|0,v=v+Math.imul(O,he)|0,P=P+Math.imul(O,we)|0,w=w+Math.imul(Ce,Be)|0,v=v+Math.imul(Ce,Ae)|0,v=v+Math.imul(be,Be)|0,P=P+Math.imul(be,Ae)|0,w=w+Math.imul(Re,Oe)|0,v=v+Math.imul(Re,Ee)|0,v=v+Math.imul(me,Oe)|0,P=P+Math.imul(me,Ee)|0,w=w+Math.imul(de,Le)|0,v=v+Math.imul(de,_e)|0,v=v+Math.imul(pe,Le)|0,P=P+Math.imul(pe,_e)|0,w=w+Math.imul(ee,Fe)|0,v=v+Math.imul(ee,Te)|0,v=v+Math.imul(oe,Fe)|0,P=P+Math.imul(oe,Te)|0,w=w+Math.imul(U,De)|0,v=v+Math.imul(U,Me)|0,v=v+Math.imul(F,De)|0,P=P+Math.imul(F,Me)|0,w=w+Math.imul(G,Ue)|0,v=v+Math.imul(G,ke)|0,v=v+Math.imul(V,Ue)|0,P=P+Math.imul(V,ke)|0,w=w+Math.imul(I,$e)|0,v=v+Math.imul(I,Ie)|0,v=v+Math.imul(L,$e)|0,P=P+Math.imul(L,Ie)|0;var Pr=(b+w|0)+((v&8191)<<13)|0;b=(P+(v>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,w=Math.imul(Y,xe),v=Math.imul(Y,ce),v=v+Math.imul(Z,xe)|0,P=Math.imul(Z,ce),w=w+Math.imul(N,he)|0,v=v+Math.imul(N,we)|0,v=v+Math.imul(z,he)|0,P=P+Math.imul(z,we)|0,w=w+Math.imul(Ne,Be)|0,v=v+Math.imul(Ne,Ae)|0,v=v+Math.imul(O,Be)|0,P=P+Math.imul(O,Ae)|0,w=w+Math.imul(Ce,Oe)|0,v=v+Math.imul(Ce,Ee)|0,v=v+Math.imul(be,Oe)|0,P=P+Math.imul(be,Ee)|0,w=w+Math.imul(Re,Le)|0,v=v+Math.imul(Re,_e)|0,v=v+Math.imul(me,Le)|0,P=P+Math.imul(me,_e)|0,w=w+Math.imul(de,Fe)|0,v=v+Math.imul(de,Te)|0,v=v+Math.imul(pe,Fe)|0,P=P+Math.imul(pe,Te)|0,w=w+Math.imul(ee,De)|0,v=v+Math.imul(ee,Me)|0,v=v+Math.imul(oe,De)|0,P=P+Math.imul(oe,Me)|0,w=w+Math.imul(U,Ue)|0,v=v+Math.imul(U,ke)|0,v=v+Math.imul(F,Ue)|0,P=P+Math.imul(F,ke)|0,w=w+Math.imul(G,$e)|0,v=v+Math.imul(G,Ie)|0,v=v+Math.imul(V,$e)|0,P=P+Math.imul(V,Ie)|0,w=w+Math.imul(I,rt)|0,v=v+Math.imul(I,nt)|0,v=v+Math.imul(L,rt)|0,P=P+Math.imul(L,nt)|0;var Br=(b+w|0)+((v&8191)<<13)|0;b=(P+(v>>>13)|0)+(Br>>>26)|0,Br&=67108863,w=Math.imul(Y,he),v=Math.imul(Y,we),v=v+Math.imul(Z,he)|0,P=Math.imul(Z,we),w=w+Math.imul(N,Be)|0,v=v+Math.imul(N,Ae)|0,v=v+Math.imul(z,Be)|0,P=P+Math.imul(z,Ae)|0,w=w+Math.imul(Ne,Oe)|0,v=v+Math.imul(Ne,Ee)|0,v=v+Math.imul(O,Oe)|0,P=P+Math.imul(O,Ee)|0,w=w+Math.imul(Ce,Le)|0,v=v+Math.imul(Ce,_e)|0,v=v+Math.imul(be,Le)|0,P=P+Math.imul(be,_e)|0,w=w+Math.imul(Re,Fe)|0,v=v+Math.imul(Re,Te)|0,v=v+Math.imul(me,Fe)|0,P=P+Math.imul(me,Te)|0,w=w+Math.imul(de,De)|0,v=v+Math.imul(de,Me)|0,v=v+Math.imul(pe,De)|0,P=P+Math.imul(pe,Me)|0,w=w+Math.imul(ee,Ue)|0,v=v+Math.imul(ee,ke)|0,v=v+Math.imul(oe,Ue)|0,P=P+Math.imul(oe,ke)|0,w=w+Math.imul(U,$e)|0,v=v+Math.imul(U,Ie)|0,v=v+Math.imul(F,$e)|0,P=P+Math.imul(F,Ie)|0,w=w+Math.imul(G,rt)|0,v=v+Math.imul(G,nt)|0,v=v+Math.imul(V,rt)|0,P=P+Math.imul(V,nt)|0;var Or=(b+w|0)+((v&8191)<<13)|0;b=(P+(v>>>13)|0)+(Or>>>26)|0,Or&=67108863,w=Math.imul(Y,Be),v=Math.imul(Y,Ae),v=v+Math.imul(Z,Be)|0,P=Math.imul(Z,Ae),w=w+Math.imul(N,Oe)|0,v=v+Math.imul(N,Ee)|0,v=v+Math.imul(z,Oe)|0,P=P+Math.imul(z,Ee)|0,w=w+Math.imul(Ne,Le)|0,v=v+Math.imul(Ne,_e)|0,v=v+Math.imul(O,Le)|0,P=P+Math.imul(O,_e)|0,w=w+Math.imul(Ce,Fe)|0,v=v+Math.imul(Ce,Te)|0,v=v+Math.imul(be,Fe)|0,P=P+Math.imul(be,Te)|0,w=w+Math.imul(Re,De)|0,v=v+Math.imul(Re,Me)|0,v=v+Math.imul(me,De)|0,P=P+Math.imul(me,Me)|0,w=w+Math.imul(de,Ue)|0,v=v+Math.imul(de,ke)|0,v=v+Math.imul(pe,Ue)|0,P=P+Math.imul(pe,ke)|0,w=w+Math.imul(ee,$e)|0,v=v+Math.imul(ee,Ie)|0,v=v+Math.imul(oe,$e)|0,P=P+Math.imul(oe,Ie)|0,w=w+Math.imul(U,rt)|0,v=v+Math.imul(U,nt)|0,v=v+Math.imul(F,rt)|0,P=P+Math.imul(F,nt)|0;var Lr=(b+w|0)+((v&8191)<<13)|0;b=(P+(v>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,w=Math.imul(Y,Oe),v=Math.imul(Y,Ee),v=v+Math.imul(Z,Oe)|0,P=Math.imul(Z,Ee),w=w+Math.imul(N,Le)|0,v=v+Math.imul(N,_e)|0,v=v+Math.imul(z,Le)|0,P=P+Math.imul(z,_e)|0,w=w+Math.imul(Ne,Fe)|0,v=v+Math.imul(Ne,Te)|0,v=v+Math.imul(O,Fe)|0,P=P+Math.imul(O,Te)|0,w=w+Math.imul(Ce,De)|0,v=v+Math.imul(Ce,Me)|0,v=v+Math.imul(be,De)|0,P=P+Math.imul(be,Me)|0,w=w+Math.imul(Re,Ue)|0,v=v+Math.imul(Re,ke)|0,v=v+Math.imul(me,Ue)|0,P=P+Math.imul(me,ke)|0,w=w+Math.imul(de,$e)|0,v=v+Math.imul(de,Ie)|0,v=v+Math.imul(pe,$e)|0,P=P+Math.imul(pe,Ie)|0,w=w+Math.imul(ee,rt)|0,v=v+Math.imul(ee,nt)|0,v=v+Math.imul(oe,rt)|0,P=P+Math.imul(oe,nt)|0;var Fr=(b+w|0)+((v&8191)<<13)|0;b=(P+(v>>>13)|0)+(Fr>>>26)|0,Fr&=67108863,w=Math.imul(Y,Le),v=Math.imul(Y,_e),v=v+Math.imul(Z,Le)|0,P=Math.imul(Z,_e),w=w+Math.imul(N,Fe)|0,v=v+Math.imul(N,Te)|0,v=v+Math.imul(z,Fe)|0,P=P+Math.imul(z,Te)|0,w=w+Math.imul(Ne,De)|0,v=v+Math.imul(Ne,Me)|0,v=v+Math.imul(O,De)|0,P=P+Math.imul(O,Me)|0,w=w+Math.imul(Ce,Ue)|0,v=v+Math.imul(Ce,ke)|0,v=v+Math.imul(be,Ue)|0,P=P+Math.imul(be,ke)|0,w=w+Math.imul(Re,$e)|0,v=v+Math.imul(Re,Ie)|0,v=v+Math.imul(me,$e)|0,P=P+Math.imul(me,Ie)|0,w=w+Math.imul(de,rt)|0,v=v+Math.imul(de,nt)|0,v=v+Math.imul(pe,rt)|0,P=P+Math.imul(pe,nt)|0;var Dr=(b+w|0)+((v&8191)<<13)|0;b=(P+(v>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,w=Math.imul(Y,Fe),v=Math.imul(Y,Te),v=v+Math.imul(Z,Fe)|0,P=Math.imul(Z,Te),w=w+Math.imul(N,De)|0,v=v+Math.imul(N,Me)|0,v=v+Math.imul(z,De)|0,P=P+Math.imul(z,Me)|0,w=w+Math.imul(Ne,Ue)|0,v=v+Math.imul(Ne,ke)|0,v=v+Math.imul(O,Ue)|0,P=P+Math.imul(O,ke)|0,w=w+Math.imul(Ce,$e)|0,v=v+Math.imul(Ce,Ie)|0,v=v+Math.imul(be,$e)|0,P=P+Math.imul(be,Ie)|0,w=w+Math.imul(Re,rt)|0,v=v+Math.imul(Re,nt)|0,v=v+Math.imul(me,rt)|0,P=P+Math.imul(me,nt)|0;var Fn=(b+w|0)+((v&8191)<<13)|0;b=(P+(v>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,w=Math.imul(Y,De),v=Math.imul(Y,Me),v=v+Math.imul(Z,De)|0,P=Math.imul(Z,Me),w=w+Math.imul(N,Ue)|0,v=v+Math.imul(N,ke)|0,v=v+Math.imul(z,Ue)|0,P=P+Math.imul(z,ke)|0,w=w+Math.imul(Ne,$e)|0,v=v+Math.imul(Ne,Ie)|0,v=v+Math.imul(O,$e)|0,P=P+Math.imul(O,Ie)|0,w=w+Math.imul(Ce,rt)|0,v=v+Math.imul(Ce,nt)|0,v=v+Math.imul(be,rt)|0,P=P+Math.imul(be,nt)|0;var Dn=(b+w|0)+((v&8191)<<13)|0;b=(P+(v>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,w=Math.imul(Y,Ue),v=Math.imul(Y,ke),v=v+Math.imul(Z,Ue)|0,P=Math.imul(Z,ke),w=w+Math.imul(N,$e)|0,v=v+Math.imul(N,Ie)|0,v=v+Math.imul(z,$e)|0,P=P+Math.imul(z,Ie)|0,w=w+Math.imul(Ne,rt)|0,v=v+Math.imul(Ne,nt)|0,v=v+Math.imul(O,rt)|0,P=P+Math.imul(O,nt)|0;var wa=(b+w|0)+((v&8191)<<13)|0;b=(P+(v>>>13)|0)+(wa>>>26)|0,wa&=67108863,w=Math.imul(Y,$e),v=Math.imul(Y,Ie),v=v+Math.imul(Z,$e)|0,P=Math.imul(Z,Ie),w=w+Math.imul(N,rt)|0,v=v+Math.imul(N,nt)|0,v=v+Math.imul(z,rt)|0,P=P+Math.imul(z,nt)|0;var gd=(b+w|0)+((v&8191)<<13)|0;b=(P+(v>>>13)|0)+(gd>>>26)|0,gd&=67108863,w=Math.imul(Y,rt),v=Math.imul(Y,nt),v=v+Math.imul(Z,rt)|0,P=Math.imul(Z,nt);var vd=(b+w|0)+((v&8191)<<13)|0;return b=(P+(v>>>13)|0)+(vd>>>26)|0,vd&=67108863,y[0]=Kt,y[1]=Gt,y[2]=Vt,y[3]=Wt,y[4]=Jt,y[5]=Cr,y[6]=Nr,y[7]=Rr,y[8]=Pr,y[9]=Br,y[10]=Or,y[11]=Lr,y[12]=Fr,y[13]=Dr,y[14]=Fn,y[15]=Dn,y[16]=wa,y[17]=gd,y[18]=vd,b!==0&&(y[19]=b,g.length++),g};Math.imul||(B=R);function $(h,u,p){p.negative=u.negative^h.negative,p.length=h.length+u.length;for(var g=0,_=0,A=0;A<p.length-1;A++){var y=_;_=0;for(var b=g&67108863,w=Math.min(A,u.length-1),v=Math.max(0,A-h.length+1);v<=w;v++){var P=A-v,j=h.words[P]|0,I=u.words[v]|0,L=j*I,q=L&67108863;y=y+(L/67108864|0)|0,q=q+b|0,b=q&67108863,y=y+(q>>>26)|0,_+=y>>>26,y&=67108863}p.words[A]=b,g=y,y=_}return g!==0?p.words[A]=g:p.length--,p._strip()}function H(h,u,p){return $(h,u,p)}a.prototype.mulTo=function(u,p){var g,_=this.length+u.length;return this.length===10&&u.length===10?g=B(this,u,p):_<63?g=R(this,u,p):_<1024?g=$(this,u,p):g=H(this,u,p),g},a.prototype.mul=function(u){var p=new a(null);return p.words=new Array(this.length+u.length),this.mulTo(u,p)},a.prototype.mulf=function(u){var p=new a(null);return p.words=new Array(this.length+u.length),H(this,u,p)},a.prototype.imul=function(u){return this.clone().mulTo(u,this)},a.prototype.imuln=function(u){var p=u<0;p&&(u=-u),n(typeof u=="number"),n(u<67108864);for(var g=0,_=0;_<this.length;_++){var A=(this.words[_]|0)*u,y=(A&67108863)+(g&67108863);g>>=26,g+=A/67108864|0,g+=y>>>26,this.words[_]=y&67108863}return g!==0&&(this.words[_]=g,this.length++),p?this.ineg():this},a.prototype.muln=function(u){return this.clone().imuln(u)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(u){var p=S(u);if(p.length===0)return new a(1);for(var g=this,_=0;_<p.length&&p[_]===0;_++,g=g.sqr());if(++_<p.length)for(var A=g.sqr();_<p.length;_++,A=A.sqr())p[_]!==0&&(g=g.mul(A));return g},a.prototype.iushln=function(u){n(typeof u=="number"&&u>=0);var p=u%26,g=(u-p)/26,_=67108863>>>26-p<<26-p,A;if(p!==0){var y=0;for(A=0;A<this.length;A++){var b=this.words[A]&_,w=(this.words[A]|0)-b<<p;this.words[A]=w|y,y=b>>>26-p}y&&(this.words[A]=y,this.length++)}if(g!==0){for(A=this.length-1;A>=0;A--)this.words[A+g]=this.words[A];for(A=0;A<g;A++)this.words[A]=0;this.length+=g}return this._strip()},a.prototype.ishln=function(u){return n(this.negative===0),this.iushln(u)},a.prototype.iushrn=function(u,p,g){n(typeof u=="number"&&u>=0);var _;p?_=(p-p%26)/26:_=0;var A=u%26,y=Math.min((u-A)/26,this.length),b=67108863^67108863>>>A<<A,w=g;if(_-=y,_=Math.max(0,_),w){for(var v=0;v<y;v++)w.words[v]=this.words[v];w.length=y}if(y!==0)if(this.length>y)for(this.length-=y,v=0;v<this.length;v++)this.words[v]=this.words[v+y];else this.words[0]=0,this.length=1;var P=0;for(v=this.length-1;v>=0&&(P!==0||v>=_);v--){var j=this.words[v]|0;this.words[v]=P<<26-A|j>>>A,P=j&b}return w&&P!==0&&(w.words[w.length++]=P),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},a.prototype.ishrn=function(u,p,g){return n(this.negative===0),this.iushrn(u,p,g)},a.prototype.shln=function(u){return this.clone().ishln(u)},a.prototype.ushln=function(u){return this.clone().iushln(u)},a.prototype.shrn=function(u){return this.clone().ishrn(u)},a.prototype.ushrn=function(u){return this.clone().iushrn(u)},a.prototype.testn=function(u){n(typeof u=="number"&&u>=0);var p=u%26,g=(u-p)/26,_=1<<p;if(this.length<=g)return!1;var A=this.words[g];return!!(A&_)},a.prototype.imaskn=function(u){n(typeof u=="number"&&u>=0);var p=u%26,g=(u-p)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=g)return this;if(p!==0&&g++,this.length=Math.min(g,this.length),p!==0){var _=67108863^67108863>>>p<<p;this.words[this.length-1]&=_}return this._strip()},a.prototype.maskn=function(u){return this.clone().imaskn(u)},a.prototype.iaddn=function(u){return n(typeof u=="number"),n(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<=u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},a.prototype._iaddn=function(u){this.words[0]+=u;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},a.prototype.isubn=function(u){if(n(typeof u=="number"),n(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this._strip()},a.prototype.addn=function(u){return this.clone().iaddn(u)},a.prototype.subn=function(u){return this.clone().isubn(u)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(u,p,g){var _=u.length+g,A;this._expand(_);var y,b=0;for(A=0;A<u.length;A++){y=(this.words[A+g]|0)+b;var w=(u.words[A]|0)*p;y-=w&67108863,b=(y>>26)-(w/67108864|0),this.words[A+g]=y&67108863}for(;A<this.length-g;A++)y=(this.words[A+g]|0)+b,b=y>>26,this.words[A+g]=y&67108863;if(b===0)return this._strip();for(n(b===-1),b=0,A=0;A<this.length;A++)y=-(this.words[A]|0)+b,b=y>>26,this.words[A]=y&67108863;return this.negative=1,this._strip()},a.prototype._wordDiv=function(u,p){var g=this.length-u.length,_=this.clone(),A=u,y=A.words[A.length-1]|0,b=this._countBits(y);g=26-b,g!==0&&(A=A.ushln(g),_.iushln(g),y=A.words[A.length-1]|0);var w=_.length-A.length,v;if(p!=="mod"){v=new a(null),v.length=w+1,v.words=new Array(v.length);for(var P=0;P<v.length;P++)v.words[P]=0}var j=_.clone()._ishlnsubmul(A,1,w);j.negative===0&&(_=j,v&&(v.words[w]=1));for(var I=w-1;I>=0;I--){var L=(_.words[A.length+I]|0)*67108864+(_.words[A.length+I-1]|0);for(L=Math.min(L/y|0,67108863),_._ishlnsubmul(A,L,I);_.negative!==0;)L--,_.negative=0,_._ishlnsubmul(A,1,I),_.isZero()||(_.negative^=1);v&&(v.words[I]=L)}return v&&v._strip(),_._strip(),p!=="div"&&g!==0&&_.iushrn(g),{div:v||null,mod:_}},a.prototype.divmod=function(u,p,g){if(n(!u.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var _,A,y;return this.negative!==0&&u.negative===0?(y=this.neg().divmod(u,p),p!=="mod"&&(_=y.div.neg()),p!=="div"&&(A=y.mod.neg(),g&&A.negative!==0&&A.iadd(u)),{div:_,mod:A}):this.negative===0&&u.negative!==0?(y=this.divmod(u.neg(),p),p!=="mod"&&(_=y.div.neg()),{div:_,mod:y.mod}):this.negative&u.negative?(y=this.neg().divmod(u.neg(),p),p!=="div"&&(A=y.mod.neg(),g&&A.negative!==0&&A.isub(u)),{div:y.div,mod:A}):u.length>this.length||this.cmp(u)<0?{div:new a(0),mod:this}:u.length===1?p==="div"?{div:this.divn(u.words[0]),mod:null}:p==="mod"?{div:null,mod:new a(this.modrn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new a(this.modrn(u.words[0]))}:this._wordDiv(u,p)},a.prototype.div=function(u){return this.divmod(u,"div",!1).div},a.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},a.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},a.prototype.divRound=function(u){var p=this.divmod(u);if(p.mod.isZero())return p.div;var g=p.div.negative!==0?p.mod.isub(u):p.mod,_=u.ushrn(1),A=u.andln(1),y=g.cmp(_);return y<0||A===1&&y===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},a.prototype.modrn=function(u){var p=u<0;p&&(u=-u),n(u<=67108863);for(var g=(1<<26)%u,_=0,A=this.length-1;A>=0;A--)_=(g*_+(this.words[A]|0))%u;return p?-_:_},a.prototype.modn=function(u){return this.modrn(u)},a.prototype.idivn=function(u){var p=u<0;p&&(u=-u),n(u<=67108863);for(var g=0,_=this.length-1;_>=0;_--){var A=(this.words[_]|0)+g*67108864;this.words[_]=A/u|0,g=A%u}return this._strip(),p?this.ineg():this},a.prototype.divn=function(u){return this.clone().idivn(u)},a.prototype.egcd=function(u){n(u.negative===0),n(!u.isZero());var p=this,g=u.clone();p.negative!==0?p=p.umod(u):p=p.clone();for(var _=new a(1),A=new a(0),y=new a(0),b=new a(1),w=0;p.isEven()&&g.isEven();)p.iushrn(1),g.iushrn(1),++w;for(var v=g.clone(),P=p.clone();!p.isZero();){for(var j=0,I=1;!(p.words[0]&I)&&j<26;++j,I<<=1);if(j>0)for(p.iushrn(j);j-- >0;)(_.isOdd()||A.isOdd())&&(_.iadd(v),A.isub(P)),_.iushrn(1),A.iushrn(1);for(var L=0,q=1;!(g.words[0]&q)&&L<26;++L,q<<=1);if(L>0)for(g.iushrn(L);L-- >0;)(y.isOdd()||b.isOdd())&&(y.iadd(v),b.isub(P)),y.iushrn(1),b.iushrn(1);p.cmp(g)>=0?(p.isub(g),_.isub(y),A.isub(b)):(g.isub(p),y.isub(_),b.isub(A))}return{a:y,b,gcd:g.iushln(w)}},a.prototype._invmp=function(u){n(u.negative===0),n(!u.isZero());var p=this,g=u.clone();p.negative!==0?p=p.umod(u):p=p.clone();for(var _=new a(1),A=new a(0),y=g.clone();p.cmpn(1)>0&&g.cmpn(1)>0;){for(var b=0,w=1;!(p.words[0]&w)&&b<26;++b,w<<=1);if(b>0)for(p.iushrn(b);b-- >0;)_.isOdd()&&_.iadd(y),_.iushrn(1);for(var v=0,P=1;!(g.words[0]&P)&&v<26;++v,P<<=1);if(v>0)for(g.iushrn(v);v-- >0;)A.isOdd()&&A.iadd(y),A.iushrn(1);p.cmp(g)>=0?(p.isub(g),_.isub(A)):(g.isub(p),A.isub(_))}var j;return p.cmpn(1)===0?j=_:j=A,j.cmpn(0)<0&&j.iadd(u),j},a.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var p=this.clone(),g=u.clone();p.negative=0,g.negative=0;for(var _=0;p.isEven()&&g.isEven();_++)p.iushrn(1),g.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;g.isEven();)g.iushrn(1);var A=p.cmp(g);if(A<0){var y=p;p=g,g=y}else if(A===0||g.cmpn(1)===0)break;p.isub(g)}while(!0);return g.iushln(_)},a.prototype.invm=function(u){return this.egcd(u).a.umod(u)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(u){return this.words[0]&u},a.prototype.bincn=function(u){n(typeof u=="number");var p=u%26,g=(u-p)/26,_=1<<p;if(this.length<=g)return this._expand(g+1),this.words[g]|=_,this;for(var A=_,y=g;A!==0&&y<this.length;y++){var b=this.words[y]|0;b+=A,A=b>>>26,b&=67108863,this.words[y]=b}return A!==0&&(this.words[y]=A,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(u){var p=u<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this._strip();var g;if(this.length>1)g=1;else{p&&(u=-u),n(u<=67108863,"Number is too big");var _=this.words[0]|0;g=_===u?0:_<u?-1:1}return this.negative!==0?-g|0:g},a.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var p=this.ucmp(u);return this.negative!==0?-p|0:p},a.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var p=0,g=this.length-1;g>=0;g--){var _=this.words[g]|0,A=u.words[g]|0;if(_!==A){_<A?p=-1:_>A&&(p=1);break}}return p},a.prototype.gtn=function(u){return this.cmpn(u)===1},a.prototype.gt=function(u){return this.cmp(u)===1},a.prototype.gten=function(u){return this.cmpn(u)>=0},a.prototype.gte=function(u){return this.cmp(u)>=0},a.prototype.ltn=function(u){return this.cmpn(u)===-1},a.prototype.lt=function(u){return this.cmp(u)===-1},a.prototype.lten=function(u){return this.cmpn(u)<=0},a.prototype.lte=function(u){return this.cmp(u)<=0},a.prototype.eqn=function(u){return this.cmpn(u)===0},a.prototype.eq=function(u){return this.cmp(u)===0},a.red=function(u){return new m(u)},a.prototype.toRed=function(u){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},a.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(u){return this.red=u,this},a.prototype.forceRed=function(u){return n(!this.red,"Already a number in reduction context"),this._forceRed(u)},a.prototype.redAdd=function(u){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},a.prototype.redIAdd=function(u){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},a.prototype.redSub=function(u){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},a.prototype.redISub=function(u){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},a.prototype.redShl=function(u){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},a.prototype.redMul=function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},a.prototype.redIMul=function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},a.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(u){return n(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var K={k256:null,p224:null,p192:null,p25519:null};function J(h,u){this.name=h,this.p=new a(u,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}J.prototype._tmp=function(){var u=new a(null);return u.words=new Array(Math.ceil(this.n/13)),u},J.prototype.ireduce=function(u){var p=u,g;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),g=p.bitLength();while(g>this.n);var _=g<this.n?-1:p.ucmp(this.p);return _===0?(p.words[0]=0,p.length=1):_>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},J.prototype.split=function(u,p){u.iushrn(this.n,0,p)},J.prototype.imulK=function(u){return u.imul(this.k)};function ie(){J.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(ie,J),ie.prototype.split=function(u,p){for(var g=4194303,_=Math.min(u.length,9),A=0;A<_;A++)p.words[A]=u.words[A];if(p.length=_,u.length<=9){u.words[0]=0,u.length=1;return}var y=u.words[9];for(p.words[p.length++]=y&g,A=10;A<u.length;A++){var b=u.words[A]|0;u.words[A-10]=(b&g)<<4|y>>>22,y=b}y>>>=22,u.words[A-10]=y,y===0&&u.length>10?u.length-=10:u.length-=9},ie.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var p=0,g=0;g<u.length;g++){var _=u.words[g]|0;p+=_*977,u.words[g]=p&67108863,p=_*64+(p/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function X(){J.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(X,J);function re(){J.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(re,J);function D(){J.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(D,J),D.prototype.imulK=function(u){for(var p=0,g=0;g<u.length;g++){var _=(u.words[g]|0)*19+p,A=_&67108863;_>>>=26,u.words[g]=A,p=_}return p!==0&&(u.words[u.length++]=p),u},a._prime=function(u){if(K[u])return K[u];var p;if(u==="k256")p=new ie;else if(u==="p224")p=new X;else if(u==="p192")p=new re;else if(u==="p25519")p=new D;else throw new Error("Unknown prime "+u);return K[u]=p,p};function m(h){if(typeof h=="string"){var u=a._prime(h);this.m=u.p,this.prime=u}else n(h.gtn(1),"modulus must be greater than 1"),this.m=h,this.prime=null}m.prototype._verify1=function(u){n(u.negative===0,"red works only with positives"),n(u.red,"red works only with red numbers")},m.prototype._verify2=function(u,p){n((u.negative|p.negative)===0,"red works only with positives"),n(u.red&&u.red===p.red,"red works only with red numbers")},m.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):(l(u,u.umod(this.m)._forceRed(this)),u)},m.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},m.prototype.add=function(u,p){this._verify2(u,p);var g=u.add(p);return g.cmp(this.m)>=0&&g.isub(this.m),g._forceRed(this)},m.prototype.iadd=function(u,p){this._verify2(u,p);var g=u.iadd(p);return g.cmp(this.m)>=0&&g.isub(this.m),g},m.prototype.sub=function(u,p){this._verify2(u,p);var g=u.sub(p);return g.cmpn(0)<0&&g.iadd(this.m),g._forceRed(this)},m.prototype.isub=function(u,p){this._verify2(u,p);var g=u.isub(p);return g.cmpn(0)<0&&g.iadd(this.m),g},m.prototype.shl=function(u,p){return this._verify1(u),this.imod(u.ushln(p))},m.prototype.imul=function(u,p){return this._verify2(u,p),this.imod(u.imul(p))},m.prototype.mul=function(u,p){return this._verify2(u,p),this.imod(u.mul(p))},m.prototype.isqr=function(u){return this.imul(u,u.clone())},m.prototype.sqr=function(u){return this.mul(u,u)},m.prototype.sqrt=function(u){if(u.isZero())return u.clone();var p=this.m.andln(3);if(n(p%2===1),p===3){var g=this.m.add(new a(1)).iushrn(2);return this.pow(u,g)}for(var _=this.m.subn(1),A=0;!_.isZero()&&_.andln(1)===0;)A++,_.iushrn(1);n(!_.isZero());var y=new a(1).toRed(this),b=y.redNeg(),w=this.m.subn(1).iushrn(1),v=this.m.bitLength();for(v=new a(2*v*v).toRed(this);this.pow(v,w).cmp(b)!==0;)v.redIAdd(b);for(var P=this.pow(v,_),j=this.pow(u,_.addn(1).iushrn(1)),I=this.pow(u,_),L=A;I.cmp(y)!==0;){for(var q=I,G=0;q.cmp(y)!==0;G++)q=q.redSqr();n(G<L);var V=this.pow(P,new a(1).iushln(L-G-1));j=j.redMul(V),P=V.redSqr(),I=I.redMul(P),L=G}return j},m.prototype.invm=function(u){var p=u._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},m.prototype.pow=function(u,p){if(p.isZero())return new a(1).toRed(this);if(p.cmpn(1)===0)return u.clone();var g=4,_=new Array(1<<g);_[0]=new a(1).toRed(this),_[1]=u;for(var A=2;A<_.length;A++)_[A]=this.mul(_[A-1],u);var y=_[0],b=0,w=0,v=p.bitLength()%26;for(v===0&&(v=26),A=p.length-1;A>=0;A--){for(var P=p.words[A],j=v-1;j>=0;j--){var I=P>>j&1;if(y!==_[0]&&(y=this.sqr(y)),I===0&&b===0){w=0;continue}b<<=1,b|=I,w++,!(w!==g&&(A!==0||j!==0))&&(y=this.mul(y,_[b]),w=0,b=0)}v=26}return y},m.prototype.convertTo=function(u){var p=u.umod(this.m);return p===u?p.clone():p},m.prototype.convertFrom=function(u){var p=u.clone();return p.red=null,p},a.mont=function(u){return new d(u)};function d(h){m.call(this,h),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(d,m),d.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},d.prototype.convertFrom=function(u){var p=this.imod(u.mul(this.rinv));return p.red=null,p},d.prototype.imul=function(u,p){if(u.isZero()||p.isZero())return u.words[0]=0,u.length=1,u;var g=u.imul(p),_=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=g.isub(_).iushrn(this.shift),y=A;return A.cmp(this.m)>=0?y=A.isub(this.m):A.cmpn(0)<0&&(y=A.iadd(this.m)),y._forceRed(this)},d.prototype.mul=function(u,p){if(u.isZero()||p.isZero())return new a(0)._forceRed(this);var g=u.mul(p),_=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=g.isub(_).iushrn(this.shift),y=A;return A.cmp(this.m)>=0?y=A.isub(this.m):A.cmpn(0)<0&&(y=A.iadd(this.m)),y._forceRed(this)},d.prototype.invm=function(u){var p=this.imod(u._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(t,Ye)})(Oh);var Qa=Oh.exports;const Ve=Yn(Qa),M7="logger/5.7.0";let rm=!1,nm=!1;const au={debug:1,default:2,info:2,warning:3,error:4,off:5};let im=au.default,Bd=null;function k7(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const am=k7();var Vl;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(Vl||(Vl={}));var Kn;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Kn||(Kn={}));const sm="0123456789abcdef";class Q{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();au[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(im>au[n])&&console.log.apply(console,r)}debug(...e){this._log(Q.levels.DEBUG,e)}info(...e){this._log(Q.levels.INFO,e)}warn(...e){this._log(Q.levels.WARNING,e)}makeError(e,r,n){if(nm)return this.makeError("censored error",r,{});r||(r=Q.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const f=n[c];try{if(f instanceof Uint8Array){let l="";for(let x=0;x<f.length;x++)l+=sm[f[x]>>4],l+=sm[f[x]&15];i.push(c+"=Uint8Array(0x"+l+")")}else i.push(c+"="+JSON.stringify(f))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const a=e;let s="";switch(r){case Kn.NUMERIC_FAULT:{s="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":s+="-"+c;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result";break}break}case Kn.CALL_EXCEPTION:case Kn.INSUFFICIENT_FUNDS:case Kn.MISSING_NEW:case Kn.NONCE_EXPIRED:case Kn.REPLACEMENT_UNDERPRICED:case Kn.TRANSACTION_REPLACED:case Kn.UNPREDICTABLE_GAS_LIMIT:s=r;break}s&&(e+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const o=new Error(e);return o.reason=a,o.code=r,Object.keys(n).forEach(function(c){o[c]=n[c]}),o}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Q.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){am&&this.throwError("platform missing String.prototype.normalize",Q.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:am})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Q.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Q.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Q.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Q.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Q.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Q.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Q.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return Bd||(Bd=new Q(M7)),Bd}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Q.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),rm){if(!e)return;this.globalLogger().throwError("error censorship permanent",Q.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}nm=!!e,rm=!!r}static setLogLevel(e){const r=au[e.toLowerCase()];if(r==null){Q.globalLogger().warn("invalid log level - "+e);return}im=r}static from(e){return new Q(e)}}Q.errors=Kn;Q.levels=Vl;const I7="bytes/5.7.0",Ft=new Q(I7);function I2(t){return!!t.toHexString}function _s(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return _s(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Tf(t){return At(t)&&!(t.length%2)||Mf(t)}function om(t){return typeof t=="number"&&t==t&&t%1===0}function Mf(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!om(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!om(r)||r<0||r>=256)return!1}return!0}function ue(t,e){if(e||(e={}),typeof t=="number"){Ft.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),_s(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),I2(t)&&(t=t.toHexString()),At(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":Ft.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return _s(new Uint8Array(n))}return Mf(t)?_s(new Uint8Array(t)):Ft.throwArgumentError("invalid arrayify value","value",t)}function Rt(t){const e=t.map(i=>ue(i)),r=e.reduce((i,a)=>i+a.length,0),n=new Uint8Array(r);return e.reduce((i,a)=>(n.set(a,i),i+a.length),0),_s(n)}function Bi(t){let e=ue(t);if(e.length===0)return e;let r=0;for(;r<e.length&&e[r]===0;)r++;return r&&(e=e.slice(r)),e}function su(t,e){t=ue(t),t.length>e&&Ft.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),_s(r)}function At(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const Od="0123456789abcdef";function fe(t,e){if(e||(e={}),typeof t=="number"){Ft.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=Od[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),I2(t))return t.toHexString();if(At(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":Ft.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(Mf(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=Od[(i&240)>>4]+Od[i&15]}return r}return Ft.throwArgumentError("invalid hexlify value","value",t)}function qa(t){if(typeof t!="string")t=fe(t);else if(!At(t)||t.length%2)return null;return(t.length-2)/2}function er(t,e,r){return typeof t!="string"?t=fe(t):(!At(t)||t.length%2)&&Ft.throwArgumentError("invalid hexData","value",t),e=2+2*e,r!=null?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function jr(t){let e="0x";return t.forEach(r=>{e+=fe(r).substring(2)}),e}function Lh(t){const e=S7(fe(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function S7(t){typeof t!="string"&&(t=fe(t)),At(t)||Ft.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function Pt(t,e){for(typeof t!="string"?t=fe(t):At(t)||Ft.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&Ft.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function Js(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(Tf(t)){let r=ue(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=fe(r.slice(0,32)),e.s=fe(r.slice(32,64))):r.length===65?(e.r=fe(r.slice(0,32)),e.s=fe(r.slice(32,64)),e.v=r[64]):Ft.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:Ft.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=fe(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=su(ue(e._vs),32);e._vs=fe(i);const a=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=a:e.recoveryParam!==a&&Ft.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const s=fe(i);e.s==null?e.s=s:e.s!==s&&Ft.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?Ft.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&Ft.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!At(e.r)?Ft.throwArgumentError("signature missing or invalid r","signature",t):e.r=Pt(e.r,32),e.s==null||!At(e.s)?Ft.throwArgumentError("signature missing or invalid s","signature",t):e.s=Pt(e.s,32);const r=ue(e.s);r[0]>=128&&Ft.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=fe(r);e._vs&&(At(e._vs)||Ft.throwArgumentError("signature invalid _vs","signature",t),e._vs=Pt(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&Ft.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function cm(t){return t=Js(t),fe(Rt([t.r,t.s,t.recoveryParam?"0x1c":"0x1b"]))}const C7="bignumber/5.7.0";var Su=Ve.BN;const ki=new Q(C7),Ld={},um=9007199254740991;let fm=!1,ve=class qn{constructor(e,r){e!==Ld&&ki.throwError("cannot call constructor directly; use BigNumber.from",Q.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return qr(ot(this).fromTwos(e))}toTwos(e){return qr(ot(this).toTwos(e))}abs(){return this._hex[0]==="-"?qn.from(this._hex.substring(1)):this}add(e){return qr(ot(this).add(ot(e)))}sub(e){return qr(ot(this).sub(ot(e)))}div(e){return qn.from(e).isZero()&&mn("division-by-zero","div"),qr(ot(this).div(ot(e)))}mul(e){return qr(ot(this).mul(ot(e)))}mod(e){const r=ot(e);return r.isNeg()&&mn("division-by-zero","mod"),qr(ot(this).umod(r))}pow(e){const r=ot(e);return r.isNeg()&&mn("negative-power","pow"),qr(ot(this).pow(r))}and(e){const r=ot(e);return(this.isNegative()||r.isNeg())&&mn("unbound-bitwise-result","and"),qr(ot(this).and(r))}or(e){const r=ot(e);return(this.isNegative()||r.isNeg())&&mn("unbound-bitwise-result","or"),qr(ot(this).or(r))}xor(e){const r=ot(e);return(this.isNegative()||r.isNeg())&&mn("unbound-bitwise-result","xor"),qr(ot(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&mn("negative-width","mask"),qr(ot(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&mn("negative-width","shl"),qr(ot(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&mn("negative-width","shr"),qr(ot(this).shrn(e))}eq(e){return ot(this).eq(ot(e))}lt(e){return ot(this).lt(ot(e))}lte(e){return ot(this).lte(ot(e))}gt(e){return ot(this).gt(ot(e))}gte(e){return ot(this).gte(ot(e))}isNegative(){return this._hex[0]==="-"}isZero(){return ot(this).isZero()}toNumber(){try{return ot(this).toNumber()}catch{mn("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return ki.throwError("this platform does not support BigInt",Q.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?fm||(fm=!0,ki.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?ki.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Q.errors.UNEXPECTED_ARGUMENT,{}):ki.throwError("BigNumber.toString does not accept parameters",Q.errors.UNEXPECTED_ARGUMENT,{})),ot(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof qn)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new qn(Ld,rc(e)):e.match(/^-?[0-9]+$/)?new qn(Ld,rc(new Su(e))):ki.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&mn("underflow","BigNumber.from",e),(e>=um||e<=-um)&&mn("overflow","BigNumber.from",e),qn.from(String(e));const r=e;if(typeof r=="bigint")return qn.from(r.toString());if(Mf(r))return qn.from(fe(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return qn.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(At(n)||n[0]==="-"&&At(n.substring(1))))return qn.from(n)}return ki.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}};function rc(t){if(typeof t!="string")return rc(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&ki.throwArgumentError("invalid hex","value",t),t=rc(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function qr(t){return ve.from(rc(t))}function ot(t){const e=ve.from(t).toHexString();return e[0]==="-"?new Su("-"+e.substring(3),16):new Su(e.substring(2),16)}function mn(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),ki.throwError(t,Q.errors.NUMERIC_FAULT,n)}function N7(t){return new Su(t,36).toString(16)}const R7="properties/5.7.0";var P7=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(l){try{f(n.next(l))}catch(x){s(x)}}function c(l){try{f(n.throw(l))}catch(x){s(x)}}function f(l){l.done?a(l.value):i(l.value).then(o,c)}f((n=n.apply(t,e||[])).next())})};const Cu=new Q(R7);function ae(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function on(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function Ut(t){return P7(this,void 0,void 0,function*(){const e=Object.keys(t).map(n=>{const i=t[n];return Promise.resolve(i).then(a=>({key:n,value:a}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}function S2(t,e){(!t||typeof t!="object")&&Cu.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(r=>{e[r]||Cu.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)})}function tr(t){const e={};for(const r in t)e[r]=t[r];return e}const B7={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function C2(t){if(t==null||B7[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch{continue}if(!C2(n))return!1}return!0}return Cu.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function O7(t){if(C2(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>Fi(e)));if(typeof t=="object"){const e={};for(const r in t){const n=t[r];n!==void 0&&ae(e,r,Fi(n))}return e}return Cu.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function Fi(t){return O7(t)}class Xa{constructor(e){for(const r in e)this[r]=Fi(e[r])}}const kc="abi/5.7.0",bt=new Q(kc),ja={};let dm={calldata:!0,memory:!0,storage:!0},L7={calldata:!0,memory:!0};function Wc(t,e){if(t==="bytes"||t==="string"){if(dm[e])return!0}else if(t==="address"){if(e==="payable")return!0}else if((t.indexOf("[")>=0||t==="tuple")&&L7[e])return!0;return(dm[e]||e==="payable")&&bt.throwArgumentError("invalid modifier","name",e),!1}function F7(t,e){let r=t;function n(o){bt.throwArgumentError(`unexpected character at position ${o}`,"param",t)}t=t.replace(/\s/g," ");function i(o){let c={type:"",name:"",parent:o,state:{allowType:!0}};return e&&(c.indexed=!1),c}let a={type:"",name:"",state:{allowType:!0}},s=a;for(let o=0;o<t.length;o++){let c=t[o];switch(c){case"(":s.state.allowType&&s.type===""?s.type="tuple":s.state.allowParams||n(o),s.state.allowType=!1,s.type=ms(s.type),s.components=[i(s)],s=s.components[0];break;case")":delete s.state,s.name==="indexed"&&(e||n(o),s.indexed=!0,s.name=""),Wc(s.type,s.name)&&(s.name=""),s.type=ms(s.type);let f=s;s=s.parent,s||n(o),delete f.parent,s.state.allowParams=!1,s.state.allowName=!0,s.state.allowArray=!0;break;case",":delete s.state,s.name==="indexed"&&(e||n(o),s.indexed=!0,s.name=""),Wc(s.type,s.name)&&(s.name=""),s.type=ms(s.type);let l=i(s.parent);s.parent.components.push(l),delete s.parent,s=l;break;case" ":s.state.allowType&&s.type!==""&&(s.type=ms(s.type),delete s.state.allowType,s.state.allowName=!0,s.state.allowParams=!0),s.state.allowName&&s.name!==""&&(s.name==="indexed"?(e||n(o),s.indexed&&n(o),s.indexed=!0,s.name=""):Wc(s.type,s.name)?s.name="":s.state.allowName=!1);break;case"[":s.state.allowArray||n(o),s.type+=c,s.state.allowArray=!1,s.state.allowName=!1,s.state.readArray=!0;break;case"]":s.state.readArray||n(o),s.type+=c,s.state.readArray=!1,s.state.allowArray=!0,s.state.allowName=!0;break;default:s.state.allowType?(s.type+=c,s.state.allowParams=!0,s.state.allowArray=!0):s.state.allowName?(s.name+=c,delete s.state.allowArray):s.state.readArray?s.type+=c:n(o)}}return s.parent&&bt.throwArgumentError("unexpected eof","param",t),delete a.state,s.name==="indexed"?(e||n(r.length-7),s.indexed&&n(r.length-7),s.indexed=!0,s.name=""):Wc(s.type,s.name)&&(s.name=""),a.type=ms(a.type),a}function ou(t,e){for(let r in e)ae(t,r,e[r])}const wt=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),D7=new RegExp(/^(.*)\[([0-9]*)\]$/);class sr{constructor(e,r){e!==ja&&bt.throwError("use fromString",Q.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),ou(this,r);let n=this.type.match(D7);n?ou(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:sr.fromObject({type:n[1],components:this.components}),baseType:"array"}):ou(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=wt.sighash),wt[e]||bt.throwArgumentError("invalid format type","format",e),e===wt.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(n)}let r="";return this.baseType==="array"?(r+=this.arrayChildren.format(e),r+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==wt.sighash&&(r+=this.type),r+="("+this.components.map(n=>n.format(e)).join(e===wt.full?", ":",")+")"):r+=this.type,e!==wt.sighash&&(this.indexed===!0&&(r+=" indexed"),e===wt.full&&this.name&&(r+=" "+this.name)),r}static from(e,r){return typeof e=="string"?sr.fromString(e,r):sr.fromObject(e)}static fromObject(e){return sr.isParamType(e)?e:new sr(ja,{name:e.name||null,type:ms(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(sr.fromObject):null})}static fromString(e,r){function n(i){return sr.fromObject({name:i.name,type:i.type,indexed:i.indexed,components:i.components})}return n(F7(e,!!r))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function nc(t,e){return $7(t).map(r=>sr.fromString(r,e))}class Ri{constructor(e,r){e!==ja&&bt.throwError("use a static from method",Q.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),ou(this,r),this._isFragment=!0,Object.freeze(this)}static from(e){return Ri.isFragment(e)?e:typeof e=="string"?Ri.fromString(e):Ri.fromObject(e)}static fromObject(e){if(Ri.isFragment(e))return e;switch(e.type){case"function":return fi.fromObject(e);case"event":return Ni.fromObject(e);case"constructor":return ui.fromObject(e);case"error":return ta.fromObject(e);case"fallback":case"receive":return null}return bt.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?Ni.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?fi.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?ui.fromString(e.trim()):e.split(" ")[0]==="error"?ta.fromString(e.substring(5).trim()):bt.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class Ni extends Ri{format(e){if(e||(e=wt.sighash),wt[e]||bt.throwArgumentError("invalid format type","format",e),e===wt.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==wt.sighash&&(r+="event "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===wt.full?", ":",")+") ",e!==wt.sighash&&this.anonymous&&(r+="anonymous "),r.trim()}static from(e){return typeof e=="string"?Ni.fromString(e):Ni.fromObject(e)}static fromObject(e){if(Ni.isEventFragment(e))return e;e.type!=="event"&&bt.throwArgumentError("invalid event object","value",e);const r={name:ic(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(sr.fromObject):[],type:"event"};return new Ni(ja,r)}static fromString(e){let r=e.match(ac);r||bt.throwArgumentError("invalid event string","value",e);let n=!1;return r[3].split(" ").forEach(i=>{switch(i.trim()){case"anonymous":n=!0;break;case"":break;default:bt.warn("unknown modifier: "+i)}}),Ni.fromObject({name:r[1].trim(),anonymous:n,inputs:nc(r[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function N2(t,e){e.gas=null;let r=t.split("@");return r.length!==1?(r.length>2&&bt.throwArgumentError("invalid human-readable ABI signature","value",t),r[1].match(/^[0-9]+$/)||bt.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=ve.from(r[1]),r[0]):t}function R2(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach(r=>{switch(r.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+r)}})}function P2(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return t.stateMutability!=null?(e.stateMutability=t.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",t.constant!=null&&!!t.constant!==e.constant&&bt.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable=e.stateMutability==="payable",t.payable!=null&&!!t.payable!==e.payable&&bt.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):t.payable!=null?(e.payable=!!t.payable,t.constant==null&&!e.payable&&t.type!=="constructor"&&bt.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&bt.throwArgumentError("cannot have constant payable function","value",t)):t.constant!=null?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):t.type!=="constructor"&&bt.throwArgumentError("unable to determine stateMutability","value",t),e}class ui extends Ri{format(e){if(e||(e=wt.sighash),wt[e]||bt.throwArgumentError("invalid format type","format",e),e===wt.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});e===wt.sighash&&bt.throwError("cannot format a constructor for sighash",Q.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let r="constructor("+this.inputs.map(n=>n.format(e)).join(e===wt.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "),r.trim()}static from(e){return typeof e=="string"?ui.fromString(e):ui.fromObject(e)}static fromObject(e){if(ui.isConstructorFragment(e))return e;e.type!=="constructor"&&bt.throwArgumentError("invalid constructor object","value",e);let r=P2(e);r.constant&&bt.throwArgumentError("constructor cannot be constant","value",e);const n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(sr.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?ve.from(e.gas):null};return new ui(ja,n)}static fromString(e){let r={type:"constructor"};e=N2(e,r);let n=e.match(ac);return(!n||n[1].trim()!=="constructor")&&bt.throwArgumentError("invalid constructor string","value",e),r.inputs=nc(n[2].trim(),!1),R2(n[3].trim(),r),ui.fromObject(r)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class fi extends ui{format(e){if(e||(e=wt.sighash),wt[e]||bt.throwArgumentError("invalid format type","format",e),e===wt.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==wt.sighash&&(r+="function "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===wt.full?", ":",")+") ",e!==wt.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "):this.constant&&(r+="view "),this.outputs&&this.outputs.length&&(r+="returns ("+this.outputs.map(n=>n.format(e)).join(", ")+") "),this.gas!=null&&(r+="@"+this.gas.toString()+" ")),r.trim()}static from(e){return typeof e=="string"?fi.fromString(e):fi.fromObject(e)}static fromObject(e){if(fi.isFunctionFragment(e))return e;e.type!=="function"&&bt.throwArgumentError("invalid function object","value",e);let r=P2(e);const n={type:e.type,name:ic(e.name),constant:r.constant,inputs:e.inputs?e.inputs.map(sr.fromObject):[],outputs:e.outputs?e.outputs.map(sr.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?ve.from(e.gas):null};return new fi(ja,n)}static fromString(e){let r={type:"function"};e=N2(e,r);let n=e.split(" returns ");n.length>2&&bt.throwArgumentError("invalid function string","value",e);let i=n[0].match(ac);if(i||bt.throwArgumentError("invalid function signature","value",e),r.name=i[1].trim(),r.name&&ic(r.name),r.inputs=nc(i[2],!1),R2(i[3].trim(),r),n.length>1){let a=n[1].match(ac);(a[1].trim()!=""||a[3].trim()!="")&&bt.throwArgumentError("unexpected tokens","value",e),r.outputs=nc(a[2],!1)}else r.outputs=[];return fi.fromObject(r)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function lm(t){const e=t.format();return(e==="Error(string)"||e==="Panic(uint256)")&&bt.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",t),t}class ta extends Ri{format(e){if(e||(e=wt.sighash),wt[e]||bt.throwArgumentError("invalid format type","format",e),e===wt.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==wt.sighash&&(r+="error "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===wt.full?", ":",")+") ",r.trim()}static from(e){return typeof e=="string"?ta.fromString(e):ta.fromObject(e)}static fromObject(e){if(ta.isErrorFragment(e))return e;e.type!=="error"&&bt.throwArgumentError("invalid error object","value",e);const r={type:e.type,name:ic(e.name),inputs:e.inputs?e.inputs.map(sr.fromObject):[]};return lm(new ta(ja,r))}static fromString(e){let r={type:"error"},n=e.match(ac);return n||bt.throwArgumentError("invalid error signature","value",e),r.name=n[1].trim(),r.name&&ic(r.name),r.inputs=nc(n[2],!1),lm(ta.fromObject(r))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}function ms(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}const U7=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function ic(t){return(!t||!t.match(U7))&&bt.throwArgumentError(`invalid identifier "${t}"`,"value",t),t}const ac=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function $7(t){t=t.trim();let e=[],r="",n=0;for(let i=0;i<t.length;i++){let a=t[i];a===","&&n===0?(e.push(r),r=""):(r+=a,a==="("?n++:a===")"&&(n--,n===-1&&bt.throwArgumentError("unbalanced parenthesis","value",t)))}return r&&e.push(r),e}const Fh=new Q(kc);function H7(t){const e=[],r=function(n,i){if(Array.isArray(i))for(let a in i){const s=n.slice();s.push(a);try{r(s,i[a])}catch(o){e.push({path:s,error:o})}}};return r([],t),e}class qi{constructor(e,r,n,i){this.name=e,this.type=r,this.localName=n,this.dynamic=i}_throwError(e,r){Fh.throwArgumentError(e,this.localName,r)}}class Wl{constructor(e){ae(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return jr(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(Rt(e._data))}writeBytes(e){let r=ue(e);const n=r.length%this.wordSize;return n&&(r=Rt([r,this._padding.slice(n)])),this._writeData(r)}_getValue(e){let r=ue(ve.from(e));return r.length>this.wordSize&&Fh.throwError("value out-of-bounds",Q.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:r.length}),r.length%this.wordSize&&(r=Rt([this._padding.slice(r.length%this.wordSize),r])),r}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,r=>{this._data[e]=this._getValue(r)}}}class Nu{constructor(e,r,n,i){ae(this,"_data",ue(e)),ae(this,"wordSize",r||32),ae(this,"_coerceFunc",n),ae(this,"allowLoose",i),this._offset=0}get data(){return fe(this._data)}get consumed(){return this._offset}static coerce(e,r){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(r=r.toNumber()),r}coerce(e,r){return this._coerceFunc?this._coerceFunc(e,r):Nu.coerce(e,r)}_peekBytes(e,r,n){let i=Math.ceil(r/this.wordSize)*this.wordSize;return this._offset+i>this._data.length&&(this.allowLoose&&n&&this._offset+r<=this._data.length?i=r:Fh.throwError("data out-of-bounds",Q.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+i})),this._data.slice(this._offset,this._offset+i)}subReader(e){return new Nu(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,r){let n=this._peekBytes(0,e,!!r);return this._offset+=n.length,n.slice(0,e)}readValue(){return ve.from(this.readBytes(this.wordSize))}}var B2={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(t){(function(){var e="input is invalid type",r="finalize already called",n=typeof window=="object",i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var a=!n&&typeof self=="object",s=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;s?i=Ye:a&&(i=self);var o=!i.JS_SHA3_NO_COMMON_JS&&!0&&t.exports,c=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",f="0123456789abcdef".split(""),l=[31,7936,2031616,520093696],x=[4,1024,262144,67108864],E=[1,256,65536,16777216],C=[6,1536,393216,100663296],M=[0,8,16,24],k=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],S=[224,256,384,512],R=[128,256],B=["hex","buffer","arrayBuffer","array","digest"],$={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(I){return Object.prototype.toString.call(I)==="[object Array]"}),c&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(I){return typeof I=="object"&&I.buffer&&I.buffer.constructor===ArrayBuffer});for(var H=function(I,L,q){return function(G){return new v(I,L,I).update(G)[q]()}},K=function(I,L,q){return function(G,V){return new v(I,L,V).update(G)[q]()}},J=function(I,L,q){return function(G,V,ne,U){return u["cshake"+I].update(G,V,ne,U)[q]()}},ie=function(I,L,q){return function(G,V,ne,U){return u["kmac"+I].update(G,V,ne,U)[q]()}},X=function(I,L,q,G){for(var V=0;V<B.length;++V){var ne=B[V];I[ne]=L(q,G,ne)}return I},re=function(I,L){var q=H(I,L,"hex");return q.create=function(){return new v(I,L,I)},q.update=function(G){return q.create().update(G)},X(q,H,I,L)},D=function(I,L){var q=K(I,L,"hex");return q.create=function(G){return new v(I,L,G)},q.update=function(G,V){return q.create(V).update(G)},X(q,K,I,L)},m=function(I,L){var q=$[I],G=J(I,L,"hex");return G.create=function(V,ne,U){return!ne&&!U?u["shake"+I].create(V):new v(I,L,V).bytepad([ne,U],q)},G.update=function(V,ne,U,F){return G.create(ne,U,F).update(V)},X(G,J,I,L)},d=function(I,L){var q=$[I],G=ie(I,L,"hex");return G.create=function(V,ne,U){return new P(I,L,ne).bytepad(["KMAC",U],q).bytepad([V],q)},G.update=function(V,ne,U,F){return G.create(V,U,F).update(ne)},X(G,ie,I,L)},h=[{name:"keccak",padding:E,bits:S,createMethod:re},{name:"sha3",padding:C,bits:S,createMethod:re},{name:"shake",padding:l,bits:R,createMethod:D},{name:"cshake",padding:x,bits:R,createMethod:m},{name:"kmac",padding:x,bits:R,createMethod:d}],u={},p=[],g=0;g<h.length;++g)for(var _=h[g],A=_.bits,y=0;y<A.length;++y){var b=_.name+"_"+A[y];if(p.push(b),u[b]=_.createMethod(A[y],_.padding),_.name!=="sha3"){var w=_.name+A[y];p.push(w),u[w]=u[b]}}function v(I,L,q){this.blocks=[],this.s=[],this.padding=L,this.outputBits=q,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(I<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=q>>5,this.extraBytes=(q&31)>>3;for(var G=0;G<50;++G)this.s[G]=0}v.prototype.update=function(I){if(this.finalized)throw new Error(r);var L,q=typeof I;if(q!=="string"){if(q==="object"){if(I===null)throw new Error(e);if(c&&I.constructor===ArrayBuffer)I=new Uint8Array(I);else if(!Array.isArray(I)&&(!c||!ArrayBuffer.isView(I)))throw new Error(e)}else throw new Error(e);L=!0}for(var G=this.blocks,V=this.byteCount,ne=I.length,U=this.blockCount,F=0,te=this.s,ee,oe;F<ne;){if(this.reset)for(this.reset=!1,G[0]=this.block,ee=1;ee<U+1;++ee)G[ee]=0;if(L)for(ee=this.start;F<ne&&ee<V;++F)G[ee>>2]|=I[F]<<M[ee++&3];else for(ee=this.start;F<ne&&ee<V;++F)oe=I.charCodeAt(F),oe<128?G[ee>>2]|=oe<<M[ee++&3]:oe<2048?(G[ee>>2]|=(192|oe>>6)<<M[ee++&3],G[ee>>2]|=(128|oe&63)<<M[ee++&3]):oe<55296||oe>=57344?(G[ee>>2]|=(224|oe>>12)<<M[ee++&3],G[ee>>2]|=(128|oe>>6&63)<<M[ee++&3],G[ee>>2]|=(128|oe&63)<<M[ee++&3]):(oe=65536+((oe&1023)<<10|I.charCodeAt(++F)&1023),G[ee>>2]|=(240|oe>>18)<<M[ee++&3],G[ee>>2]|=(128|oe>>12&63)<<M[ee++&3],G[ee>>2]|=(128|oe>>6&63)<<M[ee++&3],G[ee>>2]|=(128|oe&63)<<M[ee++&3]);if(this.lastByteIndex=ee,ee>=V){for(this.start=ee-V,this.block=G[U],ee=0;ee<U;++ee)te[ee]^=G[ee];j(te),this.reset=!0}else this.start=ee}return this},v.prototype.encode=function(I,L){var q=I&255,G=1,V=[q];for(I=I>>8,q=I&255;q>0;)V.unshift(q),I=I>>8,q=I&255,++G;return L?V.push(G):V.unshift(G),this.update(V),V.length},v.prototype.encodeString=function(I){var L,q=typeof I;if(q!=="string"){if(q==="object"){if(I===null)throw new Error(e);if(c&&I.constructor===ArrayBuffer)I=new Uint8Array(I);else if(!Array.isArray(I)&&(!c||!ArrayBuffer.isView(I)))throw new Error(e)}else throw new Error(e);L=!0}var G=0,V=I.length;if(L)G=V;else for(var ne=0;ne<I.length;++ne){var U=I.charCodeAt(ne);U<128?G+=1:U<2048?G+=2:U<55296||U>=57344?G+=3:(U=65536+((U&1023)<<10|I.charCodeAt(++ne)&1023),G+=4)}return G+=this.encode(G*8),this.update(I),G},v.prototype.bytepad=function(I,L){for(var q=this.encode(L),G=0;G<I.length;++G)q+=this.encodeString(I[G]);var V=L-q%L,ne=[];return ne.length=V,this.update(ne),this},v.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var I=this.blocks,L=this.lastByteIndex,q=this.blockCount,G=this.s;if(I[L>>2]|=this.padding[L&3],this.lastByteIndex===this.byteCount)for(I[0]=I[q],L=1;L<q+1;++L)I[L]=0;for(I[q-1]|=2147483648,L=0;L<q;++L)G[L]^=I[L];j(G)}},v.prototype.toString=v.prototype.hex=function(){this.finalize();for(var I=this.blockCount,L=this.s,q=this.outputBlocks,G=this.extraBytes,V=0,ne=0,U="",F;ne<q;){for(V=0;V<I&&ne<q;++V,++ne)F=L[V],U+=f[F>>4&15]+f[F&15]+f[F>>12&15]+f[F>>8&15]+f[F>>20&15]+f[F>>16&15]+f[F>>28&15]+f[F>>24&15];ne%I===0&&(j(L),V=0)}return G&&(F=L[V],U+=f[F>>4&15]+f[F&15],G>1&&(U+=f[F>>12&15]+f[F>>8&15]),G>2&&(U+=f[F>>20&15]+f[F>>16&15])),U},v.prototype.arrayBuffer=function(){this.finalize();var I=this.blockCount,L=this.s,q=this.outputBlocks,G=this.extraBytes,V=0,ne=0,U=this.outputBits>>3,F;G?F=new ArrayBuffer(q+1<<2):F=new ArrayBuffer(U);for(var te=new Uint32Array(F);ne<q;){for(V=0;V<I&&ne<q;++V,++ne)te[ne]=L[V];ne%I===0&&j(L)}return G&&(te[V]=L[V],F=F.slice(0,U)),F},v.prototype.buffer=v.prototype.arrayBuffer,v.prototype.digest=v.prototype.array=function(){this.finalize();for(var I=this.blockCount,L=this.s,q=this.outputBlocks,G=this.extraBytes,V=0,ne=0,U=[],F,te;ne<q;){for(V=0;V<I&&ne<q;++V,++ne)F=ne<<2,te=L[V],U[F]=te&255,U[F+1]=te>>8&255,U[F+2]=te>>16&255,U[F+3]=te>>24&255;ne%I===0&&j(L)}return G&&(F=ne<<2,te=L[V],U[F]=te&255,G>1&&(U[F+1]=te>>8&255),G>2&&(U[F+2]=te>>16&255)),U};function P(I,L,q){v.call(this,I,L,q)}P.prototype=new v,P.prototype.finalize=function(){return this.encode(this.outputBits,!0),v.prototype.finalize.call(this)};var j=function(I){var L,q,G,V,ne,U,F,te,ee,oe,ye,de,pe,Ze,Re,me,ze,Ce,be,qe,Ne,O,T,N,z,W,Y,Z,ge,xe,ce,Pe,he,we,ut,Be,Ae,ft,Oe,Ee,dt,Le,_e,lt,Fe,Te,ht,De,Me,pt,Ue,ke,mt,$e,Ie,st,rt,nt,Kt,Gt,Vt,Wt,Jt;for(G=0;G<48;G+=2)V=I[0]^I[10]^I[20]^I[30]^I[40],ne=I[1]^I[11]^I[21]^I[31]^I[41],U=I[2]^I[12]^I[22]^I[32]^I[42],F=I[3]^I[13]^I[23]^I[33]^I[43],te=I[4]^I[14]^I[24]^I[34]^I[44],ee=I[5]^I[15]^I[25]^I[35]^I[45],oe=I[6]^I[16]^I[26]^I[36]^I[46],ye=I[7]^I[17]^I[27]^I[37]^I[47],de=I[8]^I[18]^I[28]^I[38]^I[48],pe=I[9]^I[19]^I[29]^I[39]^I[49],L=de^(U<<1|F>>>31),q=pe^(F<<1|U>>>31),I[0]^=L,I[1]^=q,I[10]^=L,I[11]^=q,I[20]^=L,I[21]^=q,I[30]^=L,I[31]^=q,I[40]^=L,I[41]^=q,L=V^(te<<1|ee>>>31),q=ne^(ee<<1|te>>>31),I[2]^=L,I[3]^=q,I[12]^=L,I[13]^=q,I[22]^=L,I[23]^=q,I[32]^=L,I[33]^=q,I[42]^=L,I[43]^=q,L=U^(oe<<1|ye>>>31),q=F^(ye<<1|oe>>>31),I[4]^=L,I[5]^=q,I[14]^=L,I[15]^=q,I[24]^=L,I[25]^=q,I[34]^=L,I[35]^=q,I[44]^=L,I[45]^=q,L=te^(de<<1|pe>>>31),q=ee^(pe<<1|de>>>31),I[6]^=L,I[7]^=q,I[16]^=L,I[17]^=q,I[26]^=L,I[27]^=q,I[36]^=L,I[37]^=q,I[46]^=L,I[47]^=q,L=oe^(V<<1|ne>>>31),q=ye^(ne<<1|V>>>31),I[8]^=L,I[9]^=q,I[18]^=L,I[19]^=q,I[28]^=L,I[29]^=q,I[38]^=L,I[39]^=q,I[48]^=L,I[49]^=q,Ze=I[0],Re=I[1],Te=I[11]<<4|I[10]>>>28,ht=I[10]<<4|I[11]>>>28,Z=I[20]<<3|I[21]>>>29,ge=I[21]<<3|I[20]>>>29,Gt=I[31]<<9|I[30]>>>23,Vt=I[30]<<9|I[31]>>>23,Le=I[40]<<18|I[41]>>>14,_e=I[41]<<18|I[40]>>>14,we=I[2]<<1|I[3]>>>31,ut=I[3]<<1|I[2]>>>31,me=I[13]<<12|I[12]>>>20,ze=I[12]<<12|I[13]>>>20,De=I[22]<<10|I[23]>>>22,Me=I[23]<<10|I[22]>>>22,xe=I[33]<<13|I[32]>>>19,ce=I[32]<<13|I[33]>>>19,Wt=I[42]<<2|I[43]>>>30,Jt=I[43]<<2|I[42]>>>30,$e=I[5]<<30|I[4]>>>2,Ie=I[4]<<30|I[5]>>>2,Be=I[14]<<6|I[15]>>>26,Ae=I[15]<<6|I[14]>>>26,Ce=I[25]<<11|I[24]>>>21,be=I[24]<<11|I[25]>>>21,pt=I[34]<<15|I[35]>>>17,Ue=I[35]<<15|I[34]>>>17,Pe=I[45]<<29|I[44]>>>3,he=I[44]<<29|I[45]>>>3,N=I[6]<<28|I[7]>>>4,z=I[7]<<28|I[6]>>>4,st=I[17]<<23|I[16]>>>9,rt=I[16]<<23|I[17]>>>9,ft=I[26]<<25|I[27]>>>7,Oe=I[27]<<25|I[26]>>>7,qe=I[36]<<21|I[37]>>>11,Ne=I[37]<<21|I[36]>>>11,ke=I[47]<<24|I[46]>>>8,mt=I[46]<<24|I[47]>>>8,lt=I[8]<<27|I[9]>>>5,Fe=I[9]<<27|I[8]>>>5,W=I[18]<<20|I[19]>>>12,Y=I[19]<<20|I[18]>>>12,nt=I[29]<<7|I[28]>>>25,Kt=I[28]<<7|I[29]>>>25,Ee=I[38]<<8|I[39]>>>24,dt=I[39]<<8|I[38]>>>24,O=I[48]<<14|I[49]>>>18,T=I[49]<<14|I[48]>>>18,I[0]=Ze^~me&Ce,I[1]=Re^~ze&be,I[10]=N^~W&Z,I[11]=z^~Y&ge,I[20]=we^~Be&ft,I[21]=ut^~Ae&Oe,I[30]=lt^~Te&De,I[31]=Fe^~ht&Me,I[40]=$e^~st&nt,I[41]=Ie^~rt&Kt,I[2]=me^~Ce&qe,I[3]=ze^~be&Ne,I[12]=W^~Z&xe,I[13]=Y^~ge&ce,I[22]=Be^~ft&Ee,I[23]=Ae^~Oe&dt,I[32]=Te^~De&pt,I[33]=ht^~Me&Ue,I[42]=st^~nt&Gt,I[43]=rt^~Kt&Vt,I[4]=Ce^~qe&O,I[5]=be^~Ne&T,I[14]=Z^~xe&Pe,I[15]=ge^~ce&he,I[24]=ft^~Ee&Le,I[25]=Oe^~dt&_e,I[34]=De^~pt&ke,I[35]=Me^~Ue&mt,I[44]=nt^~Gt&Wt,I[45]=Kt^~Vt&Jt,I[6]=qe^~O&Ze,I[7]=Ne^~T&Re,I[16]=xe^~Pe&N,I[17]=ce^~he&z,I[26]=Ee^~Le&we,I[27]=dt^~_e&ut,I[36]=pt^~ke&lt,I[37]=Ue^~mt&Fe,I[46]=Gt^~Wt&$e,I[47]=Vt^~Jt&Ie,I[8]=O^~Ze&me,I[9]=T^~Re&ze,I[18]=Pe^~N&W,I[19]=he^~z&Y,I[28]=Le^~we&Be,I[29]=_e^~ut&Ae,I[38]=ke^~lt&Te,I[39]=mt^~Fe&ht,I[48]=Wt^~$e&st,I[49]=Jt^~Ie&rt,I[0]^=k[G],I[1]^=k[G+1]};if(o)t.exports=u;else for(g=0;g<p.length;++g)i[p[g]]=u[p[g]]})()})(B2);var O2=B2.exports;const z7=Yn(O2);function kt(t){return"0x"+z7.keccak_256(ue(t))}const q7="rlp/5.7.0",ai=new Q(q7);function hm(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function pm(t,e,r){let n=0;for(let i=0;i<r;i++)n=n*256+t[e+i];return n}function L2(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(a){n=n.concat(L2(a))}),n.length<=55)return n.unshift(192+n.length),n;const i=hm(n.length);return i.unshift(247+i.length),i.concat(n)}Tf(t)||ai.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(ue(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=hm(e.length);return r.unshift(183+r.length),r.concat(e)}function Ns(t){return fe(L2(t))}function mm(t,e,r,n){const i=[];for(;r<e+1+n;){const a=F2(t,r);i.push(a.result),r+=a.consumed,r>e+1+n&&ai.throwError("child data too short",Q.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function F2(t,e){if(t.length===0&&ai.throwError("data too short",Q.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&ai.throwError("data short segment too short",Q.errors.BUFFER_OVERRUN,{});const n=pm(t,e+1,r);return e+1+r+n>t.length&&ai.throwError("data long segment too short",Q.errors.BUFFER_OVERRUN,{}),mm(t,e,e+1+r,r+n)}else if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&ai.throwError("data array too short",Q.errors.BUFFER_OVERRUN,{}),mm(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&ai.throwError("data array too short",Q.errors.BUFFER_OVERRUN,{});const n=pm(t,e+1,r);e+1+r+n>t.length&&ai.throwError("data array too short",Q.errors.BUFFER_OVERRUN,{});const i=fe(t.slice(e+1+r,e+1+r+n));return{consumed:1+r+n,result:i}}else if(t[e]>=128){const r=t[e]-128;e+1+r>t.length&&ai.throwError("data too short",Q.errors.BUFFER_OVERRUN,{});const n=fe(t.slice(e+1,e+1+r));return{consumed:1+r,result:n}}return{consumed:1,result:fe(t[e])}}function Dh(t){const e=ue(t),r=F2(e,0);return r.consumed!==e.length&&ai.throwArgumentError("invalid rlp data","data",t),r.result}const j7="address/5.7.0",gs=new Q(j7);function ym(t){At(t,20)||gs.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=ue(kt(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const K7=9007199254740991;function G7(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const Uh={};for(let t=0;t<10;t++)Uh[String(t)]=String(t);for(let t=0;t<26;t++)Uh[String.fromCharCode(65+t)]=String(10+t);const bm=Math.floor(G7(K7));function V7(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>Uh[n]).join("");for(;e.length>=bm;){let n=e.substring(0,bm);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function Et(t){let e=null;if(typeof t!="string"&&gs.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=ym(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&gs.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==V7(t)&&gs.throwArgumentError("bad icap checksum","address",t),e=N7(t.substring(4));e.length<40;)e="0"+e;e=ym("0x"+e)}else gs.throwArgumentError("invalid address","address",t);return e}function D2(t){let e=null;try{e=Et(t.from)}catch{gs.throwArgumentError("missing from address","transaction",t)}const r=Bi(ue(ve.from(t.nonce).toHexString()));return Et(er(kt(Ns([e,r])),12))}class W7 extends qi{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){try{r=Et(r)}catch(n){this._throwError(n.message,r)}return e.writeValue(r)}decode(e){return Et(Pt(e.readValue().toHexString(),20))}}class J7 extends qi{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,r){return this.coder.encode(e,r)}decode(e){return this.coder.decode(e)}}const vs=new Q(kc);function U2(t,e,r){let n=null;if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let c={};n=e.map(f=>{const l=f.localName;return l||vs.throwError("cannot encode object for signature with missing names",Q.errors.INVALID_ARGUMENT,{argument:"values",coder:f,value:r}),c[l]&&vs.throwError("cannot encode object for signature with duplicate names",Q.errors.INVALID_ARGUMENT,{argument:"values",coder:f,value:r}),c[l]=!0,r[l]})}else vs.throwArgumentError("invalid tuple value","tuple",r);e.length!==n.length&&vs.throwArgumentError("types/value length mismatch","tuple",r);let i=new Wl(t.wordSize),a=new Wl(t.wordSize),s=[];e.forEach((c,f)=>{let l=n[f];if(c.dynamic){let x=a.length;c.encode(a,l);let E=i.writeUpdatableValue();s.push(C=>{E(C+x)})}else c.encode(i,l)}),s.forEach(c=>{c(i.length)});let o=t.appendWriter(i);return o+=t.appendWriter(a),o}function $2(t,e){let r=[],n=t.subReader(0);e.forEach(a=>{let s=null;if(a.dynamic){let o=t.readValue(),c=n.subReader(o.toNumber());try{s=a.decode(c)}catch(f){if(f.code===Q.errors.BUFFER_OVERRUN)throw f;s=f,s.baseType=a.name,s.name=a.localName,s.type=a.type}}else try{s=a.decode(t)}catch(o){if(o.code===Q.errors.BUFFER_OVERRUN)throw o;s=o,s.baseType=a.name,s.name=a.localName,s.type=a.type}s!=null&&r.push(s)});const i=e.reduce((a,s)=>{const o=s.localName;return o&&(a[o]||(a[o]=0),a[o]++),a},{});e.forEach((a,s)=>{let o=a.localName;if(!o||i[o]!==1||(o==="length"&&(o="_length"),r[o]!=null))return;const c=r[s];c instanceof Error?Object.defineProperty(r,o,{enumerable:!0,get:()=>{throw c}}):r[o]=c});for(let a=0;a<r.length;a++){const s=r[a];s instanceof Error&&Object.defineProperty(r,a,{enumerable:!0,get:()=>{throw s}})}return Object.freeze(r)}class Y7 extends qi{constructor(e,r,n){const i=e.type+"["+(r>=0?r:"")+"]",a=r===-1||e.dynamic;super("array",i,n,a),this.coder=e,this.length=r}defaultValue(){const e=this.coder.defaultValue(),r=[];for(let n=0;n<this.length;n++)r.push(e);return r}encode(e,r){Array.isArray(r)||this._throwError("expected array value",r);let n=this.length;n===-1&&(n=r.length,e.writeValue(r.length)),vs.checkArgumentCount(r.length,n,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let a=0;a<r.length;a++)i.push(this.coder);return U2(e,i,r)}decode(e){let r=this.length;r===-1&&(r=e.readValue().toNumber(),r*32>e._data.length&&vs.throwError("insufficient data length",Q.errors.BUFFER_OVERRUN,{length:e._data.length,count:r}));let n=[];for(let i=0;i<r;i++)n.push(new J7(this.coder));return e.coerce(this.name,$2(e,n))}}class Z7 extends qi{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){return e.writeValue(r?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class H2 extends qi{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=ue(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class Q7 extends H2{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,fe(super.decode(e)))}}class X7 extends qi{constructor(e,r){let n="bytes"+String(e);super(n,n,r,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,r){let n=ue(r);return n.length!==this.size&&this._throwError("incorrect data length",r),e.writeBytes(n)}decode(e){return e.coerce(this.name,fe(e.readBytes(this.size)))}}class e9 extends qi{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}const t9="0x0000000000000000000000000000000000000000",r9=ve.from(-1),z2=ve.from(0),n9=ve.from(1),i9=ve.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),q2="0x0000000000000000000000000000000000000000000000000000000000000000";class a9 extends qi{constructor(e,r,n){const i=(r?"int":"uint")+e*8;super(i,i,n,!1),this.size=e,this.signed=r}defaultValue(){return 0}encode(e,r){let n=ve.from(r),i=i9.mask(e.wordSize*8);if(this.signed){let a=i.mask(this.size*8-1);(n.gt(a)||n.lt(a.add(n9).mul(r9)))&&this._throwError("value out-of-bounds",r)}else(n.lt(z2)||n.gt(i.mask(this.size*8)))&&this._throwError("value out-of-bounds",r);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let r=e.readValue().mask(this.size*8);return this.signed&&(r=r.fromTwos(this.size*8)),e.coerce(this.name,r)}}const s9="strings/5.7.0",j2=new Q(s9);var fa;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(fa||(fa={}));var en;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(en||(en={}));function o9(t,e,r,n,i){return j2.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function K2(t,e,r,n,i){if(t===en.BAD_PREFIX||t===en.UNEXPECTED_CONTINUE){let a=0;for(let s=e+1;s<r.length&&r[s]>>6===2;s++)a++;return a}return t===en.OVERRUN?r.length-e-1:0}function c9(t,e,r,n,i){return t===en.OVERLONG?(n.push(i),0):(n.push(65533),K2(t,e,r))}const u9=Object.freeze({error:o9,ignore:K2,replace:c9});function G2(t,e){e==null&&(e=u9.error),t=ue(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(!(i>>7)){r.push(i);continue}let a=null,s=null;if((i&224)===192)a=1,s=127;else if((i&240)===224)a=2,s=2047;else if((i&248)===240)a=3,s=65535;else{(i&192)===128?n+=e(en.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(en.BAD_PREFIX,n-1,t,r);continue}if(n-1+a>=t.length){n+=e(en.OVERRUN,n-1,t,r);continue}let o=i&(1<<8-a-1)-1;for(let c=0;c<a;c++){let f=t[n];if((f&192)!=128){n+=e(en.MISSING_CONTINUE,n,t,r),o=null;break}o=o<<6|f&63,n++}if(o!==null){if(o>1114111){n+=e(en.OUT_OF_RANGE,n-1-a,t,r,o);continue}if(o>=55296&&o<=57343){n+=e(en.UTF16_SURROGATE,n-1-a,t,r,o);continue}if(o<=s){n+=e(en.OVERLONG,n-1-a,t,r,o);continue}r.push(o)}}return r}function jt(t,e=fa.current){e!=fa.current&&(j2.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const a=t.charCodeAt(n);if(n>=t.length||(a&64512)!==56320)throw new Error("invalid utf-8 string");const s=65536+((i&1023)<<10)+(a&1023);r.push(s>>18|240),r.push(s>>12&63|128),r.push(s>>6&63|128),r.push(s&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return ue(r)}function f9(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Ys(t,e){return f9(G2(t,e))}function d9(t,e=fa.current){return G2(jt(t,e))}function br(t){const e=jt(t);if(e.length>31)throw new Error("bytes32 string must be less than 32 bytes");return fe(Rt([e,q2]).slice(0,32))}function l9(t){const e=ue(t);if(e.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(e[31]!==0)throw new Error("invalid bytes32 string - no null terminator");let r=31;for(;e[r-1]===0;)r--;return Ys(e.slice(0,r))}class h9 extends H2{constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,jt(r))}decode(e){return Ys(super.decode(e))}}class Jc extends qi{constructor(e,r){let n=!1;const i=[];e.forEach(s=>{s.dynamic&&(n=!0),i.push(s.type)});const a="tuple("+i.join(",")+")";super("tuple",a,r,n),this.coders=e}defaultValue(){const e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});const r=this.coders.reduce((n,i)=>{const a=i.localName;return a&&(n[a]||(n[a]=0),n[a]++),n},{});return this.coders.forEach((n,i)=>{let a=n.localName;!a||r[a]!==1||(a==="length"&&(a="_length"),e[a]==null&&(e[a]=e[i]))}),Object.freeze(e)}encode(e,r){return U2(e,this.coders,r)}decode(e){return e.coerce(this.name,$2(e,this.coders))}}const Yc=new Q(kc),p9=new RegExp(/^bytes([0-9]*)$/),m9=new RegExp(/^(u?int)([0-9]*)$/);class y9{constructor(e){ae(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new W7(e.name);case"bool":return new Z7(e.name);case"string":return new h9(e.name);case"bytes":return new Q7(e.name);case"array":return new Y7(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new Jc((e.components||[]).map(n=>this._getCoder(n)),e.name);case"":return new e9(e.name)}let r=e.type.match(m9);if(r){let n=parseInt(r[2]||"256");return(n===0||n>256||n%8!==0)&&Yc.throwArgumentError("invalid "+r[1]+" bit length","param",e),new a9(n/8,r[1]==="int",e.name)}if(r=e.type.match(p9),r){let n=parseInt(r[1]);return(n===0||n>32)&&Yc.throwArgumentError("invalid bytes length","param",e),new X7(n,e.name)}return Yc.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,r){return new Nu(e,this._getWordSize(),this.coerceFunc,r)}_getWriter(){return new Wl(this._getWordSize())}getDefaultValue(e){const r=e.map(i=>this._getCoder(sr.from(i)));return new Jc(r,"_").defaultValue()}encode(e,r){e.length!==r.length&&Yc.throwError("types/values length mismatch",Q.errors.INVALID_ARGUMENT,{count:{types:e.length,values:r.length},value:{types:e,values:r}});const n=e.map(s=>this._getCoder(sr.from(s))),i=new Jc(n,"_"),a=this._getWriter();return i.encode(a,r),a.data}decode(e,r,n){const i=e.map(s=>this._getCoder(sr.from(s)));return new Jc(i,"_").decode(this._getReader(ue(r),n))}}const b9=new y9;function Ra(t){return kt(jt(t))}const V2="hash/5.7.0";function W2(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return ue(e)}function J2(t){t=ue(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}function Y2(t,e){e==null&&(e=1);const r=[],n=r.forEach,i=function(a,s){n.call(a,function(o){s>0&&Array.isArray(o)?i(o,s-1):r.push(o)})};return i(t,e),r}function x9(t){const e={};for(let r=0;r<t.length;r++){const n=t[r];e[n[0]]=n[1]}return e}function g9(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,a=[0,1];for(let K=1;K<n;K++)a.push(i+=r());let s=r(),o=e;e+=s;let c=0,f=0;function l(){return c==0&&(f=f<<8|t[e++],c=8),f>>--c&1}const x=31,E=Math.pow(2,x),C=E>>>1,M=C>>1,k=E-1;let S=0;for(let K=0;K<x;K++)S=S<<1|l();let R=[],B=0,$=E;for(;;){let K=Math.floor(((S-B+1)*i-1)/$),J=0,ie=n;for(;ie-J>1;){let D=J+ie>>>1;K<a[D]?ie=D:J=D}if(J==0)break;R.push(J);let X=B+Math.floor($*a[J]/i),re=B+Math.floor($*a[J+1]/i)-1;for(;!((X^re)&C);)S=S<<1&k|l(),X=X<<1&k,re=re<<1&k|1;for(;X&~re&M;)S=S&C|S<<1&k>>>1|l(),X=X<<1^C,re=(re^C)<<1|C|1;B=X,$=1+re-X}let H=n-4;return R.map(K=>{switch(K-H){case 3:return H+65792+(t[o++]<<16|t[o++]<<8|t[o++]);case 2:return H+256+(t[o++]<<8|t[o++]);case 1:return H+t[o++];default:return K-1}})}function v9(t){let e=0;return()=>t[e++]}function w9(t){return v9(g9(t))}function A9(t){return t&1?~t>>1:t>>1}function E9(t,e){let r=Array(t);for(let n=0;n<t;n++)r[n]=1+e();return r}function xm(t,e){let r=Array(t);for(let n=0,i=-1;n<t;n++)r[n]=i+=1+e();return r}function _9(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=A9(e());return r}function Ru(t,e){let r=xm(t(),t),n=t(),i=xm(n,t),a=E9(n,t);for(let s=0;s<n;s++)for(let o=0;o<a[s];o++)r.push(i[s]+o);return e?r.map(s=>e[s]):r}function T9(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(k9(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(I9(r,t))}return x9(Y2(e))}function M9(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(r)}return e}function Z2(t,e,r){let n=Array(t).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)_9(t,r).forEach((a,s)=>n[s].push(a));return n}function k9(t,e){let r=1+e(),n=e(),i=M9(e),a=Z2(i.length,1+t,e);return Y2(a.map((s,o)=>{const c=s[0],f=s.slice(1);return Array(i[o]).fill(void 0).map((l,x)=>{let E=x*n;return[c+x*r,f.map(C=>C+E)]})}))}function I9(t,e){let r=1+e();return Z2(r,1+t,e).map(i=>[i[0],i.slice(1)])}function S9(t){let e=Ru(t).sort((n,i)=>n-i);return r();function r(){let n=[];for(;;){let f=Ru(t,e);if(f.length==0)break;n.push({set:new Set(f),node:r()})}n.sort((f,l)=>l.set.size-f.set.size);let i=t(),a=i%3;i=i/3|0;let s=!!(i&1);i>>=1;let o=i==1,c=i==2;return{branches:n,valid:a,fe0f:s,save:o,check:c}}}function C9(){return w9(W2("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const kf=C9(),N9=new Set(Ru(kf)),R9=new Set(Ru(kf)),P9=T9(kf),B9=S9(kf),gm=45,vm=95;function Q2(t){return d9(t)}function O9(t){return t.filter(e=>e!=65039)}function X2(t){for(let e of t.split(".")){let r=Q2(e);try{for(let n=r.lastIndexOf(vm)-1;n>=0;n--)if(r[n]!==vm)throw new Error("underscore only allowed at start");if(r.length>=4&&r.every(n=>n<128)&&r[2]===gm&&r[3]===gm)throw new Error("invalid label extension")}catch(n){throw new Error(`Invalid label "${e}": ${n.message}`)}}return t}function L9(t){return X2(F9(t,O9))}function F9(t,e){let r=Q2(t).reverse(),n=[];for(;r.length;){let i=U9(r);if(i){n.push(...e(i));continue}let a=r.pop();if(N9.has(a)){n.push(a);continue}if(R9.has(a))continue;let s=P9[a];if(s){n.push(...s);continue}throw new Error(`Disallowed codepoint: 0x${a.toString(16).toUpperCase()}`)}return X2(D9(String.fromCodePoint(...n)))}function D9(t){return t.normalize("NFC")}function U9(t,e){var r;let n=B9,i,a,s=[],o=t.length;for(e&&(e.length=0);o;){let c=t[--o];if(n=(r=n.branches.find(f=>f.set.has(c)))===null||r===void 0?void 0:r.node,!n)break;if(n.save)a=c;else if(n.check&&c===a)break;s.push(c),n.fe0f&&(s.push(65039),o>0&&t[o-1]==65039&&o--),n.valid&&(i=s.slice(),n.valid==2&&i.splice(1,1),e&&e.push(...t.slice(o).reverse()),t.length=o)}return i}const $9=new Q(V2),ex=new Uint8Array(32);ex.fill(0);function wm(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}function tx(t){const e=jt(L9(t)),r=[];if(t.length===0)return r;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(r.push(wm(e.slice(n,i))),n=i+1);if(n>=e.length)throw new Error("invalid ENS name; empty component");return r.push(wm(e.slice(n))),r}function cu(t){typeof t!="string"&&$9.throwArgumentError("invalid ENS name; not a string","name",t);let e=ex;const r=tx(t);for(;r.length;)e=kt(Rt([e,kt(r.pop())]));return fe(e)}function H9(t){return fe(Rt(tx(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const r=new Uint8Array(e.length+1);return r.set(e,1),r[0]=r.length-1,r})))+"00"}const z9=`Ethereum Signed Message:
`;function q9(t){return typeof t=="string"&&(t=jt(t)),kt(Rt([jt(z9),jt(String(t.length)),t]))}var j9=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(l){try{f(n.next(l))}catch(x){s(x)}}function c(l){try{f(n.throw(l))}catch(x){s(x)}}function f(l){l.done?a(l.value):i(l.value).then(o,c)}f((n=n.apply(t,e||[])).next())})};const Ot=new Q(V2),rx=new Uint8Array(32);rx.fill(0);const K9=ve.from(-1),nx=ve.from(0),ix=ve.from(1),G9=ve.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function V9(t){const e=ue(t),r=e.length%32;return r?jr([e,rx.slice(r)]):fe(e)}const W9=Pt(ix.toHexString(),32),J9=Pt(nx.toHexString(),32),Am={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Fd=["name","version","chainId","verifyingContract","salt"];function Em(t){return function(e){return typeof e!="string"&&Ot.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const Y9={name:Em("name"),version:Em("version"),chainId:function(t){try{return ve.from(t).toString()}catch{}return Ot.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return Et(t).toLowerCase()}catch{}return Ot.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=ue(t);if(e.length!==32)throw new Error("bad length");return fe(e)}catch{}return Ot.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function Dd(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&Ot.throwArgumentError("invalid numeric width","type",t);const i=G9.mask(r?n-1:n),a=r?i.add(ix).mul(K9):nx;return function(s){const o=ve.from(s);return(o.lt(a)||o.gt(i))&&Ot.throwArgumentError(`value out-of-bounds for ${t}`,"value",s),Pt(o.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return(r===0||r>32||e[1]!==String(r))&&Ot.throwArgumentError("invalid bytes width","type",t),function(n){return ue(n).length!==r&&Ot.throwArgumentError(`invalid length for ${t}`,"value",n),V9(n)}}}switch(t){case"address":return function(e){return Pt(Et(e),32)};case"bool":return function(e){return e?W9:J9};case"bytes":return function(e){return kt(e)};case"string":return function(e){return Ra(e)}}return null}function _m(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}class $r{constructor(e){ae(this,"types",Object.freeze(Fi(e))),ae(this,"_encoderCache",{}),ae(this,"_types",{});const r={},n={},i={};Object.keys(e).forEach(o=>{r[o]={},n[o]=[],i[o]={}});for(const o in e){const c={};e[o].forEach(f=>{c[f.name]&&Ot.throwArgumentError(`duplicate variable name ${JSON.stringify(f.name)} in ${JSON.stringify(o)}`,"types",e),c[f.name]=!0;const l=f.type.match(/^([^\x5b]*)(\x5b|$)/)[1];l===o&&Ot.throwArgumentError(`circular type reference to ${JSON.stringify(l)}`,"types",e),!Dd(l)&&(n[l]||Ot.throwArgumentError(`unknown type ${JSON.stringify(l)}`,"types",e),n[l].push(o),r[o][l]=!0)})}const a=Object.keys(n).filter(o=>n[o].length===0);a.length===0?Ot.throwArgumentError("missing primary type","types",e):a.length>1&&Ot.throwArgumentError(`ambiguous primary types or unused types: ${a.map(o=>JSON.stringify(o)).join(", ")}`,"types",e),ae(this,"primaryType",a[0]);function s(o,c){c[o]&&Ot.throwArgumentError(`circular type reference to ${JSON.stringify(o)}`,"types",e),c[o]=!0,Object.keys(r[o]).forEach(f=>{n[f]&&(s(f,c),Object.keys(c).forEach(l=>{i[l][f]=!0}))}),delete c[o]}s(this.primaryType,{});for(const o in i){const c=Object.keys(i[o]);c.sort(),this._types[o]=_m(o,e[o])+c.map(f=>_m(f,e[f])).join("")}}getEncoder(e){let r=this._encoderCache[e];return r||(r=this._encoderCache[e]=this._getEncoder(e)),r}_getEncoder(e){{const i=Dd(e);if(i)return i}const r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){const i=r[1],a=this.getEncoder(i),s=parseInt(r[3]);return o=>{s>=0&&o.length!==s&&Ot.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",o);let c=o.map(a);return this._types[i]&&(c=c.map(kt)),kt(jr(c))}}const n=this.types[e];if(n){const i=Ra(this._types[e]);return a=>{const s=n.map(({name:o,type:c})=>{const f=this.getEncoder(c)(a[o]);return this._types[c]?kt(f):f});return s.unshift(i),jr(s)}}return Ot.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const r=this._types[e];return r||Ot.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return kt(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(Dd(e))return n(e,r);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const s=i[1],o=parseInt(i[3]);return o>=0&&r.length!==o&&Ot.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",r),r.map(c=>this._visit(s,c,n))}const a=this.types[e];return a?a.reduce((s,{name:o,type:c})=>(s[o]=this._visit(c,r[o],n),s),{}):Ot.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new $r(e)}static getPrimaryType(e){return $r.from(e).primaryType}static hashStruct(e,r,n){return $r.from(r).hashStruct(e,n)}static hashDomain(e){const r=[];for(const n in e){const i=Am[n];i||Ot.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:i})}return r.sort((n,i)=>Fd.indexOf(n.name)-Fd.indexOf(i.name)),$r.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return jr(["0x1901",$r.hashDomain(e),$r.from(r).hash(n)])}static hash(e,r,n){return kt($r.encode(e,r,n))}static resolveNames(e,r,n,i){return j9(this,void 0,void 0,function*(){e=tr(e);const a={};e.verifyingContract&&!At(e.verifyingContract,20)&&(a[e.verifyingContract]="0x");const s=$r.from(r);s.visit(n,(o,c)=>(o==="address"&&!At(c,20)&&(a[c]="0x"),c));for(const o in a)a[o]=yield i(o);return e.verifyingContract&&a[e.verifyingContract]&&(e.verifyingContract=a[e.verifyingContract]),n=s.visit(n,(o,c)=>o==="address"&&a[c]?a[c]:c),{domain:e,value:n}})}static getPayload(e,r,n){$r.hashDomain(e);const i={},a=[];Fd.forEach(c=>{const f=e[c];f!=null&&(i[c]=Y9[c](f),a.push({name:c,type:Am[c]}))});const s=$r.from(r),o=tr(r);return o.EIP712Domain?Ot.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):o.EIP712Domain=a,s.encode(n),{types:o,domain:i,primaryType:s.primaryType,message:s.visit(n,(c,f)=>{if(c.match(/^bytes(\d*)/))return fe(ue(f));if(c.match(/^u?int/))return ve.from(f).toString();switch(c){case"address":return f.toLowerCase();case"bool":return!!f;case"string":return typeof f!="string"&&Ot.throwArgumentError("invalid string","value",f),f}return Ot.throwArgumentError("unsupported type","type",c)})}}}const Bt=new Q(kc);class Z9 extends Xa{}class Q9 extends Xa{}class X9 extends Xa{}class Jl extends Xa{static isIndexed(e){return!!(e&&e._isIndexed)}}const eA={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function Tm(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);return r.error=e,r}class Di{constructor(e){let r=[];typeof e=="string"?r=JSON.parse(e):r=e,ae(this,"fragments",r.map(n=>Ri.from(n)).filter(n=>n!=null)),ae(this,"_abiCoder",on(new.target,"getAbiCoder")()),ae(this,"functions",{}),ae(this,"errors",{}),ae(this,"events",{}),ae(this,"structs",{}),this.fragments.forEach(n=>{let i=null;switch(n.type){case"constructor":if(this.deploy){Bt.warn("duplicate definition - constructor");return}ae(this,"deploy",n);return;case"function":i=this.functions;break;case"event":i=this.events;break;case"error":i=this.errors;break;default:return}let a=n.format();if(i[a]){Bt.warn("duplicate definition - "+a);return}i[a]=n}),this.deploy||ae(this,"deploy",ui.from({payable:!1,type:"constructor"})),ae(this,"_isInterface",!0)}format(e){e||(e=wt.full),e===wt.sighash&&Bt.throwArgumentError("interface does not support formatting sighash","format",e);const r=this.fragments.map(n=>n.format(e));return e===wt.json?JSON.stringify(r.map(n=>JSON.parse(n))):r}static getAbiCoder(){return b9}static getAddress(e){return Et(e)}static getSighash(e){return er(Ra(e.format()),0,4)}static getEventTopic(e){return Ra(e.format())}getFunction(e){if(At(e)){for(const n in this.functions)if(e===this.getSighash(n))return this.functions[n];Bt.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.functions).filter(a=>a.split("(")[0]===n);return i.length===0?Bt.throwArgumentError("no matching function","name",n):i.length>1&&Bt.throwArgumentError("multiple matching functions","name",n),this.functions[i[0]]}const r=this.functions[fi.fromString(e).format()];return r||Bt.throwArgumentError("no matching function","signature",e),r}getEvent(e){if(At(e)){const n=e.toLowerCase();for(const i in this.events)if(n===this.getEventTopic(i))return this.events[i];Bt.throwArgumentError("no matching event","topichash",n)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.events).filter(a=>a.split("(")[0]===n);return i.length===0?Bt.throwArgumentError("no matching event","name",n):i.length>1&&Bt.throwArgumentError("multiple matching events","name",n),this.events[i[0]]}const r=this.events[Ni.fromString(e).format()];return r||Bt.throwArgumentError("no matching event","signature",e),r}getError(e){if(At(e)){const n=on(this.constructor,"getSighash");for(const i in this.errors){const a=this.errors[i];if(e===n(a))return this.errors[i]}Bt.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.errors).filter(a=>a.split("(")[0]===n);return i.length===0?Bt.throwArgumentError("no matching error","name",n):i.length>1&&Bt.throwArgumentError("multiple matching errors","name",n),this.errors[i[0]]}const r=this.errors[fi.fromString(e).format()];return r||Bt.throwArgumentError("no matching error","signature",e),r}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(r){try{e=this.getError(e)}catch{throw r}}return on(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),on(this.constructor,"getEventTopic")(e)}_decodeParams(e,r){return this._abiCoder.decode(e,r)}_encodeParams(e,r){return this._abiCoder.encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){typeof e=="string"&&(e=this.getError(e));const n=ue(r);return fe(n.slice(0,4))!==this.getSighash(e)&&Bt.throwArgumentError(`data signature does not match error ${e.name}.`,"data",fe(n)),this._decodeParams(e.inputs,n.slice(4))}encodeErrorResult(e,r){return typeof e=="string"&&(e=this.getError(e)),fe(Rt([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionData(e,r){typeof e=="string"&&(e=this.getFunction(e));const n=ue(r);return fe(n.slice(0,4))!==this.getSighash(e)&&Bt.throwArgumentError(`data signature does not match function ${e.name}.`,"data",fe(n)),this._decodeParams(e.inputs,n.slice(4))}encodeFunctionData(e,r){return typeof e=="string"&&(e=this.getFunction(e)),fe(Rt([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionResult(e,r){typeof e=="string"&&(e=this.getFunction(e));let n=ue(r),i=null,a="",s=null,o=null,c=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch{}break;case 4:{const f=fe(n.slice(0,4)),l=eA[f];if(l)s=this._abiCoder.decode(l.inputs,n.slice(4)),o=l.name,c=l.signature,l.reason&&(i=s[0]),o==="Error"?a=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(s[0])}`:o==="Panic"&&(a=`; VM Exception while processing transaction: reverted with panic code ${s[0]}`);else try{const x=this.getError(f);s=this._abiCoder.decode(x.inputs,n.slice(4)),o=x.name,c=x.format()}catch{}break}}return Bt.throwError("call revert exception"+a,Q.errors.CALL_EXCEPTION,{method:e.format(),data:fe(r),errorArgs:s,errorName:o,errorSignature:c,reason:i})}encodeFunctionResult(e,r){return typeof e=="string"&&(e=this.getFunction(e)),fe(this._abiCoder.encode(e.outputs,r||[]))}encodeFilterTopics(e,r){typeof e=="string"&&(e=this.getEvent(e)),r.length>e.inputs.length&&Bt.throwError("too many arguments for "+e.format(),Q.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:r});let n=[];e.anonymous||n.push(this.getEventTopic(e));const i=(a,s)=>a.type==="string"?Ra(s):a.type==="bytes"?kt(fe(s)):(a.type==="bool"&&typeof s=="boolean"&&(s=s?"0x01":"0x00"),a.type.match(/^u?int/)&&(s=ve.from(s).toHexString()),a.type==="address"&&this._abiCoder.encode(["address"],[s]),Pt(fe(s),32));for(r.forEach((a,s)=>{let o=e.inputs[s];if(!o.indexed){a!=null&&Bt.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+o.name,a);return}a==null?n.push(null):o.baseType==="array"||o.baseType==="tuple"?Bt.throwArgumentError("filtering with tuples or arrays not supported","contract."+o.name,a):Array.isArray(a)?n.push(a.map(c=>i(o,c))):n.push(i(o,a))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){typeof e=="string"&&(e=this.getEvent(e));const n=[],i=[],a=[];return e.anonymous||n.push(this.getEventTopic(e)),r.length!==e.inputs.length&&Bt.throwArgumentError("event arguments/values mismatch","values",r),e.inputs.forEach((s,o)=>{const c=r[o];if(s.indexed)if(s.type==="string")n.push(Ra(c));else if(s.type==="bytes")n.push(kt(c));else{if(s.baseType==="tuple"||s.baseType==="array")throw new Error("not implemented");n.push(this._abiCoder.encode([s.type],[c]))}else i.push(s),a.push(c)}),{data:this._abiCoder.encode(i,a),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"&&(e=this.getEvent(e)),n!=null&&!e.anonymous){let E=this.getEventTopic(e);(!At(n[0],32)||n[0].toLowerCase()!==E)&&Bt.throwError("fragment/topic mismatch",Q.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:E,value:n[0]}),n=n.slice(1)}let i=[],a=[],s=[];e.inputs.forEach((E,C)=>{E.indexed?E.type==="string"||E.type==="bytes"||E.baseType==="tuple"||E.baseType==="array"?(i.push(sr.fromObject({type:"bytes32",name:E.name})),s.push(!0)):(i.push(E),s.push(!1)):(a.push(E),s.push(!1))});let o=n!=null?this._abiCoder.decode(i,Rt(n)):null,c=this._abiCoder.decode(a,r,!0),f=[],l=0,x=0;e.inputs.forEach((E,C)=>{if(E.indexed)if(o==null)f[C]=new Jl({_isIndexed:!0,hash:null});else if(s[C])f[C]=new Jl({_isIndexed:!0,hash:o[x++]});else try{f[C]=o[x++]}catch(M){f[C]=M}else try{f[C]=c[l++]}catch(M){f[C]=M}if(E.name&&f[E.name]==null){const M=f[C];M instanceof Error?Object.defineProperty(f,E.name,{enumerable:!0,get:()=>{throw Tm(`property ${JSON.stringify(E.name)}`,M)}}):f[E.name]=M}});for(let E=0;E<f.length;E++){const C=f[E];C instanceof Error&&Object.defineProperty(f,E,{enumerable:!0,get:()=>{throw Tm(`index ${E}`,C)}})}return Object.freeze(f)}parseTransaction(e){let r=this.getFunction(e.data.substring(0,10).toLowerCase());return r?new Q9({args:this._abiCoder.decode(r.inputs,"0x"+e.data.substring(10)),functionFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r),value:ve.from(e.value||"0")}):null}parseLog(e){let r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new Z9({eventFragment:r,name:r.name,signature:r.format(),topic:this.getEventTopic(r),args:this.decodeEventLog(r,e.data,e.topics)})}parseError(e){const r=fe(e);let n=this.getError(r.substring(0,10).toLowerCase());return n?new X9({args:this._abiCoder.decode(n.inputs,"0x"+r.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(e){return!!(e&&e._isInterface)}}const tA="abstract-provider/5.7.0";var rA=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(l){try{f(n.next(l))}catch(x){s(x)}}function c(l){try{f(n.throw(l))}catch(x){s(x)}}function f(l){l.done?a(l.value):i(l.value).then(o,c)}f((n=n.apply(t,e||[])).next())})};const nA=new Q(tA);class iA extends Xa{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class Zs{constructor(){nA.checkAbstract(new.target,Zs),ae(this,"_isProvider",!0)}getFeeData(){return rA(this,void 0,void 0,function*(){const{block:e,gasPrice:r}=yield Ut({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(s=>null)});let n=null,i=null,a=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,a=ve.from("1500000000"),i=e.baseFeePerGas.mul(2).add(a)),{lastBaseFeePerGas:n,maxFeePerGas:i,maxPriorityFeePerGas:a,gasPrice:r}})}addListener(e,r){return this.on(e,r)}removeListener(e,r){return this.off(e,r)}static isProvider(e){return!!(e&&e._isProvider)}}const aA="abstract-signer/5.7.0";var Un=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(l){try{f(n.next(l))}catch(x){s(x)}}function c(l){try{f(n.throw(l))}catch(x){s(x)}}function f(l){l.done?a(l.value):i(l.value).then(o,c)}f((n=n.apply(t,e||[])).next())})};const bn=new Q(aA),sA=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],oA=[Q.errors.INSUFFICIENT_FUNDS,Q.errors.NONCE_EXPIRED,Q.errors.REPLACEMENT_UNDERPRICED];class Qs{constructor(){bn.checkAbstract(new.target,Qs),ae(this,"_isSigner",!0)}getBalance(e){return Un(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return Un(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return Un(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const r=yield Ut(this.checkTransaction(e));return yield this.provider.estimateGas(r)})}call(e,r){return Un(this,void 0,void 0,function*(){this._checkProvider("call");const n=yield Ut(this.checkTransaction(e));return yield this.provider.call(n,r)})}sendTransaction(e){return Un(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const r=yield this.populateTransaction(e),n=yield this.signTransaction(r);return yield this.provider.sendTransaction(n)})}getChainId(){return Un(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return Un(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return Un(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return Un(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const n in e)sA.indexOf(n)===-1&&bn.throwArgumentError("invalid transaction key: "+n,"transaction",e);const r=tr(e);return r.from==null?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&bn.throwArgumentError("from address mismatch","transaction",e),n[0])),r}populateTransaction(e){return Un(this,void 0,void 0,function*(){const r=yield Ut(this.checkTransaction(e));r.to!=null&&(r.to=Promise.resolve(r.to).then(i=>Un(this,void 0,void 0,function*(){if(i==null)return null;const a=yield this.resolveName(i);return a==null&&bn.throwArgumentError("provided ENS name resolves to null","tx.to",i),a})),r.to.catch(i=>{}));const n=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||n)?bn.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(r.type===0||r.type===1)&&n&&bn.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1)r.gasPrice==null&&(r.gasPrice=this.getGasPrice());else{const i=yield this.getFeeData();if(r.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){const a=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=a,r.maxPriorityFeePerGas=a}else r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(n&&bn.throwError("network does not support EIP-1559",Q.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=i.gasPrice),r.type=0):bn.throwError("failed to get consistent fee data",Q.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else r.type===2&&(r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return r.nonce==null&&(r.nonce=this.getTransactionCount("pending")),r.gasLimit==null&&(r.gasLimit=this.estimateGas(r).catch(i=>{if(oA.indexOf(i.code)>=0)throw i;return bn.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Q.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:r})})),r.chainId==null?r.chainId=this.getChainId():r.chainId=Promise.all([Promise.resolve(r.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&bn.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield Ut(r)})}_checkProvider(e){this.provider||bn.throwError("missing provider",Q.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class $h extends Qs{constructor(e,r){super(),ae(this,"address",e),ae(this,"provider",r||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,r){return Promise.resolve().then(()=>{bn.throwError(e,Q.errors.UNSUPPORTED_OPERATION,{operation:r})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,r,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new $h(this.address,e)}}var Ic={},ct={},es=ax;function ax(t,e){if(!t)throw new Error(e||"Assertion failed")}ax.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var Yl={exports:{}};typeof Object.create=="function"?Yl.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Yl.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}};var Xt=Yl.exports,cA=es,uA=Xt;ct.inherits=uA;function fA(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function dA(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var a=t.charCodeAt(i);a<128?r[n++]=a:a<2048?(r[n++]=a>>6|192,r[n++]=a&63|128):fA(t,i)?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),r[n++]=a>>18|240,r[n++]=a>>12&63|128,r[n++]=a>>6&63|128,r[n++]=a&63|128):(r[n++]=a>>12|224,r[n++]=a>>6&63|128,r[n++]=a&63|128)}else for(i=0;i<t.length;i++)r[i]=t[i]|0;return r}ct.toArray=dA;function lA(t){for(var e="",r=0;r<t.length;r++)e+=ox(t[r].toString(16));return e}ct.toHex=lA;function sx(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}ct.htonl=sx;function hA(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];e==="little"&&(i=sx(i)),r+=cx(i.toString(16))}return r}ct.toHex32=hA;function ox(t){return t.length===1?"0"+t:t}ct.zero2=ox;function cx(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}ct.zero8=cx;function pA(t,e,r,n){var i=r-e;cA(i%4===0);for(var a=new Array(i/4),s=0,o=e;s<a.length;s++,o+=4){var c;n==="big"?c=t[o]<<24|t[o+1]<<16|t[o+2]<<8|t[o+3]:c=t[o+3]<<24|t[o+2]<<16|t[o+1]<<8|t[o],a[s]=c>>>0}return a}ct.join32=pA;function mA(t,e){for(var r=new Array(t.length*4),n=0,i=0;n<t.length;n++,i+=4){var a=t[n];e==="big"?(r[i]=a>>>24,r[i+1]=a>>>16&255,r[i+2]=a>>>8&255,r[i+3]=a&255):(r[i+3]=a>>>24,r[i+2]=a>>>16&255,r[i+1]=a>>>8&255,r[i]=a&255)}return r}ct.split32=mA;function yA(t,e){return t>>>e|t<<32-e}ct.rotr32=yA;function bA(t,e){return t<<e|t>>>32-e}ct.rotl32=bA;function xA(t,e){return t+e>>>0}ct.sum32=xA;function gA(t,e,r){return t+e+r>>>0}ct.sum32_3=gA;function vA(t,e,r,n){return t+e+r+n>>>0}ct.sum32_4=vA;function wA(t,e,r,n,i){return t+e+r+n+i>>>0}ct.sum32_5=wA;function AA(t,e,r,n){var i=t[e],a=t[e+1],s=n+a>>>0,o=(s<n?1:0)+r+i;t[e]=o>>>0,t[e+1]=s}ct.sum64=AA;function EA(t,e,r,n){var i=e+n>>>0,a=(i<e?1:0)+t+r;return a>>>0}ct.sum64_hi=EA;function _A(t,e,r,n){var i=e+n;return i>>>0}ct.sum64_lo=_A;function TA(t,e,r,n,i,a,s,o){var c=0,f=e;f=f+n>>>0,c+=f<e?1:0,f=f+a>>>0,c+=f<a?1:0,f=f+o>>>0,c+=f<o?1:0;var l=t+r+i+s+c;return l>>>0}ct.sum64_4_hi=TA;function MA(t,e,r,n,i,a,s,o){var c=e+n+a+o;return c>>>0}ct.sum64_4_lo=MA;function kA(t,e,r,n,i,a,s,o,c,f){var l=0,x=e;x=x+n>>>0,l+=x<e?1:0,x=x+a>>>0,l+=x<a?1:0,x=x+o>>>0,l+=x<o?1:0,x=x+f>>>0,l+=x<f?1:0;var E=t+r+i+s+c+l;return E>>>0}ct.sum64_5_hi=kA;function IA(t,e,r,n,i,a,s,o,c,f){var l=e+n+a+o+f;return l>>>0}ct.sum64_5_lo=IA;function SA(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}ct.rotr64_hi=SA;function CA(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}ct.rotr64_lo=CA;function NA(t,e,r){return t>>>r}ct.shr64_hi=NA;function RA(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}ct.shr64_lo=RA;var Xs={},Mm=ct,PA=es;function If(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Xs.BlockHash=If;If.prototype.update=function(e,r){if(e=Mm.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=Mm.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};If.prototype.digest=function(e){return this.update(this._pad()),PA(this.pending===null),this._digest(e)};If.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,i=new Array(n+this.padLength);i[0]=128;for(var a=1;a<n;a++)i[a]=0;if(e<<=3,this.endian==="big"){for(var s=8;s<this.padLength;s++)i[a++]=0;i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=e>>>24&255,i[a++]=e>>>16&255,i[a++]=e>>>8&255,i[a++]=e&255}else for(i[a++]=e&255,i[a++]=e>>>8&255,i[a++]=e>>>16&255,i[a++]=e>>>24&255,i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=0,s=8;s<this.padLength;s++)i[a++]=0;return i};var eo={},Ai={},BA=ct,pi=BA.rotr32;function OA(t,e,r,n){if(t===0)return ux(e,r,n);if(t===1||t===3)return dx(e,r,n);if(t===2)return fx(e,r,n)}Ai.ft_1=OA;function ux(t,e,r){return t&e^~t&r}Ai.ch32=ux;function fx(t,e,r){return t&e^t&r^e&r}Ai.maj32=fx;function dx(t,e,r){return t^e^r}Ai.p32=dx;function LA(t){return pi(t,2)^pi(t,13)^pi(t,22)}Ai.s0_256=LA;function FA(t){return pi(t,6)^pi(t,11)^pi(t,25)}Ai.s1_256=FA;function DA(t){return pi(t,7)^pi(t,18)^t>>>3}Ai.g0_256=DA;function UA(t){return pi(t,17)^pi(t,19)^t>>>10}Ai.g1_256=UA;var Rs=ct,$A=Xs,HA=Ai,Ud=Rs.rotl32,yo=Rs.sum32,zA=Rs.sum32_5,qA=HA.ft_1,lx=$A.BlockHash,jA=[1518500249,1859775393,2400959708,3395469782];function bi(){if(!(this instanceof bi))return new bi;lx.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Rs.inherits(bi,lx);var KA=bi;bi.blockSize=512;bi.outSize=160;bi.hmacStrength=80;bi.padLength=64;bi.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=Ud(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var a=this.h[0],s=this.h[1],o=this.h[2],c=this.h[3],f=this.h[4];for(i=0;i<n.length;i++){var l=~~(i/20),x=zA(Ud(a,5),qA(l,s,o,c),f,n[i],jA[l]);f=c,c=o,o=Ud(s,30),s=a,a=x}this.h[0]=yo(this.h[0],a),this.h[1]=yo(this.h[1],s),this.h[2]=yo(this.h[2],o),this.h[3]=yo(this.h[3],c),this.h[4]=yo(this.h[4],f)};bi.prototype._digest=function(e){return e==="hex"?Rs.toHex32(this.h,"big"):Rs.split32(this.h,"big")};var Ps=ct,GA=Xs,to=Ai,VA=es,$n=Ps.sum32,WA=Ps.sum32_4,JA=Ps.sum32_5,YA=to.ch32,ZA=to.maj32,QA=to.s0_256,XA=to.s1_256,eE=to.g0_256,tE=to.g1_256,hx=GA.BlockHash,rE=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function xi(){if(!(this instanceof xi))return new xi;hx.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=rE,this.W=new Array(64)}Ps.inherits(xi,hx);var px=xi;xi.blockSize=512;xi.outSize=256;xi.hmacStrength=192;xi.padLength=64;xi.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=WA(tE(n[i-2]),n[i-7],eE(n[i-15]),n[i-16]);var a=this.h[0],s=this.h[1],o=this.h[2],c=this.h[3],f=this.h[4],l=this.h[5],x=this.h[6],E=this.h[7];for(VA(this.k.length===n.length),i=0;i<n.length;i++){var C=JA(E,XA(f),YA(f,l,x),this.k[i],n[i]),M=$n(QA(a),ZA(a,s,o));E=x,x=l,l=f,f=$n(c,C),c=o,o=s,s=a,a=$n(C,M)}this.h[0]=$n(this.h[0],a),this.h[1]=$n(this.h[1],s),this.h[2]=$n(this.h[2],o),this.h[3]=$n(this.h[3],c),this.h[4]=$n(this.h[4],f),this.h[5]=$n(this.h[5],l),this.h[6]=$n(this.h[6],x),this.h[7]=$n(this.h[7],E)};xi.prototype._digest=function(e){return e==="hex"?Ps.toHex32(this.h,"big"):Ps.split32(this.h,"big")};var Zl=ct,mx=px;function Ui(){if(!(this instanceof Ui))return new Ui;mx.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Zl.inherits(Ui,mx);var nE=Ui;Ui.blockSize=512;Ui.outSize=224;Ui.hmacStrength=192;Ui.padLength=64;Ui.prototype._digest=function(e){return e==="hex"?Zl.toHex32(this.h.slice(0,7),"big"):Zl.split32(this.h.slice(0,7),"big")};var Wr=ct,iE=Xs,aE=es,mi=Wr.rotr64_hi,yi=Wr.rotr64_lo,yx=Wr.shr64_hi,bx=Wr.shr64_lo,Ji=Wr.sum64,$d=Wr.sum64_hi,Hd=Wr.sum64_lo,sE=Wr.sum64_4_hi,oE=Wr.sum64_4_lo,cE=Wr.sum64_5_hi,uE=Wr.sum64_5_lo,xx=iE.BlockHash,fE=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Jn(){if(!(this instanceof Jn))return new Jn;xx.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=fE,this.W=new Array(160)}Wr.inherits(Jn,xx);var gx=Jn;Jn.blockSize=1024;Jn.outSize=512;Jn.hmacStrength=192;Jn.padLength=128;Jn.prototype._prepareBlock=function(e,r){for(var n=this.W,i=0;i<32;i++)n[i]=e[r+i];for(;i<n.length;i+=2){var a=wE(n[i-4],n[i-3]),s=AE(n[i-4],n[i-3]),o=n[i-14],c=n[i-13],f=gE(n[i-30],n[i-29]),l=vE(n[i-30],n[i-29]),x=n[i-32],E=n[i-31];n[i]=sE(a,s,o,c,f,l,x,E),n[i+1]=oE(a,s,o,c,f,l,x,E)}};Jn.prototype._update=function(e,r){this._prepareBlock(e,r);var n=this.W,i=this.h[0],a=this.h[1],s=this.h[2],o=this.h[3],c=this.h[4],f=this.h[5],l=this.h[6],x=this.h[7],E=this.h[8],C=this.h[9],M=this.h[10],k=this.h[11],S=this.h[12],R=this.h[13],B=this.h[14],$=this.h[15];aE(this.k.length===n.length);for(var H=0;H<n.length;H+=2){var K=B,J=$,ie=bE(E,C),X=xE(E,C),re=dE(E,C,M,k,S),D=lE(E,C,M,k,S,R),m=this.k[H],d=this.k[H+1],h=n[H],u=n[H+1],p=cE(K,J,ie,X,re,D,m,d,h,u),g=uE(K,J,ie,X,re,D,m,d,h,u);K=mE(i,a),J=yE(i,a),ie=hE(i,a,s,o,c),X=pE(i,a,s,o,c,f);var _=$d(K,J,ie,X),A=Hd(K,J,ie,X);B=S,$=R,S=M,R=k,M=E,k=C,E=$d(l,x,p,g),C=Hd(x,x,p,g),l=c,x=f,c=s,f=o,s=i,o=a,i=$d(p,g,_,A),a=Hd(p,g,_,A)}Ji(this.h,0,i,a),Ji(this.h,2,s,o),Ji(this.h,4,c,f),Ji(this.h,6,l,x),Ji(this.h,8,E,C),Ji(this.h,10,M,k),Ji(this.h,12,S,R),Ji(this.h,14,B,$)};Jn.prototype._digest=function(e){return e==="hex"?Wr.toHex32(this.h,"big"):Wr.split32(this.h,"big")};function dE(t,e,r,n,i){var a=t&r^~t&i;return a<0&&(a+=4294967296),a}function lE(t,e,r,n,i,a){var s=e&n^~e&a;return s<0&&(s+=4294967296),s}function hE(t,e,r,n,i){var a=t&r^t&i^r&i;return a<0&&(a+=4294967296),a}function pE(t,e,r,n,i,a){var s=e&n^e&a^n&a;return s<0&&(s+=4294967296),s}function mE(t,e){var r=mi(t,e,28),n=mi(e,t,2),i=mi(e,t,7),a=r^n^i;return a<0&&(a+=4294967296),a}function yE(t,e){var r=yi(t,e,28),n=yi(e,t,2),i=yi(e,t,7),a=r^n^i;return a<0&&(a+=4294967296),a}function bE(t,e){var r=mi(t,e,14),n=mi(t,e,18),i=mi(e,t,9),a=r^n^i;return a<0&&(a+=4294967296),a}function xE(t,e){var r=yi(t,e,14),n=yi(t,e,18),i=yi(e,t,9),a=r^n^i;return a<0&&(a+=4294967296),a}function gE(t,e){var r=mi(t,e,1),n=mi(t,e,8),i=yx(t,e,7),a=r^n^i;return a<0&&(a+=4294967296),a}function vE(t,e){var r=yi(t,e,1),n=yi(t,e,8),i=bx(t,e,7),a=r^n^i;return a<0&&(a+=4294967296),a}function wE(t,e){var r=mi(t,e,19),n=mi(e,t,29),i=yx(t,e,6),a=r^n^i;return a<0&&(a+=4294967296),a}function AE(t,e){var r=yi(t,e,19),n=yi(e,t,29),i=bx(t,e,6),a=r^n^i;return a<0&&(a+=4294967296),a}var Ql=ct,vx=gx;function $i(){if(!(this instanceof $i))return new $i;vx.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Ql.inherits($i,vx);var EE=$i;$i.blockSize=1024;$i.outSize=384;$i.hmacStrength=192;$i.padLength=128;$i.prototype._digest=function(e){return e==="hex"?Ql.toHex32(this.h.slice(0,12),"big"):Ql.split32(this.h.slice(0,12),"big")};eo.sha1=KA;eo.sha224=nE;eo.sha256=px;eo.sha384=EE;eo.sha512=gx;var wx={},Ka=ct,_E=Xs,Zc=Ka.rotl32,km=Ka.sum32,bo=Ka.sum32_3,Im=Ka.sum32_4,Ax=_E.BlockHash;function gi(){if(!(this instanceof gi))return new gi;Ax.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Ka.inherits(gi,Ax);wx.ripemd160=gi;gi.blockSize=512;gi.outSize=160;gi.hmacStrength=192;gi.padLength=64;gi.prototype._update=function(e,r){for(var n=this.h[0],i=this.h[1],a=this.h[2],s=this.h[3],o=this.h[4],c=n,f=i,l=a,x=s,E=o,C=0;C<80;C++){var M=km(Zc(Im(n,Sm(C,i,a,s),e[kE[C]+r],TE(C)),SE[C]),o);n=o,o=s,s=Zc(a,10),a=i,i=M,M=km(Zc(Im(c,Sm(79-C,f,l,x),e[IE[C]+r],ME(C)),CE[C]),E),c=E,E=x,x=Zc(l,10),l=f,f=M}M=bo(this.h[1],a,x),this.h[1]=bo(this.h[2],s,E),this.h[2]=bo(this.h[3],o,c),this.h[3]=bo(this.h[4],n,f),this.h[4]=bo(this.h[0],i,l),this.h[0]=M};gi.prototype._digest=function(e){return e==="hex"?Ka.toHex32(this.h,"little"):Ka.split32(this.h,"little")};function Sm(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function TE(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function ME(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var kE=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],IE=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],SE=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],CE=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],NE=ct,RE=es;function Bs(t,e,r){if(!(this instanceof Bs))return new Bs(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(NE.toArray(e,r))}var PE=Bs;Bs.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),RE(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};Bs.prototype.update=function(e,r){return this.inner.update(e,r),this};Bs.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(t){var e=t;e.utils=ct,e.common=Xs,e.sha=eo,e.ripemd=wx,e.hmac=PE,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(Ic);const Xr=Yn(Ic);function ro(t,e,r){return r={path:e,exports:{},require:function(n,i){return BE(n,i??r.path)}},t(r,r.exports),r.exports}function BE(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var Hh=Ex;function Ex(t,e){if(!t)throw new Error(e||"Assertion failed")}Ex.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var Vn=ro(function(t,e){var r=e;function n(s,o){if(Array.isArray(s))return s.slice();if(!s)return[];var c=[];if(typeof s!="string"){for(var f=0;f<s.length;f++)c[f]=s[f]|0;return c}if(o==="hex"){s=s.replace(/[^a-z0-9]+/ig,""),s.length%2!==0&&(s="0"+s);for(var f=0;f<s.length;f+=2)c.push(parseInt(s[f]+s[f+1],16))}else for(var f=0;f<s.length;f++){var l=s.charCodeAt(f),x=l>>8,E=l&255;x?c.push(x,E):c.push(E)}return c}r.toArray=n;function i(s){return s.length===1?"0"+s:s}r.zero2=i;function a(s){for(var o="",c=0;c<s.length;c++)o+=i(s[c].toString(16));return o}r.toHex=a,r.encode=function(o,c){return c==="hex"?a(o):o}}),ln=ro(function(t,e){var r=e;r.assert=Hh,r.toArray=Vn.toArray,r.zero2=Vn.zero2,r.toHex=Vn.toHex,r.encode=Vn.encode;function n(c,f,l){var x=new Array(Math.max(c.bitLength(),l)+1);x.fill(0);for(var E=1<<f+1,C=c.clone(),M=0;M<x.length;M++){var k,S=C.andln(E-1);C.isOdd()?(S>(E>>1)-1?k=(E>>1)-S:k=S,C.isubn(k)):k=0,x[M]=k,C.iushrn(1)}return x}r.getNAF=n;function i(c,f){var l=[[],[]];c=c.clone(),f=f.clone();for(var x=0,E=0,C;c.cmpn(-x)>0||f.cmpn(-E)>0;){var M=c.andln(3)+x&3,k=f.andln(3)+E&3;M===3&&(M=-1),k===3&&(k=-1);var S;M&1?(C=c.andln(7)+x&7,(C===3||C===5)&&k===2?S=-M:S=M):S=0,l[0].push(S);var R;k&1?(C=f.andln(7)+E&7,(C===3||C===5)&&M===2?R=-k:R=k):R=0,l[1].push(R),2*x===S+1&&(x=1-x),2*E===R+1&&(E=1-E),c.iushrn(1),f.iushrn(1)}return l}r.getJSF=i;function a(c,f,l){var x="_"+f;c.prototype[f]=function(){return this[x]!==void 0?this[x]:this[x]=l.call(this)}}r.cachedProperty=a;function s(c){return typeof c=="string"?r.toArray(c,"hex"):c}r.parseBytes=s;function o(c){return new Ve(c,"hex","le")}r.intFromLE=o}),Pu=ln.getNAF,OE=ln.getJSF,Bu=ln.assert;function ya(t,e){this.type=t,this.p=new Ve(e.p,16),this.red=e.prime?Ve.red(e.prime):Ve.mont(this.p),this.zero=new Ve(0).toRed(this.red),this.one=new Ve(1).toRed(this.red),this.two=new Ve(2).toRed(this.red),this.n=e.n&&new Ve(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var ts=ya;ya.prototype.point=function(){throw new Error("Not implemented")};ya.prototype.validate=function(){throw new Error("Not implemented")};ya.prototype._fixedNafMul=function(e,r){Bu(e.precomputed);var n=e._getDoubles(),i=Pu(r,1,this._bitLength),a=(1<<n.step+1)-(n.step%2===0?2:1);a/=3;var s=[],o,c;for(o=0;o<i.length;o+=n.step){c=0;for(var f=o+n.step-1;f>=o;f--)c=(c<<1)+i[f];s.push(c)}for(var l=this.jpoint(null,null,null),x=this.jpoint(null,null,null),E=a;E>0;E--){for(o=0;o<s.length;o++)c=s[o],c===E?x=x.mixedAdd(n.points[o]):c===-E&&(x=x.mixedAdd(n.points[o].neg()));l=l.add(x)}return l.toP()};ya.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var a=i.points,s=Pu(r,n,this._bitLength),o=this.jpoint(null,null,null),c=s.length-1;c>=0;c--){for(var f=0;c>=0&&s[c]===0;c--)f++;if(c>=0&&f++,o=o.dblp(f),c<0)break;var l=s[c];Bu(l!==0),e.type==="affine"?l>0?o=o.mixedAdd(a[l-1>>1]):o=o.mixedAdd(a[-l-1>>1].neg()):l>0?o=o.add(a[l-1>>1]):o=o.add(a[-l-1>>1].neg())}return e.type==="affine"?o.toP():o};ya.prototype._wnafMulAdd=function(e,r,n,i,a){var s=this._wnafT1,o=this._wnafT2,c=this._wnafT3,f=0,l,x,E;for(l=0;l<i;l++){E=r[l];var C=E._getNAFPoints(e);s[l]=C.wnd,o[l]=C.points}for(l=i-1;l>=1;l-=2){var M=l-1,k=l;if(s[M]!==1||s[k]!==1){c[M]=Pu(n[M],s[M],this._bitLength),c[k]=Pu(n[k],s[k],this._bitLength),f=Math.max(c[M].length,f),f=Math.max(c[k].length,f);continue}var S=[r[M],null,null,r[k]];r[M].y.cmp(r[k].y)===0?(S[1]=r[M].add(r[k]),S[2]=r[M].toJ().mixedAdd(r[k].neg())):r[M].y.cmp(r[k].y.redNeg())===0?(S[1]=r[M].toJ().mixedAdd(r[k]),S[2]=r[M].add(r[k].neg())):(S[1]=r[M].toJ().mixedAdd(r[k]),S[2]=r[M].toJ().mixedAdd(r[k].neg()));var R=[-3,-1,-5,-7,0,7,5,1,3],B=OE(n[M],n[k]);for(f=Math.max(B[0].length,f),c[M]=new Array(f),c[k]=new Array(f),x=0;x<f;x++){var $=B[0][x]|0,H=B[1][x]|0;c[M][x]=R[($+1)*3+(H+1)],c[k][x]=0,o[M]=S}}var K=this.jpoint(null,null,null),J=this._wnafT4;for(l=f;l>=0;l--){for(var ie=0;l>=0;){var X=!0;for(x=0;x<i;x++)J[x]=c[x][l]|0,J[x]!==0&&(X=!1);if(!X)break;ie++,l--}if(l>=0&&ie++,K=K.dblp(ie),l<0)break;for(x=0;x<i;x++){var re=J[x];re!==0&&(re>0?E=o[x][re-1>>1]:re<0&&(E=o[x][-re-1>>1].neg()),E.type==="affine"?K=K.mixedAdd(E):K=K.add(E))}}for(l=0;l<i;l++)o[l]=null;return a?K:K.toP()};function Nn(t,e){this.curve=t,this.type=e,this.precomputed=null}ya.BasePoint=Nn;Nn.prototype.eq=function(){throw new Error("Not implemented")};Nn.prototype.validate=function(){return this.curve.validate(this)};ya.prototype.decodePoint=function(e,r){e=ln.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?Bu(e[e.length-1]%2===0):e[0]===7&&Bu(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Nn.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Nn.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Nn.prototype.encode=function(e,r){return ln.encode(this._encode(r),e)};Nn.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Nn.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Nn.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,a=0;a<r;a+=e){for(var s=0;s<e;s++)i=i.dbl();n.push(i)}return{step:e,points:n}};Nn.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),a=1;a<n;a++)r[a]=r[a-1].add(i);return{wnd:e,points:r}};Nn.prototype._getBeta=function(){return null};Nn.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var zh=ro(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),LE=ln.assert;function Rn(t){ts.call(this,"short",t),this.a=new Ve(t.a,16).toRed(this.red),this.b=new Ve(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}zh(Rn,ts);var FE=Rn;Rn.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new Ve(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new Ve(e.lambda,16);else{var a=this._getEndoRoots(this.n);this.g.mul(a[0]).x.cmp(this.g.x.redMul(r))===0?n=a[0]:(n=a[1],LE(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var s;return e.basis?s=e.basis.map(function(o){return{a:new Ve(o.a,16),b:new Ve(o.b,16)}}):s=this._getEndoBasis(n),{beta:r,lambda:n,basis:s}}};Rn.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:Ve.mont(e),n=new Ve(2).toRed(r).redInvm(),i=n.redNeg(),a=new Ve(3).toRed(r).redNeg().redSqrt().redMul(n),s=i.redAdd(a).fromRed(),o=i.redSub(a).fromRed();return[s,o]};Rn.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),a=new Ve(1),s=new Ve(0),o=new Ve(0),c=new Ve(1),f,l,x,E,C,M,k,S=0,R,B;n.cmpn(0)!==0;){var $=i.div(n);R=i.sub($.mul(n)),B=o.sub($.mul(a));var H=c.sub($.mul(s));if(!x&&R.cmp(r)<0)f=k.neg(),l=a,x=R.neg(),E=B;else if(x&&++S===2)break;k=R,i=n,n=R,o=a,a=B,c=s,s=H}C=R.neg(),M=B;var K=x.sqr().add(E.sqr()),J=C.sqr().add(M.sqr());return J.cmp(K)>=0&&(C=f,M=l),x.negative&&(x=x.neg(),E=E.neg()),C.negative&&(C=C.neg(),M=M.neg()),[{a:x,b:E},{a:C,b:M}]};Rn.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],a=i.b.mul(e).divRound(this.n),s=n.b.neg().mul(e).divRound(this.n),o=a.mul(n.a),c=s.mul(i.a),f=a.mul(n.b),l=s.mul(i.b),x=e.sub(o).sub(c),E=f.add(l).neg();return{k1:x,k2:E}};Rn.prototype.pointFromX=function(e,r){e=new Ve(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var a=i.fromRed().isOdd();return(r&&!a||!r&&a)&&(i=i.redNeg()),this.point(e,i)};Rn.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),a=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(a).cmpn(0)===0};Rn.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,a=this._endoWnafT2,s=0;s<e.length;s++){var o=this._endoSplit(r[s]),c=e[s],f=c._getBeta();o.k1.negative&&(o.k1.ineg(),c=c.neg(!0)),o.k2.negative&&(o.k2.ineg(),f=f.neg(!0)),i[s*2]=c,i[s*2+1]=f,a[s*2]=o.k1,a[s*2+1]=o.k2}for(var l=this._wnafMulAdd(1,i,a,s*2,n),x=0;x<s*2;x++)i[x]=null,a[x]=null;return l};function dr(t,e,r,n){ts.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Ve(e,16),this.y=new Ve(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}zh(dr,ts.BasePoint);Rn.prototype.point=function(e,r,n){return new dr(this,e,r,n)};Rn.prototype.pointFromJSON=function(e,r){return dr.fromJSON(this,e,r)};dr.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(a){return n.point(a.x.redMul(n.endo.beta),a.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};dr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};dr.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function a(o){return e.point(o[0],o[1],n)}var s=r[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(a))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(a))}},i};dr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};dr.prototype.isInfinity=function(){return this.inf};dr.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};dr.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),a=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),s=a.redSqr().redISub(this.x.redAdd(this.x)),o=a.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)};dr.prototype.getX=function(){return this.x.fromRed()};dr.prototype.getY=function(){return this.y.fromRed()};dr.prototype.mul=function(e){return e=new Ve(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};dr.prototype.mulAdd=function(e,r,n){var i=[this,r],a=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,a):this.curve._wnafMulAdd(1,i,a,2)};dr.prototype.jmulAdd=function(e,r,n){var i=[this,r],a=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,a,!0):this.curve._wnafMulAdd(1,i,a,2,!0)};dr.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};dr.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(a){return a.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};dr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function mr(t,e,r,n){ts.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Ve(0)):(this.x=new Ve(e,16),this.y=new Ve(r,16),this.z=new Ve(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}zh(mr,ts.BasePoint);Rn.prototype.jpoint=function(e,r,n){return new mr(this,e,r,n)};mr.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};mr.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};mr.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),a=e.x.redMul(n),s=this.y.redMul(r.redMul(e.z)),o=e.y.redMul(n.redMul(this.z)),c=i.redSub(a),f=s.redSub(o);if(c.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=c.redSqr(),x=l.redMul(c),E=i.redMul(l),C=f.redSqr().redIAdd(x).redISub(E).redISub(E),M=f.redMul(E.redISub(C)).redISub(s.redMul(x)),k=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(C,M,k)};mr.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),a=this.y,s=e.y.redMul(r).redMul(this.z),o=n.redSub(i),c=a.redSub(s);if(o.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var f=o.redSqr(),l=f.redMul(o),x=n.redMul(f),E=c.redSqr().redIAdd(l).redISub(x).redISub(x),C=c.redMul(x.redISub(E)).redISub(a.redMul(l)),M=this.z.redMul(o);return this.curve.jpoint(E,C,M)};mr.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,a=this.curve.tinv,s=this.x,o=this.y,c=this.z,f=c.redSqr().redSqr(),l=o.redAdd(o);for(r=0;r<e;r++){var x=s.redSqr(),E=l.redSqr(),C=E.redSqr(),M=x.redAdd(x).redIAdd(x).redIAdd(i.redMul(f)),k=s.redMul(E),S=M.redSqr().redISub(k.redAdd(k)),R=k.redISub(S),B=M.redMul(R);B=B.redIAdd(B).redISub(C);var $=l.redMul(c);r+1<e&&(f=f.redMul(C)),s=S,c=$,l=B}return this.curve.jpoint(s,l.redMul(a),c)};mr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};mr.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),s=a.redSqr(),o=this.x.redAdd(a).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var c=i.redAdd(i).redIAdd(i),f=c.redSqr().redISub(o).redISub(o),l=s.redIAdd(s);l=l.redIAdd(l),l=l.redIAdd(l),e=f,r=c.redMul(o.redISub(f)).redISub(l),n=this.y.redAdd(this.y)}else{var x=this.x.redSqr(),E=this.y.redSqr(),C=E.redSqr(),M=this.x.redAdd(E).redSqr().redISub(x).redISub(C);M=M.redIAdd(M);var k=x.redAdd(x).redIAdd(x),S=k.redSqr(),R=C.redIAdd(C);R=R.redIAdd(R),R=R.redIAdd(R),e=S.redISub(M).redISub(M),r=k.redMul(M.redISub(e)).redISub(R),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};mr.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),s=a.redSqr(),o=this.x.redAdd(a).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var c=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),f=c.redSqr().redISub(o).redISub(o);e=f;var l=s.redIAdd(s);l=l.redIAdd(l),l=l.redIAdd(l),r=c.redMul(o.redISub(f)).redISub(l),n=this.y.redAdd(this.y)}else{var x=this.z.redSqr(),E=this.y.redSqr(),C=this.x.redMul(E),M=this.x.redSub(x).redMul(this.x.redAdd(x));M=M.redAdd(M).redIAdd(M);var k=C.redIAdd(C);k=k.redIAdd(k);var S=k.redAdd(k);e=M.redSqr().redISub(S),n=this.y.redAdd(this.z).redSqr().redISub(E).redISub(x);var R=E.redSqr();R=R.redIAdd(R),R=R.redIAdd(R),R=R.redIAdd(R),r=M.redMul(k.redISub(e)).redISub(R)}return this.curve.jpoint(e,r,n)};mr.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,a=i.redSqr().redSqr(),s=r.redSqr(),o=n.redSqr(),c=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(a)),f=r.redAdd(r);f=f.redIAdd(f);var l=f.redMul(o),x=c.redSqr().redISub(l.redAdd(l)),E=l.redISub(x),C=o.redSqr();C=C.redIAdd(C),C=C.redIAdd(C),C=C.redIAdd(C);var M=c.redMul(E).redISub(C),k=n.redAdd(n).redMul(i);return this.curve.jpoint(x,M,k)};mr.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),a=e.redAdd(e).redIAdd(e),s=a.redSqr(),o=this.x.redAdd(r).redSqr().redISub(e).redISub(i);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(s);var c=o.redSqr(),f=i.redIAdd(i);f=f.redIAdd(f),f=f.redIAdd(f),f=f.redIAdd(f);var l=a.redIAdd(o).redSqr().redISub(s).redISub(c).redISub(f),x=r.redMul(l);x=x.redIAdd(x),x=x.redIAdd(x);var E=this.x.redMul(c).redISub(x);E=E.redIAdd(E),E=E.redIAdd(E);var C=this.y.redMul(l.redMul(f.redISub(l)).redISub(o.redMul(c)));C=C.redIAdd(C),C=C.redIAdd(C),C=C.redIAdd(C);var M=this.z.redAdd(o).redSqr().redISub(n).redISub(c);return this.curve.jpoint(E,C,M)};mr.prototype.mul=function(e,r){return e=new Ve(e,r),this.curve._wnafMul(this,e)};mr.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),a=n.redMul(e.z);return this.y.redMul(a).redISub(e.y.redMul(i)).cmpn(0)===0};mr.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),a=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(a),this.x.cmp(n)===0)return!0}};mr.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};mr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var uu=ro(function(t,e){var r=e;r.base=ts,r.short=FE,r.mont=null,r.edwards=null}),fu=ro(function(t,e){var r=e,n=ln.assert;function i(o){o.type==="short"?this.curve=new uu.short(o):o.type==="edwards"?this.curve=new uu.edwards(o):this.curve=new uu.mont(o),this.g=this.curve.g,this.n=this.curve.n,this.hash=o.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function a(o,c){Object.defineProperty(r,o,{configurable:!0,enumerable:!0,get:function(){var f=new i(c);return Object.defineProperty(r,o,{configurable:!0,enumerable:!0,value:f}),f}})}a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Xr.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Xr.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Xr.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Xr.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Xr.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Xr.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Xr.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var s;try{s=null.crash()}catch{s=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Xr.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",s]})});function da(t){if(!(this instanceof da))return new da(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Vn.toArray(t.entropy,t.entropyEnc||"hex"),r=Vn.toArray(t.nonce,t.nonceEnc||"hex"),n=Vn.toArray(t.pers,t.persEnc||"hex");Hh(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var _x=da;da.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var a=0;a<this.V.length;a++)this.K[a]=0,this.V[a]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};da.prototype._hmac=function(){return new Xr.hmac(this.hash,this.K)};da.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};da.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=Vn.toArray(e,r),n=Vn.toArray(n,i),Hh(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};da.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=Vn.toArray(n,i||"hex"),this._update(n));for(var a=[];a.length<e;)this.V=this._hmac().update(this.V).digest(),a=a.concat(this.V);var s=a.slice(0,e);return this._update(n),this._reseed++,Vn.encode(s,r)};var Xl=ln.assert;function kr(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var qh=kr;kr.fromPublic=function(e,r,n){return r instanceof kr?r:new kr(e,{pub:r,pubEnc:n})};kr.fromPrivate=function(e,r,n){return r instanceof kr?r:new kr(e,{priv:r,privEnc:n})};kr.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};kr.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};kr.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};kr.prototype._importPrivate=function(e,r){this.priv=new Ve(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};kr.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?Xl(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Xl(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};kr.prototype.derive=function(e){return e.validate()||Xl(e.validate(),"public point not validated"),e.mul(this.priv).getX()};kr.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};kr.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};kr.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var DE=ln.assert;function Sf(t,e){if(t instanceof Sf)return t;this._importDER(t,e)||(DE(t.r&&t.s,"Signature without r or s"),this.r=new Ve(t.r,16),this.s=new Ve(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var Cf=Sf;function UE(){this.place=0}function zd(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,a=0,s=e.place;a<n;a++,s++)i<<=8,i|=t[s],i>>>=0;return i<=127?!1:(e.place=s,i)}function Cm(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}Sf.prototype._importDER=function(e,r){e=ln.toArray(e,r);var n=new UE;if(e[n.place++]!==48)return!1;var i=zd(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var a=zd(e,n);if(a===!1)return!1;var s=e.slice(n.place,a+n.place);if(n.place+=a,e[n.place++]!==2)return!1;var o=zd(e,n);if(o===!1||e.length!==o+n.place)return!1;var c=e.slice(n.place,o+n.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new Ve(s),this.s=new Ve(c),this.recoveryParam=null,!0};function qd(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}Sf.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=Cm(r),n=Cm(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];qd(i,r.length),i=i.concat(r),i.push(2),qd(i,n.length);var a=i.concat(n),s=[48];return qd(s,a.length),s=s.concat(a),ln.encode(s,e)};var $E=function(){throw new Error("unsupported")},Tx=ln.assert;function Sn(t){if(!(this instanceof Sn))return new Sn(t);typeof t=="string"&&(Tx(Object.prototype.hasOwnProperty.call(fu,t),"Unknown curve "+t),t=fu[t]),t instanceof fu.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var HE=Sn;Sn.prototype.keyPair=function(e){return new qh(this,e)};Sn.prototype.keyFromPrivate=function(e,r){return qh.fromPrivate(this,e,r)};Sn.prototype.keyFromPublic=function(e,r){return qh.fromPublic(this,e,r)};Sn.prototype.genKeyPair=function(e){e||(e={});for(var r=new _x({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||$E(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new Ve(2));;){var a=new Ve(r.generate(n));if(!(a.cmp(i)>0))return a.iaddn(1),this.keyFromPrivate(a)}};Sn.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};Sn.prototype.sign=function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new Ve(e,16));for(var a=this.n.byteLength(),s=r.getPrivate().toArray("be",a),o=e.toArray("be",a),c=new _x({hash:this.hash,entropy:s,nonce:o,pers:i.pers,persEnc:i.persEnc||"utf8"}),f=this.n.sub(new Ve(1)),l=0;;l++){var x=i.k?i.k(l):new Ve(c.generate(this.n.byteLength()));if(x=this._truncateToN(x,!0),!(x.cmpn(1)<=0||x.cmp(f)>=0)){var E=this.g.mul(x);if(!E.isInfinity()){var C=E.getX(),M=C.umod(this.n);if(M.cmpn(0)!==0){var k=x.invm(this.n).mul(M.mul(r.getPrivate()).iadd(e));if(k=k.umod(this.n),k.cmpn(0)!==0){var S=(E.getY().isOdd()?1:0)|(C.cmp(M)!==0?2:0);return i.canonical&&k.cmp(this.nh)>0&&(k=this.n.sub(k),S^=1),new Cf({r:M,s:k,recoveryParam:S})}}}}}};Sn.prototype.verify=function(e,r,n,i){e=this._truncateToN(new Ve(e,16)),n=this.keyFromPublic(n,i),r=new Cf(r,"hex");var a=r.r,s=r.s;if(a.cmpn(1)<0||a.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var o=s.invm(this.n),c=o.mul(e).umod(this.n),f=o.mul(a).umod(this.n),l;return this.curve._maxwellTrick?(l=this.g.jmulAdd(c,n.getPublic(),f),l.isInfinity()?!1:l.eqXToP(a)):(l=this.g.mulAdd(c,n.getPublic(),f),l.isInfinity()?!1:l.getX().umod(this.n).cmp(a)===0)};Sn.prototype.recoverPubKey=function(t,e,r,n){Tx((3&r)===r,"The recovery param is more than two bits"),e=new Cf(e,n);var i=this.n,a=new Ve(t),s=e.r,o=e.s,c=r&1,f=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&f)throw new Error("Unable to find sencond key candinate");f?s=this.curve.pointFromX(s.add(this.curve.n),c):s=this.curve.pointFromX(s,c);var l=e.r.invm(i),x=i.sub(a).mul(l).umod(i),E=o.mul(l).umod(i);return this.g.mulAdd(x,s,E)};Sn.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new Cf(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var a;try{a=this.recoverPubKey(t,e,i)}catch{continue}if(a.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var zE=ro(function(t,e){var r=e;r.version="6.5.4",r.utils=ln,r.rand=function(){throw new Error("unsupported")},r.curve=uu,r.curves=fu,r.ec=HE,r.eddsa=null}),qE=zE.ec;const jE="signing-key/5.7.0",e0=new Q(jE);let jd=null;function oi(){return jd||(jd=new qE("secp256k1")),jd}class Ts{constructor(e){ae(this,"curve","secp256k1"),ae(this,"privateKey",fe(e)),qa(this.privateKey)!==32&&e0.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=oi().keyFromPrivate(ue(this.privateKey));ae(this,"publicKey","0x"+r.getPublic(!1,"hex")),ae(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),ae(this,"_isSigningKey",!0)}_addPoint(e){const r=oi().keyFromPublic(ue(this.publicKey)),n=oi().keyFromPublic(ue(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const r=oi().keyFromPrivate(ue(this.privateKey)),n=ue(e);n.length!==32&&e0.throwArgumentError("bad digest length","digest",e);const i=r.sign(n,{canonical:!0});return Js({recoveryParam:i.recoveryParam,r:Pt("0x"+i.r.toString(16),32),s:Pt("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const r=oi().keyFromPrivate(ue(this.privateKey)),n=oi().keyFromPublic(ue(Mx(e)));return Pt("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function KE(t,e){const r=Js(e),n={r:ue(r.r),s:ue(r.s)};return"0x"+oi().recoverPubKey(ue(t),n,r.recoveryParam).encode("hex",!1)}function Mx(t,e){const r=ue(t);if(r.length===32){const n=new Ts(r);return e?"0x"+oi().keyFromPrivate(r).getPublic(!0,"hex"):n.publicKey}else{if(r.length===33)return e?fe(r):"0x"+oi().keyFromPublic(r).getPublic(!1,"hex");if(r.length===65)return e?"0x"+oi().keyFromPublic(r).getPublic(!0,"hex"):fe(r)}return e0.throwArgumentError("invalid public or private key","key","[REDACTED]")}const GE="transactions/5.7.0",Tr=new Q(GE);var Nm;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(Nm||(Nm={}));function jh(t){return t==="0x"?null:Et(t)}function _r(t){return t==="0x"?z2:ve.from(t)}const VE=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],WE={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function La(t){const e=Mx(t);return Et(er(kt(er(e,1)),12))}function kx(t,e){return La(KE(ue(t),e))}function tn(t,e){const r=Bi(ve.from(t).toHexString());return r.length>32&&Tr.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function Kd(t,e){return{address:Et(t),storageKeys:(e||[]).map((r,n)=>(qa(r)!==32&&Tr.throwArgumentError("invalid access list storageKey",`accessList[${t}:${n}]`,r),r.toLowerCase()))}}function no(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(r.length>2&&Tr.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,r),Kd(r[0],r[1])):Kd(r.address,r.storageKeys));const e=Object.keys(t).map(r=>{const n=t[r].reduce((i,a)=>(i[a]=!0,i),{});return Kd(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function Ix(t){return no(t).map(e=>[e.address,e.storageKeys])}function Sx(t,e){if(t.gasPrice!=null){const n=ve.from(t.gasPrice),i=ve.from(t.maxFeePerGas||0);n.eq(i)||Tr.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}const r=[tn(t.chainId||0,"chainId"),tn(t.nonce||0,"nonce"),tn(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),tn(t.maxFeePerGas||0,"maxFeePerGas"),tn(t.gasLimit||0,"gasLimit"),t.to!=null?Et(t.to):"0x",tn(t.value||0,"value"),t.data||"0x",Ix(t.accessList||[])];if(e){const n=Js(e);r.push(tn(n.recoveryParam,"recoveryParam")),r.push(Bi(n.r)),r.push(Bi(n.s))}return jr(["0x02",Ns(r)])}function Cx(t,e){const r=[tn(t.chainId||0,"chainId"),tn(t.nonce||0,"nonce"),tn(t.gasPrice||0,"gasPrice"),tn(t.gasLimit||0,"gasLimit"),t.to!=null?Et(t.to):"0x",tn(t.value||0,"value"),t.data||"0x",Ix(t.accessList||[])];if(e){const n=Js(e);r.push(tn(n.recoveryParam,"recoveryParam")),r.push(Bi(n.r)),r.push(Bi(n.s))}return jr(["0x01",Ns(r)])}function JE(t,e){S2(t,WE);const r=[];VE.forEach(function(s){let o=t[s.name]||[];const c={};s.numeric&&(c.hexPad="left"),o=ue(fe(o,c)),s.length&&o.length!==s.length&&o.length>0&&Tr.throwArgumentError("invalid length for "+s.name,"transaction:"+s.name,o),s.maxLength&&(o=Bi(o),o.length>s.maxLength&&Tr.throwArgumentError("invalid length for "+s.name,"transaction:"+s.name,o)),r.push(fe(o))});let n=0;if(t.chainId!=null?(n=t.chainId,typeof n!="number"&&Tr.throwArgumentError("invalid transaction.chainId","transaction",t)):e&&!Tf(e)&&e.v>28&&(n=Math.floor((e.v-35)/2)),n!==0&&(r.push(fe(n)),r.push("0x"),r.push("0x")),!e)return Ns(r);const i=Js(e);let a=27+i.recoveryParam;return n!==0?(r.pop(),r.pop(),r.pop(),a+=n*2+8,i.v>28&&i.v!==a&&Tr.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):i.v!==a&&Tr.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),r.push(fe(a)),r.push(Bi(ue(i.r))),r.push(Bi(ue(i.s))),Ns(r)}function Rm(t,e){if(t.type==null||t.type===0)return t.accessList!=null&&Tr.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",t),JE(t,e);switch(t.type){case 1:return Cx(t,e);case 2:return Sx(t,e)}return Tr.throwError(`unsupported transaction type: ${t.type}`,Q.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:t.type})}function Nx(t,e,r){try{const n=_r(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");t.v=n}catch{Tr.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=Pt(e[1],32),t.s=Pt(e[2],32);try{const n=kt(r(t));t.from=kx(n,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function YE(t){const e=Dh(t.slice(1));e.length!==9&&e.length!==12&&Tr.throwArgumentError("invalid component count for transaction type: 2","payload",fe(t));const r=_r(e[2]),n=_r(e[3]),i={type:2,chainId:_r(e[0]).toNumber(),nonce:_r(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:_r(e[4]),to:jh(e[5]),value:_r(e[6]),data:e[7],accessList:no(e[8])};return e.length===9||(i.hash=kt(t),Nx(i,e.slice(9),Sx)),i}function ZE(t){const e=Dh(t.slice(1));e.length!==8&&e.length!==11&&Tr.throwArgumentError("invalid component count for transaction type: 1","payload",fe(t));const r={type:1,chainId:_r(e[0]).toNumber(),nonce:_r(e[1]).toNumber(),gasPrice:_r(e[2]),gasLimit:_r(e[3]),to:jh(e[4]),value:_r(e[5]),data:e[6],accessList:no(e[7])};return e.length===8||(r.hash=kt(t),Nx(r,e.slice(8),Cx)),r}function QE(t){const e=Dh(t);e.length!==9&&e.length!==6&&Tr.throwArgumentError("invalid raw transaction","rawTransaction",t);const r={nonce:_r(e[0]).toNumber(),gasPrice:_r(e[1]),gasLimit:_r(e[2]),to:jh(e[3]),value:_r(e[4]),data:e[5],chainId:0};if(e.length===6)return r;try{r.v=ve.from(e[6]).toNumber()}catch{return r}if(r.r=Pt(e[7],32),r.s=Pt(e[8],32),ve.from(r.r).isZero()&&ve.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const i=e.slice(0,6);r.chainId!==0&&(i.push(fe(r.chainId)),i.push("0x"),i.push("0x"),n-=r.chainId*2+8);const a=kt(Ns(i));try{r.from=kx(a,{r:fe(r.r),s:fe(r.s),recoveryParam:n})}catch{}r.hash=kt(t)}return r.type=null,r}function XE(t){const e=ue(t);if(e[0]>127)return QE(e);switch(e[0]){case 1:return ZE(e);case 2:return YE(e)}return Tr.throwError(`unsupported transaction type: ${e[0]}`,Q.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const e_="contracts/5.7.0";var Ga=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(l){try{f(n.next(l))}catch(x){s(x)}}function c(l){try{f(n.throw(l))}catch(x){s(x)}}function f(l){l.done?a(l.value):i(l.value).then(o,c)}f((n=n.apply(t,e||[])).next())})};const $t=new Q(e_);function Ou(t,e){return Ga(this,void 0,void 0,function*(){const r=yield e;typeof r!="string"&&$t.throwArgumentError("invalid address or ENS name","name",r);try{return Et(r)}catch{}t||$t.throwError("a provider or signer is needed to resolve ENS names",Q.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield t.resolveName(r);return n==null&&$t.throwArgumentError("resolver or addr is not configured for ENS name","name",r),n})}function du(t,e,r){return Ga(this,void 0,void 0,function*(){return Array.isArray(r)?yield Promise.all(r.map((n,i)=>du(t,Array.isArray(e)?e[i]:e[n.name],n))):r.type==="address"?yield Ou(t,e):r.type==="tuple"?yield du(t,e,r.components):r.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(n=>du(t,n,r.arrayChildren))):Promise.reject($t.makeError("invalid value for array",Q.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function Nf(t,e,r){return Ga(this,void 0,void 0,function*(){let n={};r.length===e.inputs.length+1&&typeof r[r.length-1]=="object"&&(n=tr(r.pop())),$t.checkArgumentCount(r.length,e.inputs.length,"passed to contract"),t.signer?n.from?n.from=Ut({override:Ou(t.signer,n.from),signer:t.signer.getAddress()}).then(f=>Ga(this,void 0,void 0,function*(){return Et(f.signer)!==f.override&&$t.throwError("Contract with a Signer cannot override from",Q.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),f.override})):n.from=t.signer.getAddress():n.from&&(n.from=Ou(t.provider,n.from));const i=yield Ut({args:du(t.signer||t.provider,r,e.inputs),address:t.resolvedAddress,overrides:Ut(n)||{}}),a=t.interface.encodeFunctionData(e,i.args),s={data:a,to:i.address},o=i.overrides;if(o.nonce!=null&&(s.nonce=ve.from(o.nonce).toNumber()),o.gasLimit!=null&&(s.gasLimit=ve.from(o.gasLimit)),o.gasPrice!=null&&(s.gasPrice=ve.from(o.gasPrice)),o.maxFeePerGas!=null&&(s.maxFeePerGas=ve.from(o.maxFeePerGas)),o.maxPriorityFeePerGas!=null&&(s.maxPriorityFeePerGas=ve.from(o.maxPriorityFeePerGas)),o.from!=null&&(s.from=o.from),o.type!=null&&(s.type=o.type),o.accessList!=null&&(s.accessList=no(o.accessList)),s.gasLimit==null&&e.gas!=null){let f=21e3;const l=ue(a);for(let x=0;x<l.length;x++)f+=4,l[x]&&(f+=64);s.gasLimit=ve.from(e.gas).add(f)}if(o.value){const f=ve.from(o.value);!f.isZero()&&!e.payable&&$t.throwError("non-payable method cannot override value",Q.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),s.value=f}o.customData&&(s.customData=tr(o.customData)),o.ccipReadEnabled&&(s.ccipReadEnabled=!!o.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;const c=Object.keys(n).filter(f=>n[f]!=null);return c.length&&$t.throwError(`cannot override ${c.map(f=>JSON.stringify(f)).join(",")}`,Q.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:c}),s})}function t_(t,e){return function(...r){return Nf(t,e,r)}}function r_(t,e){const r=t.signer||t.provider;return function(...n){return Ga(this,void 0,void 0,function*(){r||$t.throwError("estimate require a provider or signer",Q.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const i=yield Nf(t,e,n);return yield r.estimateGas(i)})}}function n_(t,e){const r=e.wait.bind(e);e.wait=n=>r(n).then(i=>(i.events=i.logs.map(a=>{let s=Fi(a),o=null;try{o=t.interface.parseLog(a)}catch{}return o&&(s.args=o.args,s.decode=(c,f)=>t.interface.decodeEventLog(o.eventFragment,c,f),s.event=o.name,s.eventSignature=o.signature),s.removeListener=()=>t.provider,s.getBlock=()=>t.provider.getBlock(i.blockHash),s.getTransaction=()=>t.provider.getTransaction(i.transactionHash),s.getTransactionReceipt=()=>Promise.resolve(i),s}),i))}function Rx(t,e,r){const n=t.signer||t.provider;return function(...i){return Ga(this,void 0,void 0,function*(){let a;if(i.length===e.inputs.length+1&&typeof i[i.length-1]=="object"){const c=tr(i.pop());c.blockTag!=null&&(a=yield c.blockTag),delete c.blockTag,i.push(c)}t.deployTransaction!=null&&(yield t._deployed(a));const s=yield Nf(t,e,i),o=yield n.call(s,a);try{let c=t.interface.decodeFunctionResult(e,o);return r&&e.outputs.length===1&&(c=c[0]),c}catch(c){throw c.code===Q.errors.CALL_EXCEPTION&&(c.address=t.address,c.args=i,c.transaction=s),c}})}}function i_(t,e){return function(...r){return Ga(this,void 0,void 0,function*(){t.signer||$t.throwError("sending a transaction requires a signer",Q.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),t.deployTransaction!=null&&(yield t._deployed());const n=yield Nf(t,e,r),i=yield t.signer.sendTransaction(n);return n_(t,i),i})}}function Pm(t,e,r){return e.constant?Rx(t,e,r):i_(t,e)}function Px(t){return t.address&&(t.topics==null||t.topics.length===0)?"*":(t.address||"*")+"@"+(t.topics?t.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class sc{constructor(e,r){ae(this,"tag",e),ae(this,"filter",r),this._listeners=[]}addListener(e,r){this._listeners.push({listener:e,once:r})}removeListener(e){let r=!1;this._listeners=this._listeners.filter(n=>r||n.listener!==e?!0:(r=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const r=this.listenerCount();return this._listeners=this._listeners.filter(n=>{const i=e.slice();return setTimeout(()=>{n.listener.apply(this,i)},0),!n.once}),r}prepareEvent(e){}getEmit(e){return[e]}}class a_ extends sc{constructor(){super("error",null)}}class Bm extends sc{constructor(e,r,n,i){const a={address:e};let s=r.getEventTopic(n);i?(s!==i[0]&&$t.throwArgumentError("topic mismatch","topics",i),a.topics=i.slice()):a.topics=[s],super(Px(a),a),ae(this,"address",e),ae(this,"interface",r),ae(this,"fragment",n)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(r,n)=>this.interface.decodeEventLog(this.fragment,r,n);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(r){e.args=null,e.decodeError=r}}getEmit(e){const r=H7(e.args);if(r.length)throw r[0].error;const n=(e.args||[]).slice();return n.push(e),n}}class Om extends sc{constructor(e,r){super("*",{address:e}),ae(this,"address",e),ae(this,"interface",r)}prepareEvent(e){super.prepareEvent(e);try{const r=this.interface.parseLog(e);e.event=r.name,e.eventSignature=r.signature,e.decode=(n,i)=>this.interface.decodeEventLog(r.eventFragment,n,i),e.args=r.args}catch{}}}class s_{constructor(e,r,n){ae(this,"interface",on(new.target,"getInterface")(r)),n==null?(ae(this,"provider",null),ae(this,"signer",null)):Qs.isSigner(n)?(ae(this,"provider",n.provider||null),ae(this,"signer",n)):Zs.isProvider(n)?(ae(this,"provider",n),ae(this,"signer",null)):$t.throwArgumentError("invalid signer or provider","signerOrProvider",n),ae(this,"callStatic",{}),ae(this,"estimateGas",{}),ae(this,"functions",{}),ae(this,"populateTransaction",{}),ae(this,"filters",{});{const s={};Object.keys(this.interface.events).forEach(o=>{const c=this.interface.events[o];ae(this.filters,o,(...f)=>({address:this.address,topics:this.interface.encodeFilterTopics(c,f)})),s[c.name]||(s[c.name]=[]),s[c.name].push(o)}),Object.keys(s).forEach(o=>{const c=s[o];c.length===1?ae(this.filters,o,this.filters[c[0]]):$t.warn(`Duplicate definition of ${o} (${c.join(", ")})`)})}if(ae(this,"_runningEvents",{}),ae(this,"_wrappedEmits",{}),e==null&&$t.throwArgumentError("invalid contract address or ENS name","addressOrName",e),ae(this,"address",e),this.provider)ae(this,"resolvedAddress",Ou(this.provider,e));else try{ae(this,"resolvedAddress",Promise.resolve(Et(e)))}catch{$t.throwError("provider is required to use ENS name as contract address",Q.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(s=>{});const i={},a={};Object.keys(this.interface.functions).forEach(s=>{const o=this.interface.functions[s];if(a[s]){$t.warn(`Duplicate ABI entry for ${JSON.stringify(s)}`);return}a[s]=!0;{const c=o.name;i[`%${c}`]||(i[`%${c}`]=[]),i[`%${c}`].push(s)}this[s]==null&&ae(this,s,Pm(this,o,!0)),this.functions[s]==null&&ae(this.functions,s,Pm(this,o,!1)),this.callStatic[s]==null&&ae(this.callStatic,s,Rx(this,o,!0)),this.populateTransaction[s]==null&&ae(this.populateTransaction,s,t_(this,o)),this.estimateGas[s]==null&&ae(this.estimateGas,s,r_(this,o))}),Object.keys(i).forEach(s=>{const o=i[s];if(o.length>1)return;s=s.substring(1);const c=o[0];try{this[s]==null&&ae(this,s,this[c])}catch{}this.functions[s]==null&&ae(this.functions,s,this.functions[c]),this.callStatic[s]==null&&ae(this.callStatic,s,this.callStatic[c]),this.populateTransaction[s]==null&&ae(this.populateTransaction,s,this.populateTransaction[c]),this.estimateGas[s]==null&&ae(this.estimateGas,s,this.estimateGas[c])})}static getContractAddress(e){return D2(e)}static getInterface(e){return Di.isInterface(e)?e:new Di(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(r=>(r==="0x"&&$t.throwError("contract not deployed",Q.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||$t.throwError("sending a transactions require a signer",Q.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const r=tr(e||{});return["from","to"].forEach(function(n){r[n]!=null&&$t.throwError("cannot override "+n,Q.errors.UNSUPPORTED_OPERATION,{operation:n})}),r.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(r))}connect(e){typeof e=="string"&&(e=new $h(e,this.provider));const r=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&ae(r,"deployTransaction",this.deployTransaction),r}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return Jl.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new a_);if(e==="event")return this._normalizeRunningEvent(new sc("event",null));if(e==="*")return this._normalizeRunningEvent(new Om(this.address,this.interface));const r=this.interface.getEvent(e);return this._normalizeRunningEvent(new Bm(this.address,this.interface,r))}if(e.topics&&e.topics.length>0){try{const n=e.topics[0];if(typeof n!="string")throw new Error("invalid topic");const i=this.interface.getEvent(n);return this._normalizeRunningEvent(new Bm(this.address,this.interface,i,e.topics))}catch{}const r={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new sc(Px(r),r))}return this._normalizeRunningEvent(new Om(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const r=this._wrappedEmits[e.tag];r&&e.filter&&(this.provider.off(e.filter,r),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,r,n){const i=Fi(r);return i.removeListener=()=>{n&&(e.removeListener(n),this._checkRunningEvents(e))},i.getBlock=()=>this.provider.getBlock(r.blockHash),i.getTransaction=()=>this.provider.getTransaction(r.transactionHash),i.getTransactionReceipt=()=>this.provider.getTransactionReceipt(r.transactionHash),e.prepareEvent(i),i}_addEventListener(e,r,n){if(this.provider||$t.throwError("events require a provider or a signer with a provider",Q.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(r,n),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const i=a=>{let s=this._wrapEvent(e,a,r);if(s.decodeError==null)try{const o=e.getEmit(s);this.emit(e.filter,...o)}catch(o){s.decodeError=o.error}e.filter!=null&&this.emit("event",s),s.decodeError!=null&&this.emit("error",s.decodeError,s)};this._wrappedEmits[e.tag]=i,e.filter!=null&&this.provider.on(e.filter,i)}}queryFilter(e,r,n){const i=this._getRunningEvent(e),a=tr(i.filter);return typeof r=="string"&&At(r,32)?(n!=null&&$t.throwArgumentError("cannot specify toBlock with blockhash","toBlock",n),a.blockHash=r):(a.fromBlock=r??0,a.toBlock=n??"latest"),this.provider.getLogs(a).then(s=>s.map(o=>this._wrapEvent(i,o,null)))}on(e,r){return this._addEventListener(this._getRunningEvent(e),r,!1),this}once(e,r){return this._addEventListener(this._getRunningEvent(e),r,!0),this}emit(e,...r){if(!this.provider)return!1;const n=this._getRunningEvent(e),i=n.run(r)>0;return this._checkRunningEvents(n),i}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((r,n)=>r+this._runningEvents[n].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const r=[];for(let n in this._runningEvents)this._runningEvents[n].listeners().forEach(i=>{r.push(i)});return r}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const n in this._runningEvents){const i=this._runningEvents[n];i.removeAllListeners(),this._checkRunningEvents(i)}return this}const r=this._getRunningEvent(e);return r.removeAllListeners(),this._checkRunningEvents(r),this}off(e,r){if(!this.provider)return this;const n=this._getRunningEvent(e);return n.removeListener(r),this._checkRunningEvents(n),this}removeListener(e,r){return this.off(e,r)}}class rs extends s_{}class Bx{constructor(e){ae(this,"alphabet",e),ae(this,"base",e.length),ae(this,"_alphabetMap",{}),ae(this,"_leader",e.charAt(0));for(let r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}encode(e){let r=ue(e);if(r.length===0)return"";let n=[0];for(let a=0;a<r.length;++a){let s=r[a];for(let o=0;o<n.length;++o)s+=n[o]<<8,n[o]=s%this.base,s=s/this.base|0;for(;s>0;)n.push(s%this.base),s=s/this.base|0}let i="";for(let a=0;r[a]===0&&a<r.length-1;++a)i+=this._leader;for(let a=n.length-1;a>=0;--a)i+=this.alphabet[n[a]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let r=[];if(e.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let a=i;for(let s=0;s<r.length;++s)a+=r[s]*this.base,r[s]=a&255,a>>=8;for(;a>0;)r.push(a&255),a>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)r.push(0);return ue(new Uint8Array(r.reverse()))}}new Bx("abcdefghijklmnopqrstuvwxyz234567");const oc=new Bx("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var cc;(function(t){t.sha256="sha256",t.sha512="sha512"})(cc||(cc={}));const o_="sha2/5.7.0",c_=new Q(o_);function u_(t){return"0x"+Xr.ripemd160().update(ue(t)).digest("hex")}function Va(t){return"0x"+Xr.sha256().update(ue(t)).digest("hex")}function Lu(t,e,r){return cc[t]||c_.throwError("unsupported algorithm "+t,Q.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:t}),"0x"+Xr.hmac(Xr[t],ue(e)).update(ue(r)).digest("hex")}function Kh(t,e,r,n,i){t=ue(t),e=ue(e);let a,s=1;const o=new Uint8Array(n),c=new Uint8Array(e.length+4);c.set(e);let f,l;for(let x=1;x<=s;x++){c[e.length]=x>>24&255,c[e.length+1]=x>>16&255,c[e.length+2]=x>>8&255,c[e.length+3]=x&255;let E=ue(Lu(i,t,c));a||(a=E.length,l=new Uint8Array(a),s=Math.ceil(n/a),f=n-(s-1)*a),l.set(E);for(let k=1;k<r;k++){E=ue(Lu(i,t,E));for(let S=0;S<a;S++)l[S]^=E[S]}const C=(x-1)*a,M=x===s?f:a;o.set(ue(l).slice(0,M),C)}return fe(o)}const f_="wordlists/5.7.0",d_=new Q(f_);class Sc{constructor(e){d_.checkAbstract(new.target,Sc),ae(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){const r=[];for(let n=0;n<2048;n++){const i=e.getWord(n);if(n!==e.getWordIndex(i))return"0x";r.push(i)}return Ra(r.join(`
`)+`
`)}static register(e,r){r||(r=e.locale)}}const l_="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo";let Ho=null;function Lm(t){if(Ho==null&&(Ho=l_.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),Sc.check(t)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw Ho=null,new Error("BIP39 Wordlist for en (English) FAILED")}class h_ extends Sc{constructor(){super("en")}getWord(e){return Lm(this),Ho[e]}getWordIndex(e){return Lm(this),Ho.indexOf(e)}}const Ox=new h_;Sc.register(Ox);const Fm={en:Ox},p_="hdnode/5.7.0",Fu=new Q(p_),m_=ve.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),y_=jt("Bitcoin seed"),xo=2147483648;function Lx(t){return(1<<t)-1<<8-t}function b_(t){return(1<<t)-1}function Qc(t){return Pt(fe(t),32)}function Dm(t){return oc.encode(Rt([t,er(Va(Va(t)),0,4)]))}function Gh(t){if(t==null)return Fm.en;if(typeof t=="string"){const e=Fm[t];return e==null&&Fu.throwArgumentError("unknown locale","wordlist",t),e}return t}const fs={},uc="m/44'/60'/0'/0/0";class En{constructor(e,r,n,i,a,s,o,c){if(e!==fs)throw new Error("HDNode constructor cannot be called directly");if(r){const f=new Ts(r);ae(this,"privateKey",f.privateKey),ae(this,"publicKey",f.compressedPublicKey)}else ae(this,"privateKey",null),ae(this,"publicKey",fe(n));ae(this,"parentFingerprint",i),ae(this,"fingerprint",er(u_(Va(this.publicKey)),0,4)),ae(this,"address",La(this.publicKey)),ae(this,"chainCode",a),ae(this,"index",s),ae(this,"depth",o),c==null?(ae(this,"mnemonic",null),ae(this,"path",null)):typeof c=="string"?(ae(this,"mnemonic",null),ae(this,"path",c)):(ae(this,"mnemonic",c),ae(this,"path",c.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return Dm(Rt([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",fe(this.depth),this.parentFingerprint,Pt(fe(this.index),4),this.chainCode,this.privateKey!=null?Rt(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new En(fs,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let r=this.path;r&&(r+="/"+(e&~xo));const n=new Uint8Array(37);if(e&xo){if(!this.privateKey)throw new Error("cannot derive child of neutered node");n.set(ue(this.privateKey),1),r&&(r+="'")}else n.set(ue(this.publicKey));for(let x=24;x>=0;x-=8)n[33+(x>>3)]=e>>24-x&255;const i=ue(Lu(cc.sha512,this.chainCode,n)),a=i.slice(0,32),s=i.slice(32);let o=null,c=null;this.privateKey?o=Qc(ve.from(a).add(this.privateKey).mod(m_)):c=new Ts(fe(a))._addPoint(this.publicKey);let f=r;const l=this.mnemonic;return l&&(f=Object.freeze({phrase:l.phrase,path:r,locale:l.locale||"en"})),new En(fs,o,c,this.fingerprint,Qc(s),e,this.depth+1,f)}derivePath(e){const r=e.split("/");if(r.length===0||r[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+e);r[0]==="m"&&r.shift();let n=this;for(let i=0;i<r.length;i++){const a=r[i];if(a.match(/^[0-9]+'$/)){const s=parseInt(a.substring(0,a.length-1));if(s>=xo)throw new Error("invalid path index - "+a);n=n._derive(xo+s)}else if(a.match(/^[0-9]+$/)){const s=parseInt(a);if(s>=xo)throw new Error("invalid path index - "+a);n=n._derive(s)}else throw new Error("invalid path component - "+a)}return n}static _fromSeed(e,r){const n=ue(e);if(n.length<16||n.length>64)throw new Error("invalid seed");const i=ue(Lu(cc.sha512,y_,n));return new En(fs,Qc(i.slice(0,32)),null,"0x00000000",Qc(i.slice(32)),0,0,r)}static fromMnemonic(e,r,n){return n=Gh(n),e=Vh(Fx(e,n),n),En._fromSeed(x_(e,r),{phrase:e,path:"m",locale:n.locale})}static fromSeed(e){return En._fromSeed(e,null)}static fromExtendedKey(e){const r=oc.decode(e);(r.length!==82||Dm(r.slice(0,78))!==e)&&Fu.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const n=r[4],i=fe(r.slice(5,9)),a=parseInt(fe(r.slice(9,13)).substring(2),16),s=fe(r.slice(13,45)),o=r.slice(45,78);switch(fe(r.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new En(fs,null,fe(o),i,s,a,n,null);case"0x0488ade4":case"0x04358394 ":if(o[0]!==0)break;return new En(fs,fe(o.slice(1)),null,i,s,a,n,null)}return Fu.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function x_(t,e){e||(e="");const r=jt("mnemonic"+e,fa.NFKD);return Kh(jt(t,fa.NFKD),r,2048,64,"sha512")}function Fx(t,e){e=Gh(e),Fu.checkNormalize();const r=e.split(t);if(r.length%3!==0)throw new Error("invalid mnemonic");const n=ue(new Uint8Array(Math.ceil(11*r.length/8)));let i=0;for(let f=0;f<r.length;f++){let l=e.getWordIndex(r[f].normalize("NFKD"));if(l===-1)throw new Error("invalid mnemonic");for(let x=0;x<11;x++)l&1<<10-x&&(n[i>>3]|=1<<7-i%8),i++}const a=32*r.length/3,s=r.length/3,o=Lx(s);if((ue(Va(n.slice(0,a/8)))[0]&o)!==(n[n.length-1]&o))throw new Error("invalid checksum");return fe(n.slice(0,a/8))}function Vh(t,e){if(e=Gh(e),t=ue(t),t.length%4!==0||t.length<16||t.length>32)throw new Error("invalid entropy");const r=[0];let n=11;for(let s=0;s<t.length;s++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=t[s],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=t[s]>>8-n,r.push(t[s]&b_(8-n)),n+=3);const i=t.length/4,a=ue(Va(t))[0]&Lx(i);return r[r.length-1]<<=i,r[r.length-1]|=a>>8-i,e.join(r.map(s=>e.getWord(s)))}const g_="random/5.7.0",t0=new Q(g_);function v_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const Um=v_();let lu=Um.crypto||Um.msCrypto;(!lu||!lu.getRandomValues)&&(t0.warn("WARNING: Missing strong random number source"),lu={getRandomValues:function(t){return t0.throwError("no secure random source avaialble",Q.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function Ro(t){(t<=0||t>1024||t%1||t!=t)&&t0.throwArgumentError("invalid length","length",t);const e=new Uint8Array(t);return lu.getRandomValues(e),ue(e)}var Dx={exports:{}};(function(t,e){(function(r){function n(w){return parseInt(w)===w}function i(w){if(!n(w.length))return!1;for(var v=0;v<w.length;v++)if(!n(w[v])||w[v]<0||w[v]>255)return!1;return!0}function a(w,v){if(w.buffer&&ArrayBuffer.isView(w)&&w.name==="Uint8Array")return v&&(w.slice?w=w.slice():w=Array.prototype.slice.call(w)),w;if(Array.isArray(w)){if(!i(w))throw new Error("Array contains invalid value: "+w);return new Uint8Array(w)}if(n(w.length)&&i(w))return new Uint8Array(w);throw new Error("unsupported array-like object")}function s(w){return new Uint8Array(w)}function o(w,v,P,j,I){(j!=null||I!=null)&&(w.slice?w=w.slice(j,I):w=Array.prototype.slice.call(w,j,I)),v.set(w,P)}var c=function(){function w(P){var j=[],I=0;for(P=encodeURI(P);I<P.length;){var L=P.charCodeAt(I++);L===37?(j.push(parseInt(P.substr(I,2),16)),I+=2):j.push(L)}return a(j)}function v(P){for(var j=[],I=0;I<P.length;){var L=P[I];L<128?(j.push(String.fromCharCode(L)),I++):L>191&&L<224?(j.push(String.fromCharCode((L&31)<<6|P[I+1]&63)),I+=2):(j.push(String.fromCharCode((L&15)<<12|(P[I+1]&63)<<6|P[I+2]&63)),I+=3)}return j.join("")}return{toBytes:w,fromBytes:v}}(),f=function(){function w(j){for(var I=[],L=0;L<j.length;L+=2)I.push(parseInt(j.substr(L,2),16));return I}var v="0123456789abcdef";function P(j){for(var I=[],L=0;L<j.length;L++){var q=j[L];I.push(v[(q&240)>>4]+v[q&15])}return I.join("")}return{toBytes:w,fromBytes:P}}(),l={16:10,24:12,32:14},x=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],E=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],C=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],M=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],k=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],S=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],R=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],B=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],$=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],H=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],K=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],J=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],ie=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],X=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],re=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function D(w){for(var v=[],P=0;P<w.length;P+=4)v.push(w[P]<<24|w[P+1]<<16|w[P+2]<<8|w[P+3]);return v}var m=function(w){if(!(this instanceof m))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:a(w,!0)}),this._prepare()};m.prototype._prepare=function(){var w=l[this.key.length];if(w==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var v=0;v<=w;v++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var P=(w+1)*4,j=this.key.length/4,I=D(this.key),L,v=0;v<j;v++)L=v>>2,this._Ke[L][v%4]=I[v],this._Kd[w-L][v%4]=I[v];for(var q=0,G=j,V;G<P;){if(V=I[j-1],I[0]^=E[V>>16&255]<<24^E[V>>8&255]<<16^E[V&255]<<8^E[V>>24&255]^x[q]<<24,q+=1,j!=8)for(var v=1;v<j;v++)I[v]^=I[v-1];else{for(var v=1;v<j/2;v++)I[v]^=I[v-1];V=I[j/2-1],I[j/2]^=E[V&255]^E[V>>8&255]<<8^E[V>>16&255]<<16^E[V>>24&255]<<24;for(var v=j/2+1;v<j;v++)I[v]^=I[v-1]}for(var v=0,ne,U;v<j&&G<P;)ne=G>>2,U=G%4,this._Ke[ne][U]=I[v],this._Kd[w-ne][U]=I[v++],G++}for(var ne=1;ne<w;ne++)for(var U=0;U<4;U++)V=this._Kd[ne][U],this._Kd[ne][U]=J[V>>24&255]^ie[V>>16&255]^X[V>>8&255]^re[V&255]},m.prototype.encrypt=function(w){if(w.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var v=this._Ke.length-1,P=[0,0,0,0],j=D(w),I=0;I<4;I++)j[I]^=this._Ke[0][I];for(var L=1;L<v;L++){for(var I=0;I<4;I++)P[I]=M[j[I]>>24&255]^k[j[(I+1)%4]>>16&255]^S[j[(I+2)%4]>>8&255]^R[j[(I+3)%4]&255]^this._Ke[L][I];j=P.slice()}for(var q=s(16),G,I=0;I<4;I++)G=this._Ke[v][I],q[4*I]=(E[j[I]>>24&255]^G>>24)&255,q[4*I+1]=(E[j[(I+1)%4]>>16&255]^G>>16)&255,q[4*I+2]=(E[j[(I+2)%4]>>8&255]^G>>8)&255,q[4*I+3]=(E[j[(I+3)%4]&255]^G)&255;return q},m.prototype.decrypt=function(w){if(w.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var v=this._Kd.length-1,P=[0,0,0,0],j=D(w),I=0;I<4;I++)j[I]^=this._Kd[0][I];for(var L=1;L<v;L++){for(var I=0;I<4;I++)P[I]=B[j[I]>>24&255]^$[j[(I+3)%4]>>16&255]^H[j[(I+2)%4]>>8&255]^K[j[(I+1)%4]&255]^this._Kd[L][I];j=P.slice()}for(var q=s(16),G,I=0;I<4;I++)G=this._Kd[v][I],q[4*I]=(C[j[I]>>24&255]^G>>24)&255,q[4*I+1]=(C[j[(I+3)%4]>>16&255]^G>>16)&255,q[4*I+2]=(C[j[(I+2)%4]>>8&255]^G>>8)&255,q[4*I+3]=(C[j[(I+1)%4]&255]^G)&255;return q};var d=function(w){if(!(this instanceof d))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new m(w)};d.prototype.encrypt=function(w){if(w=a(w),w.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var v=s(w.length),P=s(16),j=0;j<w.length;j+=16)o(w,P,0,j,j+16),P=this._aes.encrypt(P),o(P,v,j);return v},d.prototype.decrypt=function(w){if(w=a(w),w.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var v=s(w.length),P=s(16),j=0;j<w.length;j+=16)o(w,P,0,j,j+16),P=this._aes.decrypt(P),o(P,v,j);return v};var h=function(w,v){if(!(this instanceof h))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!v)v=s(16);else if(v.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=a(v,!0),this._aes=new m(w)};h.prototype.encrypt=function(w){if(w=a(w),w.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var v=s(w.length),P=s(16),j=0;j<w.length;j+=16){o(w,P,0,j,j+16);for(var I=0;I<16;I++)P[I]^=this._lastCipherblock[I];this._lastCipherblock=this._aes.encrypt(P),o(this._lastCipherblock,v,j)}return v},h.prototype.decrypt=function(w){if(w=a(w),w.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var v=s(w.length),P=s(16),j=0;j<w.length;j+=16){o(w,P,0,j,j+16),P=this._aes.decrypt(P);for(var I=0;I<16;I++)v[j+I]=P[I]^this._lastCipherblock[I];o(w,this._lastCipherblock,0,j,j+16)}return v};var u=function(w,v,P){if(!(this instanceof u))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!v)v=s(16);else if(v.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");P||(P=1),this.segmentSize=P,this._shiftRegister=a(v,!0),this._aes=new m(w)};u.prototype.encrypt=function(w){if(w.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var v=a(w,!0),P,j=0;j<v.length;j+=this.segmentSize){P=this._aes.encrypt(this._shiftRegister);for(var I=0;I<this.segmentSize;I++)v[j+I]^=P[I];o(this._shiftRegister,this._shiftRegister,0,this.segmentSize),o(v,this._shiftRegister,16-this.segmentSize,j,j+this.segmentSize)}return v},u.prototype.decrypt=function(w){if(w.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var v=a(w,!0),P,j=0;j<v.length;j+=this.segmentSize){P=this._aes.encrypt(this._shiftRegister);for(var I=0;I<this.segmentSize;I++)v[j+I]^=P[I];o(this._shiftRegister,this._shiftRegister,0,this.segmentSize),o(w,this._shiftRegister,16-this.segmentSize,j,j+this.segmentSize)}return v};var p=function(w,v){if(!(this instanceof p))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!v)v=s(16);else if(v.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=a(v,!0),this._lastPrecipherIndex=16,this._aes=new m(w)};p.prototype.encrypt=function(w){for(var v=a(w,!0),P=0;P<v.length;P++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),v[P]^=this._lastPrecipher[this._lastPrecipherIndex++];return v},p.prototype.decrypt=p.prototype.encrypt;var g=function(w){if(!(this instanceof g))throw Error("Counter must be instanitated with `new`");w!==0&&!w&&(w=1),typeof w=="number"?(this._counter=s(16),this.setValue(w)):this.setBytes(w)};g.prototype.setValue=function(w){if(typeof w!="number"||parseInt(w)!=w)throw new Error("invalid counter value (must be an integer)");for(var v=15;v>=0;--v)this._counter[v]=w%256,w=w>>8},g.prototype.setBytes=function(w){if(w=a(w,!0),w.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=w},g.prototype.increment=function(){for(var w=15;w>=0;w--)if(this._counter[w]===255)this._counter[w]=0;else{this._counter[w]++;break}};var _=function(w,v){if(!(this instanceof _))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",v instanceof g||(v=new g(v)),this._counter=v,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new m(w)};_.prototype.encrypt=function(w){for(var v=a(w,!0),P=0;P<v.length;P++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),v[P]^=this._remainingCounter[this._remainingCounterIndex++];return v},_.prototype.decrypt=_.prototype.encrypt;function A(w){w=a(w,!0);var v=16-w.length%16,P=s(w.length+v);o(w,P);for(var j=w.length;j<P.length;j++)P[j]=v;return P}function y(w){if(w=a(w,!0),w.length<16)throw new Error("PKCS#7 invalid length");var v=w[w.length-1];if(v>16)throw new Error("PKCS#7 padding byte out of range");for(var P=w.length-v,j=0;j<v;j++)if(w[P+j]!==v)throw new Error("PKCS#7 invalid padding byte");var I=s(P);return o(w,I,0,0,P),I}var b={AES:m,Counter:g,ModeOfOperation:{ecb:d,cbc:h,cfb:u,ofb:p,ctr:_},utils:{hex:f,utf8:c},padding:{pkcs7:{pad:A,strip:y}},_arrayTest:{coerceArray:a,createArray:s,copyArray:o}};t.exports=b})()})(Dx);var w_=Dx.exports;const li=Yn(w_),Ux="json-wallets/5.7.0";function Fa(t){return typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),ue(t)}function go(t,e){for(t=String(t);t.length<e;)t="0"+t;return t}function Wh(t){return typeof t=="string"?jt(t,fa.NFKC):ue(t)}function Ht(t,e){let r=t;const n=e.toLowerCase().split("/");for(let i=0;i<n.length;i++){let a=null;for(const s in r)if(s.toLowerCase()===n[i]){a=r[s];break}if(a===null)return null;r=a}return r}function A_(t){const e=ue(t);e[6]=e[6]&15|64,e[8]=e[8]&63|128;const r=fe(e);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}const E_=new Q(Ux);class __ extends Xa{isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}}function $x(t,e){const r=JSON.parse(t);e=Wh(e);const n=Et(Ht(r,"ethaddr")),i=Fa(Ht(r,"encseed"));(!i||i.length%16!==0)&&E_.throwArgumentError("invalid encseed","json",t);const a=ue(Kh(e,e,2e3,32,"sha256")).slice(0,16),s=i.slice(0,16),o=i.slice(16),c=new li.ModeOfOperation.cbc(a,s),f=li.padding.pkcs7.strip(ue(c.decrypt(o)));let l="";for(let C=0;C<f.length;C++)l+=String.fromCharCode(f[C]);const x=jt(l),E=kt(x);return new __({_isCrowdsaleAccount:!0,address:n,privateKey:E})}function Hx(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return e.encseed&&e.ethaddr}function zx(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return!(!e.version||parseInt(e.version)!==e.version||parseInt(e.version)!==3)}var qx={exports:{}};(function(t,e){(function(r){function i(k){const S=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let R=1779033703,B=3144134277,$=1013904242,H=2773480762,K=1359893119,J=2600822924,ie=528734635,X=1541459225;const re=new Uint32Array(64);function D(_){let A=0,y=_.length;for(;y>=64;){let b=R,w=B,v=$,P=H,j=K,I=J,L=ie,q=X,G,V,ne,U,F;for(V=0;V<16;V++)ne=A+V*4,re[V]=(_[ne]&255)<<24|(_[ne+1]&255)<<16|(_[ne+2]&255)<<8|_[ne+3]&255;for(V=16;V<64;V++)G=re[V-2],U=(G>>>17|G<<32-17)^(G>>>19|G<<32-19)^G>>>10,G=re[V-15],F=(G>>>7|G<<32-7)^(G>>>18|G<<32-18)^G>>>3,re[V]=(U+re[V-7]|0)+(F+re[V-16]|0)|0;for(V=0;V<64;V++)U=(((j>>>6|j<<32-6)^(j>>>11|j<<32-11)^(j>>>25|j<<32-25))+(j&I^~j&L)|0)+(q+(S[V]+re[V]|0)|0)|0,F=((b>>>2|b<<32-2)^(b>>>13|b<<32-13)^(b>>>22|b<<32-22))+(b&w^b&v^w&v)|0,q=L,L=I,I=j,j=P+U|0,P=v,v=w,w=b,b=U+F|0;R=R+b|0,B=B+w|0,$=$+v|0,H=H+P|0,K=K+j|0,J=J+I|0,ie=ie+L|0,X=X+q|0,A+=64,y-=64}}D(k);let m,d=k.length%64,h=k.length/536870912|0,u=k.length<<3,p=d<56?56:120,g=k.slice(k.length-d,k.length);for(g.push(128),m=d+1;m<p;m++)g.push(0);return g.push(h>>>24&255),g.push(h>>>16&255),g.push(h>>>8&255),g.push(h>>>0&255),g.push(u>>>24&255),g.push(u>>>16&255),g.push(u>>>8&255),g.push(u>>>0&255),D(g),[R>>>24&255,R>>>16&255,R>>>8&255,R>>>0&255,B>>>24&255,B>>>16&255,B>>>8&255,B>>>0&255,$>>>24&255,$>>>16&255,$>>>8&255,$>>>0&255,H>>>24&255,H>>>16&255,H>>>8&255,H>>>0&255,K>>>24&255,K>>>16&255,K>>>8&255,K>>>0&255,J>>>24&255,J>>>16&255,J>>>8&255,J>>>0&255,ie>>>24&255,ie>>>16&255,ie>>>8&255,ie>>>0&255,X>>>24&255,X>>>16&255,X>>>8&255,X>>>0&255]}function a(k,S,R){k=k.length<=64?k:i(k);const B=64+S.length+4,$=new Array(B),H=new Array(64);let K,J=[];for(K=0;K<64;K++)$[K]=54;for(K=0;K<k.length;K++)$[K]^=k[K];for(K=0;K<S.length;K++)$[64+K]=S[K];for(K=B-4;K<B;K++)$[K]=0;for(K=0;K<64;K++)H[K]=92;for(K=0;K<k.length;K++)H[K]^=k[K];function ie(){for(let X=B-1;X>=B-4;X--){if($[X]++,$[X]<=255)return;$[X]=0}}for(;R>=32;)ie(),J=J.concat(i(H.concat(i($)))),R-=32;return R>0&&(ie(),J=J.concat(i(H.concat(i($))).slice(0,R))),J}function s(k,S,R,B,$){let H;for(l(k,(2*R-1)*16,$,0,16),H=0;H<2*R;H++)f(k,H*16,$,16),c($,B),l($,0,k,S+H*16,16);for(H=0;H<R;H++)l(k,S+H*2*16,k,H*16,16);for(H=0;H<R;H++)l(k,S+(H*2+1)*16,k,(H+R)*16,16)}function o(k,S){return k<<S|k>>>32-S}function c(k,S){l(k,0,S,0,16);for(let R=8;R>0;R-=2)S[4]^=o(S[0]+S[12],7),S[8]^=o(S[4]+S[0],9),S[12]^=o(S[8]+S[4],13),S[0]^=o(S[12]+S[8],18),S[9]^=o(S[5]+S[1],7),S[13]^=o(S[9]+S[5],9),S[1]^=o(S[13]+S[9],13),S[5]^=o(S[1]+S[13],18),S[14]^=o(S[10]+S[6],7),S[2]^=o(S[14]+S[10],9),S[6]^=o(S[2]+S[14],13),S[10]^=o(S[6]+S[2],18),S[3]^=o(S[15]+S[11],7),S[7]^=o(S[3]+S[15],9),S[11]^=o(S[7]+S[3],13),S[15]^=o(S[11]+S[7],18),S[1]^=o(S[0]+S[3],7),S[2]^=o(S[1]+S[0],9),S[3]^=o(S[2]+S[1],13),S[0]^=o(S[3]+S[2],18),S[6]^=o(S[5]+S[4],7),S[7]^=o(S[6]+S[5],9),S[4]^=o(S[7]+S[6],13),S[5]^=o(S[4]+S[7],18),S[11]^=o(S[10]+S[9],7),S[8]^=o(S[11]+S[10],9),S[9]^=o(S[8]+S[11],13),S[10]^=o(S[9]+S[8],18),S[12]^=o(S[15]+S[14],7),S[13]^=o(S[12]+S[15],9),S[14]^=o(S[13]+S[12],13),S[15]^=o(S[14]+S[13],18);for(let R=0;R<16;++R)k[R]+=S[R]}function f(k,S,R,B){for(let $=0;$<B;$++)R[$]^=k[S+$]}function l(k,S,R,B,$){for(;$--;)R[B++]=k[S++]}function x(k){if(!k||typeof k.length!="number")return!1;for(let S=0;S<k.length;S++){const R=k[S];if(typeof R!="number"||R%1||R<0||R>=256)return!1}return!0}function E(k,S){if(typeof k!="number"||k%1)throw new Error("invalid "+S);return k}function C(k,S,R,B,$,H,K){if(R=E(R,"N"),B=E(B,"r"),$=E($,"p"),H=E(H,"dkLen"),R===0||R&R-1)throw new Error("N must be power of 2");if(R>2147483647/128/B)throw new Error("N too large");if(B>2147483647/128/$)throw new Error("r too large");if(!x(k))throw new Error("password must be an array or buffer");if(k=Array.prototype.slice.call(k),!x(S))throw new Error("salt must be an array or buffer");S=Array.prototype.slice.call(S);let J=a(k,S,$*128*B);const ie=new Uint32Array($*32*B);for(let j=0;j<ie.length;j++){const I=j*4;ie[j]=(J[I+3]&255)<<24|(J[I+2]&255)<<16|(J[I+1]&255)<<8|(J[I+0]&255)<<0}const X=new Uint32Array(64*B),re=new Uint32Array(32*B*R),D=32*B,m=new Uint32Array(16),d=new Uint32Array(16),h=$*R*2;let u=0,p=null,g=!1,_=0,A=0,y,b;const w=K?parseInt(1e3/B):4294967295,v=typeof setImmediate<"u"?setImmediate:setTimeout,P=function(){if(g)return K(new Error("cancelled"),u/h);let j;switch(_){case 0:b=A*32*B,l(ie,b,X,0,D),_=1,y=0;case 1:j=R-y,j>w&&(j=w);for(let L=0;L<j;L++)l(X,0,re,(y+L)*D,D),s(X,D,B,m,d);if(y+=j,u+=j,K){const L=parseInt(1e3*u/h);if(L!==p){if(g=K(null,u/h),g)break;p=L}}if(y<R)break;y=0,_=2;case 2:j=R-y,j>w&&(j=w);for(let L=0;L<j;L++){const q=(2*B-1)*16,G=X[q]&R-1;f(re,G*D,X,D),s(X,D,B,m,d)}if(y+=j,u+=j,K){const L=parseInt(1e3*u/h);if(L!==p){if(g=K(null,u/h),g)break;p=L}}if(y<R)break;if(l(X,0,ie,b,D),A++,A<$){_=0;break}J=[];for(let L=0;L<ie.length;L++)J.push(ie[L]>>0&255),J.push(ie[L]>>8&255),J.push(ie[L]>>16&255),J.push(ie[L]>>24&255);const I=a(k,J,H);return K&&K(null,1,I),I}K&&v(P)};if(!K)for(;;){const j=P();if(j!=null)return j}P()}const M={scrypt:function(k,S,R,B,$,H,K){return new Promise(function(J,ie){let X=0;K&&K(0),C(k,S,R,B,$,H,function(re,D,m){if(re)ie(re);else if(m)K&&X!==1&&K(1),J(new Uint8Array(m));else if(K&&D!==X)return X=D,K(D)})})},syncScrypt:function(k,S,R,B,$,H){return new Uint8Array(C(k,S,R,B,$,H))}};t.exports=M})()})(qx);var T_=qx.exports;const Jh=Yn(T_);var M_=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(l){try{f(n.next(l))}catch(x){s(x)}}function c(l){try{f(n.throw(l))}catch(x){s(x)}}function f(l){l.done?a(l.value):i(l.value).then(o,c)}f((n=n.apply(t,e||[])).next())})};const r0=new Q(Ux);function $m(t){return t!=null&&t.mnemonic&&t.mnemonic.phrase}class k_ extends Xa{isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}}function I_(t,e,r){if(Ht(t,"crypto/cipher")==="aes-128-ctr"){const i=Fa(Ht(t,"crypto/cipherparams/iv")),a=new li.Counter(i),s=new li.ModeOfOperation.ctr(e,a);return ue(s.decrypt(r))}return null}function jx(t,e){const r=Fa(Ht(t,"crypto/ciphertext"));if(fe(kt(Rt([e.slice(16,32),r]))).substring(2)!==Ht(t,"crypto/mac").toLowerCase())throw new Error("invalid password");const i=I_(t,e.slice(0,16),r);i||r0.throwError("unsupported cipher",Q.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const a=e.slice(32,64),s=La(i);if(t.address){let c=t.address.toLowerCase();if(c.substring(0,2)!=="0x"&&(c="0x"+c),Et(c)!==s)throw new Error("address mismatch")}const o={_isKeystoreAccount:!0,address:s,privateKey:fe(i)};if(Ht(t,"x-ethers/version")==="0.1"){const c=Fa(Ht(t,"x-ethers/mnemonicCiphertext")),f=Fa(Ht(t,"x-ethers/mnemonicCounter")),l=new li.Counter(f),x=new li.ModeOfOperation.ctr(a,l),E=Ht(t,"x-ethers/path")||uc,C=Ht(t,"x-ethers/locale")||"en",M=ue(x.decrypt(c));try{const k=Vh(M,C),S=En.fromMnemonic(k,null,C).derivePath(E);if(S.privateKey!=o.privateKey)throw new Error("mnemonic mismatch");o.mnemonic=S.mnemonic}catch(k){if(k.code!==Q.errors.INVALID_ARGUMENT||k.argument!=="wordlist")throw k}}return new k_(o)}function Kx(t,e,r,n,i){return ue(Kh(t,e,r,n,i))}function S_(t,e,r,n,i){return Promise.resolve(Kx(t,e,r,n,i))}function Gx(t,e,r,n,i){const a=Wh(e),s=Ht(t,"crypto/kdf");if(s&&typeof s=="string"){const o=function(c,f){return r0.throwArgumentError("invalid key-derivation function parameters",c,f)};if(s.toLowerCase()==="scrypt"){const c=Fa(Ht(t,"crypto/kdfparams/salt")),f=parseInt(Ht(t,"crypto/kdfparams/n")),l=parseInt(Ht(t,"crypto/kdfparams/r")),x=parseInt(Ht(t,"crypto/kdfparams/p"));(!f||!l||!x)&&o("kdf",s),f&f-1&&o("N",f);const E=parseInt(Ht(t,"crypto/kdfparams/dklen"));return E!==32&&o("dklen",E),n(a,c,f,l,x,64,i)}else if(s.toLowerCase()==="pbkdf2"){const c=Fa(Ht(t,"crypto/kdfparams/salt"));let f=null;const l=Ht(t,"crypto/kdfparams/prf");l==="hmac-sha256"?f="sha256":l==="hmac-sha512"?f="sha512":o("prf",l);const x=parseInt(Ht(t,"crypto/kdfparams/c")),E=parseInt(Ht(t,"crypto/kdfparams/dklen"));return E!==32&&o("dklen",E),r(a,c,x,E,f)}}return r0.throwArgumentError("unsupported key-derivation function","kdf",s)}function C_(t,e){const r=JSON.parse(t),n=Gx(r,e,Kx,Jh.syncScrypt);return jx(r,n)}function N_(t,e,r){return M_(this,void 0,void 0,function*(){const n=JSON.parse(t),i=yield Gx(n,e,S_,Jh.scrypt,r);return jx(n,i)})}function R_(t,e,r,n){try{if(Et(t.address)!==La(t.privateKey))throw new Error("address/privateKey mismatch");if($m(t)){const S=t.mnemonic;if(En.fromMnemonic(S.phrase,null,S.locale).derivePath(S.path||uc).privateKey!=t.privateKey)throw new Error("mnemonic mismatch")}}catch(S){return Promise.reject(S)}typeof r=="function"&&!n&&(n=r,r={}),r||(r={});const i=ue(t.privateKey),a=Wh(e);let s=null,o=null,c=null;if($m(t)){const S=t.mnemonic;s=ue(Fx(S.phrase,S.locale||"en")),o=S.path||uc,c=S.locale||"en"}let f=r.client;f||(f="ethers.js");let l=null;r.salt?l=ue(r.salt):l=Ro(32);let x=null;if(r.iv){if(x=ue(r.iv),x.length!==16)throw new Error("invalid iv")}else x=Ro(16);let E=null;if(r.uuid){if(E=ue(r.uuid),E.length!==16)throw new Error("invalid uuid")}else E=Ro(16);let C=1<<17,M=8,k=1;return r.scrypt&&(r.scrypt.N&&(C=r.scrypt.N),r.scrypt.r&&(M=r.scrypt.r),r.scrypt.p&&(k=r.scrypt.p)),Jh.scrypt(a,l,C,M,k,64,n).then(S=>{S=ue(S);const R=S.slice(0,16),B=S.slice(16,32),$=S.slice(32,64),H=new li.Counter(x),K=new li.ModeOfOperation.ctr(R,H),J=ue(K.encrypt(i)),ie=kt(Rt([B,J])),X={address:t.address.substring(2).toLowerCase(),id:A_(E),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:fe(x).substring(2)},ciphertext:fe(J).substring(2),kdf:"scrypt",kdfparams:{salt:fe(l).substring(2),n:C,dklen:32,p:k,r:M},mac:ie.substring(2)}};if(s){const re=Ro(16),D=new li.Counter(re),m=new li.ModeOfOperation.ctr($,D),d=ue(m.encrypt(s)),h=new Date,u=h.getUTCFullYear()+"-"+go(h.getUTCMonth()+1,2)+"-"+go(h.getUTCDate(),2)+"T"+go(h.getUTCHours(),2)+"-"+go(h.getUTCMinutes(),2)+"-"+go(h.getUTCSeconds(),2)+".0Z";X["x-ethers"]={client:f,gethFilename:"UTC--"+u+"--"+X.address,mnemonicCounter:fe(re).substring(2),mnemonicCiphertext:fe(d).substring(2),path:o,locale:c,version:"0.1"}}return JSON.stringify(X)})}function P_(t,e,r){if(Hx(t)){r&&r(0);const n=$x(t,e);return r&&r(1),Promise.resolve(n)}return zx(t)?N_(t,e,r):Promise.reject(new Error("invalid JSON wallet"))}function B_(t,e){if(Hx(t))return $x(t,e);if(zx(t))return C_(t,e);throw new Error("invalid JSON wallet")}const O_="wallet/5.7.0";var Hm=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(l){try{f(n.next(l))}catch(x){s(x)}}function c(l){try{f(n.throw(l))}catch(x){s(x)}}function f(l){l.done?a(l.value):i(l.value).then(o,c)}f((n=n.apply(t,e||[])).next())})};const ds=new Q(O_);function L_(t){return t!=null&&At(t.privateKey,32)&&t.address!=null}function F_(t){const e=t.mnemonic;return e&&e.phrase}class Sa extends Qs{constructor(e,r){if(super(),L_(e)){const n=new Ts(e.privateKey);if(ae(this,"_signingKey",()=>n),ae(this,"address",La(this.publicKey)),this.address!==Et(e.address)&&ds.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),F_(e)){const i=e.mnemonic;ae(this,"_mnemonic",()=>({phrase:i.phrase,path:i.path||uc,locale:i.locale||"en"}));const a=this.mnemonic,s=En.fromMnemonic(a.phrase,null,a.locale).derivePath(a.path);La(s.privateKey)!==this.address&&ds.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else ae(this,"_mnemonic",()=>null)}else{if(Ts.isSigningKey(e))e.curve!=="secp256k1"&&ds.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),ae(this,"_signingKey",()=>e);else{typeof e=="string"&&e.match(/^[0-9a-f]*$/i)&&e.length===64&&(e="0x"+e);const n=new Ts(e);ae(this,"_signingKey",()=>n)}ae(this,"_mnemonic",()=>null),ae(this,"address",La(this.publicKey))}r&&!Zs.isProvider(r)&&ds.throwArgumentError("invalid provider","provider",r),ae(this,"provider",r||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new Sa(this,e)}signTransaction(e){return Ut(e).then(r=>{r.from!=null&&(Et(r.from)!==this.address&&ds.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete r.from);const n=this._signingKey().signDigest(kt(Rm(r)));return Rm(r,n)})}signMessage(e){return Hm(this,void 0,void 0,function*(){return cm(this._signingKey().signDigest(q9(e)))})}_signTypedData(e,r,n){return Hm(this,void 0,void 0,function*(){const i=yield $r.resolveNames(e,r,n,a=>(this.provider==null&&ds.throwError("cannot resolve ENS names without a provider",Q.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:a}),this.provider.resolveName(a)));return cm(this._signingKey().signDigest($r.hash(i.domain,r,i.value)))})}encrypt(e,r,n){if(typeof r=="function"&&!n&&(n=r,r={}),n&&typeof n!="function")throw new Error("invalid callback");return r||(r={}),R_(this,e,r,n)}static createRandom(e){let r=Ro(16);e||(e={}),e.extraEntropy&&(r=ue(er(kt(Rt([r,e.extraEntropy])),0,16)));const n=Vh(r,e.locale);return Sa.fromMnemonic(n,e.path,e.locale)}static fromEncryptedJson(e,r,n){return P_(e,r,n).then(i=>new Sa(i))}static fromEncryptedJsonSync(e,r){return new Sa(B_(e,r))}static fromMnemonic(e,r,n){return r||(r=uc),new Sa(En.fromMnemonic(e,null,n).derivePath(r))}}const D_="networks/5.7.1",zm=new Q(D_);function U_(t){return t&&typeof t.renetwork=="function"}function Si(t){const e=function(r,n){n==null&&(n={});const i=[];if(r.InfuraProvider&&n.infura!=="-")try{i.push(new r.InfuraProvider(t,n.infura))}catch{}if(r.EtherscanProvider&&n.etherscan!=="-")try{i.push(new r.EtherscanProvider(t,n.etherscan))}catch{}if(r.AlchemyProvider&&n.alchemy!=="-")try{i.push(new r.AlchemyProvider(t,n.alchemy))}catch{}if(r.PocketProvider&&n.pocket!=="-"){const a=["goerli","ropsten","rinkeby","sepolia"];try{const s=new r.PocketProvider(t,n.pocket);s.network&&a.indexOf(s.network.name)===-1&&i.push(s)}catch{}}if(r.CloudflareProvider&&n.cloudflare!=="-")try{i.push(new r.CloudflareProvider(t))}catch{}if(r.AnkrProvider&&n.ankr!=="-")try{const a=["ropsten"],s=new r.AnkrProvider(t,n.ankr);s.network&&a.indexOf(s.network.name)===-1&&i.push(s)}catch{}if(i.length===0)return null;if(r.FallbackProvider){let a=1;return n.quorum!=null?a=n.quorum:t==="homestead"&&(a=2),new r.FallbackProvider(i,a)}return i[0]};return e.renetwork=function(r){return Si(r)},e}function Du(t,e){const r=function(n,i){return n.JsonRpcProvider?new n.JsonRpcProvider(t,e):null};return r.renetwork=function(n){return Du(t,n)},r}const qm={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:Si("homestead")},jm={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:Si("ropsten")},Km={chainId:63,name:"classicMordor",_defaultProvider:Du("https://www.ethercluster.com/mordor","classicMordor")},Xc={unspecified:{chainId:0,name:"unspecified"},homestead:qm,mainnet:qm,morden:{chainId:2,name:"morden"},ropsten:jm,testnet:jm,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:Si("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:Si("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:Si("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,name:"sepolia",_defaultProvider:Si("sepolia")},classic:{chainId:61,name:"classic",_defaultProvider:Du("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:Km,classicTestnet:Km,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:Du("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:Si("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:Si("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function $_(t){if(t==null)return null;if(typeof t=="number"){for(const n in Xc){const i=Xc[n];if(i.chainId===t)return{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress||null,_defaultProvider:i._defaultProvider||null}}return{chainId:t,name:"unknown"}}if(typeof t=="string"){const n=Xc[t];return n==null?null:{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress,_defaultProvider:n._defaultProvider||null}}const e=Xc[t.name];if(!e)return typeof t.chainId!="number"&&zm.throwArgumentError("invalid network chainId","network",t),t;t.chainId!==0&&t.chainId!==e.chainId&&zm.throwArgumentError("network chainId mismatch","network",t);let r=t._defaultProvider||null;return r==null&&e._defaultProvider&&(U_(e._defaultProvider)?r=e._defaultProvider.renetwork(t):r=e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:r}}const H_="web/5.7.1";var z_=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(l){try{f(n.next(l))}catch(x){s(x)}}function c(l){try{f(n.throw(l))}catch(x){s(x)}}function f(l){l.done?a(l.value):i(l.value).then(o,c)}f((n=n.apply(t,e||[])).next())})};function q_(t,e){return z_(this,void 0,void 0,function*(){e==null&&(e={});const r={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client"),e.fetchOptions!=null){const s=e.fetchOptions;s.mode&&(r.mode=s.mode),s.cache&&(r.cache=s.cache),s.credentials&&(r.credentials=s.credentials),s.redirect&&(r.redirect=s.redirect),s.referrer&&(r.referrer=s.referrer)}const n=yield fetch(t,r),i=yield n.arrayBuffer(),a={};return n.headers.forEach?n.headers.forEach((s,o)=>{a[o.toLowerCase()]=s}):n.headers.keys().forEach(s=>{a[s.toLowerCase()]=n.headers.get(s)}),{headers:a,statusCode:n.status,statusMessage:n.statusText,body:ue(new Uint8Array(i))}})}var j_=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(l){try{f(n.next(l))}catch(x){s(x)}}function c(l){try{f(n.throw(l))}catch(x){s(x)}}function f(l){l.done?a(l.value):i(l.value).then(o,c)}f((n=n.apply(t,e||[])).next())})};const jn=new Q(H_);function Gm(t){return new Promise(e=>{setTimeout(e,t)})}function Yi(t,e){if(t==null)return null;if(typeof t=="string")return t;if(Tf(t)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return Ys(t)}catch{}return fe(t)}return t}function K_(t){return jt(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}function G_(t,e,r){const n=typeof t=="object"&&t.throttleLimit!=null?t.throttleLimit:12;jn.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);const i=typeof t=="object"?t.throttleCallback:null,a=typeof t=="object"&&typeof t.throttleSlotInterval=="number"?t.throttleSlotInterval:100;jn.assertArgument(a>0&&a%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",a);const s=typeof t=="object"?!!t.errorPassThrough:!1,o={};let c=null;const f={method:"GET"};let l=!1,x=2*60*1e3;if(typeof t=="string")c=t;else if(typeof t=="object"){if((t==null||t.url==null)&&jn.throwArgumentError("missing URL","connection.url",t),c=t.url,typeof t.timeout=="number"&&t.timeout>0&&(x=t.timeout),t.headers)for(const R in t.headers)o[R.toLowerCase()]={key:R,value:String(t.headers[R])},["if-none-match","if-modified-since"].indexOf(R.toLowerCase())>=0&&(l=!0);if(f.allowGzip=!!t.allowGzip,t.user!=null&&t.password!=null){c.substring(0,6)!=="https:"&&t.allowInsecureAuthentication!==!0&&jn.throwError("basic authentication requires a secure https url",Q.errors.INVALID_ARGUMENT,{argument:"url",url:c,user:t.user,password:"[REDACTED]"});const R=t.user+":"+t.password;o.authorization={key:"Authorization",value:"Basic "+J2(jt(R))}}t.skipFetchSetup!=null&&(f.skipFetchSetup=!!t.skipFetchSetup),t.fetchOptions!=null&&(f.fetchOptions=tr(t.fetchOptions))}const E=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),C=c?c.match(E):null;if(C)try{const R={statusCode:200,statusMessage:"OK",headers:{"content-type":C[1]||"text/plain"},body:C[2]?W2(C[3]):K_(C[3])};let B=R.body;return r&&(B=r(R.body,R)),Promise.resolve(B)}catch(R){jn.throwError("processing response error",Q.errors.SERVER_ERROR,{body:Yi(C[1],C[2]),error:R,requestBody:null,requestMethod:"GET",url:c})}e&&(f.method="POST",f.body=e,o["content-type"]==null&&(o["content-type"]={key:"Content-Type",value:"application/octet-stream"}),o["content-length"]==null&&(o["content-length"]={key:"Content-Length",value:String(e.length)}));const M={};Object.keys(o).forEach(R=>{const B=o[R];M[B.key]=B.value}),f.headers=M;const k=function(){let R=null;return{promise:new Promise(function(H,K){x&&(R=setTimeout(()=>{R!=null&&(R=null,K(jn.makeError("timeout",Q.errors.TIMEOUT,{requestBody:Yi(f.body,M["content-type"]),requestMethod:f.method,timeout:x,url:c})))},x))}),cancel:function(){R!=null&&(clearTimeout(R),R=null)}}}(),S=function(){return j_(this,void 0,void 0,function*(){for(let R=0;R<n;R++){let B=null;try{if(B=yield q_(c,f),R<n){if(B.statusCode===301||B.statusCode===302){const H=B.headers.location||"";if(f.method==="GET"&&H.match(/^https:/)){c=B.headers.location;continue}}else if(B.statusCode===429){let H=!0;if(i&&(H=yield i(R,c)),H){let K=0;const J=B.headers["retry-after"];typeof J=="string"&&J.match(/^[1-9][0-9]*$/)?K=parseInt(J)*1e3:K=a*parseInt(String(Math.random()*Math.pow(2,R))),yield Gm(K);continue}}}}catch(H){B=H.response,B==null&&(k.cancel(),jn.throwError("missing response",Q.errors.SERVER_ERROR,{requestBody:Yi(f.body,M["content-type"]),requestMethod:f.method,serverError:H,url:c}))}let $=B.body;if(l&&B.statusCode===304?$=null:!s&&(B.statusCode<200||B.statusCode>=300)&&(k.cancel(),jn.throwError("bad response",Q.errors.SERVER_ERROR,{status:B.statusCode,headers:B.headers,body:Yi($,B.headers?B.headers["content-type"]:null),requestBody:Yi(f.body,M["content-type"]),requestMethod:f.method,url:c})),r)try{const H=yield r($,B);return k.cancel(),H}catch(H){if(H.throttleRetry&&R<n){let K=!0;if(i&&(K=yield i(R,c)),K){const J=a*parseInt(String(Math.random()*Math.pow(2,R)));yield Gm(J);continue}}k.cancel(),jn.throwError("processing response error",Q.errors.SERVER_ERROR,{body:Yi($,B.headers?B.headers["content-type"]:null),error:H,requestBody:Yi(f.body,M["content-type"]),requestMethod:f.method,url:c})}return k.cancel(),$}return jn.throwError("failed response",Q.errors.SERVER_ERROR,{requestBody:Yi(f.body,M["content-type"]),requestMethod:f.method,url:c})})}();return Promise.race([k.promise,S])}function Yh(t,e,r){let n=(a,s)=>{let o=null;if(a!=null)try{o=JSON.parse(Ys(a))}catch(c){jn.throwError("invalid JSON",Q.errors.SERVER_ERROR,{body:a,error:c})}return r&&(o=r(o,s)),o},i=null;if(e!=null){i=jt(e);const a=typeof t=="string"?{url:t}:tr(t);a.headers?Object.keys(a.headers).filter(o=>o.toLowerCase()==="content-type").length!==0||(a.headers=tr(a.headers),a.headers["content-type"]="application/json"):a.headers={"content-type":"application/json"},t=a}return G_(t,i,n)}function Po(t,e){return e||(e={}),e=tr(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(r,n){let i=null,a=!1;const s=()=>a?!1:(a=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout(()=>{s()&&n(new Error("timeout"))},e.timeout));const o=e.retryLimit;let c=0;function f(){return t().then(function(l){if(l!==void 0)s()&&r(l);else if(e.oncePoll)e.oncePoll.once("poll",f);else if(e.onceBlock)e.onceBlock.once("block",f);else if(!a){if(c++,c>o){s()&&n(new Error("retry limit reached"));return}let x=e.interval*parseInt(String(Math.random()*Math.pow(2,c)));x<e.floor&&(x=e.floor),x>e.ceiling&&(x=e.ceiling),setTimeout(f,x)}return null},function(l){s()&&n(l)})}f()})}var Uu="qpzry9x8gf2tvdw0s3jn54khce6mua7l",n0={};for(var eu=0;eu<Uu.length;eu++){var Gd=Uu.charAt(eu);if(n0[Gd]!==void 0)throw new TypeError(Gd+" is ambiguous");n0[Gd]=eu}function Ms(t){var e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function Vx(t){for(var e=1,r=0;r<t.length;++r){var n=t.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+t+")";e=Ms(e)^n>>5}for(e=Ms(e),r=0;r<t.length;++r){var i=t.charCodeAt(r);e=Ms(e)^i&31}return e}function V_(t,e,r){if(r=r||90,t.length+7+e.length>r)throw new TypeError("Exceeds length limit");t=t.toLowerCase();var n=Vx(t);if(typeof n=="string")throw new Error(n);for(var i=t+"1",a=0;a<e.length;++a){var s=e[a];if(s>>5)throw new Error("Non 5-bit word");n=Ms(n)^s,i+=Uu.charAt(s)}for(a=0;a<6;++a)n=Ms(n);for(n^=1,a=0;a<6;++a){var o=n>>(5-a)*5&31;i+=Uu.charAt(o)}return i}function Wx(t,e){if(e=e||90,t.length<8)return t+" too short";if(t.length>e)return"Exceeds length limit";var r=t.toLowerCase(),n=t.toUpperCase();if(t!==r&&t!==n)return"Mixed-case string "+t;t=r;var i=t.lastIndexOf("1");if(i===-1)return"No separator character for "+t;if(i===0)return"Missing prefix for "+t;var a=t.slice(0,i),s=t.slice(i+1);if(s.length<6)return"Data too short";var o=Vx(a);if(typeof o=="string")return o;for(var c=[],f=0;f<s.length;++f){var l=s.charAt(f),x=n0[l];if(x===void 0)return"Unknown character "+l;o=Ms(o)^x,!(f+6>=s.length)&&c.push(x)}return o!==1?"Invalid checksum for "+t:{prefix:a,words:c}}function W_(){var t=Wx.apply(null,arguments);if(typeof t=="object")return t}function J_(t){var e=Wx.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function Rf(t,e,r,n){for(var i=0,a=0,s=(1<<r)-1,o=[],c=0;c<t.length;++c)for(i=i<<e|t[c],a+=e;a>=r;)a-=r,o.push(i>>a&s);if(n)a>0&&o.push(i<<r-a&s);else{if(a>=e)return"Excess padding";if(i<<r-a&s)return"Non-zero padding"}return o}function Y_(t){var e=Rf(t,8,5,!0);if(Array.isArray(e))return e}function Z_(t){var e=Rf(t,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function Q_(t){var e=Rf(t,5,8,!1);if(Array.isArray(e))return e}function X_(t){var e=Rf(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}var eT={decodeUnsafe:W_,decode:J_,encode:V_,toWordsUnsafe:Y_,toWords:Z_,fromWordsUnsafe:Q_,fromWords:X_};const Vm=Yn(eT),ba="providers/5.7.2",vo=new Q(ba);class Se{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},r=this.address.bind(this),n=this.bigNumber.bind(this),i=this.blockTag.bind(this),a=this.data.bind(this),s=this.hash.bind(this),o=this.hex.bind(this),c=this.number.bind(this),f=this.type.bind(this),l=x=>this.data(x,!0);return e.transaction={hash:s,type:f,accessList:Se.allowNull(this.accessList.bind(this),null),blockHash:Se.allowNull(s,null),blockNumber:Se.allowNull(c,null),transactionIndex:Se.allowNull(c,null),confirmations:Se.allowNull(c,null),from:r,gasPrice:Se.allowNull(n),maxPriorityFeePerGas:Se.allowNull(n),maxFeePerGas:Se.allowNull(n),gasLimit:n,to:Se.allowNull(r,null),value:n,nonce:c,data:a,r:Se.allowNull(this.uint256),s:Se.allowNull(this.uint256),v:Se.allowNull(c),creates:Se.allowNull(r,null),raw:Se.allowNull(a)},e.transactionRequest={from:Se.allowNull(r),nonce:Se.allowNull(c),gasLimit:Se.allowNull(n),gasPrice:Se.allowNull(n),maxPriorityFeePerGas:Se.allowNull(n),maxFeePerGas:Se.allowNull(n),to:Se.allowNull(r),value:Se.allowNull(n),data:Se.allowNull(l),type:Se.allowNull(c),accessList:Se.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:c,blockNumber:c,transactionHash:s,address:r,topics:Se.arrayOf(s),data:a,logIndex:c,blockHash:s},e.receipt={to:Se.allowNull(this.address,null),from:Se.allowNull(this.address,null),contractAddress:Se.allowNull(r,null),transactionIndex:c,root:Se.allowNull(o),gasUsed:n,logsBloom:Se.allowNull(a),blockHash:s,transactionHash:s,logs:Se.arrayOf(this.receiptLog.bind(this)),blockNumber:c,confirmations:Se.allowNull(c,null),cumulativeGasUsed:n,effectiveGasPrice:Se.allowNull(n),status:Se.allowNull(c),type:f},e.block={hash:Se.allowNull(s),parentHash:s,number:c,timestamp:c,nonce:Se.allowNull(o),difficulty:this.difficulty.bind(this),gasLimit:n,gasUsed:n,miner:Se.allowNull(r),extraData:a,transactions:Se.allowNull(Se.arrayOf(s)),baseFeePerGas:Se.allowNull(n)},e.blockWithTransactions=tr(e.block),e.blockWithTransactions.transactions=Se.allowNull(Se.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:Se.allowNull(i,void 0),toBlock:Se.allowNull(i,void 0),blockHash:Se.allowNull(s,void 0),address:Se.allowNull(r,void 0),topics:Se.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:Se.allowNull(c),blockHash:Se.allowNull(s),transactionIndex:c,removed:Se.allowNull(this.boolean.bind(this)),address:r,data:Se.allowFalsish(a,"0x"),topics:Se.arrayOf(s),transactionHash:s,logIndex:c},e}accessList(e){return no(e||[])}number(e){return e==="0x"?0:ve.from(e).toNumber()}type(e){return e==="0x"||e==null?0:ve.from(e).toNumber()}bigNumber(e){return ve.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,r){return typeof e=="string"&&(!r&&e.substring(0,2)!=="0x"&&(e="0x"+e),At(e))?e.toLowerCase():vo.throwArgumentError("invalid hash","value",e)}data(e,r){const n=this.hex(e,r);if(n.length%2!==0)throw new Error("invalid data; odd-length - "+e);return n}address(e){return Et(e)}callAddress(e){if(!At(e,32))return null;const r=Et(er(e,12));return r===t9?null:r}contractAddress(e){return D2(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||At(e))return Lh(e);throw new Error("invalid blockTag")}hash(e,r){const n=this.hex(e,r);return qa(n)!==32?vo.throwArgumentError("invalid hash","value",e):n}difficulty(e){if(e==null)return null;const r=ve.from(e);try{return r.toNumber()}catch{}return null}uint256(e){if(!At(e))throw new Error("invalid uint256");return Pt(e,32)}_block(e,r){e.author!=null&&e.miner==null&&(e.miner=e.author);const n=e._difficulty!=null?e._difficulty:e.difficulty,i=Se.check(r,e);return i._difficulty=n==null?null:ve.from(n),i}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return Se.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&ve.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const r=Se.check(this.formats.transaction,e);if(e.chainId!=null){let n=e.chainId;At(n)&&(n=ve.from(n).toNumber()),r.chainId=n}else{let n=e.networkId;n==null&&r.v==null&&(n=e.chainId),At(n)&&(n=ve.from(n).toNumber()),typeof n!="number"&&r.v!=null&&(n=(r.v-35)/2,n<0&&(n=0),n=parseInt(n)),typeof n!="number"&&(n=0),r.chainId=n}return r.blockHash&&r.blockHash.replace(/0/g,"")==="x"&&(r.blockHash=null),r}transaction(e){return XE(e)}receiptLog(e){return Se.check(this.formats.receiptLog,e)}receipt(e){const r=Se.check(this.formats.receipt,e);if(r.root!=null)if(r.root.length<=4){const n=ve.from(r.root).toNumber();n===0||n===1?(r.status!=null&&r.status!==n&&vo.throwArgumentError("alt-root-status/status mismatch","value",{root:r.root,status:r.status}),r.status=n,delete r.root):vo.throwArgumentError("invalid alt-root-status","value.root",r.root)}else r.root.length!==66&&vo.throwArgumentError("invalid root hash","value.root",r.root);return r.status!=null&&(r.byzantium=!0),r}topics(e){return Array.isArray(e)?e.map(r=>this.topics(r)):e!=null?this.hash(e,!0):null}filter(e){return Se.check(this.formats.filter,e)}filterLog(e){return Se.check(this.formats.filterLog,e)}static check(e,r){const n={};for(const i in e)try{const a=e[i](r[i]);a!==void 0&&(n[i]=a)}catch(a){throw a.checkKey=i,a.checkValue=r[i],a}return n}static allowNull(e,r){return function(n){return n==null?r:e(n)}}static allowFalsish(e,r){return function(n){return n?e(n):r}}static arrayOf(e){return function(r){if(!Array.isArray(r))throw new Error("not an array");const n=[];return r.forEach(function(i){n.push(e(i))}),n}}}let Wm=!1;function tT(){Wm||(Wm=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var Ke=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(l){try{f(n.next(l))}catch(x){s(x)}}function c(l){try{f(n.throw(l))}catch(x){s(x)}}function f(l){l.done?a(l.value):i(l.value).then(o,c)}f((n=n.apply(t,e||[])).next())})};const tt=new Q(ba),rT=10;function Jm(t){return t==null?"null":(qa(t)!==32&&tt.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function Ym(t){for(t=t.slice();t.length>0&&t[t.length-1]==null;)t.pop();return t.map(e=>{if(Array.isArray(e)){const r={};e.forEach(i=>{r[Jm(i)]=!0});const n=Object.keys(r);return n.sort(),n.join("|")}else return Jm(e)}).join("&")}function nT(t){return t===""?[]:t.split(/&/g).map(e=>{if(e==="")return[];const r=e.split("|").map(n=>n==="null"?null:n);return r.length===1?r[0]:r})}function ls(t){if(typeof t=="string"){if(t=t.toLowerCase(),qa(t)===32)return"tx:"+t;if(t.indexOf(":")===-1)return t}else{if(Array.isArray(t))return"filter:*:"+Ym(t);if(iA.isForkEvent(t))throw tt.warn("not implemented"),new Error("not implemented");if(t&&typeof t=="object")return"filter:"+(t.address||"*")+":"+Ym(t.topics||[])}throw new Error("invalid event - "+t)}function wo(){return new Date().getTime()}function Zm(t){return new Promise(e=>{setTimeout(e,t)})}const iT=["block","network","pending","poll"];class aT{constructor(e,r,n){ae(this,"tag",e),ae(this,"listener",r),ae(this,"once",n),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const r=e[1],n=nT(e[2]),i={};return n.length>0&&(i.topics=n),r&&r!=="*"&&(i.address=r),i}pollable(){return this.tag.indexOf(":")>=0||iT.indexOf(this.tag)>=0}}const sT={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function Vd(t){return Pt(ve.from(t).toHexString(),32)}function Qm(t){return oc.encode(Rt([t,er(Va(Va(t)),0,4)]))}const Jx=new RegExp("^(ipfs)://(.*)$","i"),Xm=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Jx,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function hu(t,e){try{return Ys(fc(t,e))}catch{}return null}function fc(t,e){if(t==="0x")return null;const r=ve.from(er(t,e,e+32)).toNumber(),n=ve.from(er(t,r,r+32)).toNumber();return er(t,r+32,r+32+n)}function Wd(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):tt.throwArgumentError("unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}function ey(t){const e=ue(t);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function oT(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}function Yx(t){const e=[];let r=0;for(let n=0;n<t.length;n++)e.push(null),r+=32;for(let n=0;n<t.length;n++){const i=ue(t[n]);e[n]=ey(r),e.push(ey(i.length)),e.push(oT(i)),r+=32+Math.ceil(i.length/32)*32}return jr(e)}class ty{constructor(e,r,n,i){ae(this,"provider",e),ae(this,"name",n),ae(this,"address",e.formatter.address(r)),ae(this,"_resolvedAddress",i)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>ve.from(e).eq(1)).catch(e=>{if(e.code===Q.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,r){return Ke(this,void 0,void 0,function*(){const n={to:this.address,ccipReadEnabled:!0,data:jr([e,cu(this.name),r||"0x"])};let i=!1;(yield this.supportsWildcard())&&(i=!0,n.data=jr(["0x9061b923",Yx([H9(this.name),n.data])]));try{let a=yield this.provider.call(n);return ue(a).length%32===4&&tt.throwError("resolver threw error",Q.errors.CALL_EXCEPTION,{transaction:n,data:a}),i&&(a=fc(a,0)),a}catch(a){if(a.code===Q.errors.CALL_EXCEPTION)return null;throw a}})}_fetchBytes(e,r){return Ke(this,void 0,void 0,function*(){const n=yield this._fetch(e,r);return n!=null?fc(n,0):null})}_getAddress(e,r){const n=sT[String(e)];if(n==null&&tt.throwError(`unsupported coin type: ${e}`,Q.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),n.ilk==="eth")return this.provider.formatter.address(r);const i=ue(r);if(n.p2pkh!=null){const a=r.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(a){const s=parseInt(a[1],16);if(a[2].length===s*2&&s>=1&&s<=75)return Qm(Rt([[n.p2pkh],"0x"+a[2]]))}}if(n.p2sh!=null){const a=r.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(a){const s=parseInt(a[1],16);if(a[2].length===s*2&&s>=1&&s<=75)return Qm(Rt([[n.p2sh],"0x"+a[2]]))}}if(n.prefix!=null){const a=i[1];let s=i[0];if(s===0?a!==20&&a!==32&&(s=-1):s=-1,s>=0&&i.length===2+a&&a>=1&&a<=75){const o=Vm.toWords(i.slice(2));return o.unshift(s),Vm.encode(n.prefix,o)}}return null}getAddress(e){return Ke(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const i=yield this._fetch("0x3b3b57de");return i==="0x"||i===q2?null:this.provider.formatter.callAddress(i)}catch(i){if(i.code===Q.errors.CALL_EXCEPTION)return null;throw i}const r=yield this._fetchBytes("0xf1cb7e06",Vd(e));if(r==null||r==="0x")return null;const n=this._getAddress(e,r);return n==null&&tt.throwError("invalid or unsupported coin data",Q.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:r}),n})}getAvatar(){return Ke(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const r=yield this.getText("avatar");if(r==null)return null;for(let n=0;n<Xm.length;n++){const i=r.match(Xm[n]);if(i==null)continue;const a=i[1].toLowerCase();switch(a){case"https":return e.push({type:"url",content:r}),{linkage:e,url:r};case"data":return e.push({type:"data",content:r}),{linkage:e,url:r};case"ipfs":return e.push({type:"ipfs",content:r}),{linkage:e,url:Wd(r)};case"erc721":case"erc1155":{const s=a==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:a,content:r});const o=this._resolvedAddress||(yield this.getAddress()),c=(i[2]||"").split("/");if(c.length!==2)return null;const f=yield this.provider.formatter.address(c[0]),l=Pt(ve.from(c[1]).toHexString(),32);if(a==="erc721"){const k=this.provider.formatter.callAddress(yield this.provider.call({to:f,data:jr(["0x6352211e",l])}));if(o!==k)return null;e.push({type:"owner",content:k})}else if(a==="erc1155"){const k=ve.from(yield this.provider.call({to:f,data:jr(["0x00fdd58e",Pt(o,32),l])}));if(k.isZero())return null;e.push({type:"balance",content:k.toString()})}const x={to:this.provider.formatter.address(c[0]),data:jr([s,l])};let E=hu(yield this.provider.call(x),0);if(E==null)return null;e.push({type:"metadata-url-base",content:E}),a==="erc1155"&&(E=E.replace("{id}",l.substring(2)),e.push({type:"metadata-url-expanded",content:E})),E.match(/^ipfs:/i)&&(E=Wd(E)),e.push({type:"metadata-url",content:E});const C=yield Yh(E);if(!C)return null;e.push({type:"metadata",content:JSON.stringify(C)});let M=C.image;if(typeof M!="string")return null;if(!M.match(/^(https:\/\/|data:)/i)){if(M.match(Jx)==null)return null;e.push({type:"url-ipfs",content:M}),M=Wd(M)}return e.push({type:"url",content:M}),{linkage:e,url:M}}}}}catch{}return null})}getContentHash(){return Ke(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const r=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const s=parseInt(r[3],16);if(r[4].length===s*2)return"ipfs://"+oc.encode("0x"+r[1])}const n=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const s=parseInt(n[3],16);if(n[4].length===s*2)return"ipns://"+oc.encode("0x"+n[1])}const i=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&i[1].length===32*2)return"bzz://"+i[1];const a=e.match(/^0x90b2c605([0-9a-f]*)$/);if(a&&a[1].length===34*2){const s={"=":"","+":"-","/":"_"};return"sia://"+J2("0x"+a[1]).replace(/[=+\/]/g,c=>s[c])}return tt.throwError("invalid or unsupported content hash data",Q.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return Ke(this,void 0,void 0,function*(){let r=jt(e);r=Rt([Vd(64),Vd(r.length),r]),r.length%32!==0&&(r=Rt([r,Pt("0x",32-e.length%32)]));const n=yield this._fetchBytes("0x59d1d43c",fe(r));return n==null||n==="0x"?null:Ys(n)})}}let Jd=null,cT=1;class uT extends Zs{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),ae(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(r=>{}),this._ready().catch(r=>{});else{const r=on(new.target,"getNetwork")(e);r?(ae(this,"_network",r),this.emit("network",r,null)):tt.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return Ke(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||tt.throwError("no network detected",Q.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:ae(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return Po(()=>this._ready().then(e=>e,e=>{if(!(e.code===Q.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return Jd==null&&(Jd=new Se),Jd}static getNetwork(e){return $_(e??"homestead")}ccipReadFetch(e,r,n){return Ke(this,void 0,void 0,function*(){if(this.disableCcipRead||n.length===0)return null;const i=e.to.toLowerCase(),a=r.toLowerCase(),s=[];for(let o=0;o<n.length;o++){const c=n[o],f=c.replace("{sender}",i).replace("{data}",a),l=c.indexOf("{data}")>=0?null:JSON.stringify({data:a,sender:i}),x=yield Yh({url:f,errorPassThrough:!0},l,(C,M)=>(C.status=M.statusCode,C));if(x.data)return x.data;const E=x.message||"unknown error";if(x.status>=400&&x.status<500)return tt.throwError(`response not found during CCIP fetch: ${E}`,Q.errors.SERVER_ERROR,{url:c,errorMessage:E});s.push(E)}return tt.throwError(`error encountered during CCIP fetch: ${s.map(o=>JSON.stringify(o)).join(", ")}`,Q.errors.SERVER_ERROR,{urls:n,errorMessages:s})})}_getInternalBlockNumber(e){return Ke(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const i=this._internalBlockNumber;try{const a=yield i;if(wo()-a.respTime<=e)return a.blockNumber;break}catch{if(this._internalBlockNumber===i)break}}const r=wo(),n=Ut({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(i=>null,i=>i)}).then(({blockNumber:i,networkError:a})=>{if(a)throw this._internalBlockNumber===n&&(this._internalBlockNumber=null),a;const s=wo();return i=ve.from(i).toNumber(),i<this._maxInternalBlockNumber&&(i=this._maxInternalBlockNumber),this._maxInternalBlockNumber=i,this._setFastBlockNumber(i),{blockNumber:i,reqTime:r,respTime:s}});return this._internalBlockNumber=n,n.catch(i=>{this._internalBlockNumber===n&&(this._internalBlockNumber=null)}),(yield n).blockNumber})}poll(){return Ke(this,void 0,void 0,function*(){const e=cT++,r=[];let n=null;try{n=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(i){this.emit("error",i);return}if(this._setFastBlockNumber(n),this.emit("poll",e,n),n===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)tt.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${n})`),this.emit("error",tt.makeError("network block skew detected",Q.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(let i=this._emitted.block+1;i<=n;i++)this.emit("block",i);this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach(i=>{if(i==="block")return;const a=this._emitted[i];a!=="pending"&&n-a>12&&delete this._emitted[i]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=n-1),this._events.forEach(i=>{switch(i.type){case"tx":{const a=i.hash;let s=this.getTransactionReceipt(a).then(o=>(!o||o.blockNumber==null||(this._emitted["t:"+a]=o.blockNumber,this.emit(a,o)),null)).catch(o=>{this.emit("error",o)});r.push(s);break}case"filter":{if(!i._inflight){i._inflight=!0,i._lastBlockNumber===-2&&(i._lastBlockNumber=n-1);const a=i.filter;a.fromBlock=i._lastBlockNumber+1,a.toBlock=n;const s=a.toBlock-this._maxFilterBlockRange;s>a.fromBlock&&(a.fromBlock=s),a.fromBlock<0&&(a.fromBlock=0);const o=this.getLogs(a).then(c=>{i._inflight=!1,c.length!==0&&c.forEach(f=>{f.blockNumber>i._lastBlockNumber&&(i._lastBlockNumber=f.blockNumber),this._emitted["b:"+f.blockHash]=f.blockNumber,this._emitted["t:"+f.transactionHash]=f.blockNumber,this.emit(a,f)})}).catch(c=>{this.emit("error",c),i._inflight=!1});r.push(o)}break}}}),this._lastBlockNumber=n,Promise.all(r).then(()=>{this.emit("didPoll",e)}).catch(i=>{this.emit("error",i)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return Ke(this,void 0,void 0,function*(){return tt.throwError("provider does not support network detection",Q.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return Ke(this,void 0,void 0,function*(){const e=yield this._ready(),r=yield this.detectNetwork();if(e.chainId!==r.chainId){if(this.anyNetwork)return this._network=r,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",r,e),yield Zm(0),this._network;const n=tt.makeError("underlying network changed",Q.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:r});throw this.emit("error",n),n}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=wo();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(r=>((this._fastBlockNumber==null||r>this._fastBlockNumber)&&(this._fastBlockNumber=r),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=wo(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,r,n){return Ke(this,void 0,void 0,function*(){return this._waitForTransaction(e,r??1,n||0,null)})}_waitForTransaction(e,r,n,i){return Ke(this,void 0,void 0,function*(){const a=yield this.getTransactionReceipt(e);return(a?a.confirmations:0)>=r?a:new Promise((s,o)=>{const c=[];let f=!1;const l=function(){return f?!0:(f=!0,c.forEach(E=>{E()}),!1)},x=E=>{E.confirmations<r||l()||s(E)};if(this.on(e,x),c.push(()=>{this.removeListener(e,x)}),i){let E=i.startBlock,C=null;const M=k=>Ke(this,void 0,void 0,function*(){f||(yield Zm(1e3),this.getTransactionCount(i.from).then(S=>Ke(this,void 0,void 0,function*(){if(!f){if(S<=i.nonce)E=k;else{{const R=yield this.getTransaction(e);if(R&&R.blockNumber!=null)return}for(C==null&&(C=E-3,C<i.startBlock&&(C=i.startBlock));C<=k;){if(f)return;const R=yield this.getBlockWithTransactions(C);for(let B=0;B<R.transactions.length;B++){const $=R.transactions[B];if($.hash===e)return;if($.from===i.from&&$.nonce===i.nonce){if(f)return;const H=yield this.waitForTransaction($.hash,r);if(l())return;let K="replaced";$.data===i.data&&$.to===i.to&&$.value.eq(i.value)?K="repriced":$.data==="0x"&&$.from===$.to&&$.value.isZero()&&(K="cancelled"),o(tt.makeError("transaction was replaced",Q.errors.TRANSACTION_REPLACED,{cancelled:K==="replaced"||K==="cancelled",reason:K,replacement:this._wrapTransaction($),hash:e,receipt:H}));return}}C++}}f||this.once("block",M)}}),S=>{f||this.once("block",M)}))});if(f)return;this.once("block",M),c.push(()=>{this.removeListener("block",M)})}if(typeof n=="number"&&n>0){const E=setTimeout(()=>{l()||o(tt.makeError("timeout exceeded",Q.errors.TIMEOUT,{timeout:n}))},n);E.unref&&E.unref(),c.push(()=>{clearTimeout(E)})}})})}getBlockNumber(){return Ke(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return Ke(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return ve.from(e)}catch(r){return tt.throwError("bad result from backend",Q.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:r})}})}getBalance(e,r){return Ke(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Ut({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getBalance",n);try{return ve.from(i)}catch(a){return tt.throwError("bad result from backend",Q.errors.SERVER_ERROR,{method:"getBalance",params:n,result:i,error:a})}})}getTransactionCount(e,r){return Ke(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Ut({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getTransactionCount",n);try{return ve.from(i).toNumber()}catch(a){return tt.throwError("bad result from backend",Q.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:i,error:a})}})}getCode(e,r){return Ke(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Ut({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getCode",n);try{return fe(i)}catch(a){return tt.throwError("bad result from backend",Q.errors.SERVER_ERROR,{method:"getCode",params:n,result:i,error:a})}})}getStorageAt(e,r,n){return Ke(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield Ut({address:this._getAddress(e),blockTag:this._getBlockTag(n),position:Promise.resolve(r).then(s=>Lh(s))}),a=yield this.perform("getStorageAt",i);try{return fe(a)}catch(s){return tt.throwError("bad result from backend",Q.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:a,error:s})}})}_wrapTransaction(e,r,n){if(r!=null&&qa(r)!==32)throw new Error("invalid response - sendTransaction");const i=e;return r!=null&&e.hash!==r&&tt.throwError("Transaction hash mismatch from Provider.sendTransaction.",Q.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:r}),i.wait=(a,s)=>Ke(this,void 0,void 0,function*(){a==null&&(a=1),s==null&&(s=0);let o;a!==0&&n!=null&&(o={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:n});const c=yield this._waitForTransaction(e.hash,a,s,o);return c==null&&a===0?null:(this._emitted["t:"+e.hash]=c.blockNumber,c.status===0&&tt.throwError("transaction failed",Q.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:c}),c)}),i}sendTransaction(e){return Ke(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Promise.resolve(e).then(a=>fe(a)),n=this.formatter.transaction(e);n.confirmations==null&&(n.confirmations=0);const i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const a=yield this.perform("sendTransaction",{signedTransaction:r});return this._wrapTransaction(n,a,i)}catch(a){throw a.transaction=n,a.transactionHash=n.hash,a}})}_getTransactionRequest(e){return Ke(this,void 0,void 0,function*(){const r=yield e,n={};return["from","to"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(a=>a?this._getAddress(a):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(a=>a?ve.from(a):null))}),["type"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(a=>a??null))}),r.accessList&&(n.accessList=this.formatter.accessList(r.accessList)),["data"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(a=>a?fe(a):null))}),this.formatter.transactionRequest(yield Ut(n))})}_getFilter(e){return Ke(this,void 0,void 0,function*(){e=yield e;const r={};return e.address!=null&&(r.address=this._getAddress(e.address)),["blockHash","topics"].forEach(n=>{e[n]!=null&&(r[n]=e[n])}),["fromBlock","toBlock"].forEach(n=>{e[n]!=null&&(r[n]=this._getBlockTag(e[n]))}),this.formatter.filter(yield Ut(r))})}_call(e,r,n){return Ke(this,void 0,void 0,function*(){n>=rT&&tt.throwError("CCIP read exceeded maximum redirections",Q.errors.SERVER_ERROR,{redirects:n,transaction:e});const i=e.to,a=yield this.perform("call",{transaction:e,blockTag:r});if(n>=0&&r==="latest"&&i!=null&&a.substring(0,10)==="0x556f1830"&&qa(a)%32===4)try{const s=er(a,4),o=er(s,0,32);ve.from(o).eq(i)||tt.throwError("CCIP Read sender did not match",Q.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:a});const c=[],f=ve.from(er(s,32,64)).toNumber(),l=ve.from(er(s,f,f+32)).toNumber(),x=er(s,f+32);for(let R=0;R<l;R++){const B=hu(x,R*32);B==null&&tt.throwError("CCIP Read contained corrupt URL string",Q.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:a}),c.push(B)}const E=fc(s,64);ve.from(er(s,100,128)).isZero()||tt.throwError("CCIP Read callback selector included junk",Q.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:a});const C=er(s,96,100),M=fc(s,128),k=yield this.ccipReadFetch(e,E,c);k==null&&tt.throwError("CCIP Read disabled or provided no URLs",Q.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:a});const S={to:i,data:jr([C,Yx([k,M])])};return this._call(S,r,n+1)}catch(s){if(s.code===Q.errors.SERVER_ERROR)throw s}try{return fe(a)}catch(s){return tt.throwError("bad result from backend",Q.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:r},result:a,error:s})}})}call(e,r){return Ke(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Ut({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(r),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(n.transaction,n.blockTag,n.ccipReadEnabled?0:-1)})}estimateGas(e){return Ke(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Ut({transaction:this._getTransactionRequest(e)}),n=yield this.perform("estimateGas",r);try{return ve.from(n)}catch(i){return tt.throwError("bad result from backend",Q.errors.SERVER_ERROR,{method:"estimateGas",params:r,result:n,error:i})}})}_getAddress(e){return Ke(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&tt.throwArgumentError("invalid address or ENS name","name",e);const r=yield this.resolveName(e);return r==null&&tt.throwError("ENS name not configured",Q.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),r})}_getBlock(e,r){return Ke(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let n=-128;const i={includeTransactions:!!r};if(At(e,32))i.blockHash=e;else try{i.blockTag=yield this._getBlockTag(e),At(i.blockTag)&&(n=parseInt(i.blockTag.substring(2),16))}catch{tt.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return Po(()=>Ke(this,void 0,void 0,function*(){const a=yield this.perform("getBlock",i);if(a==null)return i.blockHash!=null&&this._emitted["b:"+i.blockHash]==null||i.blockTag!=null&&n>this._emitted.block?null:void 0;if(r){let s=null;for(let c=0;c<a.transactions.length;c++){const f=a.transactions[c];if(f.blockNumber==null)f.confirmations=0;else if(f.confirmations==null){s==null&&(s=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let l=s-f.blockNumber+1;l<=0&&(l=1),f.confirmations=l}}const o=this.formatter.blockWithTransactions(a);return o.transactions=o.transactions.map(c=>this._wrapTransaction(c)),o}return this.formatter.block(a)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return Ke(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return Po(()=>Ke(this,void 0,void 0,function*(){const n=yield this.perform("getTransaction",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;const i=this.formatter.transactionResponse(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let s=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;s<=0&&(s=1),i.confirmations=s}return this._wrapTransaction(i)}),{oncePoll:this})})}getTransactionReceipt(e){return Ke(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return Po(()=>Ke(this,void 0,void 0,function*(){const n=yield this.perform("getTransactionReceipt",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;if(n.blockHash==null)return;const i=this.formatter.receipt(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let s=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;s<=0&&(s=1),i.confirmations=s}return i}),{oncePoll:this})})}getLogs(e){return Ke(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Ut({filter:this._getFilter(e)}),n=yield this.perform("getLogs",r);return n.forEach(i=>{i.removed==null&&(i.removed=!1)}),Se.arrayOf(this.formatter.filterLog.bind(this.formatter))(n)})}getEtherPrice(){return Ke(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return Ke(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&tt.throwArgumentError("invalid BlockTag","blockTag",e);let r=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return r+=e,r<0&&(r=0),this.formatter.blockTag(r)}return this.formatter.blockTag(e)})}getResolver(e){return Ke(this,void 0,void 0,function*(){let r=e;for(;;){if(r===""||r==="."||e!=="eth"&&r==="eth")return null;const n=yield this._getResolver(r,"getResolver");if(n!=null){const i=new ty(this,n,e);return r!==e&&!(yield i.supportsWildcard())?null:i}r=r.split(".").slice(1).join(".")}})}_getResolver(e,r){return Ke(this,void 0,void 0,function*(){r==null&&(r="ENS");const n=yield this.getNetwork();n.ensAddress||tt.throwError("network does not support ENS",Q.errors.UNSUPPORTED_OPERATION,{operation:r,network:n.name});try{const i=yield this.call({to:n.ensAddress,data:"0x0178b8bf"+cu(e).substring(2)});return this.formatter.callAddress(i)}catch{}return null})}resolveName(e){return Ke(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(n){if(At(e))throw n}typeof e!="string"&&tt.throwArgumentError("invalid ENS name","name",e);const r=yield this.getResolver(e);return r?yield r.getAddress():null})}lookupAddress(e){return Ke(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const r=e.substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(r,"lookupAddress");if(n==null)return null;const i=hu(yield this.call({to:n,data:"0x691f3431"+cu(r).substring(2)}),0);return(yield this.resolveName(i))!=e?null:i})}getAvatar(e){return Ke(this,void 0,void 0,function*(){let r=null;if(At(e)){const a=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",s=yield this._getResolver(a,"getAvatar");if(!s)return null;r=new ty(this,s,a);try{const o=yield r.getAvatar();if(o)return o.url}catch(o){if(o.code!==Q.errors.CALL_EXCEPTION)throw o}try{const o=hu(yield this.call({to:s,data:"0x691f3431"+cu(a).substring(2)}),0);r=yield this.getResolver(o)}catch(o){if(o.code!==Q.errors.CALL_EXCEPTION)throw o;return null}}else if(r=yield this.getResolver(e),!r)return null;const n=yield r.getAvatar();return n==null?null:n.url})}perform(e,r){return tt.throwError(e+" not implemented",Q.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_addEventListener(e,r,n){const i=new aT(ls(e),r,n);return this._events.push(i),this._startEvent(i),this}on(e,r){return this._addEventListener(e,r,!1)}once(e,r){return this._addEventListener(e,r,!0)}emit(e,...r){let n=!1,i=[],a=ls(e);return this._events=this._events.filter(s=>s.tag!==a?!0:(setTimeout(()=>{s.listener.apply(this,r)},0),n=!0,s.once?(i.push(s),!1):!0)),i.forEach(s=>{this._stopEvent(s)}),n}listenerCount(e){if(!e)return this._events.length;let r=ls(e);return this._events.filter(n=>n.tag===r).length}listeners(e){if(e==null)return this._events.map(n=>n.listener);let r=ls(e);return this._events.filter(n=>n.tag===r).map(n=>n.listener)}off(e,r){if(r==null)return this.removeAllListeners(e);const n=[];let i=!1,a=ls(e);return this._events=this._events.filter(s=>s.tag!==a||s.listener!=r||i?!0:(i=!0,n.push(s),!1)),n.forEach(s=>{this._stopEvent(s)}),this}removeAllListeners(e){let r=[];if(e==null)r=this._events,this._events=[];else{const n=ls(e);this._events=this._events.filter(i=>i.tag!==n?!0:(r.push(i),!1))}return r.forEach(n=>{this._stopEvent(n)}),this}}var Ii=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(l){try{f(n.next(l))}catch(x){s(x)}}function c(l){try{f(n.throw(l))}catch(x){s(x)}}function f(l){l.done?a(l.value):i(l.value).then(o,c)}f((n=n.apply(t,e||[])).next())})};const Yt=new Q(ba),fT=["call","estimateGas"];function zo(t,e){if(t==null)return null;if(typeof t.message=="string"&&t.message.match("reverted")){const r=At(t.data)?t.data:null;if(!e||r)return{message:t.message,data:r}}if(typeof t=="object"){for(const r in t){const n=zo(t[r],e);if(n)return n}return null}if(typeof t=="string")try{return zo(JSON.parse(t),e)}catch{}return null}function Zx(t,e,r){const n=r.transaction||r.signedTransaction;if(t==="call"){const a=zo(e,!0);if(a)return a.data;Yt.throwError("missing revert data in call exception; Transaction reverted without a reason string",Q.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:e})}if(t==="estimateGas"){let a=zo(e.body,!1);a==null&&(a=zo(e,!1)),a&&Yt.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Q.errors.UNPREDICTABLE_GAS_LIMIT,{reason:a.message,method:t,transaction:n,error:e})}let i=e.message;throw e.code===Q.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?i=e.error.message:typeof e.body=="string"?i=e.body:typeof e.responseText=="string"&&(i=e.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&Yt.throwError("insufficient funds for intrinsic transaction cost",Q.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:n}),i.match(/nonce (is )?too low/i)&&Yt.throwError("nonce has already been used",Q.errors.NONCE_EXPIRED,{error:e,method:t,transaction:n}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&Yt.throwError("replacement fee too low",Q.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:n}),i.match(/only replay-protected/i)&&Yt.throwError("legacy pre-eip-155 transactions not supported",Q.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:n}),fT.indexOf(t)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&Yt.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Q.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:n}),e}function ry(t){return new Promise(function(e){setTimeout(e,t)})}function dT(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function Ao(t){return t&&t.toLowerCase()}const i0={};class Qx extends Qs{constructor(e,r,n){if(super(),e!==i0)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");ae(this,"provider",r),n==null&&(n=0),typeof n=="string"?(ae(this,"_address",this.provider.formatter.address(n)),ae(this,"_index",null)):typeof n=="number"?(ae(this,"_index",n),ae(this,"_address",null)):Yt.throwArgumentError("invalid address or index","addressOrIndex",n)}connect(e){return Yt.throwError("cannot alter JSON-RPC Signer connection",Q.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new lT(i0,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&Yt.throwError("unknown account #"+this._index,Q.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=tr(e);const r=this.getAddress().then(n=>(n&&(n=n.toLowerCase()),n));if(e.gasLimit==null){const n=tr(e);n.from=r,e.gasLimit=this.provider.estimateGas(n)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(n=>Ii(this,void 0,void 0,function*(){if(n==null)return null;const i=yield this.provider.resolveName(n);return i==null&&Yt.throwArgumentError("provided ENS name resolves to null","tx.to",n),i}))),Ut({tx:Ut(e),sender:r}).then(({tx:n,sender:i})=>{n.from!=null?n.from.toLowerCase()!==i&&Yt.throwArgumentError("from address mismatch","transaction",e):n.from=i;const a=this.provider.constructor.hexlifyTransaction(n,{from:!0});return this.provider.send("eth_sendTransaction",[a]).then(s=>s,s=>(typeof s.message=="string"&&s.message.match(/user denied/i)&&Yt.throwError("user rejected transaction",Q.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:n}),Zx("sendTransaction",s,a)))})}signTransaction(e){return Yt.throwError("signing transactions is unsupported",Q.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return Ii(this,void 0,void 0,function*(){const r=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),n=yield this.sendUncheckedTransaction(e);try{return yield Po(()=>Ii(this,void 0,void 0,function*(){const i=yield this.provider.getTransaction(n);if(i!==null)return this.provider._wrapTransaction(i,n,r)}),{oncePoll:this.provider})}catch(i){throw i.transactionHash=n,i}})}signMessage(e){return Ii(this,void 0,void 0,function*(){const r=typeof e=="string"?jt(e):e,n=yield this.getAddress();try{return yield this.provider.send("personal_sign",[fe(r),n.toLowerCase()])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&Yt.throwError("user rejected signing",Q.errors.ACTION_REJECTED,{action:"signMessage",from:n,messageData:e}),i}})}_legacySignMessage(e){return Ii(this,void 0,void 0,function*(){const r=typeof e=="string"?jt(e):e,n=yield this.getAddress();try{return yield this.provider.send("eth_sign",[n.toLowerCase(),fe(r)])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&Yt.throwError("user rejected signing",Q.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:n,messageData:e}),i}})}_signTypedData(e,r,n){return Ii(this,void 0,void 0,function*(){const i=yield $r.resolveNames(e,r,n,s=>this.provider.resolveName(s)),a=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[a.toLowerCase(),JSON.stringify($r.getPayload(i.domain,r,i.value))])}catch(s){throw typeof s.message=="string"&&s.message.match(/user denied/i)&&Yt.throwError("user rejected signing",Q.errors.ACTION_REJECTED,{action:"_signTypedData",from:a,messageData:{domain:i.domain,types:r,value:i.value}}),s}})}unlock(e){return Ii(this,void 0,void 0,function*(){const r=this.provider,n=yield this.getAddress();return r.send("personal_unlockAccount",[n.toLowerCase(),e,null])})}}class lT extends Qx{sendTransaction(e){return this.sendUncheckedTransaction(e).then(r=>({hash:r,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:n=>this.provider.waitForTransaction(r,n)}))}}const hT={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class Pf extends uT{constructor(e,r){let n=r;n==null&&(n=new Promise((i,a)=>{setTimeout(()=>{this.detectNetwork().then(s=>{i(s)},s=>{a(s)})},0)})),super(n),e||(e=on(this.constructor,"defaultUrl")()),typeof e=="string"?ae(this,"connection",Object.freeze({url:e})):ae(this,"connection",Object.freeze(tr(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return Ii(this,void 0,void 0,function*(){yield ry(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const r=on(this.constructor,"getNetwork");try{return r(ve.from(e).toNumber())}catch(n){return Yt.throwError("could not detect network",Q.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:n})}}return Yt.throwError("could not detect network",Q.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new Qx(i0,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(r=>this.formatter.address(r)))}send(e,r){const n={method:e,params:r,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:Fi(n),provider:this});const i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];const a=Yh(this.connection,JSON.stringify(n),dT).then(s=>(this.emit("debug",{action:"response",request:n,response:s,provider:this}),s),s=>{throw this.emit("debug",{action:"response",error:s,request:n,provider:this}),s});return i&&(this._cache[e]=a,setTimeout(()=>{this._cache[e]=null},0)),a}prepareRequest(e,r){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[Ao(r.address),r.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[Ao(r.address),r.blockTag]];case"getCode":return["eth_getCode",[Ao(r.address),r.blockTag]];case"getStorageAt":return["eth_getStorageAt",[Ao(r.address),Pt(r.position,32),r.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[r.signedTransaction]];case"getBlock":return r.blockTag?["eth_getBlockByNumber",[r.blockTag,!!r.includeTransactions]]:r.blockHash?["eth_getBlockByHash",[r.blockHash,!!r.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[r.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[r.transactionHash]];case"call":return["eth_call",[on(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0}),r.blockTag]];case"estimateGas":return["eth_estimateGas",[on(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0})]];case"getLogs":return r.filter&&r.filter.address!=null&&(r.filter.address=Ao(r.filter.address)),["eth_getLogs",[r.filter]]}return null}perform(e,r){return Ii(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const i=r.transaction;if(i&&i.type!=null&&ve.from(i.type).isZero()&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const a=yield this.getFeeData();a.maxFeePerGas==null&&a.maxPriorityFeePerGas==null&&(r=tr(r),r.transaction=tr(i),delete r.transaction.type)}}const n=this.prepareRequest(e,r);n==null&&Yt.throwError(e+" not implemented",Q.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(n[0],n[1])}catch(i){return Zx(e,i,r)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,r=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=r,r.then(function(n){function i(){e.send("eth_getFilterChanges",[n]).then(function(a){if(e._pendingFilter!=r)return null;let s=Promise.resolve();return a.forEach(function(o){e._emitted["t:"+o.toLowerCase()]="pending",s=s.then(function(){return e.getTransaction(o).then(function(c){return e.emit("pending",c),null})})}),s.then(function(){return ry(1e3)})}).then(function(){if(e._pendingFilter!=r){e.send("eth_uninstallFilter",[n]);return}return setTimeout(function(){i()},0),null}).catch(a=>{})}return i(),n}).catch(n=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,r){const n=tr(hT);if(r)for(const a in r)r[a]&&(n[a]=!0);S2(e,n);const i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(a){if(e[a]==null)return;const s=Lh(ve.from(e[a]));a==="gasLimit"&&(a="gas"),i[a]=s}),["from","to","data"].forEach(function(a){e[a]!=null&&(i[a]=fe(e[a]))}),e.accessList&&(i.accessList=no(e.accessList)),i}}let qo=null;try{if(qo=WebSocket,qo==null)throw new Error("inject please")}catch{const e=new Q(ba);qo=function(){e.throwError("WebSockets not supported in this environment",Q.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var Yd=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(l){try{f(n.next(l))}catch(x){s(x)}}function c(l){try{f(n.throw(l))}catch(x){s(x)}}function f(l){l.done?a(l.value):i(l.value).then(o,c)}f((n=n.apply(t,e||[])).next())})};const tu=new Q(ba);let pT=1;class mT extends Pf{constructor(e,r){r==="any"&&tu.throwError("WebSocketProvider does not support 'any' network yet",Q.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),typeof e=="string"?super(e,r):super("_websocket",r),this._pollingInterval=-1,this._wsReady=!1,typeof e=="string"?ae(this,"_websocket",new qo(this.connection.url)):ae(this,"_websocket",e),ae(this,"_requests",{}),ae(this,"_subs",{}),ae(this,"_subIds",{}),ae(this,"_detectNetwork",super.detectNetwork()),this.websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach(i=>{this.websocket.send(this._requests[i].payload)})},this.websocket.onmessage=i=>{const a=i.data,s=JSON.parse(a);if(s.id!=null){const o=String(s.id),c=this._requests[o];if(delete this._requests[o],s.result!==void 0)c.callback(null,s.result),this.emit("debug",{action:"response",request:JSON.parse(c.payload),response:s.result,provider:this});else{let f=null;s.error?(f=new Error(s.error.message||"unknown error"),ae(f,"code",s.error.code||null),ae(f,"response",a)):f=new Error("unknown error"),c.callback(f,void 0),this.emit("debug",{action:"response",error:f,request:JSON.parse(c.payload),provider:this})}}else if(s.method==="eth_subscription"){const o=this._subs[s.params.subscription];o&&o.processFunc(s.params.result)}else console.warn("this should not happen")};const n=setInterval(()=>{this.emit("poll")},1e3);n.unref&&n.unref()}get websocket(){return this._websocket}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(e){tu.throwError("cannot reset events block on WebSocketProvider",Q.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(e){tu.throwError("cannot set polling interval on WebSocketProvider",Q.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return Yd(this,void 0,void 0,function*(){return null})}set polling(e){e&&tu.throwError("cannot set polling on WebSocketProvider",Q.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(e,r){const n=pT++;return new Promise((i,a)=>{function s(c,f){return c?a(c):i(f)}const o=JSON.stringify({method:e,params:r,id:n,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(o),provider:this}),this._requests[String(n)]={callback:s,payload:o},this._wsReady&&this.websocket.send(o)})}static defaultUrl(){return"ws://localhost:8546"}_subscribe(e,r,n){return Yd(this,void 0,void 0,function*(){let i=this._subIds[e];i==null&&(i=Promise.all(r).then(s=>this.send("eth_subscribe",s)),this._subIds[e]=i);const a=yield i;this._subs[a]={tag:e,processFunc:n}})}_startEvent(e){switch(e.type){case"block":this._subscribe("block",["newHeads"],r=>{const n=ve.from(r.number).toNumber();this._emitted.block=n,this.emit("block",n)});break;case"pending":this._subscribe("pending",["newPendingTransactions"],r=>{this.emit("pending",r)});break;case"filter":this._subscribe(e.tag,["logs",this._getFilter(e.filter)],r=>{r.removed==null&&(r.removed=!1),this.emit(e.filter,this.formatter.filterLog(r))});break;case"tx":{const r=n=>{const i=n.hash;this.getTransactionReceipt(i).then(a=>{a&&this.emit(i,a)})};r(e),this._subscribe("tx",["newHeads"],n=>{this._events.filter(i=>i.type==="tx").forEach(r)});break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",e);break}}_stopEvent(e){let r=e.tag;if(e.type==="tx"){if(this._events.filter(i=>i.type==="tx").length)return;r="tx"}else if(this.listenerCount(e.event))return;const n=this._subIds[r];n&&(delete this._subIds[r],n.then(i=>{this._subs[i]&&(delete this._subs[i],this.send("eth_unsubscribe",[i]))}))}destroy(){return Yd(this,void 0,void 0,function*(){this.websocket.readyState===qo.CONNECTING&&(yield new Promise(e=>{this.websocket.onopen=function(){e(!0)},this.websocket.onerror=function(){e(!1)}})),this.websocket.close(1e3)})}}var yT=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(l){try{f(n.next(l))}catch(x){s(x)}}function c(l){try{f(n.throw(l))}catch(x){s(x)}}function f(l){l.done?a(l.value):i(l.value).then(o,c)}f((n=n.apply(t,e||[])).next())})};const Bo=new Q(ba);class bT extends Pf{detectNetwork(){const e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return yT(this,void 0,void 0,function*(){let r=this.network;return r==null&&(r=yield e.detectNetwork.call(this),r||Bo.throwError("no network detected",Q.errors.UNKNOWN_ERROR,{}),this._network==null&&(ae(this,"_network",r),this.emit("network",r,null))),r})}}class Zh extends bT{constructor(e,r){Bo.checkAbstract(new.target,Zh),e=on(new.target,"getNetwork")(e),r=on(new.target,"getApiKey")(r);const n=on(new.target,"getUrl")(e,r);super(n,e),typeof r=="string"?ae(this,"apiKey",r):r!=null&&Object.keys(r).forEach(i=>{ae(this,i,r[i])})}_startPending(){Bo.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(e){return Bo.throwError("API provider does not support signing",Q.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(e){return e}static getUrl(e,r){return Bo.throwError("not implemented; sub-classes must override getUrl",Q.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}const pu=new Q(ba),Oo="84842078b09946638c03157f83405213";class xT extends mT{constructor(e,r){const n=new Xx(e,r),i=n.connection;i.password&&pu.throwError("INFURA WebSocket project secrets unsupported",Q.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"});const a=i.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(a,e),ae(this,"apiKey",n.projectId),ae(this,"projectId",n.projectId),ae(this,"projectSecret",n.projectSecret)}isCommunityResource(){return this.projectId===Oo}}class Xx extends Zh{static getWebSocketProvider(e,r){return new xT(e,r)}static getApiKey(e){const r={apiKey:Oo,projectId:Oo,projectSecret:null};return e==null||(typeof e=="string"?r.projectId=e:e.projectSecret!=null?(pu.assertArgument(typeof e.projectId=="string","projectSecret requires a projectId","projectId",e.projectId),pu.assertArgument(typeof e.projectSecret=="string","invalid projectSecret","projectSecret","[REDACTED]"),r.projectId=e.projectId,r.projectSecret=e.projectSecret):e.projectId&&(r.projectId=e.projectId),r.apiKey=r.projectId),r}static getUrl(e,r){let n=null;switch(e?e.name:"unknown"){case"homestead":n="mainnet.infura.io";break;case"goerli":n="goerli.infura.io";break;case"sepolia":n="sepolia.infura.io";break;case"matic":n="polygon-mainnet.infura.io";break;case"maticmum":n="polygon-mumbai.infura.io";break;case"optimism":n="optimism-mainnet.infura.io";break;case"optimism-goerli":n="optimism-goerli.infura.io";break;case"arbitrum":n="arbitrum-mainnet.infura.io";break;case"arbitrum-goerli":n="arbitrum-goerli.infura.io";break;default:pu.throwError("unsupported network",Q.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const i={allowGzip:!0,url:"https://"+n+"/v3/"+r.projectId,throttleCallback:(a,s)=>(r.projectId===Oo&&tT(),Promise.resolve(!0))};return r.projectSecret!=null&&(i.user="",i.password=r.projectSecret),i}isCommunityResource(){return this.projectId===Oo}}const ny=new Q(ba);let gT=1;function iy(t,e){const r="Web3LegacyFetcher";return function(n,i){const a={method:n,params:i,id:gT++,jsonrpc:"2.0"};return new Promise((s,o)=>{this.emit("debug",{action:"request",fetcher:r,request:Fi(a),provider:this}),e(a,(c,f)=>{if(c)return this.emit("debug",{action:"response",fetcher:r,error:c,request:a,provider:this}),o(c);if(this.emit("debug",{action:"response",fetcher:r,request:a,response:f,provider:this}),f.error){const l=new Error(f.error.message);return l.code=f.error.code,l.data=f.error.data,o(l)}s(f.result)})})}}function vT(t){return function(e,r){r==null&&(r=[]);const n={method:e,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:Fi(n),provider:this}),t.request(n).then(i=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:i,provider:this}),i),i=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:i,provider:this}),i})}}class jo extends Pf{constructor(e,r){e==null&&ny.throwArgumentError("missing provider","provider",e);let n=null,i=null,a=null;typeof e=="function"?(n="unknown:",i=e):(n=e.host||e.path||"",!n&&e.isMetaMask&&(n="metamask"),a=e,e.request?(n===""&&(n="eip-1193:"),i=vT(e)):e.sendAsync?i=iy(e,e.sendAsync.bind(e)):e.send?i=iy(e,e.send.bind(e)):ny.throwArgumentError("unsupported provider","provider",e),n||(n="unknown:")),super(n,r),ae(this,"jsonRpcFetchFunc",i),ae(this,"provider",a)}send(e,r){return this.jsonRpcFetchFunc(e,r)}}const wT="solidity/5.7.0",AT=new RegExp("^bytes([0-9]+)$"),ET=new RegExp("^(u?int)([0-9]*)$"),_T=new RegExp("^(.*)\\[([0-9]*)\\]$"),TT="0000000000000000000000000000000000000000000000000000000000000000",ys=new Q(wT);function eg(t,e,r){switch(t){case"address":return r?su(e,32):ue(e);case"string":return jt(e);case"bytes":return ue(e);case"bool":return e=e?"0x01":"0x00",r?su(e,32):ue(e)}let n=t.match(ET);if(n){let i=parseInt(n[2]||"256");return(n[2]&&String(i)!==n[2]||i%8!==0||i===0||i>256)&&ys.throwArgumentError("invalid number type","type",t),r&&(i=256),e=ve.from(e).toTwos(i),su(e,i/8)}if(n=t.match(AT),n){const i=parseInt(n[1]);return(String(i)!==n[1]||i===0||i>32)&&ys.throwArgumentError("invalid bytes type","type",t),ue(e).byteLength!==i&&ys.throwArgumentError(`invalid value for ${t}`,"value",e),r?ue((e+TT).substring(0,66)):e}if(n=t.match(_T),n&&Array.isArray(e)){const i=n[1];parseInt(n[2]||String(e.length))!=e.length&&ys.throwArgumentError(`invalid array length for ${t}`,"value",e);const s=[];return e.forEach(function(o){s.push(eg(i,o,!0))}),Rt(s)}return ys.throwArgumentError("invalid type","type",t)}function MT(t,e){t.length!=e.length&&ys.throwArgumentError("wrong number of values; expected ${ types.length }","values",e);const r=[];return t.forEach(function(n,i){r.push(eg(n,e[i]))}),fe(Rt(r))}function hs(t,e){return kt(MT(t,e))}const tg=(t,e,r=[])=>{const n=Object.getOwnPropertyDescriptors(e);for(let i of r)delete n[i];Object.defineProperties(t,n)},dc=(t,e=[t])=>{const r=Object.getPrototypeOf(t);return r===null?e:dc(r,[...e,r])},kT=(...t)=>{if(t.length===0)return;let e;const r=t.map(n=>dc(n));for(;r.every(n=>n.length>0);){const n=r.map(a=>a.pop()),i=n[0];if(n.every(a=>a===i))e=i;else break}return e},ay=(t,e,r=[])=>{var n;const i=(n=kT(...t))!==null&&n!==void 0?n:Object.prototype,a=Object.create(i),s=dc(i);for(let o of t){let c=dc(o);for(let f=c.length-1;f>=0;f--){let l=c[f];s.indexOf(l)===-1&&(tg(a,l,["constructor",...r]),s.push(l))}}return a.constructor=e,a},a0=t=>t.filter((e,r)=>t.indexOf(e)==r),rg=new Map,IT=t=>rg.get(t),ST=(t,e)=>rg.set(t,e),sy=(t,e)=>{var r,n;const i=a0([...Object.getOwnPropertyNames(t),...Object.getOwnPropertyNames(e)]),a={};for(let s of i)a[s]=a0([...(r=t?.[s])!==null&&r!==void 0?r:[],...(n=e?.[s])!==null&&n!==void 0?n:[]]);return a},oy=(t,e)=>{var r,n,i,a;return{property:sy((r=t?.property)!==null&&r!==void 0?r:{},(n=e?.property)!==null&&n!==void 0?n:{}),method:sy((i=t?.method)!==null&&i!==void 0?i:{},(a=e?.method)!==null&&a!==void 0?a:{})}},CT=(t,e)=>{var r,n,i,a,s,o;return{class:a0([...(r=t?.class)!==null&&r!==void 0?r:[],...(n=e?.class)!==null&&n!==void 0?n:[]]),static:oy((i=t?.static)!==null&&i!==void 0?i:{},(a=e?.static)!==null&&a!==void 0?a:{}),instance:oy((s=t?.instance)!==null&&s!==void 0?s:{},(o=e?.instance)!==null&&o!==void 0?o:{})}},NT=new Map,RT=(...t)=>{var e;const r=new Set,n=new Set([...t]);for(;n.size>0;)for(let i of n){const a=dc(i.prototype).map(f=>f.constructor),s=(e=IT(i))!==null&&e!==void 0?e:[],c=[...a,...s].filter(f=>!r.has(f));for(let f of c)n.add(f);r.add(i),n.delete(i)}return[...r]},PT=(...t)=>{const e=RT(...t).map(r=>NT.get(r)).filter(r=>!!r);return e.length==0?{}:e.length==1?e[0]:e.reduce((r,n)=>CT(r,n))};function Cc(...t){var e,r,n;const i=t.map(o=>o.prototype);function a(...o){for(const c of t)tg(this,new c(...o))}a.prototype=ay(i,a),Object.setPrototypeOf(a,ay(t,null,["prototype"]));let s=a;{const o=PT(...t);for(let c of(e=o?.class)!==null&&e!==void 0?e:[]){const f=c(s);f&&(s=f)}cy((r=o?.static)!==null&&r!==void 0?r:{},s),cy((n=o?.instance)!==null&&n!==void 0?n:{},s.prototype)}return ST(s,t),s}const cy=(t,e)=>{const r=t.property,n=t.method;if(r)for(let i in r)for(let a of r[i])a(e,i);if(n)for(let i in n)for(let a of n[i])a(e,i,Object.getOwnPropertyDescriptor(e,i))};var ng={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,f,l){this.fn=c,this.context=f,this.once=l||!1}function a(c,f,l,x,E){if(typeof l!="function")throw new TypeError("The listener must be a function");var C=new i(l,x||c,E),M=r?r+f:f;return c._events[M]?c._events[M].fn?c._events[M]=[c._events[M],C]:c._events[M].push(C):(c._events[M]=C,c._eventsCount++),c}function s(c,f){--c._eventsCount===0?c._events=new n:delete c._events[f]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var f=[],l,x;if(this._eventsCount===0)return f;for(x in l=this._events)e.call(l,x)&&f.push(r?x.slice(1):x);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(l)):f},o.prototype.listeners=function(f){var l=r?r+f:f,x=this._events[l];if(!x)return[];if(x.fn)return[x.fn];for(var E=0,C=x.length,M=new Array(C);E<C;E++)M[E]=x[E].fn;return M},o.prototype.listenerCount=function(f){var l=r?r+f:f,x=this._events[l];return x?x.fn?1:x.length:0},o.prototype.emit=function(f,l,x,E,C,M){var k=r?r+f:f;if(!this._events[k])return!1;var S=this._events[k],R=arguments.length,B,$;if(S.fn){switch(S.once&&this.removeListener(f,S.fn,void 0,!0),R){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,l),!0;case 3:return S.fn.call(S.context,l,x),!0;case 4:return S.fn.call(S.context,l,x,E),!0;case 5:return S.fn.call(S.context,l,x,E,C),!0;case 6:return S.fn.call(S.context,l,x,E,C,M),!0}for($=1,B=new Array(R-1);$<R;$++)B[$-1]=arguments[$];S.fn.apply(S.context,B)}else{var H=S.length,K;for($=0;$<H;$++)switch(S[$].once&&this.removeListener(f,S[$].fn,void 0,!0),R){case 1:S[$].fn.call(S[$].context);break;case 2:S[$].fn.call(S[$].context,l);break;case 3:S[$].fn.call(S[$].context,l,x);break;case 4:S[$].fn.call(S[$].context,l,x,E);break;default:if(!B)for(K=1,B=new Array(R-1);K<R;K++)B[K-1]=arguments[K];S[$].fn.apply(S[$].context,B)}}return!0},o.prototype.on=function(f,l,x){return a(this,f,l,x,!1)},o.prototype.once=function(f,l,x){return a(this,f,l,x,!0)},o.prototype.removeListener=function(f,l,x,E){var C=r?r+f:f;if(!this._events[C])return this;if(!l)return s(this,C),this;var M=this._events[C];if(M.fn)M.fn===l&&(!E||M.once)&&(!x||M.context===x)&&s(this,C);else{for(var k=0,S=[],R=M.length;k<R;k++)(M[k].fn!==l||E&&!M[k].once||x&&M[k].context!==x)&&S.push(M[k]);S.length?this._events[C]=S.length===1?S[0]:S:s(this,C)}return this},o.prototype.removeAllListeners=function(f){var l;return f?(l=r?r+f:f,this._events[l]&&s(this,l)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(ng);var BT=ng.exports,OT=Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]",LT=typeof navigator<"u"&&navigator.product==="ReactNative",s0=null,mu=null;if(OT||LT){s0=function(t){return Buffer.from(t).toString("base64")};var uy=dn;if(uy.URL){var FT=uy.URL;mu=function(t){return new FT(t)}}else mu=dn.parse}else s0=btoa.bind(typeof globalThis=="object"?globalThis:self),mu=function(t){return new URL(t)};var DT={parseURL:mu,btoa:s0},UT={ErrorResponse:function(t){var e=t&&t.error&&t.error.message?t.error.message:JSON.stringify(t),r=t.error&&t.error.data?t.error.data:null,n=new Error("Returned error: "+e);return n.data=r,n},InvalidNumberOfParams:function(t,e,r){return new Error('Invalid number of parameters for "'+r+'". Got '+t+" expected "+e+"!")},InvalidConnection:function(t,e){return this.ConnectionError("CONNECTION ERROR: Couldn't connect to node "+t+".",e)},InvalidProvider:function(){return new Error("Provider not set or invalid")},InvalidResponse:function(t){var e=t&&t.error&&t.error.message?t.error.message:"Invalid JSON RPC response: "+JSON.stringify(t);return new Error(e)},ConnectionTimeout:function(t){return new Error("CONNECTION TIMEOUT: timeout of "+t+" ms achived")},ConnectionNotOpenError:function(t){return this.ConnectionError("connection not open on send()",t)},ConnectionCloseError:function(t){return typeof t=="object"&&t.code&&t.reason?this.ConnectionError("CONNECTION ERROR: The connection got closed with the close code `"+t.code+"` and the following reason string `"+t.reason+"`",t):new Error("CONNECTION ERROR: The connection closed unexpectedly")},MaxAttemptsReachedOnReconnectingError:function(){return new Error("Maximum number of reconnect attempts reached!")},PendingRequestsOnReconnectingError:function(){return new Error("CONNECTION ERROR: Provider started to reconnect before the response got received!")},ConnectionError:function(t,e){const r=new Error(t);return e&&(r.code=e.code,r.reason=e.reason,e.description&&(r.description=e.description)),r},RevertInstructionError:function(t,e){var r=new Error("Your request got reverted with the following reason string: "+t);return r.reason=t,r.signature=e,r},TransactionRevertInstructionError:function(t,e,r){var n=new Error(`Transaction has been reverted by the EVM:
`+JSON.stringify(r,null,2));return n.reason=t,n.signature=e,n.receipt=r,n},TransactionError:function(t,e){var r=new Error(t);return r.receipt=e,r},NoContractAddressFoundError:function(t){return this.TransactionError("The transaction receipt didn't contain a contract address.",t)},ContractCodeNotStoredError:function(t){return this.TransactionError("The contract code couldn't be stored, please check your gas limit.",t)},TransactionRevertedWithoutReasonError:function(t){return this.TransactionError(`Transaction has been reverted by the EVM:
`+JSON.stringify(t,null,2),t)},TransactionOutOfGasError:function(t){return this.TransactionError(`Transaction ran out of gas. Please provide more gas:
`+JSON.stringify(t,null,2),t)},ResolverMethodMissingError:function(t,e){return new Error("The resolver at "+t+'does not implement requested method: "'+e+'".')},ContractMissingABIError:function(){return new Error("You must provide the json interface of the contract when instantiating a contract object.")},ContractOnceRequiresCallbackError:function(){return new Error("Once requires a callback as the second parameter.")},ContractEventDoesNotExistError:function(t){return new Error('Event "'+t+`" doesn't exist in this contract.`)},ContractReservedEventError:function(t){return new Error('The event "'+t+`" is a reserved event name, you can't use it.`)},ContractMissingDeployDataError:function(){return new Error('No "data" specified in neither the given options, nor the default options.')},ContractNoAddressDefinedError:function(){return new Error("This contract object doesn't have address set yet, please set an address first.")},ContractNoFromAddressDefinedError:function(){return new Error('No "from" address specified in neither the given options, nor the default options.')}};function $T(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Qh={exports:{}};Qh.exports;(function(t){(function(e,r){function n(D,m){if(!D)throw new Error(m||"Assertion failed")}function i(D,m){D.super_=m;var d=function(){};d.prototype=m.prototype,D.prototype=new d,D.prototype.constructor=D}function a(D,m,d){if(a.isBN(D))return D;this.negative=0,this.words=null,this.length=0,this.red=null,D!==null&&((m==="le"||m==="be")&&(d=m,m=10),this._init(D||0,m||10,d||"be"))}typeof e=="object"?e.exports=a:r.BN=a,a.BN=a,a.wordSize=26;var s;try{s=$T("buffer").Buffer}catch{}a.isBN=function(m){return m instanceof a?!0:m!==null&&typeof m=="object"&&m.constructor.wordSize===a.wordSize&&Array.isArray(m.words)},a.max=function(m,d){return m.cmp(d)>0?m:d},a.min=function(m,d){return m.cmp(d)<0?m:d},a.prototype._init=function(m,d,h){if(typeof m=="number")return this._initNumber(m,d,h);if(typeof m=="object")return this._initArray(m,d,h);d==="hex"&&(d=16),n(d===(d|0)&&d>=2&&d<=36),m=m.toString().replace(/\s+/g,"");var u=0;m[0]==="-"&&u++,d===16?this._parseHex(m,u):this._parseBase(m,d,u),m[0]==="-"&&(this.negative=1),this.strip(),h==="le"&&this._initArray(this.toArray(),d,h)},a.prototype._initNumber=function(m,d,h){m<0&&(this.negative=1,m=-m),m<67108864?(this.words=[m&67108863],this.length=1):m<4503599627370496?(this.words=[m&67108863,m/67108864&67108863],this.length=2):(n(m<9007199254740992),this.words=[m&67108863,m/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),d,h)},a.prototype._initArray=function(m,d,h){if(n(typeof m.length=="number"),m.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(m.length/3),this.words=new Array(this.length);for(var u=0;u<this.length;u++)this.words[u]=0;var p,g,_=0;if(h==="be")for(u=m.length-1,p=0;u>=0;u-=3)g=m[u]|m[u-1]<<8|m[u-2]<<16,this.words[p]|=g<<_&67108863,this.words[p+1]=g>>>26-_&67108863,_+=24,_>=26&&(_-=26,p++);else if(h==="le")for(u=0,p=0;u<m.length;u+=3)g=m[u]|m[u+1]<<8|m[u+2]<<16,this.words[p]|=g<<_&67108863,this.words[p+1]=g>>>26-_&67108863,_+=24,_>=26&&(_-=26,p++);return this.strip()};function o(D,m,d){for(var h=0,u=Math.min(D.length,d),p=m;p<u;p++){var g=D.charCodeAt(p)-48;h<<=4,g>=49&&g<=54?h|=g-49+10:g>=17&&g<=22?h|=g-17+10:h|=g&15}return h}a.prototype._parseHex=function(m,d){this.length=Math.ceil((m.length-d)/6),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var u,p,g=0;for(h=m.length-6,u=0;h>=d;h-=6)p=o(m,h,h+6),this.words[u]|=p<<g&67108863,this.words[u+1]|=p>>>26-g&4194303,g+=24,g>=26&&(g-=26,u++);h+6!==d&&(p=o(m,d,h+6),this.words[u]|=p<<g&67108863,this.words[u+1]|=p>>>26-g&4194303),this.strip()};function c(D,m,d,h){for(var u=0,p=Math.min(D.length,d),g=m;g<p;g++){var _=D.charCodeAt(g)-48;u*=h,_>=49?u+=_-49+10:_>=17?u+=_-17+10:u+=_}return u}a.prototype._parseBase=function(m,d,h){this.words=[0],this.length=1;for(var u=0,p=1;p<=67108863;p*=d)u++;u--,p=p/d|0;for(var g=m.length-h,_=g%u,A=Math.min(g,g-_)+h,y=0,b=h;b<A;b+=u)y=c(m,b,b+u,d),this.imuln(p),this.words[0]+y<67108864?this.words[0]+=y:this._iaddn(y);if(_!==0){var w=1;for(y=c(m,b,m.length,d),b=0;b<_;b++)w*=d;this.imuln(w),this.words[0]+y<67108864?this.words[0]+=y:this._iaddn(y)}},a.prototype.copy=function(m){m.words=new Array(this.length);for(var d=0;d<this.length;d++)m.words[d]=this.words[d];m.length=this.length,m.negative=this.negative,m.red=this.red},a.prototype.clone=function(){var m=new a(null);return this.copy(m),m},a.prototype._expand=function(m){for(;this.length<m;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(m,d){m=m||10,d=d|0||1;var h;if(m===16||m==="hex"){h="";for(var u=0,p=0,g=0;g<this.length;g++){var _=this.words[g],A=((_<<u|p)&16777215).toString(16);p=_>>>24-u&16777215,p!==0||g!==this.length-1?h=f[6-A.length]+A+h:h=A+h,u+=2,u>=26&&(u-=26,g--)}for(p!==0&&(h=p.toString(16)+h);h.length%d!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(m===(m|0)&&m>=2&&m<=36){var y=l[m],b=x[m];h="";var w=this.clone();for(w.negative=0;!w.isZero();){var v=w.modn(b).toString(m);w=w.idivn(b),w.isZero()?h=v+h:h=f[y-v.length]+v+h}for(this.isZero()&&(h="0"+h);h.length%d!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}n(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var m=this.words[0];return this.length===2?m+=this.words[1]*67108864:this.length===3&&this.words[2]===1?m+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-m:m},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(m,d){return n(typeof s<"u"),this.toArrayLike(s,m,d)},a.prototype.toArray=function(m,d){return this.toArrayLike(Array,m,d)},a.prototype.toArrayLike=function(m,d,h){var u=this.byteLength(),p=h||Math.max(1,u);n(u<=p,"byte array longer than desired length"),n(p>0,"Requested array length <= 0"),this.strip();var g=d==="le",_=new m(p),A,y,b=this.clone();if(g){for(y=0;!b.isZero();y++)A=b.andln(255),b.iushrn(8),_[y]=A;for(;y<p;y++)_[y]=0}else{for(y=0;y<p-u;y++)_[y]=0;for(y=0;!b.isZero();y++)A=b.andln(255),b.iushrn(8),_[p-y-1]=A}return _},Math.clz32?a.prototype._countBits=function(m){return 32-Math.clz32(m)}:a.prototype._countBits=function(m){var d=m,h=0;return d>=4096&&(h+=13,d>>>=13),d>=64&&(h+=7,d>>>=7),d>=8&&(h+=4,d>>>=4),d>=2&&(h+=2,d>>>=2),h+d},a.prototype._zeroBits=function(m){if(m===0)return 26;var d=m,h=0;return d&8191||(h+=13,d>>>=13),d&127||(h+=7,d>>>=7),d&15||(h+=4,d>>>=4),d&3||(h+=2,d>>>=2),d&1||h++,h},a.prototype.bitLength=function(){var m=this.words[this.length-1],d=this._countBits(m);return(this.length-1)*26+d};function E(D){for(var m=new Array(D.bitLength()),d=0;d<m.length;d++){var h=d/26|0,u=d%26;m[d]=(D.words[h]&1<<u)>>>u}return m}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var m=0,d=0;d<this.length;d++){var h=this._zeroBits(this.words[d]);if(m+=h,h!==26)break}return m},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(m){return this.negative!==0?this.abs().inotn(m).iaddn(1):this.clone()},a.prototype.fromTwos=function(m){return this.testn(m-1)?this.notn(m).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(m){for(;this.length<m.length;)this.words[this.length++]=0;for(var d=0;d<m.length;d++)this.words[d]=this.words[d]|m.words[d];return this.strip()},a.prototype.ior=function(m){return n((this.negative|m.negative)===0),this.iuor(m)},a.prototype.or=function(m){return this.length>m.length?this.clone().ior(m):m.clone().ior(this)},a.prototype.uor=function(m){return this.length>m.length?this.clone().iuor(m):m.clone().iuor(this)},a.prototype.iuand=function(m){var d;this.length>m.length?d=m:d=this;for(var h=0;h<d.length;h++)this.words[h]=this.words[h]&m.words[h];return this.length=d.length,this.strip()},a.prototype.iand=function(m){return n((this.negative|m.negative)===0),this.iuand(m)},a.prototype.and=function(m){return this.length>m.length?this.clone().iand(m):m.clone().iand(this)},a.prototype.uand=function(m){return this.length>m.length?this.clone().iuand(m):m.clone().iuand(this)},a.prototype.iuxor=function(m){var d,h;this.length>m.length?(d=this,h=m):(d=m,h=this);for(var u=0;u<h.length;u++)this.words[u]=d.words[u]^h.words[u];if(this!==d)for(;u<d.length;u++)this.words[u]=d.words[u];return this.length=d.length,this.strip()},a.prototype.ixor=function(m){return n((this.negative|m.negative)===0),this.iuxor(m)},a.prototype.xor=function(m){return this.length>m.length?this.clone().ixor(m):m.clone().ixor(this)},a.prototype.uxor=function(m){return this.length>m.length?this.clone().iuxor(m):m.clone().iuxor(this)},a.prototype.inotn=function(m){n(typeof m=="number"&&m>=0);var d=Math.ceil(m/26)|0,h=m%26;this._expand(d),h>0&&d--;for(var u=0;u<d;u++)this.words[u]=~this.words[u]&67108863;return h>0&&(this.words[u]=~this.words[u]&67108863>>26-h),this.strip()},a.prototype.notn=function(m){return this.clone().inotn(m)},a.prototype.setn=function(m,d){n(typeof m=="number"&&m>=0);var h=m/26|0,u=m%26;return this._expand(h+1),d?this.words[h]=this.words[h]|1<<u:this.words[h]=this.words[h]&~(1<<u),this.strip()},a.prototype.iadd=function(m){var d;if(this.negative!==0&&m.negative===0)return this.negative=0,d=this.isub(m),this.negative^=1,this._normSign();if(this.negative===0&&m.negative!==0)return m.negative=0,d=this.isub(m),m.negative=1,d._normSign();var h,u;this.length>m.length?(h=this,u=m):(h=m,u=this);for(var p=0,g=0;g<u.length;g++)d=(h.words[g]|0)+(u.words[g]|0)+p,this.words[g]=d&67108863,p=d>>>26;for(;p!==0&&g<h.length;g++)d=(h.words[g]|0)+p,this.words[g]=d&67108863,p=d>>>26;if(this.length=h.length,p!==0)this.words[this.length]=p,this.length++;else if(h!==this)for(;g<h.length;g++)this.words[g]=h.words[g];return this},a.prototype.add=function(m){var d;return m.negative!==0&&this.negative===0?(m.negative=0,d=this.sub(m),m.negative^=1,d):m.negative===0&&this.negative!==0?(this.negative=0,d=m.sub(this),this.negative=1,d):this.length>m.length?this.clone().iadd(m):m.clone().iadd(this)},a.prototype.isub=function(m){if(m.negative!==0){m.negative=0;var d=this.iadd(m);return m.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(m),this.negative=1,this._normSign();var h=this.cmp(m);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var u,p;h>0?(u=this,p=m):(u=m,p=this);for(var g=0,_=0;_<p.length;_++)d=(u.words[_]|0)-(p.words[_]|0)+g,g=d>>26,this.words[_]=d&67108863;for(;g!==0&&_<u.length;_++)d=(u.words[_]|0)+g,g=d>>26,this.words[_]=d&67108863;if(g===0&&_<u.length&&u!==this)for(;_<u.length;_++)this.words[_]=u.words[_];return this.length=Math.max(this.length,_),u!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(m){return this.clone().isub(m)};function C(D,m,d){d.negative=m.negative^D.negative;var h=D.length+m.length|0;d.length=h,h=h-1|0;var u=D.words[0]|0,p=m.words[0]|0,g=u*p,_=g&67108863,A=g/67108864|0;d.words[0]=_;for(var y=1;y<h;y++){for(var b=A>>>26,w=A&67108863,v=Math.min(y,m.length-1),P=Math.max(0,y-D.length+1);P<=v;P++){var j=y-P|0;u=D.words[j]|0,p=m.words[P]|0,g=u*p+w,b+=g/67108864|0,w=g&67108863}d.words[y]=w|0,A=b|0}return A!==0?d.words[y]=A|0:d.length--,d.strip()}var M=function(m,d,h){var u=m.words,p=d.words,g=h.words,_=0,A,y,b,w=u[0]|0,v=w&8191,P=w>>>13,j=u[1]|0,I=j&8191,L=j>>>13,q=u[2]|0,G=q&8191,V=q>>>13,ne=u[3]|0,U=ne&8191,F=ne>>>13,te=u[4]|0,ee=te&8191,oe=te>>>13,ye=u[5]|0,de=ye&8191,pe=ye>>>13,Ze=u[6]|0,Re=Ze&8191,me=Ze>>>13,ze=u[7]|0,Ce=ze&8191,be=ze>>>13,qe=u[8]|0,Ne=qe&8191,O=qe>>>13,T=u[9]|0,N=T&8191,z=T>>>13,W=p[0]|0,Y=W&8191,Z=W>>>13,ge=p[1]|0,xe=ge&8191,ce=ge>>>13,Pe=p[2]|0,he=Pe&8191,we=Pe>>>13,ut=p[3]|0,Be=ut&8191,Ae=ut>>>13,ft=p[4]|0,Oe=ft&8191,Ee=ft>>>13,dt=p[5]|0,Le=dt&8191,_e=dt>>>13,lt=p[6]|0,Fe=lt&8191,Te=lt>>>13,ht=p[7]|0,De=ht&8191,Me=ht>>>13,pt=p[8]|0,Ue=pt&8191,ke=pt>>>13,mt=p[9]|0,$e=mt&8191,Ie=mt>>>13;h.negative=m.negative^d.negative,h.length=19,A=Math.imul(v,Y),y=Math.imul(v,Z),y=y+Math.imul(P,Y)|0,b=Math.imul(P,Z);var st=(_+A|0)+((y&8191)<<13)|0;_=(b+(y>>>13)|0)+(st>>>26)|0,st&=67108863,A=Math.imul(I,Y),y=Math.imul(I,Z),y=y+Math.imul(L,Y)|0,b=Math.imul(L,Z),A=A+Math.imul(v,xe)|0,y=y+Math.imul(v,ce)|0,y=y+Math.imul(P,xe)|0,b=b+Math.imul(P,ce)|0;var rt=(_+A|0)+((y&8191)<<13)|0;_=(b+(y>>>13)|0)+(rt>>>26)|0,rt&=67108863,A=Math.imul(G,Y),y=Math.imul(G,Z),y=y+Math.imul(V,Y)|0,b=Math.imul(V,Z),A=A+Math.imul(I,xe)|0,y=y+Math.imul(I,ce)|0,y=y+Math.imul(L,xe)|0,b=b+Math.imul(L,ce)|0,A=A+Math.imul(v,he)|0,y=y+Math.imul(v,we)|0,y=y+Math.imul(P,he)|0,b=b+Math.imul(P,we)|0;var nt=(_+A|0)+((y&8191)<<13)|0;_=(b+(y>>>13)|0)+(nt>>>26)|0,nt&=67108863,A=Math.imul(U,Y),y=Math.imul(U,Z),y=y+Math.imul(F,Y)|0,b=Math.imul(F,Z),A=A+Math.imul(G,xe)|0,y=y+Math.imul(G,ce)|0,y=y+Math.imul(V,xe)|0,b=b+Math.imul(V,ce)|0,A=A+Math.imul(I,he)|0,y=y+Math.imul(I,we)|0,y=y+Math.imul(L,he)|0,b=b+Math.imul(L,we)|0,A=A+Math.imul(v,Be)|0,y=y+Math.imul(v,Ae)|0,y=y+Math.imul(P,Be)|0,b=b+Math.imul(P,Ae)|0;var Kt=(_+A|0)+((y&8191)<<13)|0;_=(b+(y>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,A=Math.imul(ee,Y),y=Math.imul(ee,Z),y=y+Math.imul(oe,Y)|0,b=Math.imul(oe,Z),A=A+Math.imul(U,xe)|0,y=y+Math.imul(U,ce)|0,y=y+Math.imul(F,xe)|0,b=b+Math.imul(F,ce)|0,A=A+Math.imul(G,he)|0,y=y+Math.imul(G,we)|0,y=y+Math.imul(V,he)|0,b=b+Math.imul(V,we)|0,A=A+Math.imul(I,Be)|0,y=y+Math.imul(I,Ae)|0,y=y+Math.imul(L,Be)|0,b=b+Math.imul(L,Ae)|0,A=A+Math.imul(v,Oe)|0,y=y+Math.imul(v,Ee)|0,y=y+Math.imul(P,Oe)|0,b=b+Math.imul(P,Ee)|0;var Gt=(_+A|0)+((y&8191)<<13)|0;_=(b+(y>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,A=Math.imul(de,Y),y=Math.imul(de,Z),y=y+Math.imul(pe,Y)|0,b=Math.imul(pe,Z),A=A+Math.imul(ee,xe)|0,y=y+Math.imul(ee,ce)|0,y=y+Math.imul(oe,xe)|0,b=b+Math.imul(oe,ce)|0,A=A+Math.imul(U,he)|0,y=y+Math.imul(U,we)|0,y=y+Math.imul(F,he)|0,b=b+Math.imul(F,we)|0,A=A+Math.imul(G,Be)|0,y=y+Math.imul(G,Ae)|0,y=y+Math.imul(V,Be)|0,b=b+Math.imul(V,Ae)|0,A=A+Math.imul(I,Oe)|0,y=y+Math.imul(I,Ee)|0,y=y+Math.imul(L,Oe)|0,b=b+Math.imul(L,Ee)|0,A=A+Math.imul(v,Le)|0,y=y+Math.imul(v,_e)|0,y=y+Math.imul(P,Le)|0,b=b+Math.imul(P,_e)|0;var Vt=(_+A|0)+((y&8191)<<13)|0;_=(b+(y>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,A=Math.imul(Re,Y),y=Math.imul(Re,Z),y=y+Math.imul(me,Y)|0,b=Math.imul(me,Z),A=A+Math.imul(de,xe)|0,y=y+Math.imul(de,ce)|0,y=y+Math.imul(pe,xe)|0,b=b+Math.imul(pe,ce)|0,A=A+Math.imul(ee,he)|0,y=y+Math.imul(ee,we)|0,y=y+Math.imul(oe,he)|0,b=b+Math.imul(oe,we)|0,A=A+Math.imul(U,Be)|0,y=y+Math.imul(U,Ae)|0,y=y+Math.imul(F,Be)|0,b=b+Math.imul(F,Ae)|0,A=A+Math.imul(G,Oe)|0,y=y+Math.imul(G,Ee)|0,y=y+Math.imul(V,Oe)|0,b=b+Math.imul(V,Ee)|0,A=A+Math.imul(I,Le)|0,y=y+Math.imul(I,_e)|0,y=y+Math.imul(L,Le)|0,b=b+Math.imul(L,_e)|0,A=A+Math.imul(v,Fe)|0,y=y+Math.imul(v,Te)|0,y=y+Math.imul(P,Fe)|0,b=b+Math.imul(P,Te)|0;var Wt=(_+A|0)+((y&8191)<<13)|0;_=(b+(y>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,A=Math.imul(Ce,Y),y=Math.imul(Ce,Z),y=y+Math.imul(be,Y)|0,b=Math.imul(be,Z),A=A+Math.imul(Re,xe)|0,y=y+Math.imul(Re,ce)|0,y=y+Math.imul(me,xe)|0,b=b+Math.imul(me,ce)|0,A=A+Math.imul(de,he)|0,y=y+Math.imul(de,we)|0,y=y+Math.imul(pe,he)|0,b=b+Math.imul(pe,we)|0,A=A+Math.imul(ee,Be)|0,y=y+Math.imul(ee,Ae)|0,y=y+Math.imul(oe,Be)|0,b=b+Math.imul(oe,Ae)|0,A=A+Math.imul(U,Oe)|0,y=y+Math.imul(U,Ee)|0,y=y+Math.imul(F,Oe)|0,b=b+Math.imul(F,Ee)|0,A=A+Math.imul(G,Le)|0,y=y+Math.imul(G,_e)|0,y=y+Math.imul(V,Le)|0,b=b+Math.imul(V,_e)|0,A=A+Math.imul(I,Fe)|0,y=y+Math.imul(I,Te)|0,y=y+Math.imul(L,Fe)|0,b=b+Math.imul(L,Te)|0,A=A+Math.imul(v,De)|0,y=y+Math.imul(v,Me)|0,y=y+Math.imul(P,De)|0,b=b+Math.imul(P,Me)|0;var Jt=(_+A|0)+((y&8191)<<13)|0;_=(b+(y>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,A=Math.imul(Ne,Y),y=Math.imul(Ne,Z),y=y+Math.imul(O,Y)|0,b=Math.imul(O,Z),A=A+Math.imul(Ce,xe)|0,y=y+Math.imul(Ce,ce)|0,y=y+Math.imul(be,xe)|0,b=b+Math.imul(be,ce)|0,A=A+Math.imul(Re,he)|0,y=y+Math.imul(Re,we)|0,y=y+Math.imul(me,he)|0,b=b+Math.imul(me,we)|0,A=A+Math.imul(de,Be)|0,y=y+Math.imul(de,Ae)|0,y=y+Math.imul(pe,Be)|0,b=b+Math.imul(pe,Ae)|0,A=A+Math.imul(ee,Oe)|0,y=y+Math.imul(ee,Ee)|0,y=y+Math.imul(oe,Oe)|0,b=b+Math.imul(oe,Ee)|0,A=A+Math.imul(U,Le)|0,y=y+Math.imul(U,_e)|0,y=y+Math.imul(F,Le)|0,b=b+Math.imul(F,_e)|0,A=A+Math.imul(G,Fe)|0,y=y+Math.imul(G,Te)|0,y=y+Math.imul(V,Fe)|0,b=b+Math.imul(V,Te)|0,A=A+Math.imul(I,De)|0,y=y+Math.imul(I,Me)|0,y=y+Math.imul(L,De)|0,b=b+Math.imul(L,Me)|0,A=A+Math.imul(v,Ue)|0,y=y+Math.imul(v,ke)|0,y=y+Math.imul(P,Ue)|0,b=b+Math.imul(P,ke)|0;var Cr=(_+A|0)+((y&8191)<<13)|0;_=(b+(y>>>13)|0)+(Cr>>>26)|0,Cr&=67108863,A=Math.imul(N,Y),y=Math.imul(N,Z),y=y+Math.imul(z,Y)|0,b=Math.imul(z,Z),A=A+Math.imul(Ne,xe)|0,y=y+Math.imul(Ne,ce)|0,y=y+Math.imul(O,xe)|0,b=b+Math.imul(O,ce)|0,A=A+Math.imul(Ce,he)|0,y=y+Math.imul(Ce,we)|0,y=y+Math.imul(be,he)|0,b=b+Math.imul(be,we)|0,A=A+Math.imul(Re,Be)|0,y=y+Math.imul(Re,Ae)|0,y=y+Math.imul(me,Be)|0,b=b+Math.imul(me,Ae)|0,A=A+Math.imul(de,Oe)|0,y=y+Math.imul(de,Ee)|0,y=y+Math.imul(pe,Oe)|0,b=b+Math.imul(pe,Ee)|0,A=A+Math.imul(ee,Le)|0,y=y+Math.imul(ee,_e)|0,y=y+Math.imul(oe,Le)|0,b=b+Math.imul(oe,_e)|0,A=A+Math.imul(U,Fe)|0,y=y+Math.imul(U,Te)|0,y=y+Math.imul(F,Fe)|0,b=b+Math.imul(F,Te)|0,A=A+Math.imul(G,De)|0,y=y+Math.imul(G,Me)|0,y=y+Math.imul(V,De)|0,b=b+Math.imul(V,Me)|0,A=A+Math.imul(I,Ue)|0,y=y+Math.imul(I,ke)|0,y=y+Math.imul(L,Ue)|0,b=b+Math.imul(L,ke)|0,A=A+Math.imul(v,$e)|0,y=y+Math.imul(v,Ie)|0,y=y+Math.imul(P,$e)|0,b=b+Math.imul(P,Ie)|0;var Nr=(_+A|0)+((y&8191)<<13)|0;_=(b+(y>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,A=Math.imul(N,xe),y=Math.imul(N,ce),y=y+Math.imul(z,xe)|0,b=Math.imul(z,ce),A=A+Math.imul(Ne,he)|0,y=y+Math.imul(Ne,we)|0,y=y+Math.imul(O,he)|0,b=b+Math.imul(O,we)|0,A=A+Math.imul(Ce,Be)|0,y=y+Math.imul(Ce,Ae)|0,y=y+Math.imul(be,Be)|0,b=b+Math.imul(be,Ae)|0,A=A+Math.imul(Re,Oe)|0,y=y+Math.imul(Re,Ee)|0,y=y+Math.imul(me,Oe)|0,b=b+Math.imul(me,Ee)|0,A=A+Math.imul(de,Le)|0,y=y+Math.imul(de,_e)|0,y=y+Math.imul(pe,Le)|0,b=b+Math.imul(pe,_e)|0,A=A+Math.imul(ee,Fe)|0,y=y+Math.imul(ee,Te)|0,y=y+Math.imul(oe,Fe)|0,b=b+Math.imul(oe,Te)|0,A=A+Math.imul(U,De)|0,y=y+Math.imul(U,Me)|0,y=y+Math.imul(F,De)|0,b=b+Math.imul(F,Me)|0,A=A+Math.imul(G,Ue)|0,y=y+Math.imul(G,ke)|0,y=y+Math.imul(V,Ue)|0,b=b+Math.imul(V,ke)|0,A=A+Math.imul(I,$e)|0,y=y+Math.imul(I,Ie)|0,y=y+Math.imul(L,$e)|0,b=b+Math.imul(L,Ie)|0;var Rr=(_+A|0)+((y&8191)<<13)|0;_=(b+(y>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,A=Math.imul(N,he),y=Math.imul(N,we),y=y+Math.imul(z,he)|0,b=Math.imul(z,we),A=A+Math.imul(Ne,Be)|0,y=y+Math.imul(Ne,Ae)|0,y=y+Math.imul(O,Be)|0,b=b+Math.imul(O,Ae)|0,A=A+Math.imul(Ce,Oe)|0,y=y+Math.imul(Ce,Ee)|0,y=y+Math.imul(be,Oe)|0,b=b+Math.imul(be,Ee)|0,A=A+Math.imul(Re,Le)|0,y=y+Math.imul(Re,_e)|0,y=y+Math.imul(me,Le)|0,b=b+Math.imul(me,_e)|0,A=A+Math.imul(de,Fe)|0,y=y+Math.imul(de,Te)|0,y=y+Math.imul(pe,Fe)|0,b=b+Math.imul(pe,Te)|0,A=A+Math.imul(ee,De)|0,y=y+Math.imul(ee,Me)|0,y=y+Math.imul(oe,De)|0,b=b+Math.imul(oe,Me)|0,A=A+Math.imul(U,Ue)|0,y=y+Math.imul(U,ke)|0,y=y+Math.imul(F,Ue)|0,b=b+Math.imul(F,ke)|0,A=A+Math.imul(G,$e)|0,y=y+Math.imul(G,Ie)|0,y=y+Math.imul(V,$e)|0,b=b+Math.imul(V,Ie)|0;var Pr=(_+A|0)+((y&8191)<<13)|0;_=(b+(y>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,A=Math.imul(N,Be),y=Math.imul(N,Ae),y=y+Math.imul(z,Be)|0,b=Math.imul(z,Ae),A=A+Math.imul(Ne,Oe)|0,y=y+Math.imul(Ne,Ee)|0,y=y+Math.imul(O,Oe)|0,b=b+Math.imul(O,Ee)|0,A=A+Math.imul(Ce,Le)|0,y=y+Math.imul(Ce,_e)|0,y=y+Math.imul(be,Le)|0,b=b+Math.imul(be,_e)|0,A=A+Math.imul(Re,Fe)|0,y=y+Math.imul(Re,Te)|0,y=y+Math.imul(me,Fe)|0,b=b+Math.imul(me,Te)|0,A=A+Math.imul(de,De)|0,y=y+Math.imul(de,Me)|0,y=y+Math.imul(pe,De)|0,b=b+Math.imul(pe,Me)|0,A=A+Math.imul(ee,Ue)|0,y=y+Math.imul(ee,ke)|0,y=y+Math.imul(oe,Ue)|0,b=b+Math.imul(oe,ke)|0,A=A+Math.imul(U,$e)|0,y=y+Math.imul(U,Ie)|0,y=y+Math.imul(F,$e)|0,b=b+Math.imul(F,Ie)|0;var Br=(_+A|0)+((y&8191)<<13)|0;_=(b+(y>>>13)|0)+(Br>>>26)|0,Br&=67108863,A=Math.imul(N,Oe),y=Math.imul(N,Ee),y=y+Math.imul(z,Oe)|0,b=Math.imul(z,Ee),A=A+Math.imul(Ne,Le)|0,y=y+Math.imul(Ne,_e)|0,y=y+Math.imul(O,Le)|0,b=b+Math.imul(O,_e)|0,A=A+Math.imul(Ce,Fe)|0,y=y+Math.imul(Ce,Te)|0,y=y+Math.imul(be,Fe)|0,b=b+Math.imul(be,Te)|0,A=A+Math.imul(Re,De)|0,y=y+Math.imul(Re,Me)|0,y=y+Math.imul(me,De)|0,b=b+Math.imul(me,Me)|0,A=A+Math.imul(de,Ue)|0,y=y+Math.imul(de,ke)|0,y=y+Math.imul(pe,Ue)|0,b=b+Math.imul(pe,ke)|0,A=A+Math.imul(ee,$e)|0,y=y+Math.imul(ee,Ie)|0,y=y+Math.imul(oe,$e)|0,b=b+Math.imul(oe,Ie)|0;var Or=(_+A|0)+((y&8191)<<13)|0;_=(b+(y>>>13)|0)+(Or>>>26)|0,Or&=67108863,A=Math.imul(N,Le),y=Math.imul(N,_e),y=y+Math.imul(z,Le)|0,b=Math.imul(z,_e),A=A+Math.imul(Ne,Fe)|0,y=y+Math.imul(Ne,Te)|0,y=y+Math.imul(O,Fe)|0,b=b+Math.imul(O,Te)|0,A=A+Math.imul(Ce,De)|0,y=y+Math.imul(Ce,Me)|0,y=y+Math.imul(be,De)|0,b=b+Math.imul(be,Me)|0,A=A+Math.imul(Re,Ue)|0,y=y+Math.imul(Re,ke)|0,y=y+Math.imul(me,Ue)|0,b=b+Math.imul(me,ke)|0,A=A+Math.imul(de,$e)|0,y=y+Math.imul(de,Ie)|0,y=y+Math.imul(pe,$e)|0,b=b+Math.imul(pe,Ie)|0;var Lr=(_+A|0)+((y&8191)<<13)|0;_=(b+(y>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,A=Math.imul(N,Fe),y=Math.imul(N,Te),y=y+Math.imul(z,Fe)|0,b=Math.imul(z,Te),A=A+Math.imul(Ne,De)|0,y=y+Math.imul(Ne,Me)|0,y=y+Math.imul(O,De)|0,b=b+Math.imul(O,Me)|0,A=A+Math.imul(Ce,Ue)|0,y=y+Math.imul(Ce,ke)|0,y=y+Math.imul(be,Ue)|0,b=b+Math.imul(be,ke)|0,A=A+Math.imul(Re,$e)|0,y=y+Math.imul(Re,Ie)|0,y=y+Math.imul(me,$e)|0,b=b+Math.imul(me,Ie)|0;var Fr=(_+A|0)+((y&8191)<<13)|0;_=(b+(y>>>13)|0)+(Fr>>>26)|0,Fr&=67108863,A=Math.imul(N,De),y=Math.imul(N,Me),y=y+Math.imul(z,De)|0,b=Math.imul(z,Me),A=A+Math.imul(Ne,Ue)|0,y=y+Math.imul(Ne,ke)|0,y=y+Math.imul(O,Ue)|0,b=b+Math.imul(O,ke)|0,A=A+Math.imul(Ce,$e)|0,y=y+Math.imul(Ce,Ie)|0,y=y+Math.imul(be,$e)|0,b=b+Math.imul(be,Ie)|0;var Dr=(_+A|0)+((y&8191)<<13)|0;_=(b+(y>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,A=Math.imul(N,Ue),y=Math.imul(N,ke),y=y+Math.imul(z,Ue)|0,b=Math.imul(z,ke),A=A+Math.imul(Ne,$e)|0,y=y+Math.imul(Ne,Ie)|0,y=y+Math.imul(O,$e)|0,b=b+Math.imul(O,Ie)|0;var Fn=(_+A|0)+((y&8191)<<13)|0;_=(b+(y>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,A=Math.imul(N,$e),y=Math.imul(N,Ie),y=y+Math.imul(z,$e)|0,b=Math.imul(z,Ie);var Dn=(_+A|0)+((y&8191)<<13)|0;return _=(b+(y>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,g[0]=st,g[1]=rt,g[2]=nt,g[3]=Kt,g[4]=Gt,g[5]=Vt,g[6]=Wt,g[7]=Jt,g[8]=Cr,g[9]=Nr,g[10]=Rr,g[11]=Pr,g[12]=Br,g[13]=Or,g[14]=Lr,g[15]=Fr,g[16]=Dr,g[17]=Fn,g[18]=Dn,_!==0&&(g[19]=_,h.length++),h};Math.imul||(M=C);function k(D,m,d){d.negative=m.negative^D.negative,d.length=D.length+m.length;for(var h=0,u=0,p=0;p<d.length-1;p++){var g=u;u=0;for(var _=h&67108863,A=Math.min(p,m.length-1),y=Math.max(0,p-D.length+1);y<=A;y++){var b=p-y,w=D.words[b]|0,v=m.words[y]|0,P=w*v,j=P&67108863;g=g+(P/67108864|0)|0,j=j+_|0,_=j&67108863,g=g+(j>>>26)|0,u+=g>>>26,g&=67108863}d.words[p]=_,h=g,g=u}return h!==0?d.words[p]=h:d.length--,d.strip()}function S(D,m,d){var h=new R;return h.mulp(D,m,d)}a.prototype.mulTo=function(m,d){var h,u=this.length+m.length;return this.length===10&&m.length===10?h=M(this,m,d):u<63?h=C(this,m,d):u<1024?h=k(this,m,d):h=S(this,m,d),h};function R(D,m){this.x=D,this.y=m}R.prototype.makeRBT=function(m){for(var d=new Array(m),h=a.prototype._countBits(m)-1,u=0;u<m;u++)d[u]=this.revBin(u,h,m);return d},R.prototype.revBin=function(m,d,h){if(m===0||m===h-1)return m;for(var u=0,p=0;p<d;p++)u|=(m&1)<<d-p-1,m>>=1;return u},R.prototype.permute=function(m,d,h,u,p,g){for(var _=0;_<g;_++)u[_]=d[m[_]],p[_]=h[m[_]]},R.prototype.transform=function(m,d,h,u,p,g){this.permute(g,m,d,h,u,p);for(var _=1;_<p;_<<=1)for(var A=_<<1,y=Math.cos(2*Math.PI/A),b=Math.sin(2*Math.PI/A),w=0;w<p;w+=A)for(var v=y,P=b,j=0;j<_;j++){var I=h[w+j],L=u[w+j],q=h[w+j+_],G=u[w+j+_],V=v*q-P*G;G=v*G+P*q,q=V,h[w+j]=I+q,u[w+j]=L+G,h[w+j+_]=I-q,u[w+j+_]=L-G,j!==A&&(V=y*v-b*P,P=y*P+b*v,v=V)}},R.prototype.guessLen13b=function(m,d){var h=Math.max(d,m)|1,u=h&1,p=0;for(h=h/2|0;h;h=h>>>1)p++;return 1<<p+1+u},R.prototype.conjugate=function(m,d,h){if(!(h<=1))for(var u=0;u<h/2;u++){var p=m[u];m[u]=m[h-u-1],m[h-u-1]=p,p=d[u],d[u]=-d[h-u-1],d[h-u-1]=-p}},R.prototype.normalize13b=function(m,d){for(var h=0,u=0;u<d/2;u++){var p=Math.round(m[2*u+1]/d)*8192+Math.round(m[2*u]/d)+h;m[u]=p&67108863,p<67108864?h=0:h=p/67108864|0}return m},R.prototype.convert13b=function(m,d,h,u){for(var p=0,g=0;g<d;g++)p=p+(m[g]|0),h[2*g]=p&8191,p=p>>>13,h[2*g+1]=p&8191,p=p>>>13;for(g=2*d;g<u;++g)h[g]=0;n(p===0),n((p&-8192)===0)},R.prototype.stub=function(m){for(var d=new Array(m),h=0;h<m;h++)d[h]=0;return d},R.prototype.mulp=function(m,d,h){var u=2*this.guessLen13b(m.length,d.length),p=this.makeRBT(u),g=this.stub(u),_=new Array(u),A=new Array(u),y=new Array(u),b=new Array(u),w=new Array(u),v=new Array(u),P=h.words;P.length=u,this.convert13b(m.words,m.length,_,u),this.convert13b(d.words,d.length,b,u),this.transform(_,g,A,y,u,p),this.transform(b,g,w,v,u,p);for(var j=0;j<u;j++){var I=A[j]*w[j]-y[j]*v[j];y[j]=A[j]*v[j]+y[j]*w[j],A[j]=I}return this.conjugate(A,y,u),this.transform(A,y,P,g,u,p),this.conjugate(P,g,u),this.normalize13b(P,u),h.negative=m.negative^d.negative,h.length=m.length+d.length,h.strip()},a.prototype.mul=function(m){var d=new a(null);return d.words=new Array(this.length+m.length),this.mulTo(m,d)},a.prototype.mulf=function(m){var d=new a(null);return d.words=new Array(this.length+m.length),S(this,m,d)},a.prototype.imul=function(m){return this.clone().mulTo(m,this)},a.prototype.imuln=function(m){n(typeof m=="number"),n(m<67108864);for(var d=0,h=0;h<this.length;h++){var u=(this.words[h]|0)*m,p=(u&67108863)+(d&67108863);d>>=26,d+=u/67108864|0,d+=p>>>26,this.words[h]=p&67108863}return d!==0&&(this.words[h]=d,this.length++),this},a.prototype.muln=function(m){return this.clone().imuln(m)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(m){var d=E(m);if(d.length===0)return new a(1);for(var h=this,u=0;u<d.length&&d[u]===0;u++,h=h.sqr());if(++u<d.length)for(var p=h.sqr();u<d.length;u++,p=p.sqr())d[u]!==0&&(h=h.mul(p));return h},a.prototype.iushln=function(m){n(typeof m=="number"&&m>=0);var d=m%26,h=(m-d)/26,u=67108863>>>26-d<<26-d,p;if(d!==0){var g=0;for(p=0;p<this.length;p++){var _=this.words[p]&u,A=(this.words[p]|0)-_<<d;this.words[p]=A|g,g=_>>>26-d}g&&(this.words[p]=g,this.length++)}if(h!==0){for(p=this.length-1;p>=0;p--)this.words[p+h]=this.words[p];for(p=0;p<h;p++)this.words[p]=0;this.length+=h}return this.strip()},a.prototype.ishln=function(m){return n(this.negative===0),this.iushln(m)},a.prototype.iushrn=function(m,d,h){n(typeof m=="number"&&m>=0);var u;d?u=(d-d%26)/26:u=0;var p=m%26,g=Math.min((m-p)/26,this.length),_=67108863^67108863>>>p<<p,A=h;if(u-=g,u=Math.max(0,u),A){for(var y=0;y<g;y++)A.words[y]=this.words[y];A.length=g}if(g!==0)if(this.length>g)for(this.length-=g,y=0;y<this.length;y++)this.words[y]=this.words[y+g];else this.words[0]=0,this.length=1;var b=0;for(y=this.length-1;y>=0&&(b!==0||y>=u);y--){var w=this.words[y]|0;this.words[y]=b<<26-p|w>>>p,b=w&_}return A&&b!==0&&(A.words[A.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(m,d,h){return n(this.negative===0),this.iushrn(m,d,h)},a.prototype.shln=function(m){return this.clone().ishln(m)},a.prototype.ushln=function(m){return this.clone().iushln(m)},a.prototype.shrn=function(m){return this.clone().ishrn(m)},a.prototype.ushrn=function(m){return this.clone().iushrn(m)},a.prototype.testn=function(m){n(typeof m=="number"&&m>=0);var d=m%26,h=(m-d)/26,u=1<<d;if(this.length<=h)return!1;var p=this.words[h];return!!(p&u)},a.prototype.imaskn=function(m){n(typeof m=="number"&&m>=0);var d=m%26,h=(m-d)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(d!==0&&h++,this.length=Math.min(h,this.length),d!==0){var u=67108863^67108863>>>d<<d;this.words[this.length-1]&=u}return this.strip()},a.prototype.maskn=function(m){return this.clone().imaskn(m)},a.prototype.iaddn=function(m){return n(typeof m=="number"),n(m<67108864),m<0?this.isubn(-m):this.negative!==0?this.length===1&&(this.words[0]|0)<m?(this.words[0]=m-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(m),this.negative=1,this):this._iaddn(m)},a.prototype._iaddn=function(m){this.words[0]+=m;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},a.prototype.isubn=function(m){if(n(typeof m=="number"),n(m<67108864),m<0)return this.iaddn(-m);if(this.negative!==0)return this.negative=0,this.iaddn(m),this.negative=1,this;if(this.words[0]-=m,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},a.prototype.addn=function(m){return this.clone().iaddn(m)},a.prototype.subn=function(m){return this.clone().isubn(m)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(m,d,h){var u=m.length+h,p;this._expand(u);var g,_=0;for(p=0;p<m.length;p++){g=(this.words[p+h]|0)+_;var A=(m.words[p]|0)*d;g-=A&67108863,_=(g>>26)-(A/67108864|0),this.words[p+h]=g&67108863}for(;p<this.length-h;p++)g=(this.words[p+h]|0)+_,_=g>>26,this.words[p+h]=g&67108863;if(_===0)return this.strip();for(n(_===-1),_=0,p=0;p<this.length;p++)g=-(this.words[p]|0)+_,_=g>>26,this.words[p]=g&67108863;return this.negative=1,this.strip()},a.prototype._wordDiv=function(m,d){var h=this.length-m.length,u=this.clone(),p=m,g=p.words[p.length-1]|0,_=this._countBits(g);h=26-_,h!==0&&(p=p.ushln(h),u.iushln(h),g=p.words[p.length-1]|0);var A=u.length-p.length,y;if(d!=="mod"){y=new a(null),y.length=A+1,y.words=new Array(y.length);for(var b=0;b<y.length;b++)y.words[b]=0}var w=u.clone()._ishlnsubmul(p,1,A);w.negative===0&&(u=w,y&&(y.words[A]=1));for(var v=A-1;v>=0;v--){var P=(u.words[p.length+v]|0)*67108864+(u.words[p.length+v-1]|0);for(P=Math.min(P/g|0,67108863),u._ishlnsubmul(p,P,v);u.negative!==0;)P--,u.negative=0,u._ishlnsubmul(p,1,v),u.isZero()||(u.negative^=1);y&&(y.words[v]=P)}return y&&y.strip(),u.strip(),d!=="div"&&h!==0&&u.iushrn(h),{div:y||null,mod:u}},a.prototype.divmod=function(m,d,h){if(n(!m.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var u,p,g;return this.negative!==0&&m.negative===0?(g=this.neg().divmod(m,d),d!=="mod"&&(u=g.div.neg()),d!=="div"&&(p=g.mod.neg(),h&&p.negative!==0&&p.iadd(m)),{div:u,mod:p}):this.negative===0&&m.negative!==0?(g=this.divmod(m.neg(),d),d!=="mod"&&(u=g.div.neg()),{div:u,mod:g.mod}):this.negative&m.negative?(g=this.neg().divmod(m.neg(),d),d!=="div"&&(p=g.mod.neg(),h&&p.negative!==0&&p.isub(m)),{div:g.div,mod:p}):m.length>this.length||this.cmp(m)<0?{div:new a(0),mod:this}:m.length===1?d==="div"?{div:this.divn(m.words[0]),mod:null}:d==="mod"?{div:null,mod:new a(this.modn(m.words[0]))}:{div:this.divn(m.words[0]),mod:new a(this.modn(m.words[0]))}:this._wordDiv(m,d)},a.prototype.div=function(m){return this.divmod(m,"div",!1).div},a.prototype.mod=function(m){return this.divmod(m,"mod",!1).mod},a.prototype.umod=function(m){return this.divmod(m,"mod",!0).mod},a.prototype.divRound=function(m){var d=this.divmod(m);if(d.mod.isZero())return d.div;var h=d.div.negative!==0?d.mod.isub(m):d.mod,u=m.ushrn(1),p=m.andln(1),g=h.cmp(u);return g<0||p===1&&g===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},a.prototype.modn=function(m){n(m<=67108863);for(var d=(1<<26)%m,h=0,u=this.length-1;u>=0;u--)h=(d*h+(this.words[u]|0))%m;return h},a.prototype.idivn=function(m){n(m<=67108863);for(var d=0,h=this.length-1;h>=0;h--){var u=(this.words[h]|0)+d*67108864;this.words[h]=u/m|0,d=u%m}return this.strip()},a.prototype.divn=function(m){return this.clone().idivn(m)},a.prototype.egcd=function(m){n(m.negative===0),n(!m.isZero());var d=this,h=m.clone();d.negative!==0?d=d.umod(m):d=d.clone();for(var u=new a(1),p=new a(0),g=new a(0),_=new a(1),A=0;d.isEven()&&h.isEven();)d.iushrn(1),h.iushrn(1),++A;for(var y=h.clone(),b=d.clone();!d.isZero();){for(var w=0,v=1;!(d.words[0]&v)&&w<26;++w,v<<=1);if(w>0)for(d.iushrn(w);w-- >0;)(u.isOdd()||p.isOdd())&&(u.iadd(y),p.isub(b)),u.iushrn(1),p.iushrn(1);for(var P=0,j=1;!(h.words[0]&j)&&P<26;++P,j<<=1);if(P>0)for(h.iushrn(P);P-- >0;)(g.isOdd()||_.isOdd())&&(g.iadd(y),_.isub(b)),g.iushrn(1),_.iushrn(1);d.cmp(h)>=0?(d.isub(h),u.isub(g),p.isub(_)):(h.isub(d),g.isub(u),_.isub(p))}return{a:g,b:_,gcd:h.iushln(A)}},a.prototype._invmp=function(m){n(m.negative===0),n(!m.isZero());var d=this,h=m.clone();d.negative!==0?d=d.umod(m):d=d.clone();for(var u=new a(1),p=new a(0),g=h.clone();d.cmpn(1)>0&&h.cmpn(1)>0;){for(var _=0,A=1;!(d.words[0]&A)&&_<26;++_,A<<=1);if(_>0)for(d.iushrn(_);_-- >0;)u.isOdd()&&u.iadd(g),u.iushrn(1);for(var y=0,b=1;!(h.words[0]&b)&&y<26;++y,b<<=1);if(y>0)for(h.iushrn(y);y-- >0;)p.isOdd()&&p.iadd(g),p.iushrn(1);d.cmp(h)>=0?(d.isub(h),u.isub(p)):(h.isub(d),p.isub(u))}var w;return d.cmpn(1)===0?w=u:w=p,w.cmpn(0)<0&&w.iadd(m),w},a.prototype.gcd=function(m){if(this.isZero())return m.abs();if(m.isZero())return this.abs();var d=this.clone(),h=m.clone();d.negative=0,h.negative=0;for(var u=0;d.isEven()&&h.isEven();u++)d.iushrn(1),h.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;h.isEven();)h.iushrn(1);var p=d.cmp(h);if(p<0){var g=d;d=h,h=g}else if(p===0||h.cmpn(1)===0)break;d.isub(h)}while(!0);return h.iushln(u)},a.prototype.invm=function(m){return this.egcd(m).a.umod(m)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(m){return this.words[0]&m},a.prototype.bincn=function(m){n(typeof m=="number");var d=m%26,h=(m-d)/26,u=1<<d;if(this.length<=h)return this._expand(h+1),this.words[h]|=u,this;for(var p=u,g=h;p!==0&&g<this.length;g++){var _=this.words[g]|0;_+=p,p=_>>>26,_&=67108863,this.words[g]=_}return p!==0&&(this.words[g]=p,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(m){var d=m<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this.strip();var h;if(this.length>1)h=1;else{d&&(m=-m),n(m<=67108863,"Number is too big");var u=this.words[0]|0;h=u===m?0:u<m?-1:1}return this.negative!==0?-h|0:h},a.prototype.cmp=function(m){if(this.negative!==0&&m.negative===0)return-1;if(this.negative===0&&m.negative!==0)return 1;var d=this.ucmp(m);return this.negative!==0?-d|0:d},a.prototype.ucmp=function(m){if(this.length>m.length)return 1;if(this.length<m.length)return-1;for(var d=0,h=this.length-1;h>=0;h--){var u=this.words[h]|0,p=m.words[h]|0;if(u!==p){u<p?d=-1:u>p&&(d=1);break}}return d},a.prototype.gtn=function(m){return this.cmpn(m)===1},a.prototype.gt=function(m){return this.cmp(m)===1},a.prototype.gten=function(m){return this.cmpn(m)>=0},a.prototype.gte=function(m){return this.cmp(m)>=0},a.prototype.ltn=function(m){return this.cmpn(m)===-1},a.prototype.lt=function(m){return this.cmp(m)===-1},a.prototype.lten=function(m){return this.cmpn(m)<=0},a.prototype.lte=function(m){return this.cmp(m)<=0},a.prototype.eqn=function(m){return this.cmpn(m)===0},a.prototype.eq=function(m){return this.cmp(m)===0},a.red=function(m){return new X(m)},a.prototype.toRed=function(m){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),m.convertTo(this)._forceRed(m)},a.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(m){return this.red=m,this},a.prototype.forceRed=function(m){return n(!this.red,"Already a number in reduction context"),this._forceRed(m)},a.prototype.redAdd=function(m){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,m)},a.prototype.redIAdd=function(m){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,m)},a.prototype.redSub=function(m){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,m)},a.prototype.redISub=function(m){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,m)},a.prototype.redShl=function(m){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,m)},a.prototype.redMul=function(m){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,m),this.red.mul(this,m)},a.prototype.redIMul=function(m){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,m),this.red.imul(this,m)},a.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(m){return n(this.red&&!m.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,m)};var B={k256:null,p224:null,p192:null,p25519:null};function $(D,m){this.name=D,this.p=new a(m,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}$.prototype._tmp=function(){var m=new a(null);return m.words=new Array(Math.ceil(this.n/13)),m},$.prototype.ireduce=function(m){var d=m,h;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),h=d.bitLength();while(h>this.n);var u=h<this.n?-1:d.ucmp(this.p);return u===0?(d.words[0]=0,d.length=1):u>0?d.isub(this.p):d.strip(),d},$.prototype.split=function(m,d){m.iushrn(this.n,0,d)},$.prototype.imulK=function(m){return m.imul(this.k)};function H(){$.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(H,$),H.prototype.split=function(m,d){for(var h=4194303,u=Math.min(m.length,9),p=0;p<u;p++)d.words[p]=m.words[p];if(d.length=u,m.length<=9){m.words[0]=0,m.length=1;return}var g=m.words[9];for(d.words[d.length++]=g&h,p=10;p<m.length;p++){var _=m.words[p]|0;m.words[p-10]=(_&h)<<4|g>>>22,g=_}g>>>=22,m.words[p-10]=g,g===0&&m.length>10?m.length-=10:m.length-=9},H.prototype.imulK=function(m){m.words[m.length]=0,m.words[m.length+1]=0,m.length+=2;for(var d=0,h=0;h<m.length;h++){var u=m.words[h]|0;d+=u*977,m.words[h]=d&67108863,d=u*64+(d/67108864|0)}return m.words[m.length-1]===0&&(m.length--,m.words[m.length-1]===0&&m.length--),m};function K(){$.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(K,$);function J(){$.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(J,$);function ie(){$.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(ie,$),ie.prototype.imulK=function(m){for(var d=0,h=0;h<m.length;h++){var u=(m.words[h]|0)*19+d,p=u&67108863;u>>>=26,m.words[h]=p,d=u}return d!==0&&(m.words[m.length++]=d),m},a._prime=function(m){if(B[m])return B[m];var d;if(m==="k256")d=new H;else if(m==="p224")d=new K;else if(m==="p192")d=new J;else if(m==="p25519")d=new ie;else throw new Error("Unknown prime "+m);return B[m]=d,d};function X(D){if(typeof D=="string"){var m=a._prime(D);this.m=m.p,this.prime=m}else n(D.gtn(1),"modulus must be greater than 1"),this.m=D,this.prime=null}X.prototype._verify1=function(m){n(m.negative===0,"red works only with positives"),n(m.red,"red works only with red numbers")},X.prototype._verify2=function(m,d){n((m.negative|d.negative)===0,"red works only with positives"),n(m.red&&m.red===d.red,"red works only with red numbers")},X.prototype.imod=function(m){return this.prime?this.prime.ireduce(m)._forceRed(this):m.umod(this.m)._forceRed(this)},X.prototype.neg=function(m){return m.isZero()?m.clone():this.m.sub(m)._forceRed(this)},X.prototype.add=function(m,d){this._verify2(m,d);var h=m.add(d);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},X.prototype.iadd=function(m,d){this._verify2(m,d);var h=m.iadd(d);return h.cmp(this.m)>=0&&h.isub(this.m),h},X.prototype.sub=function(m,d){this._verify2(m,d);var h=m.sub(d);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},X.prototype.isub=function(m,d){this._verify2(m,d);var h=m.isub(d);return h.cmpn(0)<0&&h.iadd(this.m),h},X.prototype.shl=function(m,d){return this._verify1(m),this.imod(m.ushln(d))},X.prototype.imul=function(m,d){return this._verify2(m,d),this.imod(m.imul(d))},X.prototype.mul=function(m,d){return this._verify2(m,d),this.imod(m.mul(d))},X.prototype.isqr=function(m){return this.imul(m,m.clone())},X.prototype.sqr=function(m){return this.mul(m,m)},X.prototype.sqrt=function(m){if(m.isZero())return m.clone();var d=this.m.andln(3);if(n(d%2===1),d===3){var h=this.m.add(new a(1)).iushrn(2);return this.pow(m,h)}for(var u=this.m.subn(1),p=0;!u.isZero()&&u.andln(1)===0;)p++,u.iushrn(1);n(!u.isZero());var g=new a(1).toRed(this),_=g.redNeg(),A=this.m.subn(1).iushrn(1),y=this.m.bitLength();for(y=new a(2*y*y).toRed(this);this.pow(y,A).cmp(_)!==0;)y.redIAdd(_);for(var b=this.pow(y,u),w=this.pow(m,u.addn(1).iushrn(1)),v=this.pow(m,u),P=p;v.cmp(g)!==0;){for(var j=v,I=0;j.cmp(g)!==0;I++)j=j.redSqr();n(I<P);var L=this.pow(b,new a(1).iushln(P-I-1));w=w.redMul(L),b=L.redSqr(),v=v.redMul(b),P=I}return w},X.prototype.invm=function(m){var d=m._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},X.prototype.pow=function(m,d){if(d.isZero())return new a(1);if(d.cmpn(1)===0)return m.clone();var h=4,u=new Array(1<<h);u[0]=new a(1).toRed(this),u[1]=m;for(var p=2;p<u.length;p++)u[p]=this.mul(u[p-1],m);var g=u[0],_=0,A=0,y=d.bitLength()%26;for(y===0&&(y=26),p=d.length-1;p>=0;p--){for(var b=d.words[p],w=y-1;w>=0;w--){var v=b>>w&1;if(g!==u[0]&&(g=this.sqr(g)),v===0&&_===0){A=0;continue}_<<=1,_|=v,A++,!(A!==h&&(p!==0||w!==0))&&(g=this.mul(g,u[_]),A=0,_=0)}y=26}return g},X.prototype.convertTo=function(m){var d=m.umod(this.m);return d===m?d.clone():d},X.prototype.convertFrom=function(m){var d=m.clone();return d.red=null,d},a.mont=function(m){return new re(m)};function re(D){X.call(this,D),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(re,X),re.prototype.convertTo=function(m){return this.imod(m.ushln(this.shift))},re.prototype.convertFrom=function(m){var d=this.imod(m.mul(this.rinv));return d.red=null,d},re.prototype.imul=function(m,d){if(m.isZero()||d.isZero())return m.words[0]=0,m.length=1,m;var h=m.imul(d),u=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),p=h.isub(u).iushrn(this.shift),g=p;return p.cmp(this.m)>=0?g=p.isub(this.m):p.cmpn(0)<0&&(g=p.iadd(this.m)),g._forceRed(this)},re.prototype.mul=function(m,d){if(m.isZero()||d.isZero())return new a(0)._forceRed(this);var h=m.mul(d),u=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),p=h.isub(u).iushrn(this.shift),g=p;return p.cmp(this.m)>=0?g=p.isub(this.m):p.cmpn(0)<0&&(g=p.iadd(this.m)),g._forceRed(this)},re.prototype.invm=function(m){var d=this.imod(m._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(t,Ye)})(Qh);var ig=Qh.exports,HT=function(e){if(typeof e!="string")throw new Error("[is-hex-prefixed] value must be type 'string', is currently type "+typeof e+", while checking isHexPrefixed.");return e.slice(0,2)==="0x"},zT=HT,qT=function(e){return typeof e!="string"?e:zT(e)?e.slice(2):e},Eo=ig,fy=qT,ag=function(e){if(typeof e=="string"||typeof e=="number"){var r=new Eo(1),n=String(e).toLowerCase().trim(),i=n.substr(0,2)==="0x"||n.substr(0,3)==="-0x",a=fy(n);if(a.substr(0,1)==="-"&&(a=fy(a.slice(1)),r=new Eo(-1,10)),a=a===""?"0":a,!a.match(/^-?[0-9]+$/)&&a.match(/^[0-9A-Fa-f]+$/)||a.match(/^[a-fA-F]+$/)||i===!0&&a.match(/^[0-9A-Fa-f]+$/))return new Eo(a,16).mul(r);if((a.match(/^-?[0-9]+$/)||a==="")&&i===!1)return new Eo(a,10).mul(r)}else if(typeof e=="object"&&e.toString&&!e.pop&&!e.push&&e.toString(10).match(/^-?[0-9]+$/)&&(e.mul||e.dividedToIntegerBy))return new Eo(e.toString(10),10);throw new Error("[number-to-bn] while converting number "+JSON.stringify(e)+" to BN.js instance, error: invalid number value. Value must be an integer, hex string, BN or BigNumber instance. Note, decimals are not supported.")},ks=ig,jT=ag,KT=new ks(0),sg=new ks(-1),lc={noether:"0",wei:"1",kwei:"1000",Kwei:"1000",babbage:"1000",femtoether:"1000",mwei:"1000000",Mwei:"1000000",lovelace:"1000000",picoether:"1000000",gwei:"1000000000",Gwei:"1000000000",shannon:"1000000000",nanoether:"1000000000",nano:"1000000000",szabo:"1000000000000",microether:"1000000000000",micro:"1000000000000",finney:"1000000000000000",milliether:"1000000000000000",milli:"1000000000000000",ether:"1000000000000000000",kether:"1000000000000000000000",grand:"1000000000000000000000",mether:"1000000000000000000000000",gether:"1000000000000000000000000000",tether:"1000000000000000000000000000000"};function Xh(t){var e=t?t.toLowerCase():"ether",r=lc[e];if(typeof r!="string")throw new Error("[ethjs-unit] the unit provided "+t+" doesn't exists, please use the one of the following units "+JSON.stringify(lc,null,2));return new ks(r,10)}function og(t){if(typeof t=="string"){if(!t.match(/^-?[0-9.]+$/))throw new Error("while converting number to string, invalid number value '"+t+"', should be a number matching (^-?[0-9.]+).");return t}else{if(typeof t=="number")return String(t);if(typeof t=="object"&&t.toString&&(t.toTwos||t.dividedToIntegerBy))return t.toPrecision?String(t.toPrecision()):t.toString(10)}throw new Error("while converting number to string, invalid number value '"+t+"' type "+typeof t+".")}function GT(t,e,r){var n=jT(t),i=n.lt(KT),a=Xh(e),s=lc[e].length-1||1,o=r||{};i&&(n=n.mul(sg));for(var c=n.mod(a).toString(10);c.length<s;)c="0"+c;o.pad||(c=c.match(/^([0-9]*[1-9]|0)(0*)/)[1]);var f=n.div(a).toString(10);o.commify&&(f=f.replace(/\B(?=(\d{3})+(?!\d))/g,","));var l=""+f+(c=="0"?"":"."+c);return i&&(l="-"+l),l}function VT(t,e){var r=og(t),n=Xh(e),i=lc[e].length-1||1,a=r.substring(0,1)==="-";if(a&&(r=r.substring(1)),r===".")throw new Error("[ethjs-unit] while converting number "+t+" to wei, invalid value");var s=r.split(".");if(s.length>2)throw new Error("[ethjs-unit] while converting number "+t+" to wei,  too many decimal points");var o=s[0],c=s[1];if(o||(o="0"),c||(c="0"),c.length>i)throw new Error("[ethjs-unit] while converting number "+t+" to wei, too many decimal places");for(;c.length<i;)c+="0";o=new ks(o),c=new ks(c);var f=o.mul(n).add(c);return a&&(f=f.mul(sg)),new ks(f.toString(10),10)}var WT={unitMap:lc,numberToString:og,getValueOfUnit:Xh,fromWei:GT,toWei:VT},cg={};/*! https://mths.be/utf8js v3.0.0 by @mathias */(function(t){(function(e){var r=String.fromCharCode;function n(k){for(var S=[],R=0,B=k.length,$,H;R<B;)$=k.charCodeAt(R++),$>=55296&&$<=56319&&R<B?(H=k.charCodeAt(R++),(H&64512)==56320?S.push((($&1023)<<10)+(H&1023)+65536):(S.push($),R--)):S.push($);return S}function i(k){for(var S=k.length,R=-1,B,$="";++R<S;)B=k[R],B>65535&&(B-=65536,$+=r(B>>>10&1023|55296),B=56320|B&1023),$+=r(B);return $}function a(k){if(k>=55296&&k<=57343)throw Error("Lone surrogate U+"+k.toString(16).toUpperCase()+" is not a scalar value")}function s(k,S){return r(k>>S&63|128)}function o(k){if(!(k&4294967168))return r(k);var S="";return k&4294965248?k&4294901760?k&4292870144||(S=r(k>>18&7|240),S+=s(k,12),S+=s(k,6)):(a(k),S=r(k>>12&15|224),S+=s(k,6)):S=r(k>>6&31|192),S+=r(k&63|128),S}function c(k){for(var S=n(k),R=S.length,B=-1,$,H="";++B<R;)$=S[B],H+=o($);return H}function f(){if(C>=E)throw Error("Invalid byte index");var k=x[C]&255;if(C++,(k&192)==128)return k&63;throw Error("Invalid continuation byte")}function l(){var k,S,R,B,$;if(C>E)throw Error("Invalid byte index");if(C==E)return!1;if(k=x[C]&255,C++,!(k&128))return k;if((k&224)==192){if(S=f(),$=(k&31)<<6|S,$>=128)return $;throw Error("Invalid continuation byte")}if((k&240)==224){if(S=f(),R=f(),$=(k&15)<<12|S<<6|R,$>=2048)return a($),$;throw Error("Invalid continuation byte")}if((k&248)==240&&(S=f(),R=f(),B=f(),$=(k&7)<<18|S<<12|R<<6|B,$>=65536&&$<=1114111))return $;throw Error("Invalid UTF-8 detected")}var x,E,C;function M(k){x=n(k),E=x.length,C=0;for(var S=[],R;(R=l())!==!1;)S.push(R);return i(S)}e.version="3.0.0",e.encode=c,e.decode=M})(t)})(cg);var ug={},ep={},ns={},Bf={};Bf.byteLength=ZT;Bf.toByteArray=XT;Bf.fromByteArray=rM;var di=[],gn=[],JT=typeof Uint8Array<"u"?Uint8Array:Array,Zd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var ps=0,YT=Zd.length;ps<YT;++ps)di[ps]=Zd[ps],gn[Zd.charCodeAt(ps)]=ps;gn["-".charCodeAt(0)]=62;gn["_".charCodeAt(0)]=63;function fg(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function ZT(t){var e=fg(t),r=e[0],n=e[1];return(r+n)*3/4-n}function QT(t,e,r){return(e+r)*3/4-r}function XT(t){var e,r=fg(t),n=r[0],i=r[1],a=new JT(QT(t,n,i)),s=0,o=i>0?n-4:n,c;for(c=0;c<o;c+=4)e=gn[t.charCodeAt(c)]<<18|gn[t.charCodeAt(c+1)]<<12|gn[t.charCodeAt(c+2)]<<6|gn[t.charCodeAt(c+3)],a[s++]=e>>16&255,a[s++]=e>>8&255,a[s++]=e&255;return i===2&&(e=gn[t.charCodeAt(c)]<<2|gn[t.charCodeAt(c+1)]>>4,a[s++]=e&255),i===1&&(e=gn[t.charCodeAt(c)]<<10|gn[t.charCodeAt(c+1)]<<4|gn[t.charCodeAt(c+2)]>>2,a[s++]=e>>8&255,a[s++]=e&255),a}function eM(t){return di[t>>18&63]+di[t>>12&63]+di[t>>6&63]+di[t&63]}function tM(t,e,r){for(var n,i=[],a=e;a<r;a+=3)n=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(t[a+2]&255),i.push(eM(n));return i.join("")}function rM(t){for(var e,r=t.length,n=r%3,i=[],a=16383,s=0,o=r-n;s<o;s+=a)i.push(tM(t,s,s+a>o?o:s+a));return n===1?(e=t[r-1],i.push(di[e>>2]+di[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push(di[e>>10]+di[e>>4&63]+di[e<<2&63]+"=")),i.join("")}var tp={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */tp.read=function(t,e,r,n,i){var a,s,o=i*8-n-1,c=(1<<o)-1,f=c>>1,l=-7,x=r?i-1:0,E=r?-1:1,C=t[e+x];for(x+=E,a=C&(1<<-l)-1,C>>=-l,l+=o;l>0;a=a*256+t[e+x],x+=E,l-=8);for(s=a&(1<<-l)-1,a>>=-l,l+=n;l>0;s=s*256+t[e+x],x+=E,l-=8);if(a===0)a=1-f;else{if(a===c)return s?NaN:(C?-1:1)*(1/0);s=s+Math.pow(2,n),a=a-f}return(C?-1:1)*s*Math.pow(2,a-n)};tp.write=function(t,e,r,n,i,a){var s,o,c,f=a*8-i-1,l=(1<<f)-1,x=l>>1,E=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,C=n?0:a-1,M=n?1:-1,k=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),s+x>=1?e+=E/c:e+=E*Math.pow(2,1-x),e*c>=2&&(s++,c/=2),s+x>=l?(o=0,s=l):s+x>=1?(o=(e*c-1)*Math.pow(2,i),s=s+x):(o=e*Math.pow(2,x-1)*Math.pow(2,i),s=0));i>=8;t[r+C]=o&255,C+=M,o/=256,i-=8);for(s=s<<i|o,f+=i;f>0;t[r+C]=s&255,C+=M,s/=256,f-=8);t[r+C-M]|=k*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=Bf,r=tp,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=o,t.SlowBuffer=B,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,o.TYPED_ARRAY_SUPPORT=a(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{const O=new Uint8Array(1),T={foo:function(){return 42}};return Object.setPrototypeOf(T,Uint8Array.prototype),Object.setPrototypeOf(O,T),O.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function s(O){if(O>i)throw new RangeError('The value "'+O+'" is invalid for option "size"');const T=new Uint8Array(O);return Object.setPrototypeOf(T,o.prototype),T}function o(O,T,N){if(typeof O=="number"){if(typeof T=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return x(O)}return c(O,T,N)}o.poolSize=8192;function c(O,T,N){if(typeof O=="string")return E(O,T);if(ArrayBuffer.isView(O))return M(O);if(O==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof O);if(ze(O,ArrayBuffer)||O&&ze(O.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ze(O,SharedArrayBuffer)||O&&ze(O.buffer,SharedArrayBuffer)))return k(O,T,N);if(typeof O=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const z=O.valueOf&&O.valueOf();if(z!=null&&z!==O)return o.from(z,T,N);const W=S(O);if(W)return W;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof O[Symbol.toPrimitive]=="function")return o.from(O[Symbol.toPrimitive]("string"),T,N);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof O)}o.from=function(O,T,N){return c(O,T,N)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function f(O){if(typeof O!="number")throw new TypeError('"size" argument must be of type number');if(O<0)throw new RangeError('The value "'+O+'" is invalid for option "size"')}function l(O,T,N){return f(O),O<=0?s(O):T!==void 0?typeof N=="string"?s(O).fill(T,N):s(O).fill(T):s(O)}o.alloc=function(O,T,N){return l(O,T,N)};function x(O){return f(O),s(O<0?0:R(O)|0)}o.allocUnsafe=function(O){return x(O)},o.allocUnsafeSlow=function(O){return x(O)};function E(O,T){if((typeof T!="string"||T==="")&&(T="utf8"),!o.isEncoding(T))throw new TypeError("Unknown encoding: "+T);const N=$(O,T)|0;let z=s(N);const W=z.write(O,T);return W!==N&&(z=z.slice(0,W)),z}function C(O){const T=O.length<0?0:R(O.length)|0,N=s(T);for(let z=0;z<T;z+=1)N[z]=O[z]&255;return N}function M(O){if(ze(O,Uint8Array)){const T=new Uint8Array(O);return k(T.buffer,T.byteOffset,T.byteLength)}return C(O)}function k(O,T,N){if(T<0||O.byteLength<T)throw new RangeError('"offset" is outside of buffer bounds');if(O.byteLength<T+(N||0))throw new RangeError('"length" is outside of buffer bounds');let z;return T===void 0&&N===void 0?z=new Uint8Array(O):N===void 0?z=new Uint8Array(O,T):z=new Uint8Array(O,T,N),Object.setPrototypeOf(z,o.prototype),z}function S(O){if(o.isBuffer(O)){const T=R(O.length)|0,N=s(T);return N.length===0||O.copy(N,0,0,T),N}if(O.length!==void 0)return typeof O.length!="number"||Ce(O.length)?s(0):C(O);if(O.type==="Buffer"&&Array.isArray(O.data))return C(O.data)}function R(O){if(O>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return O|0}function B(O){return+O!=O&&(O=0),o.alloc(+O)}o.isBuffer=function(T){return T!=null&&T._isBuffer===!0&&T!==o.prototype},o.compare=function(T,N){if(ze(T,Uint8Array)&&(T=o.from(T,T.offset,T.byteLength)),ze(N,Uint8Array)&&(N=o.from(N,N.offset,N.byteLength)),!o.isBuffer(T)||!o.isBuffer(N))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(T===N)return 0;let z=T.length,W=N.length;for(let Y=0,Z=Math.min(z,W);Y<Z;++Y)if(T[Y]!==N[Y]){z=T[Y],W=N[Y];break}return z<W?-1:W<z?1:0},o.isEncoding=function(T){switch(String(T).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(T,N){if(!Array.isArray(T))throw new TypeError('"list" argument must be an Array of Buffers');if(T.length===0)return o.alloc(0);let z;if(N===void 0)for(N=0,z=0;z<T.length;++z)N+=T[z].length;const W=o.allocUnsafe(N);let Y=0;for(z=0;z<T.length;++z){let Z=T[z];if(ze(Z,Uint8Array))Y+Z.length>W.length?(o.isBuffer(Z)||(Z=o.from(Z)),Z.copy(W,Y)):Uint8Array.prototype.set.call(W,Z,Y);else if(o.isBuffer(Z))Z.copy(W,Y);else throw new TypeError('"list" argument must be an Array of Buffers');Y+=Z.length}return W};function $(O,T){if(o.isBuffer(O))return O.length;if(ArrayBuffer.isView(O)||ze(O,ArrayBuffer))return O.byteLength;if(typeof O!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof O);const N=O.length,z=arguments.length>2&&arguments[2]===!0;if(!z&&N===0)return 0;let W=!1;for(;;)switch(T){case"ascii":case"latin1":case"binary":return N;case"utf8":case"utf-8":return de(O).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N*2;case"hex":return N>>>1;case"base64":return Re(O).length;default:if(W)return z?-1:de(O).length;T=(""+T).toLowerCase(),W=!0}}o.byteLength=$;function H(O,T,N){let z=!1;if((T===void 0||T<0)&&(T=0),T>this.length||((N===void 0||N>this.length)&&(N=this.length),N<=0)||(N>>>=0,T>>>=0,N<=T))return"";for(O||(O="utf8");;)switch(O){case"hex":return y(this,T,N);case"utf8":case"utf-8":return u(this,T,N);case"ascii":return _(this,T,N);case"latin1":case"binary":return A(this,T,N);case"base64":return h(this,T,N);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b(this,T,N);default:if(z)throw new TypeError("Unknown encoding: "+O);O=(O+"").toLowerCase(),z=!0}}o.prototype._isBuffer=!0;function K(O,T,N){const z=O[T];O[T]=O[N],O[N]=z}o.prototype.swap16=function(){const T=this.length;if(T%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let N=0;N<T;N+=2)K(this,N,N+1);return this},o.prototype.swap32=function(){const T=this.length;if(T%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let N=0;N<T;N+=4)K(this,N,N+3),K(this,N+1,N+2);return this},o.prototype.swap64=function(){const T=this.length;if(T%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let N=0;N<T;N+=8)K(this,N,N+7),K(this,N+1,N+6),K(this,N+2,N+5),K(this,N+3,N+4);return this},o.prototype.toString=function(){const T=this.length;return T===0?"":arguments.length===0?u(this,0,T):H.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(T){if(!o.isBuffer(T))throw new TypeError("Argument must be a Buffer");return this===T?!0:o.compare(this,T)===0},o.prototype.inspect=function(){let T="";const N=t.INSPECT_MAX_BYTES;return T=this.toString("hex",0,N).replace(/(.{2})/g,"$1 ").trim(),this.length>N&&(T+=" ... "),"<Buffer "+T+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(T,N,z,W,Y){if(ze(T,Uint8Array)&&(T=o.from(T,T.offset,T.byteLength)),!o.isBuffer(T))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof T);if(N===void 0&&(N=0),z===void 0&&(z=T?T.length:0),W===void 0&&(W=0),Y===void 0&&(Y=this.length),N<0||z>T.length||W<0||Y>this.length)throw new RangeError("out of range index");if(W>=Y&&N>=z)return 0;if(W>=Y)return-1;if(N>=z)return 1;if(N>>>=0,z>>>=0,W>>>=0,Y>>>=0,this===T)return 0;let Z=Y-W,ge=z-N;const xe=Math.min(Z,ge),ce=this.slice(W,Y),Pe=T.slice(N,z);for(let he=0;he<xe;++he)if(ce[he]!==Pe[he]){Z=ce[he],ge=Pe[he];break}return Z<ge?-1:ge<Z?1:0};function J(O,T,N,z,W){if(O.length===0)return-1;if(typeof N=="string"?(z=N,N=0):N>2147483647?N=2147483647:N<-2147483648&&(N=-2147483648),N=+N,Ce(N)&&(N=W?0:O.length-1),N<0&&(N=O.length+N),N>=O.length){if(W)return-1;N=O.length-1}else if(N<0)if(W)N=0;else return-1;if(typeof T=="string"&&(T=o.from(T,z)),o.isBuffer(T))return T.length===0?-1:ie(O,T,N,z,W);if(typeof T=="number")return T=T&255,typeof Uint8Array.prototype.indexOf=="function"?W?Uint8Array.prototype.indexOf.call(O,T,N):Uint8Array.prototype.lastIndexOf.call(O,T,N):ie(O,[T],N,z,W);throw new TypeError("val must be string, number or Buffer")}function ie(O,T,N,z,W){let Y=1,Z=O.length,ge=T.length;if(z!==void 0&&(z=String(z).toLowerCase(),z==="ucs2"||z==="ucs-2"||z==="utf16le"||z==="utf-16le")){if(O.length<2||T.length<2)return-1;Y=2,Z/=2,ge/=2,N/=2}function xe(Pe,he){return Y===1?Pe[he]:Pe.readUInt16BE(he*Y)}let ce;if(W){let Pe=-1;for(ce=N;ce<Z;ce++)if(xe(O,ce)===xe(T,Pe===-1?0:ce-Pe)){if(Pe===-1&&(Pe=ce),ce-Pe+1===ge)return Pe*Y}else Pe!==-1&&(ce-=ce-Pe),Pe=-1}else for(N+ge>Z&&(N=Z-ge),ce=N;ce>=0;ce--){let Pe=!0;for(let he=0;he<ge;he++)if(xe(O,ce+he)!==xe(T,he)){Pe=!1;break}if(Pe)return ce}return-1}o.prototype.includes=function(T,N,z){return this.indexOf(T,N,z)!==-1},o.prototype.indexOf=function(T,N,z){return J(this,T,N,z,!0)},o.prototype.lastIndexOf=function(T,N,z){return J(this,T,N,z,!1)};function X(O,T,N,z){N=Number(N)||0;const W=O.length-N;z?(z=Number(z),z>W&&(z=W)):z=W;const Y=T.length;z>Y/2&&(z=Y/2);let Z;for(Z=0;Z<z;++Z){const ge=parseInt(T.substr(Z*2,2),16);if(Ce(ge))return Z;O[N+Z]=ge}return Z}function re(O,T,N,z){return me(de(T,O.length-N),O,N,z)}function D(O,T,N,z){return me(pe(T),O,N,z)}function m(O,T,N,z){return me(Re(T),O,N,z)}function d(O,T,N,z){return me(Ze(T,O.length-N),O,N,z)}o.prototype.write=function(T,N,z,W){if(N===void 0)W="utf8",z=this.length,N=0;else if(z===void 0&&typeof N=="string")W=N,z=this.length,N=0;else if(isFinite(N))N=N>>>0,isFinite(z)?(z=z>>>0,W===void 0&&(W="utf8")):(W=z,z=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Y=this.length-N;if((z===void 0||z>Y)&&(z=Y),T.length>0&&(z<0||N<0)||N>this.length)throw new RangeError("Attempt to write outside buffer bounds");W||(W="utf8");let Z=!1;for(;;)switch(W){case"hex":return X(this,T,N,z);case"utf8":case"utf-8":return re(this,T,N,z);case"ascii":case"latin1":case"binary":return D(this,T,N,z);case"base64":return m(this,T,N,z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d(this,T,N,z);default:if(Z)throw new TypeError("Unknown encoding: "+W);W=(""+W).toLowerCase(),Z=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function h(O,T,N){return T===0&&N===O.length?e.fromByteArray(O):e.fromByteArray(O.slice(T,N))}function u(O,T,N){N=Math.min(O.length,N);const z=[];let W=T;for(;W<N;){const Y=O[W];let Z=null,ge=Y>239?4:Y>223?3:Y>191?2:1;if(W+ge<=N){let xe,ce,Pe,he;switch(ge){case 1:Y<128&&(Z=Y);break;case 2:xe=O[W+1],(xe&192)===128&&(he=(Y&31)<<6|xe&63,he>127&&(Z=he));break;case 3:xe=O[W+1],ce=O[W+2],(xe&192)===128&&(ce&192)===128&&(he=(Y&15)<<12|(xe&63)<<6|ce&63,he>2047&&(he<55296||he>57343)&&(Z=he));break;case 4:xe=O[W+1],ce=O[W+2],Pe=O[W+3],(xe&192)===128&&(ce&192)===128&&(Pe&192)===128&&(he=(Y&15)<<18|(xe&63)<<12|(ce&63)<<6|Pe&63,he>65535&&he<1114112&&(Z=he))}}Z===null?(Z=65533,ge=1):Z>65535&&(Z-=65536,z.push(Z>>>10&1023|55296),Z=56320|Z&1023),z.push(Z),W+=ge}return g(z)}const p=4096;function g(O){const T=O.length;if(T<=p)return String.fromCharCode.apply(String,O);let N="",z=0;for(;z<T;)N+=String.fromCharCode.apply(String,O.slice(z,z+=p));return N}function _(O,T,N){let z="";N=Math.min(O.length,N);for(let W=T;W<N;++W)z+=String.fromCharCode(O[W]&127);return z}function A(O,T,N){let z="";N=Math.min(O.length,N);for(let W=T;W<N;++W)z+=String.fromCharCode(O[W]);return z}function y(O,T,N){const z=O.length;(!T||T<0)&&(T=0),(!N||N<0||N>z)&&(N=z);let W="";for(let Y=T;Y<N;++Y)W+=be[O[Y]];return W}function b(O,T,N){const z=O.slice(T,N);let W="";for(let Y=0;Y<z.length-1;Y+=2)W+=String.fromCharCode(z[Y]+z[Y+1]*256);return W}o.prototype.slice=function(T,N){const z=this.length;T=~~T,N=N===void 0?z:~~N,T<0?(T+=z,T<0&&(T=0)):T>z&&(T=z),N<0?(N+=z,N<0&&(N=0)):N>z&&(N=z),N<T&&(N=T);const W=this.subarray(T,N);return Object.setPrototypeOf(W,o.prototype),W};function w(O,T,N){if(O%1!==0||O<0)throw new RangeError("offset is not uint");if(O+T>N)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(T,N,z){T=T>>>0,N=N>>>0,z||w(T,N,this.length);let W=this[T],Y=1,Z=0;for(;++Z<N&&(Y*=256);)W+=this[T+Z]*Y;return W},o.prototype.readUintBE=o.prototype.readUIntBE=function(T,N,z){T=T>>>0,N=N>>>0,z||w(T,N,this.length);let W=this[T+--N],Y=1;for(;N>0&&(Y*=256);)W+=this[T+--N]*Y;return W},o.prototype.readUint8=o.prototype.readUInt8=function(T,N){return T=T>>>0,N||w(T,1,this.length),this[T]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(T,N){return T=T>>>0,N||w(T,2,this.length),this[T]|this[T+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(T,N){return T=T>>>0,N||w(T,2,this.length),this[T]<<8|this[T+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(T,N){return T=T>>>0,N||w(T,4,this.length),(this[T]|this[T+1]<<8|this[T+2]<<16)+this[T+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(T,N){return T=T>>>0,N||w(T,4,this.length),this[T]*16777216+(this[T+1]<<16|this[T+2]<<8|this[T+3])},o.prototype.readBigUInt64LE=qe(function(T){T=T>>>0,te(T,"offset");const N=this[T],z=this[T+7];(N===void 0||z===void 0)&&ee(T,this.length-8);const W=N+this[++T]*2**8+this[++T]*2**16+this[++T]*2**24,Y=this[++T]+this[++T]*2**8+this[++T]*2**16+z*2**24;return BigInt(W)+(BigInt(Y)<<BigInt(32))}),o.prototype.readBigUInt64BE=qe(function(T){T=T>>>0,te(T,"offset");const N=this[T],z=this[T+7];(N===void 0||z===void 0)&&ee(T,this.length-8);const W=N*2**24+this[++T]*2**16+this[++T]*2**8+this[++T],Y=this[++T]*2**24+this[++T]*2**16+this[++T]*2**8+z;return(BigInt(W)<<BigInt(32))+BigInt(Y)}),o.prototype.readIntLE=function(T,N,z){T=T>>>0,N=N>>>0,z||w(T,N,this.length);let W=this[T],Y=1,Z=0;for(;++Z<N&&(Y*=256);)W+=this[T+Z]*Y;return Y*=128,W>=Y&&(W-=Math.pow(2,8*N)),W},o.prototype.readIntBE=function(T,N,z){T=T>>>0,N=N>>>0,z||w(T,N,this.length);let W=N,Y=1,Z=this[T+--W];for(;W>0&&(Y*=256);)Z+=this[T+--W]*Y;return Y*=128,Z>=Y&&(Z-=Math.pow(2,8*N)),Z},o.prototype.readInt8=function(T,N){return T=T>>>0,N||w(T,1,this.length),this[T]&128?(255-this[T]+1)*-1:this[T]},o.prototype.readInt16LE=function(T,N){T=T>>>0,N||w(T,2,this.length);const z=this[T]|this[T+1]<<8;return z&32768?z|4294901760:z},o.prototype.readInt16BE=function(T,N){T=T>>>0,N||w(T,2,this.length);const z=this[T+1]|this[T]<<8;return z&32768?z|4294901760:z},o.prototype.readInt32LE=function(T,N){return T=T>>>0,N||w(T,4,this.length),this[T]|this[T+1]<<8|this[T+2]<<16|this[T+3]<<24},o.prototype.readInt32BE=function(T,N){return T=T>>>0,N||w(T,4,this.length),this[T]<<24|this[T+1]<<16|this[T+2]<<8|this[T+3]},o.prototype.readBigInt64LE=qe(function(T){T=T>>>0,te(T,"offset");const N=this[T],z=this[T+7];(N===void 0||z===void 0)&&ee(T,this.length-8);const W=this[T+4]+this[T+5]*2**8+this[T+6]*2**16+(z<<24);return(BigInt(W)<<BigInt(32))+BigInt(N+this[++T]*2**8+this[++T]*2**16+this[++T]*2**24)}),o.prototype.readBigInt64BE=qe(function(T){T=T>>>0,te(T,"offset");const N=this[T],z=this[T+7];(N===void 0||z===void 0)&&ee(T,this.length-8);const W=(N<<24)+this[++T]*2**16+this[++T]*2**8+this[++T];return(BigInt(W)<<BigInt(32))+BigInt(this[++T]*2**24+this[++T]*2**16+this[++T]*2**8+z)}),o.prototype.readFloatLE=function(T,N){return T=T>>>0,N||w(T,4,this.length),r.read(this,T,!0,23,4)},o.prototype.readFloatBE=function(T,N){return T=T>>>0,N||w(T,4,this.length),r.read(this,T,!1,23,4)},o.prototype.readDoubleLE=function(T,N){return T=T>>>0,N||w(T,8,this.length),r.read(this,T,!0,52,8)},o.prototype.readDoubleBE=function(T,N){return T=T>>>0,N||w(T,8,this.length),r.read(this,T,!1,52,8)};function v(O,T,N,z,W,Y){if(!o.isBuffer(O))throw new TypeError('"buffer" argument must be a Buffer instance');if(T>W||T<Y)throw new RangeError('"value" argument is out of bounds');if(N+z>O.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(T,N,z,W){if(T=+T,N=N>>>0,z=z>>>0,!W){const ge=Math.pow(2,8*z)-1;v(this,T,N,z,ge,0)}let Y=1,Z=0;for(this[N]=T&255;++Z<z&&(Y*=256);)this[N+Z]=T/Y&255;return N+z},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(T,N,z,W){if(T=+T,N=N>>>0,z=z>>>0,!W){const ge=Math.pow(2,8*z)-1;v(this,T,N,z,ge,0)}let Y=z-1,Z=1;for(this[N+Y]=T&255;--Y>=0&&(Z*=256);)this[N+Y]=T/Z&255;return N+z},o.prototype.writeUint8=o.prototype.writeUInt8=function(T,N,z){return T=+T,N=N>>>0,z||v(this,T,N,1,255,0),this[N]=T&255,N+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(T,N,z){return T=+T,N=N>>>0,z||v(this,T,N,2,65535,0),this[N]=T&255,this[N+1]=T>>>8,N+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(T,N,z){return T=+T,N=N>>>0,z||v(this,T,N,2,65535,0),this[N]=T>>>8,this[N+1]=T&255,N+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(T,N,z){return T=+T,N=N>>>0,z||v(this,T,N,4,4294967295,0),this[N+3]=T>>>24,this[N+2]=T>>>16,this[N+1]=T>>>8,this[N]=T&255,N+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(T,N,z){return T=+T,N=N>>>0,z||v(this,T,N,4,4294967295,0),this[N]=T>>>24,this[N+1]=T>>>16,this[N+2]=T>>>8,this[N+3]=T&255,N+4};function P(O,T,N,z,W){F(T,z,W,O,N,7);let Y=Number(T&BigInt(4294967295));O[N++]=Y,Y=Y>>8,O[N++]=Y,Y=Y>>8,O[N++]=Y,Y=Y>>8,O[N++]=Y;let Z=Number(T>>BigInt(32)&BigInt(4294967295));return O[N++]=Z,Z=Z>>8,O[N++]=Z,Z=Z>>8,O[N++]=Z,Z=Z>>8,O[N++]=Z,N}function j(O,T,N,z,W){F(T,z,W,O,N,7);let Y=Number(T&BigInt(4294967295));O[N+7]=Y,Y=Y>>8,O[N+6]=Y,Y=Y>>8,O[N+5]=Y,Y=Y>>8,O[N+4]=Y;let Z=Number(T>>BigInt(32)&BigInt(4294967295));return O[N+3]=Z,Z=Z>>8,O[N+2]=Z,Z=Z>>8,O[N+1]=Z,Z=Z>>8,O[N]=Z,N+8}o.prototype.writeBigUInt64LE=qe(function(T,N=0){return P(this,T,N,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=qe(function(T,N=0){return j(this,T,N,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(T,N,z,W){if(T=+T,N=N>>>0,!W){const xe=Math.pow(2,8*z-1);v(this,T,N,z,xe-1,-xe)}let Y=0,Z=1,ge=0;for(this[N]=T&255;++Y<z&&(Z*=256);)T<0&&ge===0&&this[N+Y-1]!==0&&(ge=1),this[N+Y]=(T/Z>>0)-ge&255;return N+z},o.prototype.writeIntBE=function(T,N,z,W){if(T=+T,N=N>>>0,!W){const xe=Math.pow(2,8*z-1);v(this,T,N,z,xe-1,-xe)}let Y=z-1,Z=1,ge=0;for(this[N+Y]=T&255;--Y>=0&&(Z*=256);)T<0&&ge===0&&this[N+Y+1]!==0&&(ge=1),this[N+Y]=(T/Z>>0)-ge&255;return N+z},o.prototype.writeInt8=function(T,N,z){return T=+T,N=N>>>0,z||v(this,T,N,1,127,-128),T<0&&(T=255+T+1),this[N]=T&255,N+1},o.prototype.writeInt16LE=function(T,N,z){return T=+T,N=N>>>0,z||v(this,T,N,2,32767,-32768),this[N]=T&255,this[N+1]=T>>>8,N+2},o.prototype.writeInt16BE=function(T,N,z){return T=+T,N=N>>>0,z||v(this,T,N,2,32767,-32768),this[N]=T>>>8,this[N+1]=T&255,N+2},o.prototype.writeInt32LE=function(T,N,z){return T=+T,N=N>>>0,z||v(this,T,N,4,2147483647,-2147483648),this[N]=T&255,this[N+1]=T>>>8,this[N+2]=T>>>16,this[N+3]=T>>>24,N+4},o.prototype.writeInt32BE=function(T,N,z){return T=+T,N=N>>>0,z||v(this,T,N,4,2147483647,-2147483648),T<0&&(T=4294967295+T+1),this[N]=T>>>24,this[N+1]=T>>>16,this[N+2]=T>>>8,this[N+3]=T&255,N+4},o.prototype.writeBigInt64LE=qe(function(T,N=0){return P(this,T,N,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=qe(function(T,N=0){return j(this,T,N,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function I(O,T,N,z,W,Y){if(N+z>O.length)throw new RangeError("Index out of range");if(N<0)throw new RangeError("Index out of range")}function L(O,T,N,z,W){return T=+T,N=N>>>0,W||I(O,T,N,4),r.write(O,T,N,z,23,4),N+4}o.prototype.writeFloatLE=function(T,N,z){return L(this,T,N,!0,z)},o.prototype.writeFloatBE=function(T,N,z){return L(this,T,N,!1,z)};function q(O,T,N,z,W){return T=+T,N=N>>>0,W||I(O,T,N,8),r.write(O,T,N,z,52,8),N+8}o.prototype.writeDoubleLE=function(T,N,z){return q(this,T,N,!0,z)},o.prototype.writeDoubleBE=function(T,N,z){return q(this,T,N,!1,z)},o.prototype.copy=function(T,N,z,W){if(!o.isBuffer(T))throw new TypeError("argument should be a Buffer");if(z||(z=0),!W&&W!==0&&(W=this.length),N>=T.length&&(N=T.length),N||(N=0),W>0&&W<z&&(W=z),W===z||T.length===0||this.length===0)return 0;if(N<0)throw new RangeError("targetStart out of bounds");if(z<0||z>=this.length)throw new RangeError("Index out of range");if(W<0)throw new RangeError("sourceEnd out of bounds");W>this.length&&(W=this.length),T.length-N<W-z&&(W=T.length-N+z);const Y=W-z;return this===T&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(N,z,W):Uint8Array.prototype.set.call(T,this.subarray(z,W),N),Y},o.prototype.fill=function(T,N,z,W){if(typeof T=="string"){if(typeof N=="string"?(W=N,N=0,z=this.length):typeof z=="string"&&(W=z,z=this.length),W!==void 0&&typeof W!="string")throw new TypeError("encoding must be a string");if(typeof W=="string"&&!o.isEncoding(W))throw new TypeError("Unknown encoding: "+W);if(T.length===1){const Z=T.charCodeAt(0);(W==="utf8"&&Z<128||W==="latin1")&&(T=Z)}}else typeof T=="number"?T=T&255:typeof T=="boolean"&&(T=Number(T));if(N<0||this.length<N||this.length<z)throw new RangeError("Out of range index");if(z<=N)return this;N=N>>>0,z=z===void 0?this.length:z>>>0,T||(T=0);let Y;if(typeof T=="number")for(Y=N;Y<z;++Y)this[Y]=T;else{const Z=o.isBuffer(T)?T:o.from(T,W),ge=Z.length;if(ge===0)throw new TypeError('The value "'+T+'" is invalid for argument "value"');for(Y=0;Y<z-N;++Y)this[Y+N]=Z[Y%ge]}return this};const G={};function V(O,T,N){G[O]=class extends N{constructor(){super(),Object.defineProperty(this,"message",{value:T.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${O}]`,this.stack,delete this.name}get code(){return O}set code(W){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:W,writable:!0})}toString(){return`${this.name} [${O}]: ${this.message}`}}}V("ERR_BUFFER_OUT_OF_BOUNDS",function(O){return O?`${O} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),V("ERR_INVALID_ARG_TYPE",function(O,T){return`The "${O}" argument must be of type number. Received type ${typeof T}`},TypeError),V("ERR_OUT_OF_RANGE",function(O,T,N){let z=`The value of "${O}" is out of range.`,W=N;return Number.isInteger(N)&&Math.abs(N)>2**32?W=ne(String(N)):typeof N=="bigint"&&(W=String(N),(N>BigInt(2)**BigInt(32)||N<-(BigInt(2)**BigInt(32)))&&(W=ne(W)),W+="n"),z+=` It must be ${T}. Received ${W}`,z},RangeError);function ne(O){let T="",N=O.length;const z=O[0]==="-"?1:0;for(;N>=z+4;N-=3)T=`_${O.slice(N-3,N)}${T}`;return`${O.slice(0,N)}${T}`}function U(O,T,N){te(T,"offset"),(O[T]===void 0||O[T+N]===void 0)&&ee(T,O.length-(N+1))}function F(O,T,N,z,W,Y){if(O>N||O<T){const Z=typeof T=="bigint"?"n":"";let ge;throw Y>3?T===0||T===BigInt(0)?ge=`>= 0${Z} and < 2${Z} ** ${(Y+1)*8}${Z}`:ge=`>= -(2${Z} ** ${(Y+1)*8-1}${Z}) and < 2 ** ${(Y+1)*8-1}${Z}`:ge=`>= ${T}${Z} and <= ${N}${Z}`,new G.ERR_OUT_OF_RANGE("value",ge,O)}U(z,W,Y)}function te(O,T){if(typeof O!="number")throw new G.ERR_INVALID_ARG_TYPE(T,"number",O)}function ee(O,T,N){throw Math.floor(O)!==O?(te(O,N),new G.ERR_OUT_OF_RANGE(N||"offset","an integer",O)):T<0?new G.ERR_BUFFER_OUT_OF_BOUNDS:new G.ERR_OUT_OF_RANGE(N||"offset",`>= ${N?1:0} and <= ${T}`,O)}const oe=/[^+/0-9A-Za-z-_]/g;function ye(O){if(O=O.split("=")[0],O=O.trim().replace(oe,""),O.length<2)return"";for(;O.length%4!==0;)O=O+"=";return O}function de(O,T){T=T||1/0;let N;const z=O.length;let W=null;const Y=[];for(let Z=0;Z<z;++Z){if(N=O.charCodeAt(Z),N>55295&&N<57344){if(!W){if(N>56319){(T-=3)>-1&&Y.push(239,191,189);continue}else if(Z+1===z){(T-=3)>-1&&Y.push(239,191,189);continue}W=N;continue}if(N<56320){(T-=3)>-1&&Y.push(239,191,189),W=N;continue}N=(W-55296<<10|N-56320)+65536}else W&&(T-=3)>-1&&Y.push(239,191,189);if(W=null,N<128){if((T-=1)<0)break;Y.push(N)}else if(N<2048){if((T-=2)<0)break;Y.push(N>>6|192,N&63|128)}else if(N<65536){if((T-=3)<0)break;Y.push(N>>12|224,N>>6&63|128,N&63|128)}else if(N<1114112){if((T-=4)<0)break;Y.push(N>>18|240,N>>12&63|128,N>>6&63|128,N&63|128)}else throw new Error("Invalid code point")}return Y}function pe(O){const T=[];for(let N=0;N<O.length;++N)T.push(O.charCodeAt(N)&255);return T}function Ze(O,T){let N,z,W;const Y=[];for(let Z=0;Z<O.length&&!((T-=2)<0);++Z)N=O.charCodeAt(Z),z=N>>8,W=N%256,Y.push(W),Y.push(z);return Y}function Re(O){return e.toByteArray(ye(O))}function me(O,T,N,z){let W;for(W=0;W<z&&!(W+N>=T.length||W>=O.length);++W)T[W+N]=O[W];return W}function ze(O,T){return O instanceof T||O!=null&&O.constructor!=null&&O.constructor.name!=null&&O.constructor.name===T.name}function Ce(O){return O!==O}const be=function(){const O="0123456789abcdef",T=new Array(256);for(let N=0;N<16;++N){const z=N*16;for(let W=0;W<16;++W)T[z+W]=O[N]+O[W]}return T}();function qe(O){return typeof BigInt>"u"?Ne:O}function Ne(){throw new Error("BigInt not supported")}})(ns);var Jr={},aa={},nM=Ye&&Ye.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(aa,"__esModule",{value:!0});aa.getLength=aa.decode=aa.encode=void 0;var iM=nM(Qa);function dg(t){if(Array.isArray(t)){for(var e=[],r=0;r<t.length;r++)e.push(dg(t[r]));var n=Buffer.concat(e);return Buffer.concat([dy(n.length,192),n])}else{var i=rp(t);return i.length===1&&i[0]<128?i:Buffer.concat([dy(i.length,128),i])}}aa.encode=dg;function o0(t,e){if(t[0]==="0"&&t[1]==="0")throw new Error("invalid RLP: extra zeros");return parseInt(t,e)}function dy(t,e){if(t<56)return Buffer.from([t+e]);var r=u0(t),n=r.length/2,i=u0(e+55+n);return Buffer.from(i+r,"hex")}function aM(t,e){if(e===void 0&&(e=!1),!t||t.length===0)return Buffer.from([]);var r=rp(t),n=c0(r);if(e)return n;if(n.remainder.length!==0)throw new Error("invalid remainder");return n.data}aa.decode=aM;function sM(t){if(!t||t.length===0)return Buffer.from([]);var e=rp(t),r=e[0];if(r<=127)return e.length;if(r<=183)return r-127;if(r<=191)return r-182;if(r<=247)return r-191;var n=r-246,i=o0(e.slice(1,n).toString("hex"),16);return n+i}aa.getLength=sM;function c0(t){var e,r,n,i,a,s=[],o=t[0];if(o<=127)return{data:t.slice(0,1),remainder:t.slice(1)};if(o<=183){if(e=o-127,o===128?n=Buffer.from([]):n=t.slice(1,e),e===2&&n[0]<128)throw new Error("invalid rlp encoding: byte must be less 0x80");return{data:n,remainder:t.slice(e)}}else if(o<=191){if(r=o-182,t.length-1<r)throw new Error("invalid RLP: not enough bytes for string length");if(e=o0(t.slice(1,r).toString("hex"),16),e<=55)throw new Error("invalid RLP: expected string length to be greater than 55");if(n=t.slice(r,e+r),n.length<e)throw new Error("invalid RLP: not enough bytes for string");return{data:n,remainder:t.slice(e+r)}}else if(o<=247){for(e=o-191,i=t.slice(1,e);i.length;)a=c0(i),s.push(a.data),i=a.remainder;return{data:s,remainder:t.slice(e)}}else{r=o-246,e=o0(t.slice(1,r).toString("hex"),16);var c=r+e;if(c>t.length)throw new Error("invalid rlp: total length is larger than the data");if(i=t.slice(r,c),i.length===0)throw new Error("invalid rlp, List has a invalid length");for(;i.length;)a=c0(i),s.push(a.data),i=a.remainder;return{data:s,remainder:t.slice(c)}}}function lg(t){return t.slice(0,2)==="0x"}function oM(t){return typeof t!="string"?t:lg(t)?t.slice(2):t}function u0(t){if(t<0)throw new Error("Invalid integer as argument, must be unsigned!");var e=t.toString(16);return e.length%2?"0"+e:e}function cM(t){return t.length%2?"0"+t:t}function uM(t){var e=u0(t);return Buffer.from(e,"hex")}function rp(t){if(!Buffer.isBuffer(t)){if(typeof t=="string")return lg(t)?Buffer.from(cM(oM(t)),"hex"):Buffer.from(t);if(typeof t=="number"||typeof t=="bigint")return t?uM(t):Buffer.from([]);if(t==null)return Buffer.from([]);if(t instanceof Uint8Array)return Buffer.from(t);if(iM.default.isBN(t))return Buffer.from(t.toArray());throw new Error("invalid type")}return t}var fM=Ye&&Ye.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),dM=Ye&&Ye.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),lM=Ye&&Ye.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&fM(e,t,r);return dM(e,t),e},hM=Ye&&Ye.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Jr,"__esModule",{value:!0});Jr.rlp=Jr.BN=void 0;var pM=hM(Qa);Jr.BN=pM.default;var mM=lM(aa);Jr.rlp=mM;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.KECCAK256_RLP=t.KECCAK256_RLP_S=t.KECCAK256_RLP_ARRAY=t.KECCAK256_RLP_ARRAY_S=t.KECCAK256_NULL=t.KECCAK256_NULL_S=t.TWO_POW256=t.MAX_INTEGER=t.MAX_UINT64=void 0;var e=ns,r=Jr;t.MAX_UINT64=new r.BN("ffffffffffffffff",16),t.MAX_INTEGER=new r.BN("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),t.TWO_POW256=new r.BN("10000000000000000000000000000000000000000000000000000000000000000",16),t.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",t.KECCAK256_NULL=e.Buffer.from(t.KECCAK256_NULL_S,"hex"),t.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",t.KECCAK256_RLP_ARRAY=e.Buffer.from(t.KECCAK256_RLP_ARRAY_S,"hex"),t.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",t.KECCAK256_RLP=e.Buffer.from(t.KECCAK256_RLP_S,"hex")})(ep);var np={},ip={};const vt={IMPOSSIBLE_CASE:"Impossible case. Please create issue.",TWEAK_ADD:"The tweak was out of range or the resulted private key is invalid",TWEAK_MUL:"The tweak was out of range or equal to zero",CONTEXT_RANDOMIZE_UNKNOW:"Unknow error on context randomization",SECKEY_INVALID:"Private Key is invalid",PUBKEY_PARSE:"Public Key could not be parsed",PUBKEY_SERIALIZE:"Public Key serialization error",PUBKEY_COMBINE:"The sum of the public keys is not valid",SIG_PARSE:"Signature could not be parsed",SIGN:"The nonce generation function failed, or the private key was invalid",RECOVER:"Public key could not be recover",ECDH:"Scalar was invalid (zero or overflow)"};function An(t,e){if(!t)throw new Error(e)}function xt(t,e,r){if(An(e instanceof Uint8Array,`Expected ${t} to be an Uint8Array`),r!==void 0)if(Array.isArray(r)){const n=r.join(", "),i=`Expected ${t} to be an Uint8Array with length [${n}]`;An(r.includes(e.length),i)}else{const n=`Expected ${t} to be an Uint8Array with length ${r}`;An(e.length===r,n)}}function Ea(t){An(bs(t)==="Boolean","Expected compressed to be a Boolean")}function Hn(t=r=>new Uint8Array(r),e){return typeof t=="function"&&(t=t(e)),xt("output",t,e),t}function bs(t){return Object.prototype.toString.call(t).slice(8,-1)}var yM=t=>({contextRandomize(e){switch(An(e===null||e instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),e!==null&&xt("seed",e,32),t.contextRandomize(e)){case 1:throw new Error(vt.CONTEXT_RANDOMIZE_UNKNOW)}},privateKeyVerify(e){return xt("private key",e,32),t.privateKeyVerify(e)===0},privateKeyNegate(e){switch(xt("private key",e,32),t.privateKeyNegate(e)){case 0:return e;case 1:throw new Error(vt.IMPOSSIBLE_CASE)}},privateKeyTweakAdd(e,r){switch(xt("private key",e,32),xt("tweak",r,32),t.privateKeyTweakAdd(e,r)){case 0:return e;case 1:throw new Error(vt.TWEAK_ADD)}},privateKeyTweakMul(e,r){switch(xt("private key",e,32),xt("tweak",r,32),t.privateKeyTweakMul(e,r)){case 0:return e;case 1:throw new Error(vt.TWEAK_MUL)}},publicKeyVerify(e){return xt("public key",e,[33,65]),t.publicKeyVerify(e)===0},publicKeyCreate(e,r=!0,n){switch(xt("private key",e,32),Ea(r),n=Hn(n,r?33:65),t.publicKeyCreate(n,e)){case 0:return n;case 1:throw new Error(vt.SECKEY_INVALID);case 2:throw new Error(vt.PUBKEY_SERIALIZE)}},publicKeyConvert(e,r=!0,n){switch(xt("public key",e,[33,65]),Ea(r),n=Hn(n,r?33:65),t.publicKeyConvert(n,e)){case 0:return n;case 1:throw new Error(vt.PUBKEY_PARSE);case 2:throw new Error(vt.PUBKEY_SERIALIZE)}},publicKeyNegate(e,r=!0,n){switch(xt("public key",e,[33,65]),Ea(r),n=Hn(n,r?33:65),t.publicKeyNegate(n,e)){case 0:return n;case 1:throw new Error(vt.PUBKEY_PARSE);case 2:throw new Error(vt.IMPOSSIBLE_CASE);case 3:throw new Error(vt.PUBKEY_SERIALIZE)}},publicKeyCombine(e,r=!0,n){An(Array.isArray(e),"Expected public keys to be an Array"),An(e.length>0,"Expected public keys array will have more than zero items");for(const i of e)xt("public key",i,[33,65]);switch(Ea(r),n=Hn(n,r?33:65),t.publicKeyCombine(n,e)){case 0:return n;case 1:throw new Error(vt.PUBKEY_PARSE);case 2:throw new Error(vt.PUBKEY_COMBINE);case 3:throw new Error(vt.PUBKEY_SERIALIZE)}},publicKeyTweakAdd(e,r,n=!0,i){switch(xt("public key",e,[33,65]),xt("tweak",r,32),Ea(n),i=Hn(i,n?33:65),t.publicKeyTweakAdd(i,e,r)){case 0:return i;case 1:throw new Error(vt.PUBKEY_PARSE);case 2:throw new Error(vt.TWEAK_ADD)}},publicKeyTweakMul(e,r,n=!0,i){switch(xt("public key",e,[33,65]),xt("tweak",r,32),Ea(n),i=Hn(i,n?33:65),t.publicKeyTweakMul(i,e,r)){case 0:return i;case 1:throw new Error(vt.PUBKEY_PARSE);case 2:throw new Error(vt.TWEAK_MUL)}},signatureNormalize(e){switch(xt("signature",e,64),t.signatureNormalize(e)){case 0:return e;case 1:throw new Error(vt.SIG_PARSE)}},signatureExport(e,r){xt("signature",e,64),r=Hn(r,72);const n={output:r,outputlen:72};switch(t.signatureExport(n,e)){case 0:return r.slice(0,n.outputlen);case 1:throw new Error(vt.SIG_PARSE);case 2:throw new Error(vt.IMPOSSIBLE_CASE)}},signatureImport(e,r){switch(xt("signature",e),r=Hn(r,64),t.signatureImport(r,e)){case 0:return r;case 1:throw new Error(vt.SIG_PARSE);case 2:throw new Error(vt.IMPOSSIBLE_CASE)}},ecdsaSign(e,r,n={},i){xt("message",e,32),xt("private key",r,32),An(bs(n)==="Object","Expected options to be an Object"),n.data!==void 0&&xt("options.data",n.data),n.noncefn!==void 0&&An(bs(n.noncefn)==="Function","Expected options.noncefn to be a Function"),i=Hn(i,64);const a={signature:i,recid:null};switch(t.ecdsaSign(a,e,r,n.data,n.noncefn)){case 0:return a;case 1:throw new Error(vt.SIGN);case 2:throw new Error(vt.IMPOSSIBLE_CASE)}},ecdsaVerify(e,r,n){switch(xt("signature",e,64),xt("message",r,32),xt("public key",n,[33,65]),t.ecdsaVerify(e,r,n)){case 0:return!0;case 3:return!1;case 1:throw new Error(vt.SIG_PARSE);case 2:throw new Error(vt.PUBKEY_PARSE)}},ecdsaRecover(e,r,n,i=!0,a){switch(xt("signature",e,64),An(bs(r)==="Number"&&r>=0&&r<=3,"Expected recovery id to be a Number within interval [0, 3]"),xt("message",n,32),Ea(i),a=Hn(a,i?33:65),t.ecdsaRecover(a,e,r,n)){case 0:return a;case 1:throw new Error(vt.SIG_PARSE);case 2:throw new Error(vt.RECOVER);case 3:throw new Error(vt.IMPOSSIBLE_CASE)}},ecdh(e,r,n={},i){switch(xt("public key",e,[33,65]),xt("private key",r,32),An(bs(n)==="Object","Expected options to be an Object"),n.data!==void 0&&xt("options.data",n.data),n.hashfn!==void 0?(An(bs(n.hashfn)==="Function","Expected options.hashfn to be a Function"),n.xbuf!==void 0&&xt("options.xbuf",n.xbuf,32),n.ybuf!==void 0&&xt("options.ybuf",n.ybuf,32),xt("output",i)):i=Hn(i,32),t.ecdh(i,e,r,n.data,n.hashfn,n.xbuf,n.ybuf)){case 0:return i;case 1:throw new Error(vt.PUBKEY_PARSE);case 2:throw new Error(vt.ECDH)}}}),hg={};const bM="elliptic",xM="6.5.4",gM="EC cryptography",vM="lib/elliptic.js",wM=["lib"],AM={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},EM={type:"git",url:"git@github.com:indutny/elliptic"},_M=["EC","Elliptic","curve","Cryptography"],TM="Fedor Indutny <fedor@indutny.com>",MM="MIT",kM={url:"https://github.com/indutny/elliptic/issues"},IM="https://github.com/indutny/elliptic",SM={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},CM={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},NM={name:bM,version:xM,description:gM,main:vM,files:wM,scripts:AM,repository:EM,keywords:_M,author:TM,license:MM,bugs:kM,homepage:IM,devDependencies:SM,dependencies:CM};var hn={},ap={exports:{}};ap.exports;(function(t){(function(e,r){function n(m,d){if(!m)throw new Error(d||"Assertion failed")}function i(m,d){m.super_=d;var h=function(){};h.prototype=d.prototype,m.prototype=new h,m.prototype.constructor=m}function a(m,d,h){if(a.isBN(m))return m;this.negative=0,this.words=null,this.length=0,this.red=null,m!==null&&((d==="le"||d==="be")&&(h=d,d=10),this._init(m||0,d||10,h||"be"))}typeof e=="object"?e.exports=a:r.BN=a,a.BN=a,a.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=dn.Buffer}catch{}a.isBN=function(d){return d instanceof a?!0:d!==null&&typeof d=="object"&&d.constructor.wordSize===a.wordSize&&Array.isArray(d.words)},a.max=function(d,h){return d.cmp(h)>0?d:h},a.min=function(d,h){return d.cmp(h)<0?d:h},a.prototype._init=function(d,h,u){if(typeof d=="number")return this._initNumber(d,h,u);if(typeof d=="object")return this._initArray(d,h,u);h==="hex"&&(h=16),n(h===(h|0)&&h>=2&&h<=36),d=d.toString().replace(/\s+/g,"");var p=0;d[0]==="-"&&(p++,this.negative=1),p<d.length&&(h===16?this._parseHex(d,p,u):(this._parseBase(d,h,p),u==="le"&&this._initArray(this.toArray(),h,u)))},a.prototype._initNumber=function(d,h,u){d<0&&(this.negative=1,d=-d),d<67108864?(this.words=[d&67108863],this.length=1):d<4503599627370496?(this.words=[d&67108863,d/67108864&67108863],this.length=2):(n(d<9007199254740992),this.words=[d&67108863,d/67108864&67108863,1],this.length=3),u==="le"&&this._initArray(this.toArray(),h,u)},a.prototype._initArray=function(d,h,u){if(n(typeof d.length=="number"),d.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(d.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var g,_,A=0;if(u==="be")for(p=d.length-1,g=0;p>=0;p-=3)_=d[p]|d[p-1]<<8|d[p-2]<<16,this.words[g]|=_<<A&67108863,this.words[g+1]=_>>>26-A&67108863,A+=24,A>=26&&(A-=26,g++);else if(u==="le")for(p=0,g=0;p<d.length;p+=3)_=d[p]|d[p+1]<<8|d[p+2]<<16,this.words[g]|=_<<A&67108863,this.words[g+1]=_>>>26-A&67108863,A+=24,A>=26&&(A-=26,g++);return this.strip()};function o(m,d){var h=m.charCodeAt(d);return h>=65&&h<=70?h-55:h>=97&&h<=102?h-87:h-48&15}function c(m,d,h){var u=o(m,h);return h-1>=d&&(u|=o(m,h-1)<<4),u}a.prototype._parseHex=function(d,h,u){this.length=Math.ceil((d.length-h)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var g=0,_=0,A;if(u==="be")for(p=d.length-1;p>=h;p-=2)A=c(d,h,p)<<g,this.words[_]|=A&67108863,g>=18?(g-=18,_+=1,this.words[_]|=A>>>26):g+=8;else{var y=d.length-h;for(p=y%2===0?h+1:h;p<d.length;p+=2)A=c(d,h,p)<<g,this.words[_]|=A&67108863,g>=18?(g-=18,_+=1,this.words[_]|=A>>>26):g+=8}this.strip()};function f(m,d,h,u){for(var p=0,g=Math.min(m.length,h),_=d;_<g;_++){var A=m.charCodeAt(_)-48;p*=u,A>=49?p+=A-49+10:A>=17?p+=A-17+10:p+=A}return p}a.prototype._parseBase=function(d,h,u){this.words=[0],this.length=1;for(var p=0,g=1;g<=67108863;g*=h)p++;p--,g=g/h|0;for(var _=d.length-u,A=_%p,y=Math.min(_,_-A)+u,b=0,w=u;w<y;w+=p)b=f(d,w,w+p,h),this.imuln(g),this.words[0]+b<67108864?this.words[0]+=b:this._iaddn(b);if(A!==0){var v=1;for(b=f(d,w,d.length,h),w=0;w<A;w++)v*=h;this.imuln(v),this.words[0]+b<67108864?this.words[0]+=b:this._iaddn(b)}this.strip()},a.prototype.copy=function(d){d.words=new Array(this.length);for(var h=0;h<this.length;h++)d.words[h]=this.words[h];d.length=this.length,d.negative=this.negative,d.red=this.red},a.prototype.clone=function(){var d=new a(null);return this.copy(d),d},a.prototype._expand=function(d){for(;this.length<d;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],x=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],E=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(d,h){d=d||10,h=h|0||1;var u;if(d===16||d==="hex"){u="";for(var p=0,g=0,_=0;_<this.length;_++){var A=this.words[_],y=((A<<p|g)&16777215).toString(16);g=A>>>24-p&16777215,g!==0||_!==this.length-1?u=l[6-y.length]+y+u:u=y+u,p+=2,p>=26&&(p-=26,_--)}for(g!==0&&(u=g.toString(16)+u);u.length%h!==0;)u="0"+u;return this.negative!==0&&(u="-"+u),u}if(d===(d|0)&&d>=2&&d<=36){var b=x[d],w=E[d];u="";var v=this.clone();for(v.negative=0;!v.isZero();){var P=v.modn(w).toString(d);v=v.idivn(w),v.isZero()?u=P+u:u=l[b-P.length]+P+u}for(this.isZero()&&(u="0"+u);u.length%h!==0;)u="0"+u;return this.negative!==0&&(u="-"+u),u}n(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var d=this.words[0];return this.length===2?d+=this.words[1]*67108864:this.length===3&&this.words[2]===1?d+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-d:d},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(d,h){return n(typeof s<"u"),this.toArrayLike(s,d,h)},a.prototype.toArray=function(d,h){return this.toArrayLike(Array,d,h)},a.prototype.toArrayLike=function(d,h,u){var p=this.byteLength(),g=u||Math.max(1,p);n(p<=g,"byte array longer than desired length"),n(g>0,"Requested array length <= 0"),this.strip();var _=h==="le",A=new d(g),y,b,w=this.clone();if(_){for(b=0;!w.isZero();b++)y=w.andln(255),w.iushrn(8),A[b]=y;for(;b<g;b++)A[b]=0}else{for(b=0;b<g-p;b++)A[b]=0;for(b=0;!w.isZero();b++)y=w.andln(255),w.iushrn(8),A[g-b-1]=y}return A},Math.clz32?a.prototype._countBits=function(d){return 32-Math.clz32(d)}:a.prototype._countBits=function(d){var h=d,u=0;return h>=4096&&(u+=13,h>>>=13),h>=64&&(u+=7,h>>>=7),h>=8&&(u+=4,h>>>=4),h>=2&&(u+=2,h>>>=2),u+h},a.prototype._zeroBits=function(d){if(d===0)return 26;var h=d,u=0;return h&8191||(u+=13,h>>>=13),h&127||(u+=7,h>>>=7),h&15||(u+=4,h>>>=4),h&3||(u+=2,h>>>=2),h&1||u++,u},a.prototype.bitLength=function(){var d=this.words[this.length-1],h=this._countBits(d);return(this.length-1)*26+h};function C(m){for(var d=new Array(m.bitLength()),h=0;h<d.length;h++){var u=h/26|0,p=h%26;d[h]=(m.words[u]&1<<p)>>>p}return d}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var d=0,h=0;h<this.length;h++){var u=this._zeroBits(this.words[h]);if(d+=u,u!==26)break}return d},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(d){return this.negative!==0?this.abs().inotn(d).iaddn(1):this.clone()},a.prototype.fromTwos=function(d){return this.testn(d-1)?this.notn(d).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(d){for(;this.length<d.length;)this.words[this.length++]=0;for(var h=0;h<d.length;h++)this.words[h]=this.words[h]|d.words[h];return this.strip()},a.prototype.ior=function(d){return n((this.negative|d.negative)===0),this.iuor(d)},a.prototype.or=function(d){return this.length>d.length?this.clone().ior(d):d.clone().ior(this)},a.prototype.uor=function(d){return this.length>d.length?this.clone().iuor(d):d.clone().iuor(this)},a.prototype.iuand=function(d){var h;this.length>d.length?h=d:h=this;for(var u=0;u<h.length;u++)this.words[u]=this.words[u]&d.words[u];return this.length=h.length,this.strip()},a.prototype.iand=function(d){return n((this.negative|d.negative)===0),this.iuand(d)},a.prototype.and=function(d){return this.length>d.length?this.clone().iand(d):d.clone().iand(this)},a.prototype.uand=function(d){return this.length>d.length?this.clone().iuand(d):d.clone().iuand(this)},a.prototype.iuxor=function(d){var h,u;this.length>d.length?(h=this,u=d):(h=d,u=this);for(var p=0;p<u.length;p++)this.words[p]=h.words[p]^u.words[p];if(this!==h)for(;p<h.length;p++)this.words[p]=h.words[p];return this.length=h.length,this.strip()},a.prototype.ixor=function(d){return n((this.negative|d.negative)===0),this.iuxor(d)},a.prototype.xor=function(d){return this.length>d.length?this.clone().ixor(d):d.clone().ixor(this)},a.prototype.uxor=function(d){return this.length>d.length?this.clone().iuxor(d):d.clone().iuxor(this)},a.prototype.inotn=function(d){n(typeof d=="number"&&d>=0);var h=Math.ceil(d/26)|0,u=d%26;this._expand(h),u>0&&h--;for(var p=0;p<h;p++)this.words[p]=~this.words[p]&67108863;return u>0&&(this.words[p]=~this.words[p]&67108863>>26-u),this.strip()},a.prototype.notn=function(d){return this.clone().inotn(d)},a.prototype.setn=function(d,h){n(typeof d=="number"&&d>=0);var u=d/26|0,p=d%26;return this._expand(u+1),h?this.words[u]=this.words[u]|1<<p:this.words[u]=this.words[u]&~(1<<p),this.strip()},a.prototype.iadd=function(d){var h;if(this.negative!==0&&d.negative===0)return this.negative=0,h=this.isub(d),this.negative^=1,this._normSign();if(this.negative===0&&d.negative!==0)return d.negative=0,h=this.isub(d),d.negative=1,h._normSign();var u,p;this.length>d.length?(u=this,p=d):(u=d,p=this);for(var g=0,_=0;_<p.length;_++)h=(u.words[_]|0)+(p.words[_]|0)+g,this.words[_]=h&67108863,g=h>>>26;for(;g!==0&&_<u.length;_++)h=(u.words[_]|0)+g,this.words[_]=h&67108863,g=h>>>26;if(this.length=u.length,g!==0)this.words[this.length]=g,this.length++;else if(u!==this)for(;_<u.length;_++)this.words[_]=u.words[_];return this},a.prototype.add=function(d){var h;return d.negative!==0&&this.negative===0?(d.negative=0,h=this.sub(d),d.negative^=1,h):d.negative===0&&this.negative!==0?(this.negative=0,h=d.sub(this),this.negative=1,h):this.length>d.length?this.clone().iadd(d):d.clone().iadd(this)},a.prototype.isub=function(d){if(d.negative!==0){d.negative=0;var h=this.iadd(d);return d.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(d),this.negative=1,this._normSign();var u=this.cmp(d);if(u===0)return this.negative=0,this.length=1,this.words[0]=0,this;var p,g;u>0?(p=this,g=d):(p=d,g=this);for(var _=0,A=0;A<g.length;A++)h=(p.words[A]|0)-(g.words[A]|0)+_,_=h>>26,this.words[A]=h&67108863;for(;_!==0&&A<p.length;A++)h=(p.words[A]|0)+_,_=h>>26,this.words[A]=h&67108863;if(_===0&&A<p.length&&p!==this)for(;A<p.length;A++)this.words[A]=p.words[A];return this.length=Math.max(this.length,A),p!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(d){return this.clone().isub(d)};function M(m,d,h){h.negative=d.negative^m.negative;var u=m.length+d.length|0;h.length=u,u=u-1|0;var p=m.words[0]|0,g=d.words[0]|0,_=p*g,A=_&67108863,y=_/67108864|0;h.words[0]=A;for(var b=1;b<u;b++){for(var w=y>>>26,v=y&67108863,P=Math.min(b,d.length-1),j=Math.max(0,b-m.length+1);j<=P;j++){var I=b-j|0;p=m.words[I]|0,g=d.words[j]|0,_=p*g+v,w+=_/67108864|0,v=_&67108863}h.words[b]=v|0,y=w|0}return y!==0?h.words[b]=y|0:h.length--,h.strip()}var k=function(d,h,u){var p=d.words,g=h.words,_=u.words,A=0,y,b,w,v=p[0]|0,P=v&8191,j=v>>>13,I=p[1]|0,L=I&8191,q=I>>>13,G=p[2]|0,V=G&8191,ne=G>>>13,U=p[3]|0,F=U&8191,te=U>>>13,ee=p[4]|0,oe=ee&8191,ye=ee>>>13,de=p[5]|0,pe=de&8191,Ze=de>>>13,Re=p[6]|0,me=Re&8191,ze=Re>>>13,Ce=p[7]|0,be=Ce&8191,qe=Ce>>>13,Ne=p[8]|0,O=Ne&8191,T=Ne>>>13,N=p[9]|0,z=N&8191,W=N>>>13,Y=g[0]|0,Z=Y&8191,ge=Y>>>13,xe=g[1]|0,ce=xe&8191,Pe=xe>>>13,he=g[2]|0,we=he&8191,ut=he>>>13,Be=g[3]|0,Ae=Be&8191,ft=Be>>>13,Oe=g[4]|0,Ee=Oe&8191,dt=Oe>>>13,Le=g[5]|0,_e=Le&8191,lt=Le>>>13,Fe=g[6]|0,Te=Fe&8191,ht=Fe>>>13,De=g[7]|0,Me=De&8191,pt=De>>>13,Ue=g[8]|0,ke=Ue&8191,mt=Ue>>>13,$e=g[9]|0,Ie=$e&8191,st=$e>>>13;u.negative=d.negative^h.negative,u.length=19,y=Math.imul(P,Z),b=Math.imul(P,ge),b=b+Math.imul(j,Z)|0,w=Math.imul(j,ge);var rt=(A+y|0)+((b&8191)<<13)|0;A=(w+(b>>>13)|0)+(rt>>>26)|0,rt&=67108863,y=Math.imul(L,Z),b=Math.imul(L,ge),b=b+Math.imul(q,Z)|0,w=Math.imul(q,ge),y=y+Math.imul(P,ce)|0,b=b+Math.imul(P,Pe)|0,b=b+Math.imul(j,ce)|0,w=w+Math.imul(j,Pe)|0;var nt=(A+y|0)+((b&8191)<<13)|0;A=(w+(b>>>13)|0)+(nt>>>26)|0,nt&=67108863,y=Math.imul(V,Z),b=Math.imul(V,ge),b=b+Math.imul(ne,Z)|0,w=Math.imul(ne,ge),y=y+Math.imul(L,ce)|0,b=b+Math.imul(L,Pe)|0,b=b+Math.imul(q,ce)|0,w=w+Math.imul(q,Pe)|0,y=y+Math.imul(P,we)|0,b=b+Math.imul(P,ut)|0,b=b+Math.imul(j,we)|0,w=w+Math.imul(j,ut)|0;var Kt=(A+y|0)+((b&8191)<<13)|0;A=(w+(b>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,y=Math.imul(F,Z),b=Math.imul(F,ge),b=b+Math.imul(te,Z)|0,w=Math.imul(te,ge),y=y+Math.imul(V,ce)|0,b=b+Math.imul(V,Pe)|0,b=b+Math.imul(ne,ce)|0,w=w+Math.imul(ne,Pe)|0,y=y+Math.imul(L,we)|0,b=b+Math.imul(L,ut)|0,b=b+Math.imul(q,we)|0,w=w+Math.imul(q,ut)|0,y=y+Math.imul(P,Ae)|0,b=b+Math.imul(P,ft)|0,b=b+Math.imul(j,Ae)|0,w=w+Math.imul(j,ft)|0;var Gt=(A+y|0)+((b&8191)<<13)|0;A=(w+(b>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,y=Math.imul(oe,Z),b=Math.imul(oe,ge),b=b+Math.imul(ye,Z)|0,w=Math.imul(ye,ge),y=y+Math.imul(F,ce)|0,b=b+Math.imul(F,Pe)|0,b=b+Math.imul(te,ce)|0,w=w+Math.imul(te,Pe)|0,y=y+Math.imul(V,we)|0,b=b+Math.imul(V,ut)|0,b=b+Math.imul(ne,we)|0,w=w+Math.imul(ne,ut)|0,y=y+Math.imul(L,Ae)|0,b=b+Math.imul(L,ft)|0,b=b+Math.imul(q,Ae)|0,w=w+Math.imul(q,ft)|0,y=y+Math.imul(P,Ee)|0,b=b+Math.imul(P,dt)|0,b=b+Math.imul(j,Ee)|0,w=w+Math.imul(j,dt)|0;var Vt=(A+y|0)+((b&8191)<<13)|0;A=(w+(b>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,y=Math.imul(pe,Z),b=Math.imul(pe,ge),b=b+Math.imul(Ze,Z)|0,w=Math.imul(Ze,ge),y=y+Math.imul(oe,ce)|0,b=b+Math.imul(oe,Pe)|0,b=b+Math.imul(ye,ce)|0,w=w+Math.imul(ye,Pe)|0,y=y+Math.imul(F,we)|0,b=b+Math.imul(F,ut)|0,b=b+Math.imul(te,we)|0,w=w+Math.imul(te,ut)|0,y=y+Math.imul(V,Ae)|0,b=b+Math.imul(V,ft)|0,b=b+Math.imul(ne,Ae)|0,w=w+Math.imul(ne,ft)|0,y=y+Math.imul(L,Ee)|0,b=b+Math.imul(L,dt)|0,b=b+Math.imul(q,Ee)|0,w=w+Math.imul(q,dt)|0,y=y+Math.imul(P,_e)|0,b=b+Math.imul(P,lt)|0,b=b+Math.imul(j,_e)|0,w=w+Math.imul(j,lt)|0;var Wt=(A+y|0)+((b&8191)<<13)|0;A=(w+(b>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,y=Math.imul(me,Z),b=Math.imul(me,ge),b=b+Math.imul(ze,Z)|0,w=Math.imul(ze,ge),y=y+Math.imul(pe,ce)|0,b=b+Math.imul(pe,Pe)|0,b=b+Math.imul(Ze,ce)|0,w=w+Math.imul(Ze,Pe)|0,y=y+Math.imul(oe,we)|0,b=b+Math.imul(oe,ut)|0,b=b+Math.imul(ye,we)|0,w=w+Math.imul(ye,ut)|0,y=y+Math.imul(F,Ae)|0,b=b+Math.imul(F,ft)|0,b=b+Math.imul(te,Ae)|0,w=w+Math.imul(te,ft)|0,y=y+Math.imul(V,Ee)|0,b=b+Math.imul(V,dt)|0,b=b+Math.imul(ne,Ee)|0,w=w+Math.imul(ne,dt)|0,y=y+Math.imul(L,_e)|0,b=b+Math.imul(L,lt)|0,b=b+Math.imul(q,_e)|0,w=w+Math.imul(q,lt)|0,y=y+Math.imul(P,Te)|0,b=b+Math.imul(P,ht)|0,b=b+Math.imul(j,Te)|0,w=w+Math.imul(j,ht)|0;var Jt=(A+y|0)+((b&8191)<<13)|0;A=(w+(b>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,y=Math.imul(be,Z),b=Math.imul(be,ge),b=b+Math.imul(qe,Z)|0,w=Math.imul(qe,ge),y=y+Math.imul(me,ce)|0,b=b+Math.imul(me,Pe)|0,b=b+Math.imul(ze,ce)|0,w=w+Math.imul(ze,Pe)|0,y=y+Math.imul(pe,we)|0,b=b+Math.imul(pe,ut)|0,b=b+Math.imul(Ze,we)|0,w=w+Math.imul(Ze,ut)|0,y=y+Math.imul(oe,Ae)|0,b=b+Math.imul(oe,ft)|0,b=b+Math.imul(ye,Ae)|0,w=w+Math.imul(ye,ft)|0,y=y+Math.imul(F,Ee)|0,b=b+Math.imul(F,dt)|0,b=b+Math.imul(te,Ee)|0,w=w+Math.imul(te,dt)|0,y=y+Math.imul(V,_e)|0,b=b+Math.imul(V,lt)|0,b=b+Math.imul(ne,_e)|0,w=w+Math.imul(ne,lt)|0,y=y+Math.imul(L,Te)|0,b=b+Math.imul(L,ht)|0,b=b+Math.imul(q,Te)|0,w=w+Math.imul(q,ht)|0,y=y+Math.imul(P,Me)|0,b=b+Math.imul(P,pt)|0,b=b+Math.imul(j,Me)|0,w=w+Math.imul(j,pt)|0;var Cr=(A+y|0)+((b&8191)<<13)|0;A=(w+(b>>>13)|0)+(Cr>>>26)|0,Cr&=67108863,y=Math.imul(O,Z),b=Math.imul(O,ge),b=b+Math.imul(T,Z)|0,w=Math.imul(T,ge),y=y+Math.imul(be,ce)|0,b=b+Math.imul(be,Pe)|0,b=b+Math.imul(qe,ce)|0,w=w+Math.imul(qe,Pe)|0,y=y+Math.imul(me,we)|0,b=b+Math.imul(me,ut)|0,b=b+Math.imul(ze,we)|0,w=w+Math.imul(ze,ut)|0,y=y+Math.imul(pe,Ae)|0,b=b+Math.imul(pe,ft)|0,b=b+Math.imul(Ze,Ae)|0,w=w+Math.imul(Ze,ft)|0,y=y+Math.imul(oe,Ee)|0,b=b+Math.imul(oe,dt)|0,b=b+Math.imul(ye,Ee)|0,w=w+Math.imul(ye,dt)|0,y=y+Math.imul(F,_e)|0,b=b+Math.imul(F,lt)|0,b=b+Math.imul(te,_e)|0,w=w+Math.imul(te,lt)|0,y=y+Math.imul(V,Te)|0,b=b+Math.imul(V,ht)|0,b=b+Math.imul(ne,Te)|0,w=w+Math.imul(ne,ht)|0,y=y+Math.imul(L,Me)|0,b=b+Math.imul(L,pt)|0,b=b+Math.imul(q,Me)|0,w=w+Math.imul(q,pt)|0,y=y+Math.imul(P,ke)|0,b=b+Math.imul(P,mt)|0,b=b+Math.imul(j,ke)|0,w=w+Math.imul(j,mt)|0;var Nr=(A+y|0)+((b&8191)<<13)|0;A=(w+(b>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,y=Math.imul(z,Z),b=Math.imul(z,ge),b=b+Math.imul(W,Z)|0,w=Math.imul(W,ge),y=y+Math.imul(O,ce)|0,b=b+Math.imul(O,Pe)|0,b=b+Math.imul(T,ce)|0,w=w+Math.imul(T,Pe)|0,y=y+Math.imul(be,we)|0,b=b+Math.imul(be,ut)|0,b=b+Math.imul(qe,we)|0,w=w+Math.imul(qe,ut)|0,y=y+Math.imul(me,Ae)|0,b=b+Math.imul(me,ft)|0,b=b+Math.imul(ze,Ae)|0,w=w+Math.imul(ze,ft)|0,y=y+Math.imul(pe,Ee)|0,b=b+Math.imul(pe,dt)|0,b=b+Math.imul(Ze,Ee)|0,w=w+Math.imul(Ze,dt)|0,y=y+Math.imul(oe,_e)|0,b=b+Math.imul(oe,lt)|0,b=b+Math.imul(ye,_e)|0,w=w+Math.imul(ye,lt)|0,y=y+Math.imul(F,Te)|0,b=b+Math.imul(F,ht)|0,b=b+Math.imul(te,Te)|0,w=w+Math.imul(te,ht)|0,y=y+Math.imul(V,Me)|0,b=b+Math.imul(V,pt)|0,b=b+Math.imul(ne,Me)|0,w=w+Math.imul(ne,pt)|0,y=y+Math.imul(L,ke)|0,b=b+Math.imul(L,mt)|0,b=b+Math.imul(q,ke)|0,w=w+Math.imul(q,mt)|0,y=y+Math.imul(P,Ie)|0,b=b+Math.imul(P,st)|0,b=b+Math.imul(j,Ie)|0,w=w+Math.imul(j,st)|0;var Rr=(A+y|0)+((b&8191)<<13)|0;A=(w+(b>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,y=Math.imul(z,ce),b=Math.imul(z,Pe),b=b+Math.imul(W,ce)|0,w=Math.imul(W,Pe),y=y+Math.imul(O,we)|0,b=b+Math.imul(O,ut)|0,b=b+Math.imul(T,we)|0,w=w+Math.imul(T,ut)|0,y=y+Math.imul(be,Ae)|0,b=b+Math.imul(be,ft)|0,b=b+Math.imul(qe,Ae)|0,w=w+Math.imul(qe,ft)|0,y=y+Math.imul(me,Ee)|0,b=b+Math.imul(me,dt)|0,b=b+Math.imul(ze,Ee)|0,w=w+Math.imul(ze,dt)|0,y=y+Math.imul(pe,_e)|0,b=b+Math.imul(pe,lt)|0,b=b+Math.imul(Ze,_e)|0,w=w+Math.imul(Ze,lt)|0,y=y+Math.imul(oe,Te)|0,b=b+Math.imul(oe,ht)|0,b=b+Math.imul(ye,Te)|0,w=w+Math.imul(ye,ht)|0,y=y+Math.imul(F,Me)|0,b=b+Math.imul(F,pt)|0,b=b+Math.imul(te,Me)|0,w=w+Math.imul(te,pt)|0,y=y+Math.imul(V,ke)|0,b=b+Math.imul(V,mt)|0,b=b+Math.imul(ne,ke)|0,w=w+Math.imul(ne,mt)|0,y=y+Math.imul(L,Ie)|0,b=b+Math.imul(L,st)|0,b=b+Math.imul(q,Ie)|0,w=w+Math.imul(q,st)|0;var Pr=(A+y|0)+((b&8191)<<13)|0;A=(w+(b>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,y=Math.imul(z,we),b=Math.imul(z,ut),b=b+Math.imul(W,we)|0,w=Math.imul(W,ut),y=y+Math.imul(O,Ae)|0,b=b+Math.imul(O,ft)|0,b=b+Math.imul(T,Ae)|0,w=w+Math.imul(T,ft)|0,y=y+Math.imul(be,Ee)|0,b=b+Math.imul(be,dt)|0,b=b+Math.imul(qe,Ee)|0,w=w+Math.imul(qe,dt)|0,y=y+Math.imul(me,_e)|0,b=b+Math.imul(me,lt)|0,b=b+Math.imul(ze,_e)|0,w=w+Math.imul(ze,lt)|0,y=y+Math.imul(pe,Te)|0,b=b+Math.imul(pe,ht)|0,b=b+Math.imul(Ze,Te)|0,w=w+Math.imul(Ze,ht)|0,y=y+Math.imul(oe,Me)|0,b=b+Math.imul(oe,pt)|0,b=b+Math.imul(ye,Me)|0,w=w+Math.imul(ye,pt)|0,y=y+Math.imul(F,ke)|0,b=b+Math.imul(F,mt)|0,b=b+Math.imul(te,ke)|0,w=w+Math.imul(te,mt)|0,y=y+Math.imul(V,Ie)|0,b=b+Math.imul(V,st)|0,b=b+Math.imul(ne,Ie)|0,w=w+Math.imul(ne,st)|0;var Br=(A+y|0)+((b&8191)<<13)|0;A=(w+(b>>>13)|0)+(Br>>>26)|0,Br&=67108863,y=Math.imul(z,Ae),b=Math.imul(z,ft),b=b+Math.imul(W,Ae)|0,w=Math.imul(W,ft),y=y+Math.imul(O,Ee)|0,b=b+Math.imul(O,dt)|0,b=b+Math.imul(T,Ee)|0,w=w+Math.imul(T,dt)|0,y=y+Math.imul(be,_e)|0,b=b+Math.imul(be,lt)|0,b=b+Math.imul(qe,_e)|0,w=w+Math.imul(qe,lt)|0,y=y+Math.imul(me,Te)|0,b=b+Math.imul(me,ht)|0,b=b+Math.imul(ze,Te)|0,w=w+Math.imul(ze,ht)|0,y=y+Math.imul(pe,Me)|0,b=b+Math.imul(pe,pt)|0,b=b+Math.imul(Ze,Me)|0,w=w+Math.imul(Ze,pt)|0,y=y+Math.imul(oe,ke)|0,b=b+Math.imul(oe,mt)|0,b=b+Math.imul(ye,ke)|0,w=w+Math.imul(ye,mt)|0,y=y+Math.imul(F,Ie)|0,b=b+Math.imul(F,st)|0,b=b+Math.imul(te,Ie)|0,w=w+Math.imul(te,st)|0;var Or=(A+y|0)+((b&8191)<<13)|0;A=(w+(b>>>13)|0)+(Or>>>26)|0,Or&=67108863,y=Math.imul(z,Ee),b=Math.imul(z,dt),b=b+Math.imul(W,Ee)|0,w=Math.imul(W,dt),y=y+Math.imul(O,_e)|0,b=b+Math.imul(O,lt)|0,b=b+Math.imul(T,_e)|0,w=w+Math.imul(T,lt)|0,y=y+Math.imul(be,Te)|0,b=b+Math.imul(be,ht)|0,b=b+Math.imul(qe,Te)|0,w=w+Math.imul(qe,ht)|0,y=y+Math.imul(me,Me)|0,b=b+Math.imul(me,pt)|0,b=b+Math.imul(ze,Me)|0,w=w+Math.imul(ze,pt)|0,y=y+Math.imul(pe,ke)|0,b=b+Math.imul(pe,mt)|0,b=b+Math.imul(Ze,ke)|0,w=w+Math.imul(Ze,mt)|0,y=y+Math.imul(oe,Ie)|0,b=b+Math.imul(oe,st)|0,b=b+Math.imul(ye,Ie)|0,w=w+Math.imul(ye,st)|0;var Lr=(A+y|0)+((b&8191)<<13)|0;A=(w+(b>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,y=Math.imul(z,_e),b=Math.imul(z,lt),b=b+Math.imul(W,_e)|0,w=Math.imul(W,lt),y=y+Math.imul(O,Te)|0,b=b+Math.imul(O,ht)|0,b=b+Math.imul(T,Te)|0,w=w+Math.imul(T,ht)|0,y=y+Math.imul(be,Me)|0,b=b+Math.imul(be,pt)|0,b=b+Math.imul(qe,Me)|0,w=w+Math.imul(qe,pt)|0,y=y+Math.imul(me,ke)|0,b=b+Math.imul(me,mt)|0,b=b+Math.imul(ze,ke)|0,w=w+Math.imul(ze,mt)|0,y=y+Math.imul(pe,Ie)|0,b=b+Math.imul(pe,st)|0,b=b+Math.imul(Ze,Ie)|0,w=w+Math.imul(Ze,st)|0;var Fr=(A+y|0)+((b&8191)<<13)|0;A=(w+(b>>>13)|0)+(Fr>>>26)|0,Fr&=67108863,y=Math.imul(z,Te),b=Math.imul(z,ht),b=b+Math.imul(W,Te)|0,w=Math.imul(W,ht),y=y+Math.imul(O,Me)|0,b=b+Math.imul(O,pt)|0,b=b+Math.imul(T,Me)|0,w=w+Math.imul(T,pt)|0,y=y+Math.imul(be,ke)|0,b=b+Math.imul(be,mt)|0,b=b+Math.imul(qe,ke)|0,w=w+Math.imul(qe,mt)|0,y=y+Math.imul(me,Ie)|0,b=b+Math.imul(me,st)|0,b=b+Math.imul(ze,Ie)|0,w=w+Math.imul(ze,st)|0;var Dr=(A+y|0)+((b&8191)<<13)|0;A=(w+(b>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,y=Math.imul(z,Me),b=Math.imul(z,pt),b=b+Math.imul(W,Me)|0,w=Math.imul(W,pt),y=y+Math.imul(O,ke)|0,b=b+Math.imul(O,mt)|0,b=b+Math.imul(T,ke)|0,w=w+Math.imul(T,mt)|0,y=y+Math.imul(be,Ie)|0,b=b+Math.imul(be,st)|0,b=b+Math.imul(qe,Ie)|0,w=w+Math.imul(qe,st)|0;var Fn=(A+y|0)+((b&8191)<<13)|0;A=(w+(b>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,y=Math.imul(z,ke),b=Math.imul(z,mt),b=b+Math.imul(W,ke)|0,w=Math.imul(W,mt),y=y+Math.imul(O,Ie)|0,b=b+Math.imul(O,st)|0,b=b+Math.imul(T,Ie)|0,w=w+Math.imul(T,st)|0;var Dn=(A+y|0)+((b&8191)<<13)|0;A=(w+(b>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,y=Math.imul(z,Ie),b=Math.imul(z,st),b=b+Math.imul(W,Ie)|0,w=Math.imul(W,st);var wa=(A+y|0)+((b&8191)<<13)|0;return A=(w+(b>>>13)|0)+(wa>>>26)|0,wa&=67108863,_[0]=rt,_[1]=nt,_[2]=Kt,_[3]=Gt,_[4]=Vt,_[5]=Wt,_[6]=Jt,_[7]=Cr,_[8]=Nr,_[9]=Rr,_[10]=Pr,_[11]=Br,_[12]=Or,_[13]=Lr,_[14]=Fr,_[15]=Dr,_[16]=Fn,_[17]=Dn,_[18]=wa,A!==0&&(_[19]=A,u.length++),u};Math.imul||(k=M);function S(m,d,h){h.negative=d.negative^m.negative,h.length=m.length+d.length;for(var u=0,p=0,g=0;g<h.length-1;g++){var _=p;p=0;for(var A=u&67108863,y=Math.min(g,d.length-1),b=Math.max(0,g-m.length+1);b<=y;b++){var w=g-b,v=m.words[w]|0,P=d.words[b]|0,j=v*P,I=j&67108863;_=_+(j/67108864|0)|0,I=I+A|0,A=I&67108863,_=_+(I>>>26)|0,p+=_>>>26,_&=67108863}h.words[g]=A,u=_,_=p}return u!==0?h.words[g]=u:h.length--,h.strip()}function R(m,d,h){var u=new B;return u.mulp(m,d,h)}a.prototype.mulTo=function(d,h){var u,p=this.length+d.length;return this.length===10&&d.length===10?u=k(this,d,h):p<63?u=M(this,d,h):p<1024?u=S(this,d,h):u=R(this,d,h),u};function B(m,d){this.x=m,this.y=d}B.prototype.makeRBT=function(d){for(var h=new Array(d),u=a.prototype._countBits(d)-1,p=0;p<d;p++)h[p]=this.revBin(p,u,d);return h},B.prototype.revBin=function(d,h,u){if(d===0||d===u-1)return d;for(var p=0,g=0;g<h;g++)p|=(d&1)<<h-g-1,d>>=1;return p},B.prototype.permute=function(d,h,u,p,g,_){for(var A=0;A<_;A++)p[A]=h[d[A]],g[A]=u[d[A]]},B.prototype.transform=function(d,h,u,p,g,_){this.permute(_,d,h,u,p,g);for(var A=1;A<g;A<<=1)for(var y=A<<1,b=Math.cos(2*Math.PI/y),w=Math.sin(2*Math.PI/y),v=0;v<g;v+=y)for(var P=b,j=w,I=0;I<A;I++){var L=u[v+I],q=p[v+I],G=u[v+I+A],V=p[v+I+A],ne=P*G-j*V;V=P*V+j*G,G=ne,u[v+I]=L+G,p[v+I]=q+V,u[v+I+A]=L-G,p[v+I+A]=q-V,I!==y&&(ne=b*P-w*j,j=b*j+w*P,P=ne)}},B.prototype.guessLen13b=function(d,h){var u=Math.max(h,d)|1,p=u&1,g=0;for(u=u/2|0;u;u=u>>>1)g++;return 1<<g+1+p},B.prototype.conjugate=function(d,h,u){if(!(u<=1))for(var p=0;p<u/2;p++){var g=d[p];d[p]=d[u-p-1],d[u-p-1]=g,g=h[p],h[p]=-h[u-p-1],h[u-p-1]=-g}},B.prototype.normalize13b=function(d,h){for(var u=0,p=0;p<h/2;p++){var g=Math.round(d[2*p+1]/h)*8192+Math.round(d[2*p]/h)+u;d[p]=g&67108863,g<67108864?u=0:u=g/67108864|0}return d},B.prototype.convert13b=function(d,h,u,p){for(var g=0,_=0;_<h;_++)g=g+(d[_]|0),u[2*_]=g&8191,g=g>>>13,u[2*_+1]=g&8191,g=g>>>13;for(_=2*h;_<p;++_)u[_]=0;n(g===0),n((g&-8192)===0)},B.prototype.stub=function(d){for(var h=new Array(d),u=0;u<d;u++)h[u]=0;return h},B.prototype.mulp=function(d,h,u){var p=2*this.guessLen13b(d.length,h.length),g=this.makeRBT(p),_=this.stub(p),A=new Array(p),y=new Array(p),b=new Array(p),w=new Array(p),v=new Array(p),P=new Array(p),j=u.words;j.length=p,this.convert13b(d.words,d.length,A,p),this.convert13b(h.words,h.length,w,p),this.transform(A,_,y,b,p,g),this.transform(w,_,v,P,p,g);for(var I=0;I<p;I++){var L=y[I]*v[I]-b[I]*P[I];b[I]=y[I]*P[I]+b[I]*v[I],y[I]=L}return this.conjugate(y,b,p),this.transform(y,b,j,_,p,g),this.conjugate(j,_,p),this.normalize13b(j,p),u.negative=d.negative^h.negative,u.length=d.length+h.length,u.strip()},a.prototype.mul=function(d){var h=new a(null);return h.words=new Array(this.length+d.length),this.mulTo(d,h)},a.prototype.mulf=function(d){var h=new a(null);return h.words=new Array(this.length+d.length),R(this,d,h)},a.prototype.imul=function(d){return this.clone().mulTo(d,this)},a.prototype.imuln=function(d){n(typeof d=="number"),n(d<67108864);for(var h=0,u=0;u<this.length;u++){var p=(this.words[u]|0)*d,g=(p&67108863)+(h&67108863);h>>=26,h+=p/67108864|0,h+=g>>>26,this.words[u]=g&67108863}return h!==0&&(this.words[u]=h,this.length++),this},a.prototype.muln=function(d){return this.clone().imuln(d)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(d){var h=C(d);if(h.length===0)return new a(1);for(var u=this,p=0;p<h.length&&h[p]===0;p++,u=u.sqr());if(++p<h.length)for(var g=u.sqr();p<h.length;p++,g=g.sqr())h[p]!==0&&(u=u.mul(g));return u},a.prototype.iushln=function(d){n(typeof d=="number"&&d>=0);var h=d%26,u=(d-h)/26,p=67108863>>>26-h<<26-h,g;if(h!==0){var _=0;for(g=0;g<this.length;g++){var A=this.words[g]&p,y=(this.words[g]|0)-A<<h;this.words[g]=y|_,_=A>>>26-h}_&&(this.words[g]=_,this.length++)}if(u!==0){for(g=this.length-1;g>=0;g--)this.words[g+u]=this.words[g];for(g=0;g<u;g++)this.words[g]=0;this.length+=u}return this.strip()},a.prototype.ishln=function(d){return n(this.negative===0),this.iushln(d)},a.prototype.iushrn=function(d,h,u){n(typeof d=="number"&&d>=0);var p;h?p=(h-h%26)/26:p=0;var g=d%26,_=Math.min((d-g)/26,this.length),A=67108863^67108863>>>g<<g,y=u;if(p-=_,p=Math.max(0,p),y){for(var b=0;b<_;b++)y.words[b]=this.words[b];y.length=_}if(_!==0)if(this.length>_)for(this.length-=_,b=0;b<this.length;b++)this.words[b]=this.words[b+_];else this.words[0]=0,this.length=1;var w=0;for(b=this.length-1;b>=0&&(w!==0||b>=p);b--){var v=this.words[b]|0;this.words[b]=w<<26-g|v>>>g,w=v&A}return y&&w!==0&&(y.words[y.length++]=w),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(d,h,u){return n(this.negative===0),this.iushrn(d,h,u)},a.prototype.shln=function(d){return this.clone().ishln(d)},a.prototype.ushln=function(d){return this.clone().iushln(d)},a.prototype.shrn=function(d){return this.clone().ishrn(d)},a.prototype.ushrn=function(d){return this.clone().iushrn(d)},a.prototype.testn=function(d){n(typeof d=="number"&&d>=0);var h=d%26,u=(d-h)/26,p=1<<h;if(this.length<=u)return!1;var g=this.words[u];return!!(g&p)},a.prototype.imaskn=function(d){n(typeof d=="number"&&d>=0);var h=d%26,u=(d-h)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=u)return this;if(h!==0&&u++,this.length=Math.min(u,this.length),h!==0){var p=67108863^67108863>>>h<<h;this.words[this.length-1]&=p}return this.strip()},a.prototype.maskn=function(d){return this.clone().imaskn(d)},a.prototype.iaddn=function(d){return n(typeof d=="number"),n(d<67108864),d<0?this.isubn(-d):this.negative!==0?this.length===1&&(this.words[0]|0)<d?(this.words[0]=d-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(d),this.negative=1,this):this._iaddn(d)},a.prototype._iaddn=function(d){this.words[0]+=d;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},a.prototype.isubn=function(d){if(n(typeof d=="number"),n(d<67108864),d<0)return this.iaddn(-d);if(this.negative!==0)return this.negative=0,this.iaddn(d),this.negative=1,this;if(this.words[0]-=d,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this.strip()},a.prototype.addn=function(d){return this.clone().iaddn(d)},a.prototype.subn=function(d){return this.clone().isubn(d)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(d,h,u){var p=d.length+u,g;this._expand(p);var _,A=0;for(g=0;g<d.length;g++){_=(this.words[g+u]|0)+A;var y=(d.words[g]|0)*h;_-=y&67108863,A=(_>>26)-(y/67108864|0),this.words[g+u]=_&67108863}for(;g<this.length-u;g++)_=(this.words[g+u]|0)+A,A=_>>26,this.words[g+u]=_&67108863;if(A===0)return this.strip();for(n(A===-1),A=0,g=0;g<this.length;g++)_=-(this.words[g]|0)+A,A=_>>26,this.words[g]=_&67108863;return this.negative=1,this.strip()},a.prototype._wordDiv=function(d,h){var u=this.length-d.length,p=this.clone(),g=d,_=g.words[g.length-1]|0,A=this._countBits(_);u=26-A,u!==0&&(g=g.ushln(u),p.iushln(u),_=g.words[g.length-1]|0);var y=p.length-g.length,b;if(h!=="mod"){b=new a(null),b.length=y+1,b.words=new Array(b.length);for(var w=0;w<b.length;w++)b.words[w]=0}var v=p.clone()._ishlnsubmul(g,1,y);v.negative===0&&(p=v,b&&(b.words[y]=1));for(var P=y-1;P>=0;P--){var j=(p.words[g.length+P]|0)*67108864+(p.words[g.length+P-1]|0);for(j=Math.min(j/_|0,67108863),p._ishlnsubmul(g,j,P);p.negative!==0;)j--,p.negative=0,p._ishlnsubmul(g,1,P),p.isZero()||(p.negative^=1);b&&(b.words[P]=j)}return b&&b.strip(),p.strip(),h!=="div"&&u!==0&&p.iushrn(u),{div:b||null,mod:p}},a.prototype.divmod=function(d,h,u){if(n(!d.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var p,g,_;return this.negative!==0&&d.negative===0?(_=this.neg().divmod(d,h),h!=="mod"&&(p=_.div.neg()),h!=="div"&&(g=_.mod.neg(),u&&g.negative!==0&&g.iadd(d)),{div:p,mod:g}):this.negative===0&&d.negative!==0?(_=this.divmod(d.neg(),h),h!=="mod"&&(p=_.div.neg()),{div:p,mod:_.mod}):this.negative&d.negative?(_=this.neg().divmod(d.neg(),h),h!=="div"&&(g=_.mod.neg(),u&&g.negative!==0&&g.isub(d)),{div:_.div,mod:g}):d.length>this.length||this.cmp(d)<0?{div:new a(0),mod:this}:d.length===1?h==="div"?{div:this.divn(d.words[0]),mod:null}:h==="mod"?{div:null,mod:new a(this.modn(d.words[0]))}:{div:this.divn(d.words[0]),mod:new a(this.modn(d.words[0]))}:this._wordDiv(d,h)},a.prototype.div=function(d){return this.divmod(d,"div",!1).div},a.prototype.mod=function(d){return this.divmod(d,"mod",!1).mod},a.prototype.umod=function(d){return this.divmod(d,"mod",!0).mod},a.prototype.divRound=function(d){var h=this.divmod(d);if(h.mod.isZero())return h.div;var u=h.div.negative!==0?h.mod.isub(d):h.mod,p=d.ushrn(1),g=d.andln(1),_=u.cmp(p);return _<0||g===1&&_===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},a.prototype.modn=function(d){n(d<=67108863);for(var h=(1<<26)%d,u=0,p=this.length-1;p>=0;p--)u=(h*u+(this.words[p]|0))%d;return u},a.prototype.idivn=function(d){n(d<=67108863);for(var h=0,u=this.length-1;u>=0;u--){var p=(this.words[u]|0)+h*67108864;this.words[u]=p/d|0,h=p%d}return this.strip()},a.prototype.divn=function(d){return this.clone().idivn(d)},a.prototype.egcd=function(d){n(d.negative===0),n(!d.isZero());var h=this,u=d.clone();h.negative!==0?h=h.umod(d):h=h.clone();for(var p=new a(1),g=new a(0),_=new a(0),A=new a(1),y=0;h.isEven()&&u.isEven();)h.iushrn(1),u.iushrn(1),++y;for(var b=u.clone(),w=h.clone();!h.isZero();){for(var v=0,P=1;!(h.words[0]&P)&&v<26;++v,P<<=1);if(v>0)for(h.iushrn(v);v-- >0;)(p.isOdd()||g.isOdd())&&(p.iadd(b),g.isub(w)),p.iushrn(1),g.iushrn(1);for(var j=0,I=1;!(u.words[0]&I)&&j<26;++j,I<<=1);if(j>0)for(u.iushrn(j);j-- >0;)(_.isOdd()||A.isOdd())&&(_.iadd(b),A.isub(w)),_.iushrn(1),A.iushrn(1);h.cmp(u)>=0?(h.isub(u),p.isub(_),g.isub(A)):(u.isub(h),_.isub(p),A.isub(g))}return{a:_,b:A,gcd:u.iushln(y)}},a.prototype._invmp=function(d){n(d.negative===0),n(!d.isZero());var h=this,u=d.clone();h.negative!==0?h=h.umod(d):h=h.clone();for(var p=new a(1),g=new a(0),_=u.clone();h.cmpn(1)>0&&u.cmpn(1)>0;){for(var A=0,y=1;!(h.words[0]&y)&&A<26;++A,y<<=1);if(A>0)for(h.iushrn(A);A-- >0;)p.isOdd()&&p.iadd(_),p.iushrn(1);for(var b=0,w=1;!(u.words[0]&w)&&b<26;++b,w<<=1);if(b>0)for(u.iushrn(b);b-- >0;)g.isOdd()&&g.iadd(_),g.iushrn(1);h.cmp(u)>=0?(h.isub(u),p.isub(g)):(u.isub(h),g.isub(p))}var v;return h.cmpn(1)===0?v=p:v=g,v.cmpn(0)<0&&v.iadd(d),v},a.prototype.gcd=function(d){if(this.isZero())return d.abs();if(d.isZero())return this.abs();var h=this.clone(),u=d.clone();h.negative=0,u.negative=0;for(var p=0;h.isEven()&&u.isEven();p++)h.iushrn(1),u.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;u.isEven();)u.iushrn(1);var g=h.cmp(u);if(g<0){var _=h;h=u,u=_}else if(g===0||u.cmpn(1)===0)break;h.isub(u)}while(!0);return u.iushln(p)},a.prototype.invm=function(d){return this.egcd(d).a.umod(d)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(d){return this.words[0]&d},a.prototype.bincn=function(d){n(typeof d=="number");var h=d%26,u=(d-h)/26,p=1<<h;if(this.length<=u)return this._expand(u+1),this.words[u]|=p,this;for(var g=p,_=u;g!==0&&_<this.length;_++){var A=this.words[_]|0;A+=g,g=A>>>26,A&=67108863,this.words[_]=A}return g!==0&&(this.words[_]=g,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(d){var h=d<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this.strip();var u;if(this.length>1)u=1;else{h&&(d=-d),n(d<=67108863,"Number is too big");var p=this.words[0]|0;u=p===d?0:p<d?-1:1}return this.negative!==0?-u|0:u},a.prototype.cmp=function(d){if(this.negative!==0&&d.negative===0)return-1;if(this.negative===0&&d.negative!==0)return 1;var h=this.ucmp(d);return this.negative!==0?-h|0:h},a.prototype.ucmp=function(d){if(this.length>d.length)return 1;if(this.length<d.length)return-1;for(var h=0,u=this.length-1;u>=0;u--){var p=this.words[u]|0,g=d.words[u]|0;if(p!==g){p<g?h=-1:p>g&&(h=1);break}}return h},a.prototype.gtn=function(d){return this.cmpn(d)===1},a.prototype.gt=function(d){return this.cmp(d)===1},a.prototype.gten=function(d){return this.cmpn(d)>=0},a.prototype.gte=function(d){return this.cmp(d)>=0},a.prototype.ltn=function(d){return this.cmpn(d)===-1},a.prototype.lt=function(d){return this.cmp(d)===-1},a.prototype.lten=function(d){return this.cmpn(d)<=0},a.prototype.lte=function(d){return this.cmp(d)<=0},a.prototype.eqn=function(d){return this.cmpn(d)===0},a.prototype.eq=function(d){return this.cmp(d)===0},a.red=function(d){return new re(d)},a.prototype.toRed=function(d){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),d.convertTo(this)._forceRed(d)},a.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(d){return this.red=d,this},a.prototype.forceRed=function(d){return n(!this.red,"Already a number in reduction context"),this._forceRed(d)},a.prototype.redAdd=function(d){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,d)},a.prototype.redIAdd=function(d){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,d)},a.prototype.redSub=function(d){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,d)},a.prototype.redISub=function(d){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,d)},a.prototype.redShl=function(d){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,d)},a.prototype.redMul=function(d){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.mul(this,d)},a.prototype.redIMul=function(d){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.imul(this,d)},a.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(d){return n(this.red&&!d.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,d)};var $={k256:null,p224:null,p192:null,p25519:null};function H(m,d){this.name=m,this.p=new a(d,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}H.prototype._tmp=function(){var d=new a(null);return d.words=new Array(Math.ceil(this.n/13)),d},H.prototype.ireduce=function(d){var h=d,u;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),u=h.bitLength();while(u>this.n);var p=u<this.n?-1:h.ucmp(this.p);return p===0?(h.words[0]=0,h.length=1):p>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},H.prototype.split=function(d,h){d.iushrn(this.n,0,h)},H.prototype.imulK=function(d){return d.imul(this.k)};function K(){H.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(K,H),K.prototype.split=function(d,h){for(var u=4194303,p=Math.min(d.length,9),g=0;g<p;g++)h.words[g]=d.words[g];if(h.length=p,d.length<=9){d.words[0]=0,d.length=1;return}var _=d.words[9];for(h.words[h.length++]=_&u,g=10;g<d.length;g++){var A=d.words[g]|0;d.words[g-10]=(A&u)<<4|_>>>22,_=A}_>>>=22,d.words[g-10]=_,_===0&&d.length>10?d.length-=10:d.length-=9},K.prototype.imulK=function(d){d.words[d.length]=0,d.words[d.length+1]=0,d.length+=2;for(var h=0,u=0;u<d.length;u++){var p=d.words[u]|0;h+=p*977,d.words[u]=h&67108863,h=p*64+(h/67108864|0)}return d.words[d.length-1]===0&&(d.length--,d.words[d.length-1]===0&&d.length--),d};function J(){H.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(J,H);function ie(){H.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(ie,H);function X(){H.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(X,H),X.prototype.imulK=function(d){for(var h=0,u=0;u<d.length;u++){var p=(d.words[u]|0)*19+h,g=p&67108863;p>>>=26,d.words[u]=g,h=p}return h!==0&&(d.words[d.length++]=h),d},a._prime=function(d){if($[d])return $[d];var h;if(d==="k256")h=new K;else if(d==="p224")h=new J;else if(d==="p192")h=new ie;else if(d==="p25519")h=new X;else throw new Error("Unknown prime "+d);return $[d]=h,h};function re(m){if(typeof m=="string"){var d=a._prime(m);this.m=d.p,this.prime=d}else n(m.gtn(1),"modulus must be greater than 1"),this.m=m,this.prime=null}re.prototype._verify1=function(d){n(d.negative===0,"red works only with positives"),n(d.red,"red works only with red numbers")},re.prototype._verify2=function(d,h){n((d.negative|h.negative)===0,"red works only with positives"),n(d.red&&d.red===h.red,"red works only with red numbers")},re.prototype.imod=function(d){return this.prime?this.prime.ireduce(d)._forceRed(this):d.umod(this.m)._forceRed(this)},re.prototype.neg=function(d){return d.isZero()?d.clone():this.m.sub(d)._forceRed(this)},re.prototype.add=function(d,h){this._verify2(d,h);var u=d.add(h);return u.cmp(this.m)>=0&&u.isub(this.m),u._forceRed(this)},re.prototype.iadd=function(d,h){this._verify2(d,h);var u=d.iadd(h);return u.cmp(this.m)>=0&&u.isub(this.m),u},re.prototype.sub=function(d,h){this._verify2(d,h);var u=d.sub(h);return u.cmpn(0)<0&&u.iadd(this.m),u._forceRed(this)},re.prototype.isub=function(d,h){this._verify2(d,h);var u=d.isub(h);return u.cmpn(0)<0&&u.iadd(this.m),u},re.prototype.shl=function(d,h){return this._verify1(d),this.imod(d.ushln(h))},re.prototype.imul=function(d,h){return this._verify2(d,h),this.imod(d.imul(h))},re.prototype.mul=function(d,h){return this._verify2(d,h),this.imod(d.mul(h))},re.prototype.isqr=function(d){return this.imul(d,d.clone())},re.prototype.sqr=function(d){return this.mul(d,d)},re.prototype.sqrt=function(d){if(d.isZero())return d.clone();var h=this.m.andln(3);if(n(h%2===1),h===3){var u=this.m.add(new a(1)).iushrn(2);return this.pow(d,u)}for(var p=this.m.subn(1),g=0;!p.isZero()&&p.andln(1)===0;)g++,p.iushrn(1);n(!p.isZero());var _=new a(1).toRed(this),A=_.redNeg(),y=this.m.subn(1).iushrn(1),b=this.m.bitLength();for(b=new a(2*b*b).toRed(this);this.pow(b,y).cmp(A)!==0;)b.redIAdd(A);for(var w=this.pow(b,p),v=this.pow(d,p.addn(1).iushrn(1)),P=this.pow(d,p),j=g;P.cmp(_)!==0;){for(var I=P,L=0;I.cmp(_)!==0;L++)I=I.redSqr();n(L<j);var q=this.pow(w,new a(1).iushln(j-L-1));v=v.redMul(q),w=q.redSqr(),P=P.redMul(w),j=L}return v},re.prototype.invm=function(d){var h=d._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},re.prototype.pow=function(d,h){if(h.isZero())return new a(1).toRed(this);if(h.cmpn(1)===0)return d.clone();var u=4,p=new Array(1<<u);p[0]=new a(1).toRed(this),p[1]=d;for(var g=2;g<p.length;g++)p[g]=this.mul(p[g-1],d);var _=p[0],A=0,y=0,b=h.bitLength()%26;for(b===0&&(b=26),g=h.length-1;g>=0;g--){for(var w=h.words[g],v=b-1;v>=0;v--){var P=w>>v&1;if(_!==p[0]&&(_=this.sqr(_)),P===0&&A===0){y=0;continue}A<<=1,A|=P,y++,!(y!==u&&(g!==0||v!==0))&&(_=this.mul(_,p[A]),y=0,A=0)}b=26}return _},re.prototype.convertTo=function(d){var h=d.umod(this.m);return h===d?h.clone():h},re.prototype.convertFrom=function(d){var h=d.clone();return h.red=null,h},a.mont=function(d){return new D(d)};function D(m){re.call(this,m),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(D,re),D.prototype.convertTo=function(d){return this.imod(d.ushln(this.shift))},D.prototype.convertFrom=function(d){var h=this.imod(d.mul(this.rinv));return h.red=null,h},D.prototype.imul=function(d,h){if(d.isZero()||h.isZero())return d.words[0]=0,d.length=1,d;var u=d.imul(h),p=u.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=u.isub(p).iushrn(this.shift),_=g;return g.cmp(this.m)>=0?_=g.isub(this.m):g.cmpn(0)<0&&(_=g.iadd(this.m)),_._forceRed(this)},D.prototype.mul=function(d,h){if(d.isZero()||h.isZero())return new a(0)._forceRed(this);var u=d.mul(h),p=u.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=u.isub(p).iushrn(this.shift),_=g;return g.cmp(this.m)>=0?_=g.isub(this.m):g.cmpn(0)<0&&(_=g.iadd(this.m)),_._forceRed(this)},D.prototype.invm=function(d){var h=this.imod(d._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(t,Ye)})(ap);var ji=ap.exports,sp={};(function(t){var e=t;function r(a,s){if(Array.isArray(a))return a.slice();if(!a)return[];var o=[];if(typeof a!="string"){for(var c=0;c<a.length;c++)o[c]=a[c]|0;return o}if(s==="hex"){a=a.replace(/[^a-z0-9]+/ig,""),a.length%2!==0&&(a="0"+a);for(var c=0;c<a.length;c+=2)o.push(parseInt(a[c]+a[c+1],16))}else for(var c=0;c<a.length;c++){var f=a.charCodeAt(c),l=f>>8,x=f&255;l?o.push(l,x):o.push(x)}return o}e.toArray=r;function n(a){return a.length===1?"0"+a:a}e.zero2=n;function i(a){for(var s="",o=0;o<a.length;o++)s+=n(a[o].toString(16));return s}e.toHex=i,e.encode=function(s,o){return o==="hex"?i(s):s}})(sp);(function(t){var e=t,r=ji,n=es,i=sp;e.assert=n,e.toArray=i.toArray,e.zero2=i.zero2,e.toHex=i.toHex,e.encode=i.encode;function a(l,x,E){var C=new Array(Math.max(l.bitLength(),E)+1);C.fill(0);for(var M=1<<x+1,k=l.clone(),S=0;S<C.length;S++){var R,B=k.andln(M-1);k.isOdd()?(B>(M>>1)-1?R=(M>>1)-B:R=B,k.isubn(R)):R=0,C[S]=R,k.iushrn(1)}return C}e.getNAF=a;function s(l,x){var E=[[],[]];l=l.clone(),x=x.clone();for(var C=0,M=0,k;l.cmpn(-C)>0||x.cmpn(-M)>0;){var S=l.andln(3)+C&3,R=x.andln(3)+M&3;S===3&&(S=-1),R===3&&(R=-1);var B;S&1?(k=l.andln(7)+C&7,(k===3||k===5)&&R===2?B=-S:B=S):B=0,E[0].push(B);var $;R&1?(k=x.andln(7)+M&7,(k===3||k===5)&&S===2?$=-R:$=R):$=0,E[1].push($),2*C===B+1&&(C=1-C),2*M===$+1&&(M=1-M),l.iushrn(1),x.iushrn(1)}return E}e.getJSF=s;function o(l,x,E){var C="_"+x;l.prototype[x]=function(){return this[C]!==void 0?this[C]:this[C]=E.call(this)}}e.cachedProperty=o;function c(l){return typeof l=="string"?e.toArray(l,"hex"):l}e.parseBytes=c;function f(l){return new r(l,"hex","le")}e.intFromLE=f})(hn);var op={exports:{}},Qd;op.exports=function(e){return Qd||(Qd=new ra(null)),Qd.generate(e)};function ra(t){this.rand=t}op.exports.Rand=ra;ra.prototype.generate=function(e){return this._rand(e)};ra.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var r=new Uint8Array(e),n=0;n<r.length;n++)r[n]=this.rand.getByte();return r};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?ra.prototype._rand=function(e){var r=new Uint8Array(e);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?ra.prototype._rand=function(e){var r=new Uint8Array(e);return self.msCrypto.getRandomValues(r),r}:typeof window=="object"&&(ra.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var ly=dn;if(typeof ly.randomBytes!="function")throw new Error("Not supported");ra.prototype._rand=function(e){return ly.randomBytes(e)}}catch{}var pg=op.exports,cp={},_a=ji,Nc=hn,$u=Nc.getNAF,RM=Nc.getJSF,Hu=Nc.assert;function xa(t,e){this.type=t,this.p=new _a(e.p,16),this.red=e.prime?_a.red(e.prime):_a.mont(this.p),this.zero=new _a(0).toRed(this.red),this.one=new _a(1).toRed(this.red),this.two=new _a(2).toRed(this.red),this.n=e.n&&new _a(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Of=xa;xa.prototype.point=function(){throw new Error("Not implemented")};xa.prototype.validate=function(){throw new Error("Not implemented")};xa.prototype._fixedNafMul=function(e,r){Hu(e.precomputed);var n=e._getDoubles(),i=$u(r,1,this._bitLength),a=(1<<n.step+1)-(n.step%2===0?2:1);a/=3;var s=[],o,c;for(o=0;o<i.length;o+=n.step){c=0;for(var f=o+n.step-1;f>=o;f--)c=(c<<1)+i[f];s.push(c)}for(var l=this.jpoint(null,null,null),x=this.jpoint(null,null,null),E=a;E>0;E--){for(o=0;o<s.length;o++)c=s[o],c===E?x=x.mixedAdd(n.points[o]):c===-E&&(x=x.mixedAdd(n.points[o].neg()));l=l.add(x)}return l.toP()};xa.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var a=i.points,s=$u(r,n,this._bitLength),o=this.jpoint(null,null,null),c=s.length-1;c>=0;c--){for(var f=0;c>=0&&s[c]===0;c--)f++;if(c>=0&&f++,o=o.dblp(f),c<0)break;var l=s[c];Hu(l!==0),e.type==="affine"?l>0?o=o.mixedAdd(a[l-1>>1]):o=o.mixedAdd(a[-l-1>>1].neg()):l>0?o=o.add(a[l-1>>1]):o=o.add(a[-l-1>>1].neg())}return e.type==="affine"?o.toP():o};xa.prototype._wnafMulAdd=function(e,r,n,i,a){var s=this._wnafT1,o=this._wnafT2,c=this._wnafT3,f=0,l,x,E;for(l=0;l<i;l++){E=r[l];var C=E._getNAFPoints(e);s[l]=C.wnd,o[l]=C.points}for(l=i-1;l>=1;l-=2){var M=l-1,k=l;if(s[M]!==1||s[k]!==1){c[M]=$u(n[M],s[M],this._bitLength),c[k]=$u(n[k],s[k],this._bitLength),f=Math.max(c[M].length,f),f=Math.max(c[k].length,f);continue}var S=[r[M],null,null,r[k]];r[M].y.cmp(r[k].y)===0?(S[1]=r[M].add(r[k]),S[2]=r[M].toJ().mixedAdd(r[k].neg())):r[M].y.cmp(r[k].y.redNeg())===0?(S[1]=r[M].toJ().mixedAdd(r[k]),S[2]=r[M].add(r[k].neg())):(S[1]=r[M].toJ().mixedAdd(r[k]),S[2]=r[M].toJ().mixedAdd(r[k].neg()));var R=[-3,-1,-5,-7,0,7,5,1,3],B=RM(n[M],n[k]);for(f=Math.max(B[0].length,f),c[M]=new Array(f),c[k]=new Array(f),x=0;x<f;x++){var $=B[0][x]|0,H=B[1][x]|0;c[M][x]=R[($+1)*3+(H+1)],c[k][x]=0,o[M]=S}}var K=this.jpoint(null,null,null),J=this._wnafT4;for(l=f;l>=0;l--){for(var ie=0;l>=0;){var X=!0;for(x=0;x<i;x++)J[x]=c[x][l]|0,J[x]!==0&&(X=!1);if(!X)break;ie++,l--}if(l>=0&&ie++,K=K.dblp(ie),l<0)break;for(x=0;x<i;x++){var re=J[x];re!==0&&(re>0?E=o[x][re-1>>1]:re<0&&(E=o[x][-re-1>>1].neg()),E.type==="affine"?K=K.mixedAdd(E):K=K.add(E))}}for(l=0;l<i;l++)o[l]=null;return a?K:K.toP()};function Pn(t,e){this.curve=t,this.type=e,this.precomputed=null}xa.BasePoint=Pn;Pn.prototype.eq=function(){throw new Error("Not implemented")};Pn.prototype.validate=function(){return this.curve.validate(this)};xa.prototype.decodePoint=function(e,r){e=Nc.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?Hu(e[e.length-1]%2===0):e[0]===7&&Hu(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Pn.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Pn.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Pn.prototype.encode=function(e,r){return Nc.encode(this._encode(r),e)};Pn.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Pn.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Pn.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,a=0;a<r;a+=e){for(var s=0;s<e;s++)i=i.dbl();n.push(i)}return{step:e,points:n}};Pn.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),a=1;a<n;a++)r[a]=r[a-1].add(i);return{wnd:e,points:r}};Pn.prototype._getBeta=function(){return null};Pn.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var PM=hn,Dt=ji,up=Xt,io=Of,BM=PM.assert;function Bn(t){io.call(this,"short",t),this.a=new Dt(t.a,16).toRed(this.red),this.b=new Dt(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}up(Bn,io);var OM=Bn;Bn.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new Dt(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new Dt(e.lambda,16);else{var a=this._getEndoRoots(this.n);this.g.mul(a[0]).x.cmp(this.g.x.redMul(r))===0?n=a[0]:(n=a[1],BM(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var s;return e.basis?s=e.basis.map(function(o){return{a:new Dt(o.a,16),b:new Dt(o.b,16)}}):s=this._getEndoBasis(n),{beta:r,lambda:n,basis:s}}};Bn.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:Dt.mont(e),n=new Dt(2).toRed(r).redInvm(),i=n.redNeg(),a=new Dt(3).toRed(r).redNeg().redSqrt().redMul(n),s=i.redAdd(a).fromRed(),o=i.redSub(a).fromRed();return[s,o]};Bn.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),a=new Dt(1),s=new Dt(0),o=new Dt(0),c=new Dt(1),f,l,x,E,C,M,k,S=0,R,B;n.cmpn(0)!==0;){var $=i.div(n);R=i.sub($.mul(n)),B=o.sub($.mul(a));var H=c.sub($.mul(s));if(!x&&R.cmp(r)<0)f=k.neg(),l=a,x=R.neg(),E=B;else if(x&&++S===2)break;k=R,i=n,n=R,o=a,a=B,c=s,s=H}C=R.neg(),M=B;var K=x.sqr().add(E.sqr()),J=C.sqr().add(M.sqr());return J.cmp(K)>=0&&(C=f,M=l),x.negative&&(x=x.neg(),E=E.neg()),C.negative&&(C=C.neg(),M=M.neg()),[{a:x,b:E},{a:C,b:M}]};Bn.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],a=i.b.mul(e).divRound(this.n),s=n.b.neg().mul(e).divRound(this.n),o=a.mul(n.a),c=s.mul(i.a),f=a.mul(n.b),l=s.mul(i.b),x=e.sub(o).sub(c),E=f.add(l).neg();return{k1:x,k2:E}};Bn.prototype.pointFromX=function(e,r){e=new Dt(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var a=i.fromRed().isOdd();return(r&&!a||!r&&a)&&(i=i.redNeg()),this.point(e,i)};Bn.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),a=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(a).cmpn(0)===0};Bn.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,a=this._endoWnafT2,s=0;s<e.length;s++){var o=this._endoSplit(r[s]),c=e[s],f=c._getBeta();o.k1.negative&&(o.k1.ineg(),c=c.neg(!0)),o.k2.negative&&(o.k2.ineg(),f=f.neg(!0)),i[s*2]=c,i[s*2+1]=f,a[s*2]=o.k1,a[s*2+1]=o.k2}for(var l=this._wnafMulAdd(1,i,a,s*2,n),x=0;x<s*2;x++)i[x]=null,a[x]=null;return l};function lr(t,e,r,n){io.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Dt(e,16),this.y=new Dt(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}up(lr,io.BasePoint);Bn.prototype.point=function(e,r,n){return new lr(this,e,r,n)};Bn.prototype.pointFromJSON=function(e,r){return lr.fromJSON(this,e,r)};lr.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(a){return n.point(a.x.redMul(n.endo.beta),a.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};lr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};lr.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function a(o){return e.point(o[0],o[1],n)}var s=r[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(a))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(a))}},i};lr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};lr.prototype.isInfinity=function(){return this.inf};lr.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};lr.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),a=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),s=a.redSqr().redISub(this.x.redAdd(this.x)),o=a.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)};lr.prototype.getX=function(){return this.x.fromRed()};lr.prototype.getY=function(){return this.y.fromRed()};lr.prototype.mul=function(e){return e=new Dt(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};lr.prototype.mulAdd=function(e,r,n){var i=[this,r],a=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,a):this.curve._wnafMulAdd(1,i,a,2)};lr.prototype.jmulAdd=function(e,r,n){var i=[this,r],a=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,a,!0):this.curve._wnafMulAdd(1,i,a,2,!0)};lr.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};lr.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(a){return a.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};lr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function yr(t,e,r,n){io.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Dt(0)):(this.x=new Dt(e,16),this.y=new Dt(r,16),this.z=new Dt(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}up(yr,io.BasePoint);Bn.prototype.jpoint=function(e,r,n){return new yr(this,e,r,n)};yr.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};yr.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};yr.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),a=e.x.redMul(n),s=this.y.redMul(r.redMul(e.z)),o=e.y.redMul(n.redMul(this.z)),c=i.redSub(a),f=s.redSub(o);if(c.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=c.redSqr(),x=l.redMul(c),E=i.redMul(l),C=f.redSqr().redIAdd(x).redISub(E).redISub(E),M=f.redMul(E.redISub(C)).redISub(s.redMul(x)),k=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(C,M,k)};yr.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),a=this.y,s=e.y.redMul(r).redMul(this.z),o=n.redSub(i),c=a.redSub(s);if(o.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var f=o.redSqr(),l=f.redMul(o),x=n.redMul(f),E=c.redSqr().redIAdd(l).redISub(x).redISub(x),C=c.redMul(x.redISub(E)).redISub(a.redMul(l)),M=this.z.redMul(o);return this.curve.jpoint(E,C,M)};yr.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,a=this.curve.tinv,s=this.x,o=this.y,c=this.z,f=c.redSqr().redSqr(),l=o.redAdd(o);for(r=0;r<e;r++){var x=s.redSqr(),E=l.redSqr(),C=E.redSqr(),M=x.redAdd(x).redIAdd(x).redIAdd(i.redMul(f)),k=s.redMul(E),S=M.redSqr().redISub(k.redAdd(k)),R=k.redISub(S),B=M.redMul(R);B=B.redIAdd(B).redISub(C);var $=l.redMul(c);r+1<e&&(f=f.redMul(C)),s=S,c=$,l=B}return this.curve.jpoint(s,l.redMul(a),c)};yr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};yr.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),s=a.redSqr(),o=this.x.redAdd(a).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var c=i.redAdd(i).redIAdd(i),f=c.redSqr().redISub(o).redISub(o),l=s.redIAdd(s);l=l.redIAdd(l),l=l.redIAdd(l),e=f,r=c.redMul(o.redISub(f)).redISub(l),n=this.y.redAdd(this.y)}else{var x=this.x.redSqr(),E=this.y.redSqr(),C=E.redSqr(),M=this.x.redAdd(E).redSqr().redISub(x).redISub(C);M=M.redIAdd(M);var k=x.redAdd(x).redIAdd(x),S=k.redSqr(),R=C.redIAdd(C);R=R.redIAdd(R),R=R.redIAdd(R),e=S.redISub(M).redISub(M),r=k.redMul(M.redISub(e)).redISub(R),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};yr.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),s=a.redSqr(),o=this.x.redAdd(a).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var c=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),f=c.redSqr().redISub(o).redISub(o);e=f;var l=s.redIAdd(s);l=l.redIAdd(l),l=l.redIAdd(l),r=c.redMul(o.redISub(f)).redISub(l),n=this.y.redAdd(this.y)}else{var x=this.z.redSqr(),E=this.y.redSqr(),C=this.x.redMul(E),M=this.x.redSub(x).redMul(this.x.redAdd(x));M=M.redAdd(M).redIAdd(M);var k=C.redIAdd(C);k=k.redIAdd(k);var S=k.redAdd(k);e=M.redSqr().redISub(S),n=this.y.redAdd(this.z).redSqr().redISub(E).redISub(x);var R=E.redSqr();R=R.redIAdd(R),R=R.redIAdd(R),R=R.redIAdd(R),r=M.redMul(k.redISub(e)).redISub(R)}return this.curve.jpoint(e,r,n)};yr.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,a=i.redSqr().redSqr(),s=r.redSqr(),o=n.redSqr(),c=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(a)),f=r.redAdd(r);f=f.redIAdd(f);var l=f.redMul(o),x=c.redSqr().redISub(l.redAdd(l)),E=l.redISub(x),C=o.redSqr();C=C.redIAdd(C),C=C.redIAdd(C),C=C.redIAdd(C);var M=c.redMul(E).redISub(C),k=n.redAdd(n).redMul(i);return this.curve.jpoint(x,M,k)};yr.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),a=e.redAdd(e).redIAdd(e),s=a.redSqr(),o=this.x.redAdd(r).redSqr().redISub(e).redISub(i);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(s);var c=o.redSqr(),f=i.redIAdd(i);f=f.redIAdd(f),f=f.redIAdd(f),f=f.redIAdd(f);var l=a.redIAdd(o).redSqr().redISub(s).redISub(c).redISub(f),x=r.redMul(l);x=x.redIAdd(x),x=x.redIAdd(x);var E=this.x.redMul(c).redISub(x);E=E.redIAdd(E),E=E.redIAdd(E);var C=this.y.redMul(l.redMul(f.redISub(l)).redISub(o.redMul(c)));C=C.redIAdd(C),C=C.redIAdd(C),C=C.redIAdd(C);var M=this.z.redAdd(o).redSqr().redISub(n).redISub(c);return this.curve.jpoint(E,C,M)};yr.prototype.mul=function(e,r){return e=new Dt(e,r),this.curve._wnafMul(this,e)};yr.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),a=n.redMul(e.z);return this.y.redMul(a).redISub(e.y.redMul(i)).cmpn(0)===0};yr.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),a=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(a),this.x.cmp(n)===0)return!0}};yr.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};yr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var ws=ji,mg=Xt,Lf=Of,LM=hn;function ao(t){Lf.call(this,"mont",t),this.a=new ws(t.a,16).toRed(this.red),this.b=new ws(t.b,16).toRed(this.red),this.i4=new ws(4).toRed(this.red).redInvm(),this.two=new ws(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}mg(ao,Lf);var FM=ao;ao.prototype.validate=function(e){var r=e.normalize().x,n=r.redSqr(),i=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),a=i.redSqrt();return a.redSqr().cmp(i)===0};function fr(t,e,r){Lf.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new ws(e,16),this.z=new ws(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}mg(fr,Lf.BasePoint);ao.prototype.decodePoint=function(e,r){return this.point(LM.toArray(e,r),1)};ao.prototype.point=function(e,r){return new fr(this,e,r)};ao.prototype.pointFromJSON=function(e){return fr.fromJSON(this,e)};fr.prototype.precompute=function(){};fr.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};fr.fromJSON=function(e,r){return new fr(e,r[0],r[1]||e.one)};fr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};fr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};fr.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),a=r.redSub(i),s=r.redMul(i),o=a.redMul(i.redAdd(this.curve.a24.redMul(a)));return this.curve.point(s,o)};fr.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};fr.prototype.diffAdd=function(e,r){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),a=e.x.redAdd(e.z),s=e.x.redSub(e.z),o=s.redMul(n),c=a.redMul(i),f=r.z.redMul(o.redAdd(c).redSqr()),l=r.x.redMul(o.redISub(c).redSqr());return this.curve.point(f,l)};fr.prototype.mul=function(e){for(var r=e.clone(),n=this,i=this.curve.point(null,null),a=this,s=[];r.cmpn(0)!==0;r.iushrn(1))s.push(r.andln(1));for(var o=s.length-1;o>=0;o--)s[o]===0?(n=n.diffAdd(i,a),i=i.dbl()):(i=n.diffAdd(i,a),n=n.dbl());return i};fr.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};fr.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};fr.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};fr.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};fr.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var DM=hn,Pi=ji,yg=Xt,Ff=Of,UM=DM.assert;function Ei(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,Ff.call(this,"edwards",t),this.a=new Pi(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Pi(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Pi(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),UM(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}yg(Ei,Ff);var $M=Ei;Ei.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};Ei.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};Ei.prototype.jpoint=function(e,r,n,i){return this.point(e,r,n,i)};Ei.prototype.pointFromX=function(e,r){e=new Pi(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=this.c2.redSub(this.a.redMul(n)),a=this.one.redSub(this.c2.redMul(this.d).redMul(n)),s=i.redMul(a.redInvm()),o=s.redSqrt();if(o.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");var c=o.fromRed().isOdd();return(r&&!c||!r&&c)&&(o=o.redNeg()),this.point(e,o)};Ei.prototype.pointFromY=function(e,r){e=new Pi(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=n.redSub(this.c2),a=n.redMul(this.d).redMul(this.c2).redSub(this.a),s=i.redMul(a.redInvm());if(s.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var o=s.redSqrt();if(o.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");return o.fromRed().isOdd()!==r&&(o=o.redNeg()),this.point(o,e)};Ei.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),n=e.y.redSqr(),i=r.redMul(this.a).redAdd(n),a=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return i.cmp(a)===0};function St(t,e,r,n,i){Ff.BasePoint.call(this,t,"projective"),e===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new Pi(e,16),this.y=new Pi(r,16),this.z=n?new Pi(n,16):this.curve.one,this.t=i&&new Pi(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}yg(St,Ff.BasePoint);Ei.prototype.pointFromJSON=function(e){return St.fromJSON(this,e)};Ei.prototype.point=function(e,r,n,i){return new St(this,e,r,n,i)};St.fromJSON=function(e,r){return new St(e,r[0],r[1],r[2])};St.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};St.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};St.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(e),a=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),s=i.redAdd(r),o=s.redSub(n),c=i.redSub(r),f=a.redMul(o),l=s.redMul(c),x=a.redMul(c),E=o.redMul(s);return this.curve.point(f,l,E,x)};St.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),i,a,s,o,c,f;if(this.curve.twisted){o=this.curve._mulA(r);var l=o.redAdd(n);this.zOne?(i=e.redSub(r).redSub(n).redMul(l.redSub(this.curve.two)),a=l.redMul(o.redSub(n)),s=l.redSqr().redSub(l).redSub(l)):(c=this.z.redSqr(),f=l.redSub(c).redISub(c),i=e.redSub(r).redISub(n).redMul(f),a=l.redMul(o.redSub(n)),s=l.redMul(f))}else o=r.redAdd(n),c=this.curve._mulC(this.z).redSqr(),f=o.redSub(c).redSub(c),i=this.curve._mulC(e.redISub(o)).redMul(f),a=this.curve._mulC(o).redMul(r.redISub(n)),s=o.redMul(f);return this.curve.point(i,a,s)};St.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};St.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),a=this.z.redMul(e.z.redAdd(e.z)),s=n.redSub(r),o=a.redSub(i),c=a.redAdd(i),f=n.redAdd(r),l=s.redMul(o),x=c.redMul(f),E=s.redMul(f),C=o.redMul(c);return this.curve.point(l,x,C,E)};St.prototype._projAdd=function(e){var r=this.z.redMul(e.z),n=r.redSqr(),i=this.x.redMul(e.x),a=this.y.redMul(e.y),s=this.curve.d.redMul(i).redMul(a),o=n.redSub(s),c=n.redAdd(s),f=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(a),l=r.redMul(o).redMul(f),x,E;return this.curve.twisted?(x=r.redMul(c).redMul(a.redSub(this.curve._mulA(i))),E=o.redMul(c)):(x=r.redMul(c).redMul(a.redSub(i)),E=this.curve._mulC(o).redMul(c)),this.curve.point(l,x,E)};St.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};St.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};St.prototype.mulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!1)};St.prototype.jmulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!0)};St.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};St.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};St.prototype.getX=function(){return this.normalize(),this.x.fromRed()};St.prototype.getY=function(){return this.normalize(),this.y.fromRed()};St.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};St.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}};St.prototype.toP=St.prototype.normalize;St.prototype.mixedAdd=St.prototype.add;(function(t){var e=t;e.base=Of,e.short=OM,e.mont=FM,e.edwards=$M})(cp);var Df={},Xd,hy;function HM(){return hy||(hy=1,Xd={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),Xd}(function(t){var e=t,r=Ic,n=cp,i=hn,a=i.assert;function s(f){f.type==="short"?this.curve=new n.short(f):f.type==="edwards"?this.curve=new n.edwards(f):this.curve=new n.mont(f),this.g=this.curve.g,this.n=this.curve.n,this.hash=f.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=s;function o(f,l){Object.defineProperty(e,f,{configurable:!0,enumerable:!0,get:function(){var x=new s(l);return Object.defineProperty(e,f,{configurable:!0,enumerable:!0,value:x}),x}})}o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var c;try{c=HM()}catch{c=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",c]})})(Df);var zM=Ic,Da=sp,bg=es;function la(t){if(!(this instanceof la))return new la(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Da.toArray(t.entropy,t.entropyEnc||"hex"),r=Da.toArray(t.nonce,t.nonceEnc||"hex"),n=Da.toArray(t.pers,t.persEnc||"hex");bg(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var qM=la;la.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var a=0;a<this.V.length;a++)this.K[a]=0,this.V[a]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};la.prototype._hmac=function(){return new zM.hmac(this.hash,this.K)};la.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};la.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=Da.toArray(e,r),n=Da.toArray(n,i),bg(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};la.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=Da.toArray(n,i||"hex"),this._update(n));for(var a=[];a.length<e;)this.V=this._hmac().update(this.V).digest(),a=a.concat(this.V);var s=a.slice(0,e);return this._update(n),this._reseed++,Da.encode(s,r)};var jM=ji,KM=hn,f0=KM.assert;function Ir(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var GM=Ir;Ir.fromPublic=function(e,r,n){return r instanceof Ir?r:new Ir(e,{pub:r,pubEnc:n})};Ir.fromPrivate=function(e,r,n){return r instanceof Ir?r:new Ir(e,{priv:r,privEnc:n})};Ir.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Ir.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Ir.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Ir.prototype._importPrivate=function(e,r){this.priv=new jM(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Ir.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?f0(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&f0(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Ir.prototype.derive=function(e){return e.validate()||f0(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Ir.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};Ir.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};Ir.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var zu=ji,fp=hn,VM=fp.assert;function Uf(t,e){if(t instanceof Uf)return t;this._importDER(t,e)||(VM(t.r&&t.s,"Signature without r or s"),this.r=new zu(t.r,16),this.s=new zu(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var WM=Uf;function JM(){this.place=0}function el(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,a=0,s=e.place;a<n;a++,s++)i<<=8,i|=t[s],i>>>=0;return i<=127?!1:(e.place=s,i)}function py(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}Uf.prototype._importDER=function(e,r){e=fp.toArray(e,r);var n=new JM;if(e[n.place++]!==48)return!1;var i=el(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var a=el(e,n);if(a===!1)return!1;var s=e.slice(n.place,a+n.place);if(n.place+=a,e[n.place++]!==2)return!1;var o=el(e,n);if(o===!1||e.length!==o+n.place)return!1;var c=e.slice(n.place,o+n.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new zu(s),this.s=new zu(c),this.recoveryParam=null,!0};function tl(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}Uf.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=py(r),n=py(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];tl(i,r.length),i=i.concat(r),i.push(2),tl(i,n.length);var a=i.concat(n),s=[48];return tl(s,a.length),s=s.concat(a),fp.encode(s,e)};var Ua=ji,xg=qM,YM=hn,rl=Df,ZM=pg,gg=YM.assert,dp=GM,$f=WM;function Cn(t){if(!(this instanceof Cn))return new Cn(t);typeof t=="string"&&(gg(Object.prototype.hasOwnProperty.call(rl,t),"Unknown curve "+t),t=rl[t]),t instanceof rl.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var QM=Cn;Cn.prototype.keyPair=function(e){return new dp(this,e)};Cn.prototype.keyFromPrivate=function(e,r){return dp.fromPrivate(this,e,r)};Cn.prototype.keyFromPublic=function(e,r){return dp.fromPublic(this,e,r)};Cn.prototype.genKeyPair=function(e){e||(e={});for(var r=new xg({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||ZM(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new Ua(2));;){var a=new Ua(r.generate(n));if(!(a.cmp(i)>0))return a.iaddn(1),this.keyFromPrivate(a)}};Cn.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};Cn.prototype.sign=function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new Ua(e,16));for(var a=this.n.byteLength(),s=r.getPrivate().toArray("be",a),o=e.toArray("be",a),c=new xg({hash:this.hash,entropy:s,nonce:o,pers:i.pers,persEnc:i.persEnc||"utf8"}),f=this.n.sub(new Ua(1)),l=0;;l++){var x=i.k?i.k(l):new Ua(c.generate(this.n.byteLength()));if(x=this._truncateToN(x,!0),!(x.cmpn(1)<=0||x.cmp(f)>=0)){var E=this.g.mul(x);if(!E.isInfinity()){var C=E.getX(),M=C.umod(this.n);if(M.cmpn(0)!==0){var k=x.invm(this.n).mul(M.mul(r.getPrivate()).iadd(e));if(k=k.umod(this.n),k.cmpn(0)!==0){var S=(E.getY().isOdd()?1:0)|(C.cmp(M)!==0?2:0);return i.canonical&&k.cmp(this.nh)>0&&(k=this.n.sub(k),S^=1),new $f({r:M,s:k,recoveryParam:S})}}}}}};Cn.prototype.verify=function(e,r,n,i){e=this._truncateToN(new Ua(e,16)),n=this.keyFromPublic(n,i),r=new $f(r,"hex");var a=r.r,s=r.s;if(a.cmpn(1)<0||a.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var o=s.invm(this.n),c=o.mul(e).umod(this.n),f=o.mul(a).umod(this.n),l;return this.curve._maxwellTrick?(l=this.g.jmulAdd(c,n.getPublic(),f),l.isInfinity()?!1:l.eqXToP(a)):(l=this.g.mulAdd(c,n.getPublic(),f),l.isInfinity()?!1:l.getX().umod(this.n).cmp(a)===0)};Cn.prototype.recoverPubKey=function(t,e,r,n){gg((3&r)===r,"The recovery param is more than two bits"),e=new $f(e,n);var i=this.n,a=new Ua(t),s=e.r,o=e.s,c=r&1,f=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&f)throw new Error("Unable to find sencond key candinate");f?s=this.curve.pointFromX(s.add(this.curve.n),c):s=this.curve.pointFromX(s,c);var l=e.r.invm(i),x=i.sub(a).mul(l).umod(i),E=o.mul(l).umod(i);return this.g.mulAdd(x,s,E)};Cn.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new $f(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var a;try{a=this.recoverPubKey(t,e,i)}catch{continue}if(a.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var Rc=hn,vg=Rc.assert,my=Rc.parseBytes,so=Rc.cachedProperty;function ur(t,e){this.eddsa=t,this._secret=my(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=my(e.pub)}ur.fromPublic=function(e,r){return r instanceof ur?r:new ur(e,{pub:r})};ur.fromSecret=function(e,r){return r instanceof ur?r:new ur(e,{secret:r})};ur.prototype.secret=function(){return this._secret};so(ur,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});so(ur,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});so(ur,"privBytes",function(){var e=this.eddsa,r=this.hash(),n=e.encodingLength-1,i=r.slice(0,e.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i});so(ur,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});so(ur,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});so(ur,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});ur.prototype.sign=function(e){return vg(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};ur.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};ur.prototype.getSecret=function(e){return vg(this._secret,"KeyPair is public only"),Rc.encode(this.secret(),e)};ur.prototype.getPublic=function(e){return Rc.encode(this.pubBytes(),e)};var XM=ur,ek=ji,Hf=hn,tk=Hf.assert,zf=Hf.cachedProperty,rk=Hf.parseBytes;function is(t,e){this.eddsa=t,typeof e!="object"&&(e=rk(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),tk(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof ek&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}zf(is,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});zf(is,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});zf(is,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});zf(is,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});is.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};is.prototype.toHex=function(){return Hf.encode(this.toBytes(),"hex").toUpperCase()};var nk=is,ik=Ic,ak=Df,Os=hn,sk=Os.assert,wg=Os.parseBytes,Ag=XM,yy=nk;function Yr(t){if(sk(t==="ed25519","only tested with ed25519 so far"),!(this instanceof Yr))return new Yr(t);t=ak[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=ik.sha512}var ok=Yr;Yr.prototype.sign=function(e,r){e=wg(e);var n=this.keyFromSecret(r),i=this.hashInt(n.messagePrefix(),e),a=this.g.mul(i),s=this.encodePoint(a),o=this.hashInt(s,n.pubBytes(),e).mul(n.priv()),c=i.add(o).umod(this.curve.n);return this.makeSignature({R:a,S:c,Rencoded:s})};Yr.prototype.verify=function(e,r,n){e=wg(e),r=this.makeSignature(r);var i=this.keyFromPublic(n),a=this.hashInt(r.Rencoded(),i.pubBytes(),e),s=this.g.mul(r.S()),o=r.R().add(i.pub().mul(a));return o.eq(s)};Yr.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return Os.intFromLE(e.digest()).umod(this.curve.n)};Yr.prototype.keyFromPublic=function(e){return Ag.fromPublic(this,e)};Yr.prototype.keyFromSecret=function(e){return Ag.fromSecret(this,e)};Yr.prototype.makeSignature=function(e){return e instanceof yy?e:new yy(this,e)};Yr.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};Yr.prototype.decodePoint=function(e){e=Os.parseBytes(e);var r=e.length-1,n=e.slice(0,r).concat(e[r]&-129),i=(e[r]&128)!==0,a=Os.intFromLE(n);return this.curve.pointFromY(a,i)};Yr.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};Yr.prototype.decodeInt=function(e){return Os.intFromLE(e)};Yr.prototype.isPoint=function(e){return e instanceof this.pointClass};(function(t){var e=t;e.version=NM.version,e.utils=hn,e.rand=pg,e.curve=cp,e.curves=Df,e.ec=QM,e.eddsa=ok})(hg);const ck=hg.ec,si=new ck("secp256k1"),yt=si.curve,_t=yt.n.constructor;function uk(t,e){let r=new _t(e);if(r.cmp(yt.p)>=0)return null;r=r.toRed(yt.red);let n=r.redSqr().redIMul(r).redIAdd(yt.b).redSqrt();return t===3!==n.isOdd()&&(n=n.redNeg()),si.keyPair({pub:{x:r,y:n}})}function fk(t,e,r){let n=new _t(e),i=new _t(r);if(n.cmp(yt.p)>=0||i.cmp(yt.p)>=0||(n=n.toRed(yt.red),i=i.toRed(yt.red),(t===6||t===7)&&i.isOdd()!==(t===7)))return null;const a=n.redSqr().redIMul(n);return i.redSqr().redISub(a.redIAdd(yt.b)).isZero()?si.keyPair({pub:{x:n,y:i}}):null}function Zi(t){const e=t[0];switch(e){case 2:case 3:return t.length!==33?null:uk(e,t.subarray(1,33));case 4:case 6:case 7:return t.length!==65?null:fk(e,t.subarray(1,33),t.subarray(33,65));default:return null}}function Ta(t,e){const r=e.encode(null,t.length===33);for(let n=0;n<t.length;++n)t[n]=r[n]}var dk={contextRandomize(){return 0},privateKeyVerify(t){const e=new _t(t);return e.cmp(yt.n)<0&&!e.isZero()?0:1},privateKeyNegate(t){const e=new _t(t),r=yt.n.sub(e).umod(yt.n).toArrayLike(Uint8Array,"be",32);return t.set(r),0},privateKeyTweakAdd(t,e){const r=new _t(e);if(r.cmp(yt.n)>=0||(r.iadd(new _t(t)),r.cmp(yt.n)>=0&&r.isub(yt.n),r.isZero()))return 1;const n=r.toArrayLike(Uint8Array,"be",32);return t.set(n),0},privateKeyTweakMul(t,e){let r=new _t(e);if(r.cmp(yt.n)>=0||r.isZero())return 1;r.imul(new _t(t)),r.cmp(yt.n)>=0&&(r=r.umod(yt.n));const n=r.toArrayLike(Uint8Array,"be",32);return t.set(n),0},publicKeyVerify(t){return Zi(t)===null?1:0},publicKeyCreate(t,e){const r=new _t(e);if(r.cmp(yt.n)>=0||r.isZero())return 1;const n=si.keyFromPrivate(e).getPublic();return Ta(t,n),0},publicKeyConvert(t,e){const r=Zi(e);if(r===null)return 1;const n=r.getPublic();return Ta(t,n),0},publicKeyNegate(t,e){const r=Zi(e);if(r===null)return 1;const n=r.getPublic();return n.y=n.y.redNeg(),Ta(t,n),0},publicKeyCombine(t,e){const r=new Array(e.length);for(let i=0;i<e.length;++i)if(r[i]=Zi(e[i]),r[i]===null)return 1;let n=r[0].getPublic();for(let i=1;i<r.length;++i)n=n.add(r[i].pub);return n.isInfinity()?2:(Ta(t,n),0)},publicKeyTweakAdd(t,e,r){const n=Zi(e);if(n===null)return 1;if(r=new _t(r),r.cmp(yt.n)>=0)return 2;const i=n.getPublic().add(yt.g.mul(r));return i.isInfinity()?2:(Ta(t,i),0)},publicKeyTweakMul(t,e,r){const n=Zi(e);if(n===null)return 1;if(r=new _t(r),r.cmp(yt.n)>=0||r.isZero())return 2;const i=n.getPublic().mul(r);return Ta(t,i),0},signatureNormalize(t){const e=new _t(t.subarray(0,32)),r=new _t(t.subarray(32,64));return e.cmp(yt.n)>=0||r.cmp(yt.n)>=0?1:(r.cmp(si.nh)===1&&t.set(yt.n.sub(r).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(t,e){const r=e.subarray(0,32),n=e.subarray(32,64);if(new _t(r).cmp(yt.n)>=0||new _t(n).cmp(yt.n)>=0)return 1;const{output:i}=t;let a=i.subarray(4,4+33);a[0]=0,a.set(r,1);let s=33,o=0;for(;s>1&&a[o]===0&&!(a[o+1]&128);--s,++o);if(a=a.subarray(o),a[0]&128||s>1&&a[0]===0&&!(a[1]&128))return 1;let c=i.subarray(6+33,6+33+33);c[0]=0,c.set(n,1);let f=33,l=0;for(;f>1&&c[l]===0&&!(c[l+1]&128);--f,++l);return c=c.subarray(l),c[0]&128||f>1&&c[0]===0&&!(c[1]&128)?1:(t.outputlen=6+s+f,i[0]=48,i[1]=t.outputlen-2,i[2]=2,i[3]=a.length,i.set(a,4),i[4+s]=2,i[5+s]=c.length,i.set(c,6+s),0)},signatureImport(t,e){if(e.length<8||e.length>72||e[0]!==48||e[1]!==e.length-2||e[2]!==2)return 1;const r=e[3];if(r===0||5+r>=e.length||e[4+r]!==2)return 1;const n=e[5+r];if(n===0||6+r+n!==e.length||e[4]&128||r>1&&e[4]===0&&!(e[5]&128)||e[r+6]&128||n>1&&e[r+6]===0&&!(e[r+7]&128))return 1;let i=e.subarray(4,4+r);if(i.length===33&&i[0]===0&&(i=i.subarray(1)),i.length>32)return 1;let a=e.subarray(6+r);if(a.length===33&&a[0]===0&&(a=a.slice(1)),a.length>32)throw new Error("S length is too long");let s=new _t(i);s.cmp(yt.n)>=0&&(s=new _t(0));let o=new _t(e.subarray(6+r));return o.cmp(yt.n)>=0&&(o=new _t(0)),t.set(s.toArrayLike(Uint8Array,"be",32),0),t.set(o.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(t,e,r,n,i){if(i){const o=i;i=c=>{const f=o(e,r,null,n,c);if(!(f instanceof Uint8Array&&f.length===32))throw new Error("This is the way");return new _t(f)}}const a=new _t(r);if(a.cmp(yt.n)>=0||a.isZero())return 1;let s;try{s=si.sign(e,r,{canonical:!0,k:i,pers:n})}catch{return 1}return t.signature.set(s.r.toArrayLike(Uint8Array,"be",32),0),t.signature.set(s.s.toArrayLike(Uint8Array,"be",32),32),t.recid=s.recoveryParam,0},ecdsaVerify(t,e,r){const n={r:t.subarray(0,32),s:t.subarray(32,64)},i=new _t(n.r),a=new _t(n.s);if(i.cmp(yt.n)>=0||a.cmp(yt.n)>=0)return 1;if(a.cmp(si.nh)===1||i.isZero()||a.isZero())return 3;const s=Zi(r);if(s===null)return 2;const o=s.getPublic();return si.verify(e,n,o)?0:3},ecdsaRecover(t,e,r,n){const i={r:e.slice(0,32),s:e.slice(32,64)},a=new _t(i.r),s=new _t(i.s);if(a.cmp(yt.n)>=0||s.cmp(yt.n)>=0)return 1;if(a.isZero()||s.isZero())return 2;let o;try{o=si.recoverPubKey(n,i,r)}catch{return 2}return Ta(t,o),0},ecdh(t,e,r,n,i,a,s){const o=Zi(e);if(o===null)return 1;const c=new _t(r);if(c.cmp(yt.n)>=0||c.isZero())return 2;const f=o.getPublic().mul(c);if(i===void 0){const l=f.encode(null,!0),x=si.hash().update(l).digest();for(let E=0;E<32;++E)t[E]=x[E]}else{a||(a=new Uint8Array(32));const l=f.getX().toArray("be",32);for(let M=0;M<32;++M)a[M]=l[M];s||(s=new Uint8Array(32));const x=f.getY().toArray("be",32);for(let M=0;M<32;++M)s[M]=x[M];const E=i(a,s,n);if(!(E instanceof Uint8Array&&E.length===t.length))return 2;t.set(E)}return 0}},by=yM(dk),qf={},d0={exports:{}},l0={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var r=ns,n=r.Buffer;function i(s,o){for(var c in s)o[c]=s[c]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=a);function a(s,o,c){return n(s,o,c)}a.prototype=Object.create(n.prototype),i(n,a),a.from=function(s,o,c){if(typeof s=="number")throw new TypeError("Argument must not be a number");return n(s,o,c)},a.alloc=function(s,o,c){if(typeof s!="number")throw new TypeError("Argument must be a number");var f=n(s);return o!==void 0?typeof c=="string"?f.fill(o,c):f.fill(o):f.fill(0),f},a.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n(s)},a.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(s)}})(l0,l0.exports);var On=l0.exports,nl=65536,lk=4294967295;function hk(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var pk=On.Buffer,qu=Ye.crypto||Ye.msCrypto;qu&&qu.getRandomValues?d0.exports=mk:d0.exports=hk;function mk(t,e){if(t>lk)throw new RangeError("requested too many random bytes");var r=pk.allocUnsafe(t);if(t>0)if(t>nl)for(var n=0;n<t;n+=nl)qu.getRandomValues(r.slice(n,n+nl));else qu.getRandomValues(r);return typeof e=="function"?process.nextTick(function(){e(null,r)}):r}var Eg=d0.exports;Object.defineProperty(qf,"__esModule",{value:!0});var _g=Eg;function yk(t){return new Promise(function(e,r){_g(t,function(n,i){if(n){r(n);return}e(i)})})}qf.getRandomBytes=yk;function bk(t){return _g(t)}qf.getRandomBytesSync=bk;(function(t){var e=Ye&&Ye.__awaiter||function(f,l,x,E){function C(M){return M instanceof x?M:new x(function(k){k(M)})}return new(x||(x=Promise))(function(M,k){function S($){try{B(E.next($))}catch(H){k(H)}}function R($){try{B(E.throw($))}catch(H){k(H)}}function B($){$.done?M($.value):C($.value).then(S,R)}B((E=E.apply(f,l||[])).next())})},r=Ye&&Ye.__generator||function(f,l){var x={label:0,sent:function(){if(M[0]&1)throw M[1];return M[1]},trys:[],ops:[]},E,C,M,k;return k={next:S(0),throw:S(1),return:S(2)},typeof Symbol=="function"&&(k[Symbol.iterator]=function(){return this}),k;function S(B){return function($){return R([B,$])}}function R(B){if(E)throw new TypeError("Generator is already executing.");for(;x;)try{if(E=1,C&&(M=B[0]&2?C.return:B[0]?C.throw||((M=C.return)&&M.call(C),0):C.next)&&!(M=M.call(C,B[1])).done)return M;switch(C=0,M&&(B=[B[0]&2,M.value]),B[0]){case 0:case 1:M=B;break;case 4:return x.label++,{value:B[1],done:!1};case 5:x.label++,C=B[1],B=[0];continue;case 7:B=x.ops.pop(),x.trys.pop();continue;default:if(M=x.trys,!(M=M.length>0&&M[M.length-1])&&(B[0]===6||B[0]===2)){x=0;continue}if(B[0]===3&&(!M||B[1]>M[0]&&B[1]<M[3])){x.label=B[1];break}if(B[0]===6&&x.label<M[1]){x.label=M[1],M=B;break}if(M&&x.label<M[2]){x.label=M[2],x.ops.push(B);break}M[2]&&x.ops.pop(),x.trys.pop();continue}B=l.call(f,x)}catch($){B=[6,$],C=0}finally{E=M=0}if(B[0]&5)throw B[1];return{value:B[0]?B[1]:void 0,done:!0}}};function n(f){for(var l in f)t.hasOwnProperty(l)||(t[l]=f[l])}Object.defineProperty(t,"__esModule",{value:!0});var i=by,a=qf,s=32;function o(){return e(this,void 0,void 0,function(){var f;return r(this,function(l){switch(l.label){case 0:return[4,a.getRandomBytes(s)];case 1:return f=l.sent(),i.privateKeyVerify(f)?[2,f]:[3,0];case 2:return[2]}})})}t.createPrivateKey=o;function c(){for(;;){var f=a.getRandomBytesSync(s);if(i.privateKeyVerify(f))return f}}t.createPrivateKeySync=c,n(by)})(ip);var Tt={};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.isHexString=Tt.getKeys=Tt.fromAscii=Tt.fromUtf8=Tt.toAscii=Tt.arrayContainsArray=Tt.getBinarySize=Tt.padToEven=Tt.stripHexPrefix=Tt.isHexPrefixed=void 0;function Tg(t){if(typeof t!="string")throw new Error("[isHexPrefixed] input must be type 'string', received type ".concat(typeof t));return t[0]==="0"&&t[1]==="x"}Tt.isHexPrefixed=Tg;var xk=function(t){if(typeof t!="string")throw new Error("[stripHexPrefix] input must be type 'string', received ".concat(typeof t));return Tg(t)?t.slice(2):t};Tt.stripHexPrefix=xk;function Mg(t){var e=t;if(typeof e!="string")throw new Error("[padToEven] value must be type 'string', received ".concat(typeof e));return e.length%2&&(e="0".concat(e)),e}Tt.padToEven=Mg;function gk(t){if(typeof t!="string")throw new Error("[getBinarySize] method requires input type 'string', recieved ".concat(typeof t));return Buffer.byteLength(t,"utf8")}Tt.getBinarySize=gk;function vk(t,e,r){if(Array.isArray(t)!==!0)throw new Error("[arrayContainsArray] method requires input 'superset' to be an array, got type '".concat(typeof t,"'"));if(Array.isArray(e)!==!0)throw new Error("[arrayContainsArray] method requires input 'subset' to be an array, got type '".concat(typeof e,"'"));return e[r?"some":"every"](function(n){return t.indexOf(n)>=0})}Tt.arrayContainsArray=vk;function wk(t){var e="",r=0,n=t.length;for(t.substring(0,2)==="0x"&&(r=2);r<n;r+=2){var i=parseInt(t.substr(r,2),16);e+=String.fromCharCode(i)}return e}Tt.toAscii=wk;function Ak(t){var e=Buffer.from(t,"utf8");return"0x".concat(Mg(e.toString("hex")).replace(/^0+|0+$/g,""))}Tt.fromUtf8=Ak;function Ek(t){for(var e="",r=0;r<t.length;r++){var n=t.charCodeAt(r),i=n.toString(16);e+=i.length<2?"0".concat(i):i}return"0x".concat(e)}Tt.fromAscii=Ek;function _k(t,e,r){if(!Array.isArray(t))throw new Error("[getKeys] method expects input 'params' to be an array, got ".concat(typeof t));if(typeof e!="string")throw new Error("[getKeys] method expects input 'key' to be type 'string', got ".concat(typeof t));for(var n=[],i=0;i<t.length;i++){var a=t[i][e];if(r&&!a)a="";else if(typeof a!="string")throw new Error("invalid abi - expected type 'string', received ".concat(typeof a));n.push(a)}return n}Tt.getKeys=_k;function Tk(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}Tt.isHexString=Tk;var ga={},cn={};Object.defineProperty(cn,"__esModule",{value:!0});cn.assertIsString=cn.assertIsArray=cn.assertIsBuffer=cn.assertIsHexString=void 0;var Mk=Tt,kk=function(t){if(!(0,Mk.isHexString)(t)){var e="This method only supports 0x-prefixed hex strings but input was: ".concat(t);throw new Error(e)}};cn.assertIsHexString=kk;var Ik=function(t){if(!Buffer.isBuffer(t)){var e="This method only supports Buffer but input was: ".concat(t);throw new Error(e)}};cn.assertIsBuffer=Ik;var Sk=function(t){if(!Array.isArray(t)){var e="This method only supports number arrays but input was: ".concat(t);throw new Error(e)}};cn.assertIsArray=Sk;var Ck=function(t){if(typeof t!="string"){var e="This method only supports strings but input was: ".concat(t);throw new Error(e)}};cn.assertIsString=Ck;(function(t){var e=Ye&&Ye.__values||function(m){var d=typeof Symbol=="function"&&Symbol.iterator,h=d&&m[d],u=0;if(h)return h.call(m);if(m&&typeof m.length=="number")return{next:function(){return m&&u>=m.length&&(m=void 0),{value:m&&m[u++],done:!m}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},r=Ye&&Ye.__read||function(m,d){var h=typeof Symbol=="function"&&m[Symbol.iterator];if(!h)return m;var u=h.call(m),p,g=[],_;try{for(;(d===void 0||d-- >0)&&!(p=u.next()).done;)g.push(p.value)}catch(A){_={error:A}}finally{try{p&&!p.done&&(h=u.return)&&h.call(u)}finally{if(_)throw _.error}}return g};Object.defineProperty(t,"__esModule",{value:!0}),t.bufArrToArr=t.arrToBufArr=t.validateNoLeadingZeroes=t.baToJSON=t.toUtf8=t.addHexPrefix=t.toUnsigned=t.fromSigned=t.bufferToHex=t.bufferToInt=t.toBuffer=t.unpadHexString=t.unpadArray=t.unpadBuffer=t.setLengthRight=t.setLengthLeft=t.zeros=t.intToBuffer=t.intToHex=void 0;var n=Jr,i=Tt,a=cn,s=function(m){if(!Number.isSafeInteger(m)||m<0)throw new Error("Received an invalid integer type: ".concat(m));return"0x".concat(m.toString(16))};t.intToHex=s;var o=function(m){var d=(0,t.intToHex)(m);return Buffer.from((0,i.padToEven)(d.slice(2)),"hex")};t.intToBuffer=o;var c=function(m){return Buffer.allocUnsafe(m).fill(0)};t.zeros=c;var f=function(m,d,h){var u=(0,t.zeros)(d);return h?m.length<d?(m.copy(u),u):m.slice(0,d):m.length<d?(m.copy(u,d-m.length),u):m.slice(-d)},l=function(m,d){return(0,a.assertIsBuffer)(m),f(m,d,!1)};t.setLengthLeft=l;var x=function(m,d){return(0,a.assertIsBuffer)(m),f(m,d,!0)};t.setLengthRight=x;var E=function(m){for(var d=m[0];m.length>0&&d.toString()==="0";)m=m.slice(1),d=m[0];return m},C=function(m){return(0,a.assertIsBuffer)(m),E(m)};t.unpadBuffer=C;var M=function(m){return(0,a.assertIsArray)(m),E(m)};t.unpadArray=M;var k=function(m){return(0,a.assertIsHexString)(m),m=(0,i.stripHexPrefix)(m),E(m)};t.unpadHexString=k;var S=function(m){if(m==null)return Buffer.allocUnsafe(0);if(Buffer.isBuffer(m)||Array.isArray(m)||m instanceof Uint8Array)return Buffer.from(m);if(typeof m=="string"){if(!(0,i.isHexString)(m))throw new Error("Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ".concat(m));return Buffer.from((0,i.padToEven)((0,i.stripHexPrefix)(m)),"hex")}if(typeof m=="number")return(0,t.intToBuffer)(m);if(n.BN.isBN(m)){if(m.isNeg())throw new Error("Cannot convert negative BN to buffer. Given: ".concat(m));return m.toArrayLike(Buffer)}if(m.toArray)return Buffer.from(m.toArray());if(m.toBuffer)return Buffer.from(m.toBuffer());throw new Error("invalid type")};t.toBuffer=S;var R=function(m){return new n.BN((0,t.toBuffer)(m)).toNumber()};t.bufferToInt=R;var B=function(m){return m=(0,t.toBuffer)(m),"0x"+m.toString("hex")};t.bufferToHex=B;var $=function(m){return new n.BN(m).fromTwos(256)};t.fromSigned=$;var H=function(m){return Buffer.from(m.toTwos(256).toArray())};t.toUnsigned=H;var K=function(m){return typeof m!="string"||(0,i.isHexPrefixed)(m)?m:"0x"+m};t.addHexPrefix=K;var J=function(m){var d=/^(00)+|(00)+$/g;if(m=(0,i.stripHexPrefix)(m),m.length%2!==0)throw new Error("Invalid non-even hex string input for toUtf8() provided");var h=Buffer.from(m.replace(d,""),"hex");return h.toString("utf8")};t.toUtf8=J;var ie=function(m){if(Buffer.isBuffer(m))return"0x".concat(m.toString("hex"));if(m instanceof Array){for(var d=[],h=0;h<m.length;h++)d.push((0,t.baToJSON)(m[h]));return d}};t.baToJSON=ie;var X=function(m){var d,h;try{for(var u=e(Object.entries(m)),p=u.next();!p.done;p=u.next()){var g=r(p.value,2),_=g[0],A=g[1];if(A!==void 0&&A.length>0&&A[0]===0)throw new Error("".concat(_," cannot have leading zeroes, received: ").concat(A.toString("hex")))}}catch(y){d={error:y}}finally{try{p&&!p.done&&(h=u.return)&&h.call(u)}finally{if(d)throw d.error}}};t.validateNoLeadingZeroes=X;function re(m){return Array.isArray(m)?m.map(function(d){return re(d)}):Buffer.from(m)}t.arrToBufArr=re;function D(m){return Array.isArray(m)?m.map(function(d){return D(d)}):Uint8Array.from(m??[])}t.bufArrToArr=D})(ga);var jf={},oo={},lp={};Object.defineProperty(lp,"__esModule",{value:!0});function Nk(t){return function(e){var r=t();return r.update(e),Buffer.from(r.digest())}}lp.createHashFunction=Nk;var h0={exports:{}},kg=dn.EventEmitter,il,xy;function Rk(){if(xy)return il;xy=1;function t(M,k){var S=Object.keys(M);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(M);k&&(R=R.filter(function(B){return Object.getOwnPropertyDescriptor(M,B).enumerable})),S.push.apply(S,R)}return S}function e(M){for(var k=1;k<arguments.length;k++){var S=arguments[k]!=null?arguments[k]:{};k%2?t(Object(S),!0).forEach(function(R){r(M,R,S[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(S)):t(Object(S)).forEach(function(R){Object.defineProperty(M,R,Object.getOwnPropertyDescriptor(S,R))})}return M}function r(M,k,S){return k=s(k),k in M?Object.defineProperty(M,k,{value:S,enumerable:!0,configurable:!0,writable:!0}):M[k]=S,M}function n(M,k){if(!(M instanceof k))throw new TypeError("Cannot call a class as a function")}function i(M,k){for(var S=0;S<k.length;S++){var R=k[S];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(M,s(R.key),R)}}function a(M,k,S){return k&&i(M.prototype,k),S&&i(M,S),Object.defineProperty(M,"prototype",{writable:!1}),M}function s(M){var k=o(M,"string");return typeof k=="symbol"?k:String(k)}function o(M,k){if(typeof M!="object"||M===null)return M;var S=M[Symbol.toPrimitive];if(S!==void 0){var R=S.call(M,k||"default");if(typeof R!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(k==="string"?String:Number)(M)}var c=ns,f=c.Buffer,l=dn,x=l.inspect,E=x&&x.custom||"inspect";function C(M,k,S){f.prototype.copy.call(M,k,S)}return il=function(){function M(){n(this,M),this.head=null,this.tail=null,this.length=0}return a(M,[{key:"push",value:function(S){var R={data:S,next:null};this.length>0?this.tail.next=R:this.head=R,this.tail=R,++this.length}},{key:"unshift",value:function(S){var R={data:S,next:this.head};this.length===0&&(this.tail=R),this.head=R,++this.length}},{key:"shift",value:function(){if(this.length!==0){var S=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,S}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(S){if(this.length===0)return"";for(var R=this.head,B=""+R.data;R=R.next;)B+=S+R.data;return B}},{key:"concat",value:function(S){if(this.length===0)return f.alloc(0);for(var R=f.allocUnsafe(S>>>0),B=this.head,$=0;B;)C(B.data,R,$),$+=B.data.length,B=B.next;return R}},{key:"consume",value:function(S,R){var B;return S<this.head.data.length?(B=this.head.data.slice(0,S),this.head.data=this.head.data.slice(S)):S===this.head.data.length?B=this.shift():B=R?this._getString(S):this._getBuffer(S),B}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(S){var R=this.head,B=1,$=R.data;for(S-=$.length;R=R.next;){var H=R.data,K=S>H.length?H.length:S;if(K===H.length?$+=H:$+=H.slice(0,S),S-=K,S===0){K===H.length?(++B,R.next?this.head=R.next:this.head=this.tail=null):(this.head=R,R.data=H.slice(K));break}++B}return this.length-=B,$}},{key:"_getBuffer",value:function(S){var R=f.allocUnsafe(S),B=this.head,$=1;for(B.data.copy(R),S-=B.data.length;B=B.next;){var H=B.data,K=S>H.length?H.length:S;if(H.copy(R,R.length-S,0,K),S-=K,S===0){K===H.length?(++$,B.next?this.head=B.next:this.head=this.tail=null):(this.head=B,B.data=H.slice(K));break}++$}return this.length-=$,R}},{key:E,value:function(S,R){return x(this,e(e({},R),{},{depth:0,customInspect:!1}))}}]),M}(),il}function Pk(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(p0,this,t)):process.nextTick(p0,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(a){!e&&a?r._writableState?r._writableState.errorEmitted?process.nextTick(yu,r):(r._writableState.errorEmitted=!0,process.nextTick(gy,r,a)):process.nextTick(gy,r,a):e?(process.nextTick(yu,r),e(a)):process.nextTick(yu,r)}),this)}function gy(t,e){p0(t,e),yu(t)}function yu(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function Bk(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function p0(t,e){t.emit("error",e)}function Ok(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}var Ig={destroy:Pk,undestroy:Bk,errorOrDestroy:Ok},as={};function Lk(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Sg={};function Ln(t,e,r){r||(r=Error);function n(a,s,o){return typeof e=="string"?e:e(a,s,o)}var i=function(a){Lk(s,a);function s(o,c,f){return a.call(this,n(o,c,f))||this}return s}(r);i.prototype.name=r.name,i.prototype.code=t,Sg[t]=i}function vy(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function Fk(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function Dk(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function Uk(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}Ln("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);Ln("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&Fk(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(Dk(t," argument"))i="The ".concat(t," ").concat(n," ").concat(vy(e,"type"));else{var a=Uk(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(a," ").concat(n," ").concat(vy(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);Ln("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Ln("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});Ln("ERR_STREAM_PREMATURE_CLOSE","Premature close");Ln("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});Ln("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Ln("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Ln("ERR_STREAM_WRITE_AFTER_END","write after end");Ln("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Ln("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);Ln("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");as.codes=Sg;var $k=as.codes.ERR_INVALID_OPT_VALUE;function Hk(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function zk(t,e,r,n){var i=Hk(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var a=n?r:"highWaterMark";throw new $k(a,i)}return Math.floor(i)}return t.objectMode?16:16*1024}var Cg={getHighWaterMark:zk},qk=jk;function jk(t,e){if(al("noDeprecation"))return t;var r=!1;function n(){if(!r){if(al("throwDeprecation"))throw new Error(e);al("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function al(t){try{if(!Ye.localStorage)return!1}catch{return!1}var e=Ye.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}var sl,wy;function Ng(){if(wy)return sl;wy=1,sl=X;function t(L){var q=this;this.next=null,this.entry=null,this.finish=function(){I(q,L)}}var e;X.WritableState=J;var r={deprecate:qk},n=kg,i=ns.Buffer,a=(typeof Ye<"u"?Ye:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(L){return i.from(L)}function o(L){return i.isBuffer(L)||L instanceof a}var c=Ig,f=Cg,l=f.getHighWaterMark,x=as.codes,E=x.ERR_INVALID_ARG_TYPE,C=x.ERR_METHOD_NOT_IMPLEMENTED,M=x.ERR_MULTIPLE_CALLBACK,k=x.ERR_STREAM_CANNOT_PIPE,S=x.ERR_STREAM_DESTROYED,R=x.ERR_STREAM_NULL_VALUES,B=x.ERR_STREAM_WRITE_AFTER_END,$=x.ERR_UNKNOWN_ENCODING,H=c.errorOrDestroy;Xt(X,n);function K(){}function J(L,q,G){e=e||Ls(),L=L||{},typeof G!="boolean"&&(G=q instanceof e),this.objectMode=!!L.objectMode,G&&(this.objectMode=this.objectMode||!!L.writableObjectMode),this.highWaterMark=l(this,L,"writableHighWaterMark",G),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var V=L.decodeStrings===!1;this.decodeStrings=!V,this.defaultEncoding=L.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ne){g(q,ne)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=L.emitClose!==!1,this.autoDestroy=!!L.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}J.prototype.getBuffer=function(){for(var q=this.bufferedRequest,G=[];q;)G.push(q),q=q.next;return G},function(){try{Object.defineProperty(J.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var ie;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ie=Function.prototype[Symbol.hasInstance],Object.defineProperty(X,Symbol.hasInstance,{value:function(q){return ie.call(this,q)?!0:this!==X?!1:q&&q._writableState instanceof J}})):ie=function(q){return q instanceof this};function X(L){e=e||Ls();var q=this instanceof e;if(!q&&!ie.call(X,this))return new X(L);this._writableState=new J(L,this,q),this.writable=!0,L&&(typeof L.write=="function"&&(this._write=L.write),typeof L.writev=="function"&&(this._writev=L.writev),typeof L.destroy=="function"&&(this._destroy=L.destroy),typeof L.final=="function"&&(this._final=L.final)),n.call(this)}X.prototype.pipe=function(){H(this,new k)};function re(L,q){var G=new B;H(L,G),process.nextTick(q,G)}function D(L,q,G,V){var ne;return G===null?ne=new R:typeof G!="string"&&!q.objectMode&&(ne=new E("chunk",["string","Buffer"],G)),ne?(H(L,ne),process.nextTick(V,ne),!1):!0}X.prototype.write=function(L,q,G){var V=this._writableState,ne=!1,U=!V.objectMode&&o(L);return U&&!i.isBuffer(L)&&(L=s(L)),typeof q=="function"&&(G=q,q=null),U?q="buffer":q||(q=V.defaultEncoding),typeof G!="function"&&(G=K),V.ending?re(this,G):(U||D(this,V,L,G))&&(V.pendingcb++,ne=d(this,V,U,L,q,G)),ne},X.prototype.cork=function(){this._writableState.corked++},X.prototype.uncork=function(){var L=this._writableState;L.corked&&(L.corked--,!L.writing&&!L.corked&&!L.bufferProcessing&&L.bufferedRequest&&y(this,L))},X.prototype.setDefaultEncoding=function(q){if(typeof q=="string"&&(q=q.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((q+"").toLowerCase())>-1))throw new $(q);return this._writableState.defaultEncoding=q,this},Object.defineProperty(X.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function m(L,q,G){return!L.objectMode&&L.decodeStrings!==!1&&typeof q=="string"&&(q=i.from(q,G)),q}Object.defineProperty(X.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function d(L,q,G,V,ne,U){if(!G){var F=m(q,V,ne);V!==F&&(G=!0,ne="buffer",V=F)}var te=q.objectMode?1:V.length;q.length+=te;var ee=q.length<q.highWaterMark;if(ee||(q.needDrain=!0),q.writing||q.corked){var oe=q.lastBufferedRequest;q.lastBufferedRequest={chunk:V,encoding:ne,isBuf:G,callback:U,next:null},oe?oe.next=q.lastBufferedRequest:q.bufferedRequest=q.lastBufferedRequest,q.bufferedRequestCount+=1}else h(L,q,!1,te,V,ne,U);return ee}function h(L,q,G,V,ne,U,F){q.writelen=V,q.writecb=F,q.writing=!0,q.sync=!0,q.destroyed?q.onwrite(new S("write")):G?L._writev(ne,q.onwrite):L._write(ne,U,q.onwrite),q.sync=!1}function u(L,q,G,V,ne){--q.pendingcb,G?(process.nextTick(ne,V),process.nextTick(P,L,q),L._writableState.errorEmitted=!0,H(L,V)):(ne(V),L._writableState.errorEmitted=!0,H(L,V),P(L,q))}function p(L){L.writing=!1,L.writecb=null,L.length-=L.writelen,L.writelen=0}function g(L,q){var G=L._writableState,V=G.sync,ne=G.writecb;if(typeof ne!="function")throw new M;if(p(G),q)u(L,G,V,q,ne);else{var U=b(G)||L.destroyed;!U&&!G.corked&&!G.bufferProcessing&&G.bufferedRequest&&y(L,G),V?process.nextTick(_,L,G,U,ne):_(L,G,U,ne)}}function _(L,q,G,V){G||A(L,q),q.pendingcb--,V(),P(L,q)}function A(L,q){q.length===0&&q.needDrain&&(q.needDrain=!1,L.emit("drain"))}function y(L,q){q.bufferProcessing=!0;var G=q.bufferedRequest;if(L._writev&&G&&G.next){var V=q.bufferedRequestCount,ne=new Array(V),U=q.corkedRequestsFree;U.entry=G;for(var F=0,te=!0;G;)ne[F]=G,G.isBuf||(te=!1),G=G.next,F+=1;ne.allBuffers=te,h(L,q,!0,q.length,ne,"",U.finish),q.pendingcb++,q.lastBufferedRequest=null,U.next?(q.corkedRequestsFree=U.next,U.next=null):q.corkedRequestsFree=new t(q),q.bufferedRequestCount=0}else{for(;G;){var ee=G.chunk,oe=G.encoding,ye=G.callback,de=q.objectMode?1:ee.length;if(h(L,q,!1,de,ee,oe,ye),G=G.next,q.bufferedRequestCount--,q.writing)break}G===null&&(q.lastBufferedRequest=null)}q.bufferedRequest=G,q.bufferProcessing=!1}X.prototype._write=function(L,q,G){G(new C("_write()"))},X.prototype._writev=null,X.prototype.end=function(L,q,G){var V=this._writableState;return typeof L=="function"?(G=L,L=null,q=null):typeof q=="function"&&(G=q,q=null),L!=null&&this.write(L,q),V.corked&&(V.corked=1,this.uncork()),V.ending||j(this,V,G),this},Object.defineProperty(X.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function b(L){return L.ending&&L.length===0&&L.bufferedRequest===null&&!L.finished&&!L.writing}function w(L,q){L._final(function(G){q.pendingcb--,G&&H(L,G),q.prefinished=!0,L.emit("prefinish"),P(L,q)})}function v(L,q){!q.prefinished&&!q.finalCalled&&(typeof L._final=="function"&&!q.destroyed?(q.pendingcb++,q.finalCalled=!0,process.nextTick(w,L,q)):(q.prefinished=!0,L.emit("prefinish")))}function P(L,q){var G=b(q);if(G&&(v(L,q),q.pendingcb===0&&(q.finished=!0,L.emit("finish"),q.autoDestroy))){var V=L._readableState;(!V||V.autoDestroy&&V.endEmitted)&&L.destroy()}return G}function j(L,q,G){q.ending=!0,P(L,q),G&&(q.finished?process.nextTick(G):L.once("finish",G)),q.ended=!0,L.writable=!1}function I(L,q,G){var V=L.entry;for(L.entry=null;V;){var ne=V.callback;q.pendingcb--,ne(G),V=V.next}q.corkedRequestsFree.next=L}return Object.defineProperty(X.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(q){this._writableState&&(this._writableState.destroyed=q)}}),X.prototype.destroy=c.destroy,X.prototype._undestroy=c.undestroy,X.prototype._destroy=function(L,q){q(L)},sl}var ol,Ay;function Ls(){if(Ay)return ol;Ay=1;var t=Object.keys||function(f){var l=[];for(var x in f)l.push(x);return l};ol=s;var e=Pg(),r=Ng();Xt(s,e);for(var n=t(r.prototype),i=0;i<n.length;i++){var a=n[i];s.prototype[a]||(s.prototype[a]=r.prototype[a])}function s(f){if(!(this instanceof s))return new s(f);e.call(this,f),r.call(this,f),this.allowHalfOpen=!0,f&&(f.readable===!1&&(this.readable=!1),f.writable===!1&&(this.writable=!1),f.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",o)))}Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(s.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function o(){this._writableState.ended||process.nextTick(c,this)}function c(f){f.end()}return Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(l){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=l,this._writableState.destroyed=l)}}),ol}var ju={},hp=On.Buffer,Ey=hp.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Kk(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function Gk(t){var e=Kk(t);if(typeof e!="string"&&(hp.isEncoding===Ey||!Ey(t)))throw new Error("Unknown encoding: "+t);return e||t}ju.StringDecoder=Pc;function Pc(t){this.encoding=Gk(t);var e;switch(this.encoding){case"utf16le":this.text=Qk,this.end=Xk,e=4;break;case"utf8":this.fillLast=Jk,e=4;break;case"base64":this.text=eI,this.end=tI,e=3;break;default:this.write=rI,this.end=nI;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=hp.allocUnsafe(e)}Pc.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};Pc.prototype.end=Zk;Pc.prototype.text=Yk;Pc.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function cl(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function Vk(t,e,r){var n=e.length-1;if(n<r)return 0;var i=cl(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=cl(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=cl(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function Wk(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"�"}}function Jk(t){var e=this.lastTotal-this.lastNeed,r=Wk(this,t);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function Yk(t,e){var r=Vk(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function Zk(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e}function Qk(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function Xk(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function eI(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function tI(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function rI(t){return t.toString(this.encoding)}function nI(t){return t&&t.length?this.write(t):""}var _y=as.codes.ERR_STREAM_PREMATURE_CLOSE;function iI(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function aI(){}function sI(t){return t.setHeader&&typeof t.abort=="function"}function Rg(t,e,r){if(typeof e=="function")return Rg(t,null,e);e||(e={}),r=iI(r||aI);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,a=function(){t.writable||o()},s=t._writableState&&t._writableState.finished,o=function(){i=!1,s=!0,n||r.call(t)},c=t._readableState&&t._readableState.endEmitted,f=function(){n=!1,c=!0,i||r.call(t)},l=function(M){r.call(t,M)},x=function(){var M;if(n&&!c)return(!t._readableState||!t._readableState.ended)&&(M=new _y),r.call(t,M);if(i&&!s)return(!t._writableState||!t._writableState.ended)&&(M=new _y),r.call(t,M)},E=function(){t.req.on("finish",o)};return sI(t)?(t.on("complete",o),t.on("abort",x),t.req?E():t.on("request",E)):i&&!t._writableState&&(t.on("end",a),t.on("close",a)),t.on("end",f),t.on("finish",o),e.error!==!1&&t.on("error",l),t.on("close",x),function(){t.removeListener("complete",o),t.removeListener("abort",x),t.removeListener("request",E),t.req&&t.req.removeListener("finish",o),t.removeListener("end",a),t.removeListener("close",a),t.removeListener("finish",o),t.removeListener("end",f),t.removeListener("error",l),t.removeListener("close",x)}}var pp=Rg,ul,Ty;function oI(){if(Ty)return ul;Ty=1;var t;function e($,H,K){return H=r(H),H in $?Object.defineProperty($,H,{value:K,enumerable:!0,configurable:!0,writable:!0}):$[H]=K,$}function r($){var H=n($,"string");return typeof H=="symbol"?H:String(H)}function n($,H){if(typeof $!="object"||$===null)return $;var K=$[Symbol.toPrimitive];if(K!==void 0){var J=K.call($,H||"default");if(typeof J!="object")return J;throw new TypeError("@@toPrimitive must return a primitive value.")}return(H==="string"?String:Number)($)}var i=pp,a=Symbol("lastResolve"),s=Symbol("lastReject"),o=Symbol("error"),c=Symbol("ended"),f=Symbol("lastPromise"),l=Symbol("handlePromise"),x=Symbol("stream");function E($,H){return{value:$,done:H}}function C($){var H=$[a];if(H!==null){var K=$[x].read();K!==null&&($[f]=null,$[a]=null,$[s]=null,H(E(K,!1)))}}function M($){process.nextTick(C,$)}function k($,H){return function(K,J){$.then(function(){if(H[c]){K(E(void 0,!0));return}H[l](K,J)},J)}}var S=Object.getPrototypeOf(function(){}),R=Object.setPrototypeOf((t={get stream(){return this[x]},next:function(){var H=this,K=this[o];if(K!==null)return Promise.reject(K);if(this[c])return Promise.resolve(E(void 0,!0));if(this[x].destroyed)return new Promise(function(re,D){process.nextTick(function(){H[o]?D(H[o]):re(E(void 0,!0))})});var J=this[f],ie;if(J)ie=new Promise(k(J,this));else{var X=this[x].read();if(X!==null)return Promise.resolve(E(X,!1));ie=new Promise(this[l])}return this[f]=ie,ie}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var H=this;return new Promise(function(K,J){H[x].destroy(null,function(ie){if(ie){J(ie);return}K(E(void 0,!0))})})}),t),S),B=function(H){var K,J=Object.create(R,(K={},e(K,x,{value:H,writable:!0}),e(K,a,{value:null,writable:!0}),e(K,s,{value:null,writable:!0}),e(K,o,{value:null,writable:!0}),e(K,c,{value:H._readableState.endEmitted,writable:!0}),e(K,l,{value:function(X,re){var D=J[x].read();D?(J[f]=null,J[a]=null,J[s]=null,X(E(D,!1))):(J[a]=X,J[s]=re)},writable:!0}),K));return J[f]=null,i(H,function(ie){if(ie&&ie.code!=="ERR_STREAM_PREMATURE_CLOSE"){var X=J[s];X!==null&&(J[f]=null,J[a]=null,J[s]=null,X(ie)),J[o]=ie;return}var re=J[a];re!==null&&(J[f]=null,J[a]=null,J[s]=null,re(E(void 0,!0))),J[c]=!0}),H.on("readable",M.bind(null,J)),J};return ul=B,ul}var fl,My;function cI(){return My||(My=1,fl=function(){throw new Error("Readable.from is not available in the browser")}),fl}var dl,ky;function Pg(){if(ky)return dl;ky=1,dl=re;var t;re.ReadableState=X,dn.EventEmitter;var e=function(F,te){return F.listeners(te).length},r=kg,n=ns.Buffer,i=(typeof Ye<"u"?Ye:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function a(U){return n.from(U)}function s(U){return n.isBuffer(U)||U instanceof i}var o=dn,c;o&&o.debuglog?c=o.debuglog("stream"):c=function(){};var f=Rk(),l=Ig,x=Cg,E=x.getHighWaterMark,C=as.codes,M=C.ERR_INVALID_ARG_TYPE,k=C.ERR_STREAM_PUSH_AFTER_EOF,S=C.ERR_METHOD_NOT_IMPLEMENTED,R=C.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,B,$,H;Xt(re,r);var K=l.errorOrDestroy,J=["error","close","destroy","pause","resume"];function ie(U,F,te){if(typeof U.prependListener=="function")return U.prependListener(F,te);!U._events||!U._events[F]?U.on(F,te):Array.isArray(U._events[F])?U._events[F].unshift(te):U._events[F]=[te,U._events[F]]}function X(U,F,te){t=t||Ls(),U=U||{},typeof te!="boolean"&&(te=F instanceof t),this.objectMode=!!U.objectMode,te&&(this.objectMode=this.objectMode||!!U.readableObjectMode),this.highWaterMark=E(this,U,"readableHighWaterMark",te),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=U.emitClose!==!1,this.autoDestroy=!!U.autoDestroy,this.destroyed=!1,this.defaultEncoding=U.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,U.encoding&&(B||(B=ju.StringDecoder),this.decoder=new B(U.encoding),this.encoding=U.encoding)}function re(U){if(t=t||Ls(),!(this instanceof re))return new re(U);var F=this instanceof t;this._readableState=new X(U,this,F),this.readable=!0,U&&(typeof U.read=="function"&&(this._read=U.read),typeof U.destroy=="function"&&(this._destroy=U.destroy)),r.call(this)}Object.defineProperty(re.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(F){this._readableState&&(this._readableState.destroyed=F)}}),re.prototype.destroy=l.destroy,re.prototype._undestroy=l.undestroy,re.prototype._destroy=function(U,F){F(U)},re.prototype.push=function(U,F){var te=this._readableState,ee;return te.objectMode?ee=!0:typeof U=="string"&&(F=F||te.defaultEncoding,F!==te.encoding&&(U=n.from(U,F),F=""),ee=!0),D(this,U,F,!1,ee)},re.prototype.unshift=function(U){return D(this,U,null,!0,!1)};function D(U,F,te,ee,oe){c("readableAddChunk",F);var ye=U._readableState;if(F===null)ye.reading=!1,g(U,ye);else{var de;if(oe||(de=d(ye,F)),de)K(U,de);else if(ye.objectMode||F&&F.length>0)if(typeof F!="string"&&!ye.objectMode&&Object.getPrototypeOf(F)!==n.prototype&&(F=a(F)),ee)ye.endEmitted?K(U,new R):m(U,ye,F,!0);else if(ye.ended)K(U,new k);else{if(ye.destroyed)return!1;ye.reading=!1,ye.decoder&&!te?(F=ye.decoder.write(F),ye.objectMode||F.length!==0?m(U,ye,F,!1):y(U,ye)):m(U,ye,F,!1)}else ee||(ye.reading=!1,y(U,ye))}return!ye.ended&&(ye.length<ye.highWaterMark||ye.length===0)}function m(U,F,te,ee){F.flowing&&F.length===0&&!F.sync?(F.awaitDrain=0,U.emit("data",te)):(F.length+=F.objectMode?1:te.length,ee?F.buffer.unshift(te):F.buffer.push(te),F.needReadable&&_(U)),y(U,F)}function d(U,F){var te;return!s(F)&&typeof F!="string"&&F!==void 0&&!U.objectMode&&(te=new M("chunk",["string","Buffer","Uint8Array"],F)),te}re.prototype.isPaused=function(){return this._readableState.flowing===!1},re.prototype.setEncoding=function(U){B||(B=ju.StringDecoder);var F=new B(U);this._readableState.decoder=F,this._readableState.encoding=this._readableState.decoder.encoding;for(var te=this._readableState.buffer.head,ee="";te!==null;)ee+=F.write(te.data),te=te.next;return this._readableState.buffer.clear(),ee!==""&&this._readableState.buffer.push(ee),this._readableState.length=ee.length,this};var h=1073741824;function u(U){return U>=h?U=h:(U--,U|=U>>>1,U|=U>>>2,U|=U>>>4,U|=U>>>8,U|=U>>>16,U++),U}function p(U,F){return U<=0||F.length===0&&F.ended?0:F.objectMode?1:U!==U?F.flowing&&F.length?F.buffer.head.data.length:F.length:(U>F.highWaterMark&&(F.highWaterMark=u(U)),U<=F.length?U:F.ended?F.length:(F.needReadable=!0,0))}re.prototype.read=function(U){c("read",U),U=parseInt(U,10);var F=this._readableState,te=U;if(U!==0&&(F.emittedReadable=!1),U===0&&F.needReadable&&((F.highWaterMark!==0?F.length>=F.highWaterMark:F.length>0)||F.ended))return c("read: emitReadable",F.length,F.ended),F.length===0&&F.ended?G(this):_(this),null;if(U=p(U,F),U===0&&F.ended)return F.length===0&&G(this),null;var ee=F.needReadable;c("need readable",ee),(F.length===0||F.length-U<F.highWaterMark)&&(ee=!0,c("length less than watermark",ee)),F.ended||F.reading?(ee=!1,c("reading or ended",ee)):ee&&(c("do read"),F.reading=!0,F.sync=!0,F.length===0&&(F.needReadable=!0),this._read(F.highWaterMark),F.sync=!1,F.reading||(U=p(te,F)));var oe;return U>0?oe=q(U,F):oe=null,oe===null?(F.needReadable=F.length<=F.highWaterMark,U=0):(F.length-=U,F.awaitDrain=0),F.length===0&&(F.ended||(F.needReadable=!0),te!==U&&F.ended&&G(this)),oe!==null&&this.emit("data",oe),oe};function g(U,F){if(c("onEofChunk"),!F.ended){if(F.decoder){var te=F.decoder.end();te&&te.length&&(F.buffer.push(te),F.length+=F.objectMode?1:te.length)}F.ended=!0,F.sync?_(U):(F.needReadable=!1,F.emittedReadable||(F.emittedReadable=!0,A(U)))}}function _(U){var F=U._readableState;c("emitReadable",F.needReadable,F.emittedReadable),F.needReadable=!1,F.emittedReadable||(c("emitReadable",F.flowing),F.emittedReadable=!0,process.nextTick(A,U))}function A(U){var F=U._readableState;c("emitReadable_",F.destroyed,F.length,F.ended),!F.destroyed&&(F.length||F.ended)&&(U.emit("readable"),F.emittedReadable=!1),F.needReadable=!F.flowing&&!F.ended&&F.length<=F.highWaterMark,L(U)}function y(U,F){F.readingMore||(F.readingMore=!0,process.nextTick(b,U,F))}function b(U,F){for(;!F.reading&&!F.ended&&(F.length<F.highWaterMark||F.flowing&&F.length===0);){var te=F.length;if(c("maybeReadMore read 0"),U.read(0),te===F.length)break}F.readingMore=!1}re.prototype._read=function(U){K(this,new S("_read()"))},re.prototype.pipe=function(U,F){var te=this,ee=this._readableState;switch(ee.pipesCount){case 0:ee.pipes=U;break;case 1:ee.pipes=[ee.pipes,U];break;default:ee.pipes.push(U);break}ee.pipesCount+=1,c("pipe count=%d opts=%j",ee.pipesCount,F);var oe=(!F||F.end!==!1)&&U!==process.stdout&&U!==process.stderr,ye=oe?pe:Ne;ee.endEmitted?process.nextTick(ye):te.once("end",ye),U.on("unpipe",de);function de(O,T){c("onunpipe"),O===te&&T&&T.hasUnpiped===!1&&(T.hasUnpiped=!0,me())}function pe(){c("onend"),U.end()}var Ze=w(te);U.on("drain",Ze);var Re=!1;function me(){c("cleanup"),U.removeListener("close",be),U.removeListener("finish",qe),U.removeListener("drain",Ze),U.removeListener("error",Ce),U.removeListener("unpipe",de),te.removeListener("end",pe),te.removeListener("end",Ne),te.removeListener("data",ze),Re=!0,ee.awaitDrain&&(!U._writableState||U._writableState.needDrain)&&Ze()}te.on("data",ze);function ze(O){c("ondata");var T=U.write(O);c("dest.write",T),T===!1&&((ee.pipesCount===1&&ee.pipes===U||ee.pipesCount>1&&ne(ee.pipes,U)!==-1)&&!Re&&(c("false write response, pause",ee.awaitDrain),ee.awaitDrain++),te.pause())}function Ce(O){c("onerror",O),Ne(),U.removeListener("error",Ce),e(U,"error")===0&&K(U,O)}ie(U,"error",Ce);function be(){U.removeListener("finish",qe),Ne()}U.once("close",be);function qe(){c("onfinish"),U.removeListener("close",be),Ne()}U.once("finish",qe);function Ne(){c("unpipe"),te.unpipe(U)}return U.emit("pipe",te),ee.flowing||(c("pipe resume"),te.resume()),U};function w(U){return function(){var te=U._readableState;c("pipeOnDrain",te.awaitDrain),te.awaitDrain&&te.awaitDrain--,te.awaitDrain===0&&e(U,"data")&&(te.flowing=!0,L(U))}}re.prototype.unpipe=function(U){var F=this._readableState,te={hasUnpiped:!1};if(F.pipesCount===0)return this;if(F.pipesCount===1)return U&&U!==F.pipes?this:(U||(U=F.pipes),F.pipes=null,F.pipesCount=0,F.flowing=!1,U&&U.emit("unpipe",this,te),this);if(!U){var ee=F.pipes,oe=F.pipesCount;F.pipes=null,F.pipesCount=0,F.flowing=!1;for(var ye=0;ye<oe;ye++)ee[ye].emit("unpipe",this,{hasUnpiped:!1});return this}var de=ne(F.pipes,U);return de===-1?this:(F.pipes.splice(de,1),F.pipesCount-=1,F.pipesCount===1&&(F.pipes=F.pipes[0]),U.emit("unpipe",this,te),this)},re.prototype.on=function(U,F){var te=r.prototype.on.call(this,U,F),ee=this._readableState;return U==="data"?(ee.readableListening=this.listenerCount("readable")>0,ee.flowing!==!1&&this.resume()):U==="readable"&&!ee.endEmitted&&!ee.readableListening&&(ee.readableListening=ee.needReadable=!0,ee.flowing=!1,ee.emittedReadable=!1,c("on readable",ee.length,ee.reading),ee.length?_(this):ee.reading||process.nextTick(P,this)),te},re.prototype.addListener=re.prototype.on,re.prototype.removeListener=function(U,F){var te=r.prototype.removeListener.call(this,U,F);return U==="readable"&&process.nextTick(v,this),te},re.prototype.removeAllListeners=function(U){var F=r.prototype.removeAllListeners.apply(this,arguments);return(U==="readable"||U===void 0)&&process.nextTick(v,this),F};function v(U){var F=U._readableState;F.readableListening=U.listenerCount("readable")>0,F.resumeScheduled&&!F.paused?F.flowing=!0:U.listenerCount("data")>0&&U.resume()}function P(U){c("readable nexttick read 0"),U.read(0)}re.prototype.resume=function(){var U=this._readableState;return U.flowing||(c("resume"),U.flowing=!U.readableListening,j(this,U)),U.paused=!1,this};function j(U,F){F.resumeScheduled||(F.resumeScheduled=!0,process.nextTick(I,U,F))}function I(U,F){c("resume",F.reading),F.reading||U.read(0),F.resumeScheduled=!1,U.emit("resume"),L(U),F.flowing&&!F.reading&&U.read(0)}re.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function L(U){var F=U._readableState;for(c("flow",F.flowing);F.flowing&&U.read()!==null;);}re.prototype.wrap=function(U){var F=this,te=this._readableState,ee=!1;U.on("end",function(){if(c("wrapped end"),te.decoder&&!te.ended){var de=te.decoder.end();de&&de.length&&F.push(de)}F.push(null)}),U.on("data",function(de){if(c("wrapped data"),te.decoder&&(de=te.decoder.write(de)),!(te.objectMode&&de==null)&&!(!te.objectMode&&(!de||!de.length))){var pe=F.push(de);pe||(ee=!0,U.pause())}});for(var oe in U)this[oe]===void 0&&typeof U[oe]=="function"&&(this[oe]=function(pe){return function(){return U[pe].apply(U,arguments)}}(oe));for(var ye=0;ye<J.length;ye++)U.on(J[ye],this.emit.bind(this,J[ye]));return this._read=function(de){c("wrapped _read",de),ee&&(ee=!1,U.resume())},this},typeof Symbol=="function"&&(re.prototype[Symbol.asyncIterator]=function(){return $===void 0&&($=oI()),$(this)}),Object.defineProperty(re.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(re.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(re.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(F){this._readableState&&(this._readableState.flowing=F)}}),re._fromList=q,Object.defineProperty(re.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function q(U,F){if(F.length===0)return null;var te;return F.objectMode?te=F.buffer.shift():!U||U>=F.length?(F.decoder?te=F.buffer.join(""):F.buffer.length===1?te=F.buffer.first():te=F.buffer.concat(F.length),F.buffer.clear()):te=F.buffer.consume(U,F.decoder),te}function G(U){var F=U._readableState;c("endReadable",F.endEmitted),F.endEmitted||(F.ended=!0,process.nextTick(V,F,U))}function V(U,F){if(c("endReadableNT",U.endEmitted,U.length),!U.endEmitted&&U.length===0&&(U.endEmitted=!0,F.readable=!1,F.emit("end"),U.autoDestroy)){var te=F._writableState;(!te||te.autoDestroy&&te.finished)&&F.destroy()}}typeof Symbol=="function"&&(re.from=function(U,F){return H===void 0&&(H=cI()),H(re,U,F)});function ne(U,F){for(var te=0,ee=U.length;te<ee;te++)if(U[te]===F)return te;return-1}return dl}var Bg=Hi,Kf=as.codes,uI=Kf.ERR_METHOD_NOT_IMPLEMENTED,fI=Kf.ERR_MULTIPLE_CALLBACK,dI=Kf.ERR_TRANSFORM_ALREADY_TRANSFORMING,lI=Kf.ERR_TRANSFORM_WITH_LENGTH_0,Gf=Ls();Xt(Hi,Gf);function hI(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new fI);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Hi(t){if(!(this instanceof Hi))return new Hi(t);Gf.call(this,t),this._transformState={afterTransform:hI.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",pI)}function pI(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){Iy(t,e,r)}):Iy(this,null,null)}Hi.prototype.push=function(t,e){return this._transformState.needTransform=!1,Gf.prototype.push.call(this,t,e)};Hi.prototype._transform=function(t,e,r){r(new uI("_transform()"))};Hi.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Hi.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Hi.prototype._destroy=function(t,e){Gf.prototype._destroy.call(this,t,function(r){e(r)})};function Iy(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new lI;if(t._transformState.transforming)throw new dI;return t.push(null)}var mI=hc,Og=Bg;Xt(hc,Og);function hc(t){if(!(this instanceof hc))return new hc(t);Og.call(this,t)}hc.prototype._transform=function(t,e,r){r(null,t)};var ll;function yI(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var Lg=as.codes,bI=Lg.ERR_MISSING_ARGS,xI=Lg.ERR_STREAM_DESTROYED;function Sy(t){if(t)throw t}function gI(t){return t.setHeader&&typeof t.abort=="function"}function vI(t,e,r,n){n=yI(n);var i=!1;t.on("close",function(){i=!0}),ll===void 0&&(ll=pp),ll(t,{readable:e,writable:r},function(s){if(s)return n(s);i=!0,n()});var a=!1;return function(s){if(!i&&!a){if(a=!0,gI(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(s||new xI("pipe"))}}}function Cy(t){t()}function wI(t,e){return t.pipe(e)}function AI(t){return!t.length||typeof t[t.length-1]!="function"?Sy:t.pop()}function EI(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=AI(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new bI("streams");var i,a=e.map(function(s,o){var c=o<e.length-1,f=o>0;return vI(s,c,f,function(l){i||(i=l),l&&a.forEach(Cy),!c&&(a.forEach(Cy),n(i))})});return e.reduce(wI)}var _I=EI;(function(t,e){e=t.exports=Pg(),e.Stream=e,e.Readable=e,e.Writable=Ng(),e.Duplex=Ls(),e.Transform=Bg,e.PassThrough=mI,e.finished=pp,e.pipeline=_I})(h0,h0.exports);var mp=h0.exports;const{Transform:TI}=mp;var MI=t=>class Fg extends TI{constructor(r,n,i,a,s){super(s),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._hashBitLength=a,this._options=s,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let a=null;try{this.update(r,n)}catch(s){a=s}i(a)}_flush(r){let n=null;try{this.push(this.digest())}catch(i){n=i}r(n)}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}digest(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let n=this._state.squeeze(this._hashBitLength/8);return r!==void 0&&(n=n.toString(r)),this._resetState(),n}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new Fg(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const{Transform:kI}=mp;var II=t=>class Dg extends kI{constructor(r,n,i,a){super(a),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._options=a,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let a=null;try{this.update(r,n)}catch(s){a=s}i(a)}_flush(){}_read(r){this.push(this.squeeze(r))}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}squeeze(r,n){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let i=this._state.squeeze(r);return n!==void 0&&(i=i.toString(n)),i}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new Dg(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const SI=MI,CI=II;var NI=function(t){const e=SI(t),r=CI(t);return function(n,i){switch(typeof n=="string"?n.toLowerCase():n){case"keccak224":return new e(1152,448,null,224,i);case"keccak256":return new e(1088,512,null,256,i);case"keccak384":return new e(832,768,null,384,i);case"keccak512":return new e(576,1024,null,512,i);case"sha3-224":return new e(1152,448,6,224,i);case"sha3-256":return new e(1088,512,6,256,i);case"sha3-384":return new e(832,768,6,384,i);case"sha3-512":return new e(576,1024,6,512,i);case"shake128":return new r(1344,256,31,i);case"shake256":return new r(1088,512,31,i);default:throw new Error("Invald algorithm: "+n)}}},Ug={};const Ny=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];Ug.p1600=function(t){for(let e=0;e<24;++e){const r=t[0]^t[10]^t[20]^t[30]^t[40],n=t[1]^t[11]^t[21]^t[31]^t[41],i=t[2]^t[12]^t[22]^t[32]^t[42],a=t[3]^t[13]^t[23]^t[33]^t[43],s=t[4]^t[14]^t[24]^t[34]^t[44],o=t[5]^t[15]^t[25]^t[35]^t[45],c=t[6]^t[16]^t[26]^t[36]^t[46],f=t[7]^t[17]^t[27]^t[37]^t[47],l=t[8]^t[18]^t[28]^t[38]^t[48],x=t[9]^t[19]^t[29]^t[39]^t[49];let E=l^(i<<1|a>>>31),C=x^(a<<1|i>>>31);const M=t[0]^E,k=t[1]^C,S=t[10]^E,R=t[11]^C,B=t[20]^E,$=t[21]^C,H=t[30]^E,K=t[31]^C,J=t[40]^E,ie=t[41]^C;E=r^(s<<1|o>>>31),C=n^(o<<1|s>>>31);const X=t[2]^E,re=t[3]^C,D=t[12]^E,m=t[13]^C,d=t[22]^E,h=t[23]^C,u=t[32]^E,p=t[33]^C,g=t[42]^E,_=t[43]^C;E=i^(c<<1|f>>>31),C=a^(f<<1|c>>>31);const A=t[4]^E,y=t[5]^C,b=t[14]^E,w=t[15]^C,v=t[24]^E,P=t[25]^C,j=t[34]^E,I=t[35]^C,L=t[44]^E,q=t[45]^C;E=s^(l<<1|x>>>31),C=o^(x<<1|l>>>31);const G=t[6]^E,V=t[7]^C,ne=t[16]^E,U=t[17]^C,F=t[26]^E,te=t[27]^C,ee=t[36]^E,oe=t[37]^C,ye=t[46]^E,de=t[47]^C;E=c^(r<<1|n>>>31),C=f^(n<<1|r>>>31);const pe=t[8]^E,Ze=t[9]^C,Re=t[18]^E,me=t[19]^C,ze=t[28]^E,Ce=t[29]^C,be=t[38]^E,qe=t[39]^C,Ne=t[48]^E,O=t[49]^C,T=M,N=k,z=R<<4|S>>>28,W=S<<4|R>>>28,Y=B<<3|$>>>29,Z=$<<3|B>>>29,ge=K<<9|H>>>23,xe=H<<9|K>>>23,ce=J<<18|ie>>>14,Pe=ie<<18|J>>>14,he=X<<1|re>>>31,we=re<<1|X>>>31,ut=m<<12|D>>>20,Be=D<<12|m>>>20,Ae=d<<10|h>>>22,ft=h<<10|d>>>22,Oe=p<<13|u>>>19,Ee=u<<13|p>>>19,dt=g<<2|_>>>30,Le=_<<2|g>>>30,_e=y<<30|A>>>2,lt=A<<30|y>>>2,Fe=b<<6|w>>>26,Te=w<<6|b>>>26,ht=P<<11|v>>>21,De=v<<11|P>>>21,Me=j<<15|I>>>17,pt=I<<15|j>>>17,Ue=q<<29|L>>>3,ke=L<<29|q>>>3,mt=G<<28|V>>>4,$e=V<<28|G>>>4,Ie=U<<23|ne>>>9,st=ne<<23|U>>>9,rt=F<<25|te>>>7,nt=te<<25|F>>>7,Kt=ee<<21|oe>>>11,Gt=oe<<21|ee>>>11,Vt=de<<24|ye>>>8,Wt=ye<<24|de>>>8,Jt=pe<<27|Ze>>>5,Cr=Ze<<27|pe>>>5,Nr=Re<<20|me>>>12,Rr=me<<20|Re>>>12,Pr=Ce<<7|ze>>>25,Br=ze<<7|Ce>>>25,Or=be<<8|qe>>>24,Lr=qe<<8|be>>>24,Fr=Ne<<14|O>>>18,Dr=O<<14|Ne>>>18;t[0]=T^~ut&ht,t[1]=N^~Be&De,t[10]=mt^~Nr&Y,t[11]=$e^~Rr&Z,t[20]=he^~Fe&rt,t[21]=we^~Te&nt,t[30]=Jt^~z&Ae,t[31]=Cr^~W&ft,t[40]=_e^~Ie&Pr,t[41]=lt^~st&Br,t[2]=ut^~ht&Kt,t[3]=Be^~De&Gt,t[12]=Nr^~Y&Oe,t[13]=Rr^~Z&Ee,t[22]=Fe^~rt&Or,t[23]=Te^~nt&Lr,t[32]=z^~Ae&Me,t[33]=W^~ft&pt,t[42]=Ie^~Pr&ge,t[43]=st^~Br&xe,t[4]=ht^~Kt&Fr,t[5]=De^~Gt&Dr,t[14]=Y^~Oe&Ue,t[15]=Z^~Ee&ke,t[24]=rt^~Or&ce,t[25]=nt^~Lr&Pe,t[34]=Ae^~Me&Vt,t[35]=ft^~pt&Wt,t[44]=Pr^~ge&dt,t[45]=Br^~xe&Le,t[6]=Kt^~Fr&T,t[7]=Gt^~Dr&N,t[16]=Oe^~Ue&mt,t[17]=Ee^~ke&$e,t[26]=Or^~ce&he,t[27]=Lr^~Pe&we,t[36]=Me^~Vt&Jt,t[37]=pt^~Wt&Cr,t[46]=ge^~dt&_e,t[47]=xe^~Le&lt,t[8]=Fr^~T&ut,t[9]=Dr^~N&Be,t[18]=Ue^~mt&Nr,t[19]=ke^~$e&Rr,t[28]=ce^~he&Fe,t[29]=Pe^~we&Te,t[38]=Vt^~Jt&z,t[39]=Wt^~Cr&W,t[48]=dt^~_e&Ie,t[49]=Le^~lt&st,t[0]^=Ny[e*2],t[1]^=Ny[e*2+1]}};const Ku=Ug;function co(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}co.prototype.initialize=function(t,e){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1};co.prototype.absorb=function(t){for(let e=0;e<t.length;++e)this.state[~~(this.count/4)]^=t[e]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(Ku.p1600(this.state),this.count=0)};co.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<8*(this.count%4),t&128&&this.count===this.blockSize-1&&Ku.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),Ku.p1600(this.state),this.count=0,this.squeezing=!0};co.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);const e=Buffer.alloc(t);for(let r=0;r<t;++r)e[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(Ku.p1600(this.state),this.count=0);return e};co.prototype.copy=function(t){for(let e=0;e<50;++e)t.state[e]=this.state[e];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing};var RI=co,PI=NI(RI);Object.defineProperty(oo,"__esModule",{value:!0});var Vf=lp,Wf=PI;oo.keccak224=Vf.createHashFunction(function(){return Wf("keccak224")});oo.keccak256=Vf.createHashFunction(function(){return Wf("keccak256")});oo.keccak384=Vf.createHashFunction(function(){return Wf("keccak384")});oo.keccak512=Vf.createHashFunction(function(){return Wf("keccak512")});var Gu=On.Buffer,$g=mp.Transform,BI=Xt;function OI(t,e){if(!Gu.isBuffer(t)&&typeof t!="string")throw new TypeError(e+" must be a string or a buffer")}function va(t){$g.call(this),this._block=Gu.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}BI(va,$g);va.prototype._transform=function(t,e,r){var n=null;try{this.update(t,e)}catch(i){n=i}r(n)};va.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(r){e=r}t(e)};va.prototype.update=function(t,e){if(OI(t,"Data"),this._finalized)throw new Error("Digest already called");Gu.isBuffer(t)||(t=Gu.from(t,e));for(var r=this._block,n=0;this._blockOffset+t.length-n>=this._blockSize;){for(var i=this._blockOffset;i<this._blockSize;)r[i++]=t[n++];this._update(),this._blockOffset=0}for(;n<t.length;)r[this._blockOffset++]=t[n++];for(var a=0,s=t.length*8;s>0;++a)this._length[a]+=s,s=this._length[a]/4294967296|0,s>0&&(this._length[a]-=4294967296*s);return this};va.prototype._update=function(){throw new Error("_update is not implemented")};va.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();t!==void 0&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return e};va.prototype._digest=function(){throw new Error("_digest is not implemented")};var Hg=va,LI=Xt,zg=Hg,FI=On.Buffer,DI=new Array(16);function Jf(){zg.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}LI(Jf,zg);Jf.prototype._update=function(){for(var t=DI,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);var r=this._a,n=this._b,i=this._c,a=this._d;r=xr(r,n,i,a,t[0],3614090360,7),a=xr(a,r,n,i,t[1],3905402710,12),i=xr(i,a,r,n,t[2],606105819,17),n=xr(n,i,a,r,t[3],3250441966,22),r=xr(r,n,i,a,t[4],4118548399,7),a=xr(a,r,n,i,t[5],1200080426,12),i=xr(i,a,r,n,t[6],2821735955,17),n=xr(n,i,a,r,t[7],4249261313,22),r=xr(r,n,i,a,t[8],1770035416,7),a=xr(a,r,n,i,t[9],2336552879,12),i=xr(i,a,r,n,t[10],4294925233,17),n=xr(n,i,a,r,t[11],2304563134,22),r=xr(r,n,i,a,t[12],1804603682,7),a=xr(a,r,n,i,t[13],4254626195,12),i=xr(i,a,r,n,t[14],2792965006,17),n=xr(n,i,a,r,t[15],1236535329,22),r=gr(r,n,i,a,t[1],4129170786,5),a=gr(a,r,n,i,t[6],3225465664,9),i=gr(i,a,r,n,t[11],643717713,14),n=gr(n,i,a,r,t[0],3921069994,20),r=gr(r,n,i,a,t[5],3593408605,5),a=gr(a,r,n,i,t[10],38016083,9),i=gr(i,a,r,n,t[15],3634488961,14),n=gr(n,i,a,r,t[4],3889429448,20),r=gr(r,n,i,a,t[9],568446438,5),a=gr(a,r,n,i,t[14],3275163606,9),i=gr(i,a,r,n,t[3],4107603335,14),n=gr(n,i,a,r,t[8],1163531501,20),r=gr(r,n,i,a,t[13],2850285829,5),a=gr(a,r,n,i,t[2],4243563512,9),i=gr(i,a,r,n,t[7],1735328473,14),n=gr(n,i,a,r,t[12],2368359562,20),r=vr(r,n,i,a,t[5],4294588738,4),a=vr(a,r,n,i,t[8],2272392833,11),i=vr(i,a,r,n,t[11],1839030562,16),n=vr(n,i,a,r,t[14],4259657740,23),r=vr(r,n,i,a,t[1],2763975236,4),a=vr(a,r,n,i,t[4],1272893353,11),i=vr(i,a,r,n,t[7],4139469664,16),n=vr(n,i,a,r,t[10],3200236656,23),r=vr(r,n,i,a,t[13],681279174,4),a=vr(a,r,n,i,t[0],3936430074,11),i=vr(i,a,r,n,t[3],3572445317,16),n=vr(n,i,a,r,t[6],76029189,23),r=vr(r,n,i,a,t[9],3654602809,4),a=vr(a,r,n,i,t[12],3873151461,11),i=vr(i,a,r,n,t[15],530742520,16),n=vr(n,i,a,r,t[2],3299628645,23),r=wr(r,n,i,a,t[0],4096336452,6),a=wr(a,r,n,i,t[7],1126891415,10),i=wr(i,a,r,n,t[14],2878612391,15),n=wr(n,i,a,r,t[5],4237533241,21),r=wr(r,n,i,a,t[12],1700485571,6),a=wr(a,r,n,i,t[3],2399980690,10),i=wr(i,a,r,n,t[10],4293915773,15),n=wr(n,i,a,r,t[1],2240044497,21),r=wr(r,n,i,a,t[8],1873313359,6),a=wr(a,r,n,i,t[15],4264355552,10),i=wr(i,a,r,n,t[6],2734768916,15),n=wr(n,i,a,r,t[13],1309151649,21),r=wr(r,n,i,a,t[4],4149444226,6),a=wr(a,r,n,i,t[11],3174756917,10),i=wr(i,a,r,n,t[2],718787259,15),n=wr(n,i,a,r,t[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+a|0};Jf.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=FI.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t};function Yf(t,e){return t<<e|t>>>32-e}function xr(t,e,r,n,i,a,s){return Yf(t+(e&r|~e&n)+i+a|0,s)+e|0}function gr(t,e,r,n,i,a,s){return Yf(t+(e&n|r&~n)+i+a|0,s)+e|0}function vr(t,e,r,n,i,a,s){return Yf(t+(e^r^n)+i+a|0,s)+e|0}function wr(t,e,r,n,i,a,s){return Yf(t+(r^(e|~n))+i+a|0,s)+e|0}var UI=Jf,hl=ns.Buffer,$I=Xt,qg=Hg,HI=new Array(16),_o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],To=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Mo=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],ko=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Io=[0,1518500249,1859775393,2400959708,2840853838],So=[1352829926,1548603684,1836072691,2053994217,0];function Zf(){qg.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}$I(Zf,qg);Zf.prototype._update=function(){for(var t=HI,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);for(var r=this._a|0,n=this._b|0,i=this._c|0,a=this._d|0,s=this._e|0,o=this._a|0,c=this._b|0,f=this._c|0,l=this._d|0,x=this._e|0,E=0;E<80;E+=1){var C,M;E<16?(C=Ry(r,n,i,a,s,t[_o[E]],Io[0],Mo[E]),M=Ly(o,c,f,l,x,t[To[E]],So[0],ko[E])):E<32?(C=Py(r,n,i,a,s,t[_o[E]],Io[1],Mo[E]),M=Oy(o,c,f,l,x,t[To[E]],So[1],ko[E])):E<48?(C=By(r,n,i,a,s,t[_o[E]],Io[2],Mo[E]),M=By(o,c,f,l,x,t[To[E]],So[2],ko[E])):E<64?(C=Oy(r,n,i,a,s,t[_o[E]],Io[3],Mo[E]),M=Py(o,c,f,l,x,t[To[E]],So[3],ko[E])):(C=Ly(r,n,i,a,s,t[_o[E]],Io[4],Mo[E]),M=Ry(o,c,f,l,x,t[To[E]],So[4],ko[E])),r=s,s=a,a=Wa(i,10),i=n,n=C,o=x,x=l,l=Wa(f,10),f=c,c=M}var k=this._b+i+l|0;this._b=this._c+a+x|0,this._c=this._d+s+o|0,this._d=this._e+r+c|0,this._e=this._a+n+f|0,this._a=k};Zf.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=hl.alloc?hl.alloc(20):new hl(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t};function Wa(t,e){return t<<e|t>>>32-e}function Ry(t,e,r,n,i,a,s,o){return Wa(t+(e^r^n)+a+s|0,o)+i|0}function Py(t,e,r,n,i,a,s,o){return Wa(t+(e&r|~e&n)+a+s|0,o)+i|0}function By(t,e,r,n,i,a,s,o){return Wa(t+((e|~r)^n)+a+s|0,o)+i|0}function Oy(t,e,r,n,i,a,s,o){return Wa(t+(e&n|r&~n)+a+s|0,o)+i|0}function Ly(t,e,r,n,i,a,s,o){return Wa(t+(e^(r|~n))+a+s|0,o)+i|0}var zI=Zf,jg={exports:{}},Kg=On.Buffer;function Qf(t,e){this._block=Kg.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}Qf.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=Kg.from(t,e));for(var r=this._block,n=this._blockSize,i=t.length,a=this._len,s=0;s<i;){for(var o=a%n,c=Math.min(i-s,n-o),f=0;f<c;f++)r[o+f]=t[s+f];a+=c,s+=c,a%n===0&&this._update(r)}return this._len+=i,this};Qf.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var a=this._hash();return t?a.toString(t):a};Qf.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var uo=Qf,qI=Xt,Gg=uo,jI=On.Buffer,KI=[1518500249,1859775393,-1894007588,-899497514],GI=new Array(80);function Bc(){this.init(),this._w=GI,Gg.call(this,64,56)}qI(Bc,Gg);Bc.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function VI(t){return t<<5|t>>>27}function WI(t){return t<<30|t>>>2}function JI(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}Bc.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,a=this._d|0,s=this._e|0,o=0;o<16;++o)e[o]=t.readInt32BE(o*4);for(;o<80;++o)e[o]=e[o-3]^e[o-8]^e[o-14]^e[o-16];for(var c=0;c<80;++c){var f=~~(c/20),l=VI(r)+JI(f,n,i,a)+s+e[c]+KI[f]|0;s=a,a=i,i=WI(n),n=r,r=l}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=a+this._d|0,this._e=s+this._e|0};Bc.prototype._hash=function(){var t=jI.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var YI=Bc,ZI=Xt,Vg=uo,QI=On.Buffer,XI=[1518500249,1859775393,-1894007588,-899497514],eS=new Array(80);function Oc(){this.init(),this._w=eS,Vg.call(this,64,56)}ZI(Oc,Vg);Oc.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function tS(t){return t<<1|t>>>31}function rS(t){return t<<5|t>>>27}function nS(t){return t<<30|t>>>2}function iS(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}Oc.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,a=this._d|0,s=this._e|0,o=0;o<16;++o)e[o]=t.readInt32BE(o*4);for(;o<80;++o)e[o]=tS(e[o-3]^e[o-8]^e[o-14]^e[o-16]);for(var c=0;c<80;++c){var f=~~(c/20),l=rS(r)+iS(f,n,i,a)+s+e[c]+XI[f]|0;s=a,a=i,i=nS(n),n=r,r=l}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=a+this._d|0,this._e=s+this._e|0};Oc.prototype._hash=function(){var t=QI.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var aS=Oc,sS=Xt,Wg=uo,oS=On.Buffer,cS=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],uS=new Array(64);function Lc(){this.init(),this._w=uS,Wg.call(this,64,56)}sS(Lc,Wg);Lc.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function fS(t,e,r){return r^t&(e^r)}function dS(t,e,r){return t&e|r&(t|e)}function lS(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function hS(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function pS(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function mS(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}Lc.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,a=this._d|0,s=this._e|0,o=this._f|0,c=this._g|0,f=this._h|0,l=0;l<16;++l)e[l]=t.readInt32BE(l*4);for(;l<64;++l)e[l]=mS(e[l-2])+e[l-7]+pS(e[l-15])+e[l-16]|0;for(var x=0;x<64;++x){var E=f+hS(s)+fS(s,o,c)+cS[x]+e[x]|0,C=lS(r)+dS(r,n,i)|0;f=c,c=o,o=s,s=a+E|0,a=i,i=n,n=r,r=E+C|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=a+this._d|0,this._e=s+this._e|0,this._f=o+this._f|0,this._g=c+this._g|0,this._h=f+this._h|0};Lc.prototype._hash=function(){var t=oS.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};var Jg=Lc,yS=Xt,bS=Jg,xS=uo,gS=On.Buffer,vS=new Array(64);function Xf(){this.init(),this._w=vS,xS.call(this,64,56)}yS(Xf,bS);Xf.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};Xf.prototype._hash=function(){var t=gS.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};var wS=Xf,AS=Xt,Yg=uo,ES=On.Buffer,Fy=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],_S=new Array(160);function Fc(){this.init(),this._w=_S,Yg.call(this,128,112)}AS(Fc,Yg);Fc.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function Dy(t,e,r){return r^t&(e^r)}function Uy(t,e,r){return t&e|r&(t|e)}function $y(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function Hy(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function TS(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function MS(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function kS(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function IS(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function nr(t,e){return t>>>0<e>>>0?1:0}Fc.prototype._update=function(t){for(var e=this._w,r=this._ah|0,n=this._bh|0,i=this._ch|0,a=this._dh|0,s=this._eh|0,o=this._fh|0,c=this._gh|0,f=this._hh|0,l=this._al|0,x=this._bl|0,E=this._cl|0,C=this._dl|0,M=this._el|0,k=this._fl|0,S=this._gl|0,R=this._hl|0,B=0;B<32;B+=2)e[B]=t.readInt32BE(B*4),e[B+1]=t.readInt32BE(B*4+4);for(;B<160;B+=2){var $=e[B-30],H=e[B-15*2+1],K=TS($,H),J=MS(H,$);$=e[B-2*2],H=e[B-2*2+1];var ie=kS($,H),X=IS(H,$),re=e[B-7*2],D=e[B-7*2+1],m=e[B-16*2],d=e[B-16*2+1],h=J+D|0,u=K+re+nr(h,J)|0;h=h+X|0,u=u+ie+nr(h,X)|0,h=h+d|0,u=u+m+nr(h,d)|0,e[B]=u,e[B+1]=h}for(var p=0;p<160;p+=2){u=e[p],h=e[p+1];var g=Uy(r,n,i),_=Uy(l,x,E),A=$y(r,l),y=$y(l,r),b=Hy(s,M),w=Hy(M,s),v=Fy[p],P=Fy[p+1],j=Dy(s,o,c),I=Dy(M,k,S),L=R+w|0,q=f+b+nr(L,R)|0;L=L+I|0,q=q+j+nr(L,I)|0,L=L+P|0,q=q+v+nr(L,P)|0,L=L+h|0,q=q+u+nr(L,h)|0;var G=y+_|0,V=A+g+nr(G,y)|0;f=c,R=S,c=o,S=k,o=s,k=M,M=C+L|0,s=a+q+nr(M,C)|0,a=i,C=E,i=n,E=x,n=r,x=l,l=L+G|0,r=q+V+nr(l,L)|0}this._al=this._al+l|0,this._bl=this._bl+x|0,this._cl=this._cl+E|0,this._dl=this._dl+C|0,this._el=this._el+M|0,this._fl=this._fl+k|0,this._gl=this._gl+S|0,this._hl=this._hl+R|0,this._ah=this._ah+r+nr(this._al,l)|0,this._bh=this._bh+n+nr(this._bl,x)|0,this._ch=this._ch+i+nr(this._cl,E)|0,this._dh=this._dh+a+nr(this._dl,C)|0,this._eh=this._eh+s+nr(this._el,M)|0,this._fh=this._fh+o+nr(this._fl,k)|0,this._gh=this._gh+c+nr(this._gl,S)|0,this._hh=this._hh+f+nr(this._hl,R)|0};Fc.prototype._hash=function(){var t=ES.allocUnsafe(64);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};var Zg=Fc,SS=Xt,CS=Zg,NS=uo,RS=On.Buffer,PS=new Array(160);function ed(){this.init(),this._w=PS,NS.call(this,128,112)}SS(ed,CS);ed.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};ed.prototype._hash=function(){var t=RS.allocUnsafe(48);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};var BS=ed,ss=jg.exports=function(e){e=e.toLowerCase();var r=ss[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};ss.sha=YI;ss.sha1=aS;ss.sha224=wS;ss.sha256=Jg;ss.sha384=BS;ss.sha512=Zg;var OS=jg.exports,Qg=On.Buffer,Xg=dn.Transform,LS=ju.StringDecoder,FS=Xt;function Xn(t){Xg.call(this),this.hashMode=typeof t=="string",this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}FS(Xn,Xg);Xn.prototype.update=function(t,e,r){typeof t=="string"&&(t=Qg.from(t,e));var n=this._update(t);return this.hashMode?this:(r&&(n=this._toString(n,r)),n)};Xn.prototype.setAutoPadding=function(){};Xn.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")};Xn.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")};Xn.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")};Xn.prototype._transform=function(t,e,r){var n;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(i){n=i}finally{r(n)}};Xn.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(r){e=r}t(e)};Xn.prototype._finalOrDigest=function(t){var e=this.__final()||Qg.alloc(0);return t&&(e=this._toString(e,t,!0)),e};Xn.prototype._toString=function(t,e,r){if(this._decoder||(this._decoder=new LS(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var n=this._decoder.write(t);return r&&(n+=this._decoder.end()),n};var DS=Xn,US=Xt,$S=UI,HS=zI,zS=OS,ev=DS;function td(t){ev.call(this,"digest"),this._hash=t}US(td,ev);td.prototype._update=function(t){this._hash.update(t)};td.prototype._final=function(){return this._hash.digest()};var qS=function(e){return e=e.toLowerCase(),e==="md5"?new $S:e==="rmd160"||e==="ripemd160"?new HS:new td(zS(e))};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.rlphash=t.ripemd160FromArray=t.ripemd160FromString=t.ripemd160=t.sha256FromArray=t.sha256FromString=t.sha256=t.keccakFromArray=t.keccakFromHexString=t.keccakFromString=t.keccak256=t.keccak=void 0;var e=oo,r=qS,n=Jr,i=ga,a=cn,s=function(H,K){switch(K===void 0&&(K=256),(0,a.assertIsBuffer)(H),K){case 224:return(0,e.keccak224)(H);case 256:return(0,e.keccak256)(H);case 384:return(0,e.keccak384)(H);case 512:return(0,e.keccak512)(H);default:throw new Error("Invald algorithm: keccak".concat(K))}};t.keccak=s;var o=function(H){return(0,t.keccak)(H)};t.keccak256=o;var c=function(H,K){K===void 0&&(K=256),(0,a.assertIsString)(H);var J=Buffer.from(H,"utf8");return(0,t.keccak)(J,K)};t.keccakFromString=c;var f=function(H,K){return K===void 0&&(K=256),(0,a.assertIsHexString)(H),(0,t.keccak)((0,i.toBuffer)(H),K)};t.keccakFromHexString=f;var l=function(H,K){return K===void 0&&(K=256),(0,a.assertIsArray)(H),(0,t.keccak)((0,i.toBuffer)(H),K)};t.keccakFromArray=l;var x=function(H){return H=(0,i.toBuffer)(H),r("sha256").update(H).digest()},E=function(H){return(0,a.assertIsBuffer)(H),x(H)};t.sha256=E;var C=function(H){return(0,a.assertIsString)(H),x(H)};t.sha256FromString=C;var M=function(H){return(0,a.assertIsArray)(H),x(H)};t.sha256FromArray=M;var k=function(H,K){H=(0,i.toBuffer)(H);var J=r("rmd160").update(H).digest();return K===!0?(0,i.setLengthLeft)(J,32):J},S=function(H,K){return(0,a.assertIsBuffer)(H),k(H,K)};t.ripemd160=S;var R=function(H,K){return(0,a.assertIsString)(H),k(H,K)};t.ripemd160FromString=R;var B=function(H,K){return(0,a.assertIsArray)(H),k(H,K)};t.ripemd160FromArray=B;var $=function(H){return(0,t.keccak)(n.rlp.encode(H))};t.rlphash=$})(jf);var rd={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.toType=t.TypeOutput=t.bnToRlp=t.bnToUnpaddedBuffer=t.bnToHex=void 0;var e=Jr,r=Tt,n=ga;function i(f){return"0x".concat(f.toString(16))}t.bnToHex=i;function a(f){return(0,n.unpadBuffer)(f.toArrayLike(Buffer))}t.bnToUnpaddedBuffer=a;function s(f){return a(f)}t.bnToRlp=s;var o;(function(f){f[f.Number=0]="Number",f[f.BN=1]="BN",f[f.Buffer=2]="Buffer",f[f.PrefixedHexString=3]="PrefixedHexString"})(o=t.TypeOutput||(t.TypeOutput={}));function c(f,l){if(f===null)return null;if(f!==void 0){if(typeof f=="string"&&!(0,r.isHexString)(f))throw new Error("A string must be provided with a 0x-prefix, given: ".concat(f));if(typeof f=="number"&&!Number.isSafeInteger(f))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");var x=(0,n.toBuffer)(f);if(l===o.Buffer)return x;if(l===o.BN)return new e.BN(x);if(l===o.Number){var E=new e.BN(x),C=new e.BN(Number.MAX_SAFE_INTEGER.toString());if(E.gt(C))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return E.toNumber()}else return"0x".concat(x.toString("hex"))}}t.toType=c})(rd);(function(t){var e=Ye&&Ye.__read||function(D,m){var d=typeof Symbol=="function"&&D[Symbol.iterator];if(!d)return D;var h=d.call(D),u,p=[],g;try{for(;(m===void 0||m-- >0)&&!(u=h.next()).done;)p.push(u.value)}catch(_){g={error:_}}finally{try{u&&!u.done&&(d=h.return)&&d.call(h)}finally{if(g)throw g.error}}return p},r=Ye&&Ye.__importDefault||function(D){return D&&D.__esModule?D:{default:D}};Object.defineProperty(t,"__esModule",{value:!0}),t.isZeroAddress=t.zeroAddress=t.importPublic=t.privateToAddress=t.privateToPublic=t.publicToAddress=t.pubToAddress=t.isValidPublic=t.isValidPrivate=t.generateAddress2=t.generateAddress=t.isValidChecksumAddress=t.toChecksumAddress=t.isValidAddress=t.Account=void 0;var n=r(dn),i=Jr,a=ip,s=Tt,o=ep,c=ga,f=jf,l=cn,x=rd,E=function(){function D(m,d,h,u){m===void 0&&(m=new i.BN(0)),d===void 0&&(d=new i.BN(0)),h===void 0&&(h=o.KECCAK256_RLP),u===void 0&&(u=o.KECCAK256_NULL),this.nonce=m,this.balance=d,this.stateRoot=h,this.codeHash=u,this._validate()}return D.fromAccountData=function(m){var d=m.nonce,h=m.balance,u=m.stateRoot,p=m.codeHash;return new D(d?new i.BN((0,c.toBuffer)(d)):void 0,h?new i.BN((0,c.toBuffer)(h)):void 0,u?(0,c.toBuffer)(u):void 0,p?(0,c.toBuffer)(p):void 0)},D.fromRlpSerializedAccount=function(m){var d=i.rlp.decode(m);if(!Array.isArray(d))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(d)},D.fromValuesArray=function(m){var d=e(m,4),h=d[0],u=d[1],p=d[2],g=d[3];return new D(new i.BN(h),new i.BN(u),p,g)},D.prototype._validate=function(){if(this.nonce.lt(new i.BN(0)))throw new Error("nonce must be greater than zero");if(this.balance.lt(new i.BN(0)))throw new Error("balance must be greater than zero");if(this.stateRoot.length!==32)throw new Error("stateRoot must have a length of 32");if(this.codeHash.length!==32)throw new Error("codeHash must have a length of 32")},D.prototype.raw=function(){return[(0,x.bnToUnpaddedBuffer)(this.nonce),(0,x.bnToUnpaddedBuffer)(this.balance),this.stateRoot,this.codeHash]},D.prototype.serialize=function(){return i.rlp.encode(this.raw())},D.prototype.isContract=function(){return!this.codeHash.equals(o.KECCAK256_NULL)},D.prototype.isEmpty=function(){return this.balance.isZero()&&this.nonce.isZero()&&this.codeHash.equals(o.KECCAK256_NULL)},D}();t.Account=E;var C=function(D){try{(0,l.assertIsString)(D)}catch{return!1}return/^0x[0-9a-fA-F]{40}$/.test(D)};t.isValidAddress=C;var M=function(D,m){(0,l.assertIsHexString)(D);var d=(0,s.stripHexPrefix)(D).toLowerCase(),h="";if(m){var u=(0,x.toType)(m,x.TypeOutput.BN);h=u.toString()+"0x"}for(var p=(0,f.keccakFromString)(h+d).toString("hex"),g="0x",_=0;_<d.length;_++)parseInt(p[_],16)>=8?g+=d[_].toUpperCase():g+=d[_];return g};t.toChecksumAddress=M;var k=function(D,m){return(0,t.isValidAddress)(D)&&(0,t.toChecksumAddress)(D,m)===D};t.isValidChecksumAddress=k;var S=function(D,m){(0,l.assertIsBuffer)(D),(0,l.assertIsBuffer)(m);var d=new i.BN(m);return d.isZero()?(0,f.rlphash)([D,null]).slice(-20):(0,f.rlphash)([D,Buffer.from(d.toArray())]).slice(-20)};t.generateAddress=S;var R=function(D,m,d){(0,l.assertIsBuffer)(D),(0,l.assertIsBuffer)(m),(0,l.assertIsBuffer)(d),(0,n.default)(D.length===20),(0,n.default)(m.length===32);var h=(0,f.keccak256)(Buffer.concat([Buffer.from("ff","hex"),D,m,(0,f.keccak256)(d)]));return h.slice(-20)};t.generateAddress2=R;var B=function(D){return(0,a.privateKeyVerify)(D)};t.isValidPrivate=B;var $=function(D,m){return m===void 0&&(m=!1),(0,l.assertIsBuffer)(D),D.length===64?(0,a.publicKeyVerify)(Buffer.concat([Buffer.from([4]),D])):m?(0,a.publicKeyVerify)(D):!1};t.isValidPublic=$;var H=function(D,m){return m===void 0&&(m=!1),(0,l.assertIsBuffer)(D),m&&D.length!==64&&(D=Buffer.from((0,a.publicKeyConvert)(D,!1).slice(1))),(0,n.default)(D.length===64),(0,f.keccak)(D).slice(-20)};t.pubToAddress=H,t.publicToAddress=t.pubToAddress;var K=function(D){return(0,l.assertIsBuffer)(D),Buffer.from((0,a.publicKeyCreate)(D,!1)).slice(1)};t.privateToPublic=K;var J=function(D){return(0,t.publicToAddress)((0,t.privateToPublic)(D))};t.privateToAddress=J;var ie=function(D){return(0,l.assertIsBuffer)(D),D.length!==64&&(D=Buffer.from((0,a.publicKeyConvert)(D,!1).slice(1))),D};t.importPublic=ie;var X=function(){var D=20,m=(0,c.zeros)(D);return(0,c.bufferToHex)(m)};t.zeroAddress=X;var re=function(D){try{(0,l.assertIsString)(D)}catch{return!1}var m=(0,t.zeroAddress)();return m===D};t.isZeroAddress=re})(np);var nd={},jS=Ye&&Ye.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(nd,"__esModule",{value:!0});nd.Address=void 0;var Ma=jS(dn),ru=Jr,zy=ga,Co=np,KS=function(){function t(e){(0,Ma.default)(e.length===20,"Invalid address length"),this.buf=e}return t.zero=function(){return new t((0,zy.zeros)(20))},t.fromString=function(e){return(0,Ma.default)((0,Co.isValidAddress)(e),"Invalid address"),new t((0,zy.toBuffer)(e))},t.fromPublicKey=function(e){(0,Ma.default)(Buffer.isBuffer(e),"Public key should be Buffer");var r=(0,Co.pubToAddress)(e);return new t(r)},t.fromPrivateKey=function(e){(0,Ma.default)(Buffer.isBuffer(e),"Private key should be Buffer");var r=(0,Co.privateToAddress)(e);return new t(r)},t.generate=function(e,r){return(0,Ma.default)(ru.BN.isBN(r)),new t((0,Co.generateAddress)(e.buf,r.toArrayLike(Buffer)))},t.generate2=function(e,r,n){return(0,Ma.default)(Buffer.isBuffer(r)),(0,Ma.default)(Buffer.isBuffer(n)),new t((0,Co.generateAddress2)(e.buf,r,n))},t.prototype.equals=function(e){return this.buf.equals(e.buf)},t.prototype.isZero=function(){return this.equals(t.zero())},t.prototype.isPrecompileOrSystemAddress=function(){var e=new ru.BN(this.buf),r=new ru.BN(0),n=new ru.BN("ffff","hex");return e.gte(r)&&e.lte(n)},t.prototype.toString=function(){return"0x"+this.buf.toString("hex")},t.prototype.toBuffer=function(){return Buffer.from(this.buf)},t}();nd.Address=KS;var Er={};Object.defineProperty(Er,"__esModule",{value:!0});Er.hashPersonalMessage=Er.isValidSignature=Er.fromRpcSig=Er.toCompactSig=Er.toRpcSig=Er.ecrecover=Er.ecsign=void 0;var m0=ip,Lo=Jr,Tn=ga,GS=jf,VS=cn,ci=rd;function WS(t,e,r){var n=(0,m0.ecdsaSign)(t,e),i=n.signature,a=n.recid,s=Buffer.from(i.slice(0,32)),o=Buffer.from(i.slice(32,64));if(!r||typeof r=="number"){if(r&&!Number.isSafeInteger(r))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");var c=r?a+(r*2+35):a+27;return{r:s,s:o,v:c}}var f=(0,ci.toType)(r,ci.TypeOutput.BN),l=f.muln(2).addn(35).addn(a).toArrayLike(Buffer);return{r:s,s:o,v:l}}Er.ecsign=WS;function id(t,e){var r=(0,ci.toType)(t,ci.TypeOutput.BN);if(r.eqn(0)||r.eqn(1))return(0,ci.toType)(t,ci.TypeOutput.BN);if(!e)return r.subn(27);var n=(0,ci.toType)(e,ci.TypeOutput.BN);return r.sub(n.muln(2).addn(35))}function ad(t){var e=new Lo.BN(t);return e.eqn(0)||e.eqn(1)}var JS=function(t,e,r,n,i){var a=Buffer.concat([(0,Tn.setLengthLeft)(r,32),(0,Tn.setLengthLeft)(n,32)],64),s=id(e,i);if(!ad(s))throw new Error("Invalid signature v value");var o=(0,m0.ecdsaRecover)(a,s.toNumber(),t);return Buffer.from((0,m0.publicKeyConvert)(o,!1).slice(1))};Er.ecrecover=JS;var YS=function(t,e,r,n){var i=id(t,n);if(!ad(i))throw new Error("Invalid signature v value");return(0,Tn.bufferToHex)(Buffer.concat([(0,Tn.setLengthLeft)(e,32),(0,Tn.setLengthLeft)(r,32),(0,Tn.toBuffer)(t)]))};Er.toRpcSig=YS;var ZS=function(t,e,r,n){var i=id(t,n);if(!ad(i))throw new Error("Invalid signature v value");var a=(0,ci.toType)(t,ci.TypeOutput.Number),s=r;return(a>28&&a%2===1||a===1||a===28)&&(s=Buffer.from(r),s[0]|=128),(0,Tn.bufferToHex)(Buffer.concat([(0,Tn.setLengthLeft)(e,32),(0,Tn.setLengthLeft)(s,32)]))};Er.toCompactSig=ZS;var QS=function(t){var e=(0,Tn.toBuffer)(t),r,n,i;if(e.length>=65)r=e.slice(0,32),n=e.slice(32,64),i=(0,Tn.bufferToInt)(e.slice(64));else if(e.length===64)r=e.slice(0,32),n=e.slice(32,64),i=(0,Tn.bufferToInt)(e.slice(32,33))>>7,n[0]&=127;else throw new Error("Invalid signature length");return i<27&&(i+=27),{v:i,r,s:n}};Er.fromRpcSig=QS;var XS=function(t,e,r,n,i){n===void 0&&(n=!0);var a=new Lo.BN("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),s=new Lo.BN("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);if(e.length!==32||r.length!==32||!ad(id(t,i)))return!1;var o=new Lo.BN(e),c=new Lo.BN(r);return!(o.isZero()||o.gt(s)||c.isZero()||c.gt(s)||n&&c.cmp(a)===1)};Er.isValidSignature=XS;var eC=function(t){(0,VS.assertIsBuffer)(t);var e=Buffer.from(`Ethereum Signed Message:
`.concat(t.length),"utf-8");return(0,GS.keccak)(Buffer.concat([e,t]))};Er.hashPersonalMessage=eC;var sd={},tC=Ye&&Ye.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(sd,"__esModule",{value:!0});sd.defineProperties=void 0;var qy=tC(dn),rC=Tt,jy=Jr,nu=ga,nC=function(t,e,r){if(t.raw=[],t._fields=[],t.toJSON=function(i){if(i===void 0&&(i=!1),i){var a={};return t._fields.forEach(function(s){a[s]="0x".concat(t[s].toString("hex"))}),a}return(0,nu.baToJSON)(t.raw)},t.serialize=function(){return jy.rlp.encode(t.raw)},e.forEach(function(i,a){t._fields.push(i.name);function s(){return t.raw[a]}function o(c){c=(0,nu.toBuffer)(c),c.toString("hex")==="00"&&!i.allowZero&&(c=Buffer.allocUnsafe(0)),i.allowLess&&i.length?(c=(0,nu.unpadBuffer)(c),(0,qy.default)(i.length>=c.length,"The field ".concat(i.name," must not have more ").concat(i.length," bytes"))):!(i.allowZero&&c.length===0)&&i.length&&(0,qy.default)(i.length===c.length,"The field ".concat(i.name," must have byte length of ").concat(i.length)),t.raw[a]=c}Object.defineProperty(t,i.name,{enumerable:!0,configurable:!0,get:s,set:o}),i.default&&(t[i.name]=i.default),i.alias&&Object.defineProperty(t,i.alias,{enumerable:!1,configurable:!0,set:o,get:s})}),r)if(typeof r=="string"&&(r=Buffer.from((0,rC.stripHexPrefix)(r),"hex")),Buffer.isBuffer(r)&&(r=jy.rlp.decode(r)),Array.isArray(r)){if(r.length>t._fields.length)throw new Error("wrong number of fields in data");r.forEach(function(i,a){t[t._fields[a]]=(0,nu.toBuffer)(i)})}else if(typeof r=="object"){var n=Object.keys(r);e.forEach(function(i){n.indexOf(i.name)!==-1&&(t[i.name]=r[i.name]),n.indexOf(i.alias)!==-1&&(t[i.alias]=r[i.alias])})}else throw new Error("invalid data")};sd.defineProperties=nC;(function(t){var e=Ye&&Ye.__createBinding||(Object.create?function(i,a,s,o){o===void 0&&(o=s);var c=Object.getOwnPropertyDescriptor(a,s);(!c||("get"in c?!a.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(i,o,c)}:function(i,a,s,o){o===void 0&&(o=s),i[o]=a[s]}),r=Ye&&Ye.__exportStar||function(i,a){for(var s in i)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,i,s)};Object.defineProperty(t,"__esModule",{value:!0}),t.isHexString=t.getKeys=t.fromAscii=t.fromUtf8=t.toAscii=t.arrayContainsArray=t.getBinarySize=t.padToEven=t.stripHexPrefix=t.isHexPrefixed=void 0,r(ep,t),r(np,t),r(nd,t),r(jf,t),r(Er,t),r(ga,t),r(sd,t),r(Jr,t),r(rd,t);var n=Tt;Object.defineProperty(t,"isHexPrefixed",{enumerable:!0,get:function(){return n.isHexPrefixed}}),Object.defineProperty(t,"stripHexPrefix",{enumerable:!0,get:function(){return n.stripHexPrefix}}),Object.defineProperty(t,"padToEven",{enumerable:!0,get:function(){return n.padToEven}}),Object.defineProperty(t,"getBinarySize",{enumerable:!0,get:function(){return n.getBinarySize}}),Object.defineProperty(t,"arrayContainsArray",{enumerable:!0,get:function(){return n.arrayContainsArray}}),Object.defineProperty(t,"toAscii",{enumerable:!0,get:function(){return n.toAscii}}),Object.defineProperty(t,"fromUtf8",{enumerable:!0,get:function(){return n.fromUtf8}}),Object.defineProperty(t,"fromAscii",{enumerable:!0,get:function(){return n.fromAscii}}),Object.defineProperty(t,"getKeys",{enumerable:!0,get:function(){return n.getKeys}}),Object.defineProperty(t,"isHexString",{enumerable:!0,get:function(){return n.isHexString}})})(ug);var Ki={},fo={};Object.defineProperty(fo,"__esModule",{value:!0});const iC=O2;function aC(t){return"0x"+iC.keccak_256(tv(t))}fo.keccak256=aC;fo.padLeft=(t,e)=>{const r=/^0x/i.test(t)||typeof t=="number";t=t.toString().replace(/^0x/i,"");const n=e-t.length+1>=0?e-t.length+1:0;return(r?"0x":"")+new Array(n).join("0")+t};function sC(t){const e=[];for(let r=0;r<t.length;r++)e.push((t[r]>>>4).toString(16)),e.push((t[r]&15).toString(16));return`0x${e.join("").replace(/^0+/,"")}`}fo.bytesToHex=sC;function tv(t){if(t==null)throw new Error("cannot convert null value to array");if(typeof t=="string"){const e=t.match(/^(0x)?[0-9a-fA-F]*$/);if(!e)throw new Error("invalid hexidecimal string");if(e[1]!=="0x")throw new Error("hex string must have 0x prefix");t=t.substring(2),t.length%2&&(t="0"+t);const r=[];for(let n=0;n<t.length;n+=2)r.push(parseInt(t.substr(n,2),16));return y0(new Uint8Array(r))}if(oC(t))return y0(new Uint8Array(t));throw new Error("invalid arrayify value")}fo.toByteArray=tv;function oC(t){if(!t||parseInt(String(t.length))!=t.length||typeof t=="string")return!1;for(let e=0;e<t.length;e++){const r=t[e];if(r<0||r>=256||parseInt(String(r))!=r)return!1}return!0}function y0(t){return t.slice!==void 0||(t.slice=()=>{const e=Array.prototype.slice.call(arguments);return y0(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}Object.defineProperty(Ki,"__esModule",{value:!0});const b0=fo;function od(t){return typeof t!="string"||!/^(0x)?[0-9a-f]{512}$/i.test(t)?!1:!!(/^(0x)?[0-9a-f]{512}$/.test(t)||/^(0x)?[0-9A-F]{512}$/.test(t))}Ki.isBloom=od;function cd(t,e){typeof e=="object"&&e.constructor===Uint8Array&&(e=b0.bytesToHex(e));const r=b0.keccak256(e).replace("0x","");for(let n=0;n<12;n+=4){const i=(parseInt(r.substr(n,2),16)<<8)+parseInt(r.substr(n+2,2),16)&2047,a=cC(t.charCodeAt(t.length-1-Math.floor(i/4))),s=1<<i%4;if((a&s)!==s)return!1}return!0}Ki.isInBloom=cd;function cC(t){if(t>=48&&t<=57)return t-48;if(t>=65&&t<=70)return t-55;if(t>=97&&t<=102)return t-87;throw new Error("invalid bloom")}function uC(t,e){if(!od(t))throw new Error("Invalid bloom given");if(!yp(e))throw new Error(`Invalid ethereum address given: "${e}"`);const r=b0.padLeft(e,64);return cd(t,r)}Ki.isUserEthereumAddressInBloom=uC;function fC(t,e){if(!od(t))throw new Error("Invalid bloom given");if(!yp(e))throw new Error(`Invalid contract address given: "${e}"`);return cd(t,e)}Ki.isContractAddressInBloom=fC;function dC(t,e){if(!od(t))throw new Error("Invalid bloom given");if(!rv(e))throw new Error("Invalid topic");return cd(t,e)}Ki.isTopicInBloom=dC;function rv(t){if(typeof t!="string")return!1;if(/^(0x)?[0-9a-f]{64}$/i.test(t)){if(/^(0x)?[0-9a-f]{64}$/.test(t)||/^(0x)?[0-9A-F]{64}$/.test(t))return!0}else return!1;return!1}Ki.isTopic=rv;function yp(t){return typeof t!="string"?!1:!!(t.match(/^(0x)?[0-9a-fA-F]{40}$/)||t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/))}Ki.isAddress=yp;var Fs=Qa,lC=ag,nv=cg,bu=ug,lo=Ki,bp=function(t){return Fs.isBN(t)},iv=function(t){return t&&t.constructor&&t.constructor.name==="BigNumber"},Dc=function(t){try{return lC.apply(null,arguments)}catch(e){throw new Error(e+' Given value: "'+t+'"')}},hC=function(t){return"0x"+Dc(t).toTwos(256).toString(16,64)},av=function(t){return/^(0x)?[0-9a-f]{40}$/i.test(t)?/^(0x|0X)?[0-9a-f]{40}$/.test(t)||/^(0x|0X)?[0-9A-F]{40}$/.test(t)?!0:sv(t):!1},sv=function(t){t=t.replace(/^0x/i,"");for(var e=ud(t.toLowerCase()).replace(/^0x/i,""),r=0;r<40;r++)if(parseInt(e[r],16)>7&&t[r].toUpperCase()!==t[r]||parseInt(e[r],16)<=7&&t[r].toLowerCase()!==t[r])return!1;return!0},pC=function(t,e,r){var n=/^0x/i.test(t)||typeof t=="number";t=t.toString(16).replace(/^0x/i,"");var i=e-t.length+1>=0?e-t.length+1:0;return(n?"0x":"")+new Array(i).join(r||"0")+t},mC=function(t,e,r){var n=/^0x/i.test(t)||typeof t=="number";t=t.toString(16).replace(/^0x/i,"");var i=e-t.length+1>=0?e-t.length+1:0;return(n?"0x":"")+t+new Array(i).join(r||"0")},x0=function(t){t=nv.encode(t);var e="";t=t.replace(/^(?:\u0000)*/,""),t=t.split("").reverse().join(""),t=t.replace(/^(?:\u0000)*/,""),t=t.split("").reverse().join("");for(var r=0;r<t.length;r++){var n=t.charCodeAt(r),i=n.toString(16);e+=i.length<2?"0"+i:i}return"0x"+e},yC=function(t){if(!os(t))throw new Error('The parameter "'+t+'" must be a valid HEX string.');var e="",r=0;t=t.replace(/^0x/i,""),t=t.replace(/^(?:00)*/,""),t=t.split("").reverse().join(""),t=t.replace(/^(?:00)*/,""),t=t.split("").reverse().join("");for(var n=t.length,i=0;i<n;i+=2)r=parseInt(t.slice(i,i+2),16),e+=String.fromCharCode(r);return nv.decode(e)},ov=function(t,e=!1){if(!t)return t;if(typeof t=="string"&&!os(t))throw new Error('Given value "'+t+'" is not a valid hex string.');const r=Dc(t);return e&&(r>Number.MAX_SAFE_INTEGER||r<Number.MIN_SAFE_INTEGER)?BigInt(r):r.toNumber()},bC=function(t){if(!t)return t;if(typeof t=="string"&&!os(t))throw new Error('Given value "'+t+'" is not a valid hex string.');return Dc(t).toString(10)},g0=function(t){if(t==null)return t;if(!isFinite(t)&&!os(t))throw new Error('Given input "'+t+'" is not a number.');var e=Dc(t),r=e.toString(16);return e.lt(new Fs(0))?"-0x"+r.slice(1):"0x"+r},xC=function(t){for(var e=[],r=0;r<t.length;r++)e.push((t[r]>>>4).toString(16)),e.push((t[r]&15).toString(16));return"0x"+e.join("")},gC=function(t){if(t=t.toString(16),!os(t))throw new Error('Given value "'+t+'" is not a valid hex string.');t=t.replace(/^0x/i,"");for(var e=[],r=0;r<t.length;r+=2)e.push(parseInt(t.slice(r,r+2),16));return e},cv=function(t,e){if(av(t))return e?"address":"0x"+t.toLowerCase().replace(/^0x/i,"");if(typeof t=="boolean")return e?"bool":t?"0x01":"0x00";if(Buffer.isBuffer(t))return"0x"+t.toString("hex");if(typeof t=="object"&&t&&!iv(t)&&!bp(t))return e?"string":x0(JSON.stringify(t));if(typeof t=="string"){if(t.indexOf("-0x")===0||t.indexOf("-0X")===0)return e?"int256":g0(t);if(t.indexOf("0x")===0||t.indexOf("0X")===0)return e?"bytes":t;if(!isFinite(t))return e?"string":x0(t)}return e?t<0?"int256":"uint256":g0(t)},os=function(t){return(typeof t=="string"||typeof t=="number")&&/^(-)?0x[0-9a-f]*$/i.test(t)},uv=function(t){return(typeof t=="string"||typeof t=="number")&&/^(-0x|0x)?[0-9a-f]*$/i.test(t)},vC=function(t){return t!==0&&uv(t)?t.replace(/^(-)?0x/i,"$1"):t},wC=function(t){return lo.isBloom(t)},AC=function(t,e){return lo.isUserEthereumAddressInBloom(t,e)},EC=function(t,e){return lo.isContractAddressInBloom(t,e)},_C=function(t){return lo.isTopic(t)},TC=function(t,e){return lo.isTopicInBloom(t,e)},MC=function(t,e){return lo.isInBloom(t,e)},fv="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",ud=function(t){bp(t)&&(t=t.toString()),os(t)&&/^0x/i.test(t.toString())?t=bu.toBuffer(t):typeof t=="string"&&(t=Buffer.from(t,"utf-8"));var e=bu.bufferToHex(bu.keccak256(t));return e===fv?null:e};ud._Hash=bu.keccak256;var kC=function(t){return t=ud(t),t===null?fv:t},IC=function(t,e=!1){return typeof t=="number"?t:ov(cv(t),e)},xp=function(t){if(typeof t=="string"&&t.includes("0x")){const[e,r]=t.toLocaleLowerCase().startsWith("-")?["-",t.slice(3)]:["",t.slice(2)];return new Fs(e+r,16)}else return new Fs(t)};Object.setPrototypeOf(xp,Fs);Object.setPrototypeOf(xp.prototype,Fs.prototype);var dv={BN:xp,isBN:bp,isBigNumber:iv,toBN:Dc,isAddress:av,isBloom:wC,isUserEthereumAddressInBloom:AC,isContractAddressInBloom:EC,isTopic:_C,isTopicInBloom:TC,isInBloom:MC,checkAddressChecksum:sv,utf8ToHex:x0,hexToUtf8:yC,hexToNumber:ov,hexToNumberString:bC,numberToHex:g0,toHex:cv,hexToBytes:gC,bytesToHex:xC,isHex:uv,isHexStrict:os,stripHexPrefix:vC,leftPad:pC,rightPad:mC,toTwosComplement:hC,sha3:ud,sha3Raw:kC,toNumber:IC},Pa=Qa,sn=dv,SC=function(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t},CC=function(t){var e=/^\D+(\d+).*$/.exec(t);return e?parseInt(e[1],10):null},NC=function(t){var e=/^\D+\d*\[(\d+)\]$/.exec(t);return e?parseInt(e[1],10):null},Ky=function(t){var e=typeof t;if(e==="string")return sn.isHexStrict(t)?new Pa(t.replace(/0x/i,""),16):new Pa(t,10);if(e==="number")return new Pa(t);if(sn.isBigNumber(t))return new Pa(t.toString(10));if(sn.isBN(t))return t;throw new Error(t+" is not a number")},Gy=function(t,e,r){var n,i;if(t=SC(t),t==="bytes"){if(e.replace(/^0x/i,"").length%2!==0)throw new Error("Invalid bytes characters "+e.length);return e}else{if(t==="string")return sn.utf8ToHex(e);if(t==="bool")return e?"01":"00";if(t.startsWith("address")){if(r?n=64:n=40,!sn.isAddress(e))throw new Error(e+" is not a valid address, or the checksum is invalid.");return sn.leftPad(e.toLowerCase(),n)}}if(n=CC(t),t.startsWith("bytes")){if(!n)throw new Error("bytes[] not yet supported in solidity");if(r&&(n=32),n<1||n>32||n<e.replace(/^0x/i,"").length/2)throw new Error("Invalid bytes"+n+" for "+e);return sn.rightPad(e,n*2)}else if(t.startsWith("uint")){if(n%8||n<8||n>256)throw new Error("Invalid uint"+n+" size");if(i=Ky(e),i.bitLength()>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+i.bitLength());if(i.lt(new Pa(0)))throw new Error("Supplied uint "+i.toString()+" is negative");return n?sn.leftPad(i.toString("hex"),n/8*2):i}else if(t.startsWith("int")){if(n%8||n<8||n>256)throw new Error("Invalid int"+n+" size");if(i=Ky(e),i.bitLength()>n)throw new Error("Supplied int exceeds width: "+n+" vs "+i.bitLength());return i.lt(new Pa(0))?i.toTwos(n).toString("hex"):n?sn.leftPad(i.toString("hex"),n/8*2):i}else throw new Error("Unsupported or invalid type: "+t)},gp=function(t){if(Array.isArray(t))throw new Error("Autodetection of array types is not supported.");var e,r="",n,i;if(t&&typeof t=="object"&&(t.hasOwnProperty("v")||t.hasOwnProperty("t")||t.hasOwnProperty("value")||t.hasOwnProperty("type"))?(e=t.hasOwnProperty("t")?t.t:t.type,r=t.hasOwnProperty("v")?t.v:t.value):(e=sn.toHex(t,!0),r=sn.toHex(t),!e.startsWith("int")&&!e.startsWith("uint")&&(e="bytes")),(e.startsWith("int")||e.startsWith("uint"))&&typeof r=="string"&&!/^(-)?0x/i.test(r)&&(r=new Pa(r)),Array.isArray(r)){if(i=NC(e),i&&r.length!==i)throw new Error(e+" is not matching the given array "+JSON.stringify(r));i=r.length}return Array.isArray(r)?(n=r.map(function(a){return Gy(e,a,i).toString("hex").replace("0x","")}),n.join("")):(n=Gy(e,r,i),n.toString("hex").replace("0x",""))},RC=function(){var t=Array.prototype.slice.call(arguments),e=t.map(gp);return sn.sha3("0x"+e.join(""))},PC=function(){return sn.sha3Raw("0x"+Array.prototype.slice.call(arguments).map(gp).join(""))},BC=function(){var t=Array.prototype.slice.call(arguments),e=t.map(gp);return"0x"+e.join("").toLowerCase()},OC={soliditySha3:RC,soliditySha3Raw:PC,encodePacked:BC},Ja=WT,Ge=dv,pl=OC,LC=Eg,Vy=Qa,FC=function(t,e,r,n,i){return t&&typeof t=="object"&&!(t instanceof Error)&&t.data&&((t.data&&typeof t.data=="object"||Array.isArray(t.data))&&(t.data=JSON.stringify(t.data,null,2)),t=t.message+`
`+t.data),typeof t=="string"&&(t=new Error(t)),typeof n=="function"&&n(t,i),typeof r=="function"&&((e&&typeof e.listeners=="function"&&e.listeners("error").length||typeof n=="function")&&e.catch(function(){}),setTimeout(function(){r(t)},1)),e&&typeof e.emit=="function"&&setTimeout(function(){e.emit("error",t,i),e.removeAllListeners()},1),e},DC=function(t){return t&&typeof t=="object"&&t.name&&t.name.indexOf("(")!==-1?t.name:t.name+"("+vp(!1,t.inputs).join(",")+")"},vp=function(t,e){var r=[];return e.forEach(function(n){if(typeof n.components=="object"){if(n.type.substring(0,5)!=="tuple")throw new Error("components found but type is not tuple; report on GitHub");var i="",a=n.type.indexOf("[");a>=0&&(i=n.type.substring(a));var s=vp(t,n.components);Array.isArray(s)&&t?r.push("tuple("+s.join(",")+")"+i):t?r.push("("+s+")"):r.push("("+s.join(",")+")"+i)}else r.push(n.type)}),r},UC=function(t){return"0x"+LC(t).toString("hex")},Wy=function(t){if(!Ge.isHexStrict(t))throw new Error("The parameter must be a valid HEX string.");var e="",r=0,n=t.length;for(t.substring(0,2)==="0x"&&(r=2);r<n;r+=2){var i=parseInt(t.slice(r,r+2),16);e+=String.fromCharCode(i)}return e},Jy=function(t){if(!t)return"0x00";for(var e="",r=0;r<t.length;r++){var n=t.charCodeAt(r),i=n.toString(16);e+=i.length<2?"0"+i:i}return"0x"+e},lv=function(t){if(t=t?t.toLowerCase():"ether",!Ja.unitMap[t])throw new Error('This unit "'+t+`" doesn't exist, please use the one of the following units`+JSON.stringify(Ja.unitMap,null,2));return t},$C=function(t,e){if(e=lv(e),!Ge.isBN(t)&&typeof t!="string")throw new Error("Please pass numbers as strings or BN objects to avoid precision errors.");return Ge.isBN(t)?Ja.fromWei(t,e):Ja.fromWei(t,e).toString(10)},HC=function(t,e){if(e=lv(e),!Ge.isBN(t)&&typeof t!="string")throw new Error("Please pass numbers as strings or BN objects to avoid precision errors.");return Ge.isBN(t)?Ja.toWei(t,e):Ja.toWei(t,e).toString(10)},zC=function(t){if(typeof t>"u")return"";if(!/^(0x)?[0-9a-f]{40}$/i.test(t))throw new Error('Given address "'+t+'" is not a valid Ethereum address.');t=t.toLowerCase().replace(/^0x/i,"");for(var e=Ge.sha3(t).replace(/^0x/i,""),r="0x",n=0;n<t.length;n++)parseInt(e[n],16)>7?r+=t[n].toUpperCase():r+=t[n];return r},qC=function(t,e){if(t===e)return 0;if((t==="genesis"||t==="earliest"||t===0)&&(e==="genesis"||e==="earliest"||e===0))return 0;if(t==="genesis"||t==="earliest"||t===0)return-1;if(e==="genesis"||e==="earliest"||e===0)return 1;if(t==="latest"||t==="finalized")return e==="pending"?-1:1;if(e==="latest"||e==="finalized")return t==="pending"?1:-1;if(t==="pending")return 1;if(e==="pending")return-1;if(t==="safe"||e==="safe")return;{let r=new Vy(t),n=new Vy(e);return r.lt(n)?-1:r.eq(n)?0:1}},hv={_fireError:FC,_jsonInterfaceMethodToString:DC,_flattenTypes:vp,randomHex:UC,BN:Ge.BN,isBN:Ge.isBN,isBigNumber:Ge.isBigNumber,isHex:Ge.isHex,isHexStrict:Ge.isHexStrict,sha3:Ge.sha3,sha3Raw:Ge.sha3Raw,keccak256:Ge.sha3,soliditySha3:pl.soliditySha3,soliditySha3Raw:pl.soliditySha3Raw,encodePacked:pl.encodePacked,isAddress:Ge.isAddress,checkAddressChecksum:Ge.checkAddressChecksum,toChecksumAddress:zC,toHex:Ge.toHex,toBN:Ge.toBN,bytesToHex:Ge.bytesToHex,hexToBytes:Ge.hexToBytes,hexToNumberString:Ge.hexToNumberString,hexToNumber:Ge.hexToNumber,toDecimal:Ge.hexToNumber,numberToHex:Ge.numberToHex,fromDecimal:Ge.numberToHex,hexToUtf8:Ge.hexToUtf8,hexToString:Ge.hexToUtf8,toUtf8:Ge.hexToUtf8,stripHexPrefix:Ge.stripHexPrefix,utf8ToHex:Ge.utf8ToHex,stringToHex:Ge.utf8ToHex,fromUtf8:Ge.utf8ToHex,hexToAscii:Wy,toAscii:Wy,asciiToHex:Jy,fromAscii:Jy,unitMap:Ja.unitMap,toWei:HC,fromWei:$C,padLeft:Ge.leftPad,leftPad:Ge.leftPad,padRight:Ge.rightPad,rightPad:Ge.rightPad,toTwosComplement:Ge.toTwosComplement,isBloom:Ge.isBloom,isUserEthereumAddressInBloom:Ge.isUserEthereumAddressInBloom,isContractAddressInBloom:Ge.isContractAddressInBloom,isTopic:Ge.isTopic,isTopicInBloom:Ge.isTopicInBloom,isInBloom:Ge.isInBloom,compareBlockNumbers:qC,toNumber:Ge.toNumber};const Yy=hv,Zy=Qa,jC=function(t,e){let r=t;for(;r.length<e*2;)r="0"+r;return r},Qy=function(t){const e="A".charCodeAt(0),r="Z".charCodeAt(0);return t=t.toUpperCase(),t=t.slice(4)+t.slice(0,4),t.split("").map(function(n){const i=n.charCodeAt(0);return i>=e&&i<=r?i-e+10:n}).join("")},Xy=function(t){let e=t,r;for(;e.length>2;)r=e.slice(0,9),e=parseInt(r,10)%97+e.slice(r.length);return parseInt(e,10)%97};let KC=class ka{constructor(e){this._iban=e}static toAddress(e){if(e=new ka(e),!e.isDirect())throw new Error("IBAN is indirect and can't be converted");return e.toAddress()}static toIban(e){return ka.fromAddress(e).toString()}static fromAddress(e){if(!Yy.isAddress(e))throw new Error("Provided address is not a valid address: "+e);e=e.replace("0x","").replace("0X","");const n=new Zy(e,16).toString(36),i=jC(n,15);return ka.fromBban(i.toUpperCase())}static fromBban(e){const r="XE",i=("0"+(98-Xy(Qy(r+"00"+e)))).slice(-2);return new ka(r+i+e)}static createIndirect(e){return ka.fromBban("ETH"+e.institution+e.identifier)}static isValid(e){return new ka(e).isValid()}isValid(){return/^XE[0-9]{2}(ETH[0-9A-Z]{13}|[0-9A-Z]{30,31})$/.test(this._iban)&&Xy(Qy(this._iban))===1}isDirect(){return this._iban.length===34||this._iban.length===35}isIndirect(){return this._iban.length===20}checksum(){return this._iban.slice(2,4)}institution(){return this.isIndirect()?this._iban.slice(7,11):""}client(){return this.isIndirect()?this._iban.slice(11):""}toAddress(){if(this.isDirect()){const e=this._iban.slice(4),r=new Zy(e,36);return Yy.toChecksumAddress(r.toString(16,20))}return""}toString(){return this._iban}};var GC=KC,He=hv,VC=GC,WC=function(t){return t.map(He.numberToHex)},JC=function(t){return t.address=He.toChecksumAddress(t.address),t.nonce=He.hexToNumberString(t.nonce),t.balance=He.hexToNumberString(t.balance),t},Ba=function(t){return He.toBN(t).toString(10)},YC=function(t){return["latest","pending","earliest","finalized","safe"].includes(t)},ZC=function(t){return this&&t==null?pc(this.defaultBlock):pc(t)},pc=function(t){if(t!==void 0)return YC(t)?t:t==="genesis"?"0x0":He.isHexStrict(t)?typeof t=="string"?t.toLowerCase():t:He.numberToHex(t)},pv=function(t){if(t.to&&(t.to=Ds(t.to)),t.data&&t.input)throw new Error(`You can't have "data" and "input" as properties of transactions at the same time, please use either "data" or "input" instead.`);if(!t.data&&t.input&&(t.data=t.input,delete t.input),t.data&&!t.data.startsWith("0x")&&(t.data="0x"+t.data),t.data&&!He.isHex(t.data))throw new Error("The data field must be HEX encoded data.");return(t.gas||t.gasLimit)&&(t.gas=t.gas||t.gasLimit),(t.maxPriorityFeePerGas||t.maxFeePerGas)&&delete t.gasPrice,["gasPrice","gas","value","maxPriorityFeePerGas","maxFeePerGas","nonce"].filter(function(e){return t[e]!==void 0}).forEach(function(e){t[e]=He.numberToHex(t[e])}),t},QC=function(t){t=pv(t);var e=t.from||(this?this.defaultAccount:null);return e&&(t.from=Ds(e)),t},XC=function(t){if(t=pv(t),typeof t.from!="number"&&!(t.from&&typeof t.from=="object")){if(t.from=t.from||(this?this.defaultAccount:null),!t.from&&typeof t.from!="number")throw new Error('The send transactions "from" field must be defined!');t.from=Ds(t.from)}return t},eN=function(t){return He.isHexStrict(t)?t:He.utf8ToHex(t)},mv=function(t,e){return e||(t.blockNumber!==null&&(t.blockNumber=He.hexToNumber(t.blockNumber)),t.transactionIndex!==null&&(t.transactionIndex=He.hexToNumber(t.transactionIndex)),t.nonce=He.hexToNumber(t.nonce),t.gas=He.hexToNumber(t.gas),t.type&&(t.type=He.hexToNumber(t.type))),t.gasPrice&&(t.gasPrice=Ba(t.gasPrice)),t.maxFeePerGas&&(t.maxFeePerGas=Ba(t.maxFeePerGas)),t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=Ba(t.maxPriorityFeePerGas)),t.value=Ba(t.value),t.to&&He.isAddress(t.to)?t.to=He.toChecksumAddress(t.to):t.to=null,t.from&&(t.from=He.toChecksumAddress(t.from)),t},tN=function(t){if(typeof t!="object")throw new Error("Received receipt is invalid: "+t);return this.hexFormat||(t.blockNumber!==null&&(t.blockNumber=He.hexToNumber(t.blockNumber)),t.transactionIndex!==null&&(t.transactionIndex=He.hexToNumber(t.transactionIndex)),t.cumulativeGasUsed=He.hexToNumber(t.cumulativeGasUsed),t.gasUsed=He.hexToNumber(t.gasUsed),t.effectiveGasPrice&&(t.effectiveGasPrice=He.hexToNumber(t.effectiveGasPrice))),Array.isArray(t.logs)&&(t.logs=t.logs.map(yv)),t.contractAddress&&(t.contractAddress=He.toChecksumAddress(t.contractAddress)),typeof t.status<"u"&&t.status!==null&&(t.status=!!parseInt(t.status)),t},rN=function(t,e){return e||(t.gasLimit=He.hexToNumber(t.gasLimit),t.gasUsed=He.hexToNumber(t.gasUsed),t.size=He.hexToNumber(t.size),t.timestamp=He.hexToNumber(t.timestamp),t.number!==null&&(t.number=He.hexToNumber(t.number))),t.difficulty&&(t.difficulty=Ba(t.difficulty)),t.totalDifficulty&&(t.totalDifficulty=Ba(t.totalDifficulty)),Array.isArray(t.transactions)&&t.transactions.forEach(function(r){if(typeof r!="string")return mv(r,e)}),t.miner&&(t.miner=He.toChecksumAddress(t.miner)),t.baseFeePerGas&&(t.baseFeePerGas=He.hexToNumber(t.baseFeePerGas)),t},nN=function(t){var e=function(r){return r===null||typeof r>"u"?null:(r=String(r),r.indexOf("0x")===0?r:He.fromUtf8(r))};return t===void 0&&(t={}),t.fromBlock===void 0&&(t={...t,fromBlock:"latest"}),(t.fromBlock||t.fromBlock===0)&&(t.fromBlock=pc(t.fromBlock)),(t.toBlock||t.toBlock===0)&&(t.toBlock=pc(t.toBlock)),t.topics=t.topics||[],t.topics=t.topics.map(function(r){return Array.isArray(r)?r.map(e):e(r)}),e=null,t.address&&(t.address=Array.isArray(t.address)?t.address.map(function(r){return Ds(r)}):Ds(t.address)),t},yv=function(t){if(typeof t.blockHash=="string"&&typeof t.transactionHash=="string"&&typeof t.logIndex=="string"){var e=He.sha3(t.blockHash.replace("0x","")+t.transactionHash.replace("0x","")+t.logIndex.replace("0x",""));t.id="log_"+e.replace("0x","").slice(0,8)}else t.id||(t.id=null);return t.blockNumber!==null&&(t.blockNumber=He.hexToNumber(t.blockNumber)),t.transactionIndex!==null&&(t.transactionIndex=He.hexToNumber(t.transactionIndex)),t.logIndex!==null&&(t.logIndex=He.hexToNumber(t.logIndex)),t.address&&(t.address=He.toChecksumAddress(t.address)),t},iN=function(t){return t.ttl&&(t.ttl=He.numberToHex(t.ttl)),t.workToProve&&(t.workToProve=He.numberToHex(t.workToProve)),t.priority&&(t.priority=He.numberToHex(t.priority)),Array.isArray(t.topics)||(t.topics=t.topics?[t.topics]:[]),t.topics=t.topics.map(function(e){return e.indexOf("0x")===0?e:He.fromUtf8(e)}),t},aN=function(t){return t.expiry=He.hexToNumber(t.expiry),t.sent=He.hexToNumber(t.sent),t.ttl=He.hexToNumber(t.ttl),t.workProved=He.hexToNumber(t.workProved),t.topics||(t.topics=[]),t.topics=t.topics.map(function(e){return He.toUtf8(e)}),t},Ds=function(t){var e=new VC(t);if(e.isValid()&&e.isDirect())return e.toAddress().toLowerCase();if(He.isAddress(t))return"0x"+t.toLowerCase().replace("0x","");throw new Error(`Provided address ${t} is invalid, the capitalization checksum test failed, or it's an indirect IBAN address which can't be converted.`)},sN=function(t){return t.startingBlock=He.hexToNumber(t.startingBlock),t.currentBlock=He.hexToNumber(t.currentBlock),t.highestBlock=He.hexToNumber(t.highestBlock),t.knownStates&&(t.knownStates=He.hexToNumber(t.knownStates),t.pulledStates=He.hexToNumber(t.pulledStates)),t},oN={inputDefaultBlockNumberFormatter:ZC,inputBlockNumberFormatter:pc,inputCallFormatter:QC,inputTransactionFormatter:XC,inputAddressFormatter:Ds,inputPostFormatter:iN,inputLogFormatter:nN,inputSignFormatter:eN,inputStorageKeysFormatter:WC,outputProofFormatter:JC,outputBigNumberFormatter:Ba,outputTransactionFormatter:mv,outputTransactionReceiptFormatter:tN,outputBlockFormatter:rN,outputLogFormatter:yv,outputPostFormatter:aN,outputSyncingFormatter:sN},cN=UT,uN=oN,fN={errors:cN,formatters:uN},ml,eb;function dN(){if(eb)return ml;eb=1;var t=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};return ml=function(){if(this)return this;if(typeof globalThis=="object"&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return t()}try{return __global__||t()}finally{delete Object.prototype.__global__}}(),ml}const lN="websocket",hN="Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",pN=["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],mN="Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)",yN=["Iñaki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],bN="1.0.34",xN={type:"git",url:"https://github.com/theturtle32/WebSocket-Node.git"},gN="https://github.com/theturtle32/WebSocket-Node",vN={node:">=4.0.0"},wN={bufferutil:"^4.0.1",debug:"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2",yaeti:"^0.0.6"},AN={"buffer-equal":"^1.0.0",gulp:"^4.0.2","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1",jshint:"^2.0.0",tape:"^4.9.1"},EN={verbose:!1},_N={test:"tape test/unit/*.js",gulp:"gulp"},TN="index",MN={lib:"./lib"},kN="lib/browser.js",IN="Apache-2.0",SN={name:lN,description:hN,keywords:pN,author:mN,contributors:yN,version:bN,repository:xN,homepage:gN,engines:vN,dependencies:wN,devDependencies:AN,config:EN,scripts:_N,main:TN,directories:MN,browser:kN,license:IN};var CN=SN.version,Ca;if(typeof globalThis=="object")Ca=globalThis;else try{Ca=dN()}catch{}finally{if(!Ca&&typeof window<"u"&&(Ca=window),!Ca)throw new Error("Could not determine global this")}var mc=Ca.WebSocket||Ca.MozWebSocket,NN=CN;function bv(t,e){var r;return e?r=new mc(t,e):r=new mc(t),r}mc&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(t){Object.defineProperty(bv,t,{get:function(){return mc[t]}})});var RN={w3cwebsocket:mc?bv:null,version:NN},xv=BT,yl=DT,Wn=fN.errors,PN=RN.w3cwebsocket,pr=function(e,r){xv.call(this),r=r||{},this.url=e,this._customTimeout=r.timeout||1e3*15,this.headers=r.headers||{},this.protocol=r.protocol||void 0,this.reconnectOptions=Object.assign({auto:!1,delay:5e3,maxAttempts:!1,onTimeout:!1},r.reconnect),this.clientConfig=r.clientConfig||void 0,this.requestOptions=r.requestOptions||void 0,this.DATA="data",this.CLOSE="close",this.ERROR="error",this.CONNECT="connect",this.RECONNECT="reconnect",this.connection=null,this.requestQueue=new Map,this.responseQueue=new Map,this.reconnectAttempts=0,this.reconnecting=!1,this.connectFailedDescription=null;var n=yl.parseURL(e);n.username&&n.password&&(this.headers.authorization="Basic "+yl.btoa(n.username+":"+n.password)),n.auth&&(this.headers.authorization="Basic "+yl.btoa(n.auth)),Object.defineProperty(this,"connected",{get:function(){return this.connection&&this.connection.readyState===this.connection.OPEN},enumerable:!0}),this.connect()};pr.prototype=Object.create(xv.prototype);pr.prototype.constructor=pr;pr.prototype.connect=function(){this.connection=new PN(this.url,this.protocol,void 0,this.headers,this.requestOptions,this.clientConfig),this._addSocketListeners()};pr.prototype._onMessage=function(t){var e=this;this._parseResponse(typeof t.data=="string"?t.data:"").forEach(function(r){if(r.method&&r.method.indexOf("_subscription")!==-1){e.emit(e.DATA,r);return}var n=r.id;Array.isArray(r)&&(n=r[0].id),e.responseQueue.has(n)&&(e.responseQueue.get(n).callback!==void 0&&e.responseQueue.get(n).callback(!1,r),e.responseQueue.delete(n))})};pr.prototype._onConnect=function(){if(this.emit(this.CONNECT),this.reconnectAttempts=0,this.reconnecting=!1,this.requestQueue.size>0){var t=this;this.requestQueue.forEach(function(e,r){t.send(e.payload,e.callback),t.requestQueue.delete(r)})}};pr.prototype._onConnectFailed=function(t){this.connectFailedDescription=t.toString().split(`
`)[0];var e=this;if(this.connectFailedDescription&&(t.description=this.connectFailedDescription,this.connectFailedDescription=null),t.code=1006,t.reason="connection failed",this.reconnectOptions.auto&&(![1e3,1001].includes(t.code)||t.wasClean===!1)){this.reconnect();return}this.emit(this.ERROR,t),this.requestQueue.size>0&&this.requestQueue.forEach(function(r,n){r.callback(Wn.ConnectionNotOpenError(t)),e.requestQueue.delete(n)}),this.responseQueue.size>0&&this.responseQueue.forEach(function(r,n){r.callback(Wn.InvalidConnection("on WS",t)),e.responseQueue.delete(n)}),this.connection._connection&&this.connection._connection.removeAllListeners(),this.connection._client.removeAllListeners(),this.connection._readyState=3,this.emit(this.CLOSE,t)};pr.prototype._onClose=function(t){var e=this;if(this.reconnectOptions.auto&&(![1e3,1001].includes(t.code)||t.wasClean===!1)){this.reconnect();return}this.emit(this.CLOSE,t),this.requestQueue.size>0&&this.requestQueue.forEach(function(r,n){r.callback(Wn.ConnectionNotOpenError(t)),e.requestQueue.delete(n)}),this.responseQueue.size>0&&this.responseQueue.forEach(function(r,n){r.callback(Wn.InvalidConnection("on WS",t)),e.responseQueue.delete(n)}),this._removeSocketListeners(),this.removeAllListeners()};pr.prototype._addSocketListeners=function(){this.connection.addEventListener("message",this._onMessage.bind(this)),this.connection.addEventListener("open",this._onConnect.bind(this)),this.connection.addEventListener("close",this._onClose.bind(this)),this.connection._client&&(this.connection._client.removeAllListeners("connectFailed"),this.connection._client.on("connectFailed",this._onConnectFailed.bind(this)))};pr.prototype._removeSocketListeners=function(){this.connection.removeEventListener("message",this._onMessage),this.connection.removeEventListener("open",this._onConnect),this.connection.removeEventListener("close",this._onClose),this.connection._connection&&this.connection._client.removeListener("connectFailed",this._onConnectFailed)};pr.prototype._parseResponse=function(t){var e=this,r=[],n=t.replace(/\}[\n\r]?\{/g,"}|--|{").replace(/\}\][\n\r]?\[\{/g,"}]|--|[{").replace(/\}[\n\r]?\[\{/g,"}|--|[{").replace(/\}\][\n\r]?\{/g,"}]|--|{").split("|--|");return n.forEach(function(i){e.lastChunk&&(i=e.lastChunk+i);var a=null;try{a=JSON.parse(i)}catch{e.lastChunk=i,clearTimeout(e.lastChunkTimeout),e.lastChunkTimeout=setTimeout(function(){if(e.reconnectOptions.auto&&e.reconnectOptions.onTimeout){e.reconnect();return}e.emit(e.ERROR,Wn.ConnectionTimeout(e._customTimeout)),e.requestQueue.size>0&&e.requestQueue.forEach(function(o,c){o.callback(Wn.ConnectionTimeout(e._customTimeout)),e.requestQueue.delete(c)})},e._customTimeout);return}clearTimeout(e.lastChunkTimeout),e.lastChunk=null,a&&r.push(a)}),r};pr.prototype.send=function(t,e){var r=this,n=t.id,i={payload:t,callback:e};if(Array.isArray(t)&&(n=t[0].id),this.connection.readyState===this.connection.CONNECTING||this.reconnecting){this.requestQueue.set(n,i);return}if(this.connection.readyState!==this.connection.OPEN){this.requestQueue.delete(n),this.emit(this.ERROR,Wn.ConnectionNotOpenError()),i.callback(Wn.ConnectionNotOpenError());return}this.responseQueue.set(n,i),this.requestQueue.delete(n);try{this.connection.send(JSON.stringify(i.payload))}catch(a){i.callback(a),r.responseQueue.delete(n)}};pr.prototype.reset=function(){this.responseQueue.clear(),this.requestQueue.clear(),this.removeAllListeners(),this._removeSocketListeners(),this._addSocketListeners()};pr.prototype.disconnect=function(t,e){this._removeSocketListeners(),this.connection.close(t||1e3,e)};pr.prototype.supportsSubscriptions=function(){return!0};pr.prototype.reconnect=function(){var t=this;if(this.reconnecting=!0,this.responseQueue.size>0&&this.responseQueue.forEach(function(e,r){try{t.responseQueue.delete(r),e.callback(Wn.PendingRequestsOnReconnectingError())}catch(n){console.error("Error encountered in reconnect: ",n)}}),!this.reconnectOptions.maxAttempts||this.reconnectAttempts<this.reconnectOptions.maxAttempts){setTimeout(function(){t.reconnectAttempts++,t._removeSocketListeners(),t.emit(t.RECONNECT,t.reconnectAttempts),t.connect()},this.reconnectOptions.delay);return}this.emit(this.ERROR,Wn.MaxAttemptsReachedOnReconnectingError()),this.reconnecting=!1,this.requestQueue.size>0&&this.requestQueue.forEach(function(e,r){e.callback(Wn.MaxAttemptsReachedOnReconnectingError()),t.requestQueue.delete(r)})};var BN=pr;const ON=Yn(BN),LN=window.fetch;var gv=["https://4everland.xyz/ipfs/{cid}{pathToResource}","https://w3s.link/ipfs/{cid}{pathToResource}","https://ipfs.io/ipfs/{cid}{pathToResource}","https://dweb.link/ipfs/{cid}{pathToResource}"],vv=/^ipfs:\/\/([^/]+)(.*)$/;function FN(t){let[,e="",r=""]=vv.exec(t)??[];return e?{cid:e,pathToResource:r}:null}function DN(t,e){let r=(()=>e.pathToResource===""||e.pathToResource.startsWith("/")?e.pathToResource:`/${e.pathToResource}`)();return t.replace(/{cid}/g,e.cid).replace(/\/?{pathToResource}/g,r)}function UN(t,e=gv){let r=FN(t);return r?e.map(n=>({gateway:n,url:DN(n,r)})):[]}function $N(t){return vv.test(t)}var HN=(t=>(t.allFailed="ipfsFetch all failed",t))(HN||{}),zN=class extends Error{constructor(e,r,n){super(e),this.url=r,this.web2InfoList=n}name="IpfsFetchError"},qN=new Promise(()=>{});function jN(t,{gateways:e=gv,signal:r,...n}={}){let i=UN(t,e),a=new Set,s=0;return Promise.race(i.map(o=>{let c=new AbortController;a.add(c),r?.addEventListener("abort",()=>c.abort());let f=()=>(s+=1,s>=i.length?Promise.reject(new zN("ipfsFetch all failed",t,i)):qN);return fetch(o.url,{...n,signal:c.signal}).then(l=>l.ok?(a.delete(c),Object.assign(l,{_info:o})):f()).catch(l=>l instanceof Error&&l.name==="AbortError"?Promise.reject(l):f())})).finally(()=>{a.forEach(o=>o.abort()),a.clear()})}var wv=Object.defineProperty,KN=Object.getOwnPropertyDescriptor,GN=(t,e)=>{for(var r in e)wv(t,r,{get:e[r],enumerable:!0})},We=(t,e,r,n)=>{for(var i=n>1?void 0:n?KN(e,r):e,a=t.length-1,s;a>=0;a--)(s=t[a])&&(i=(n?s(e,r,i):s(i))||i);return n&&i&&wv(e,r,i),i},Av=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},zn=(t,e,r)=>(Av(t,e,"read from private field"),r?r.call(t):e.get(t)),ri=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},tb=(t,e,r,n)=>(Av(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),rb,Vu,v0,w0,A0,E0,_0,T0,M0,Wu,Ju,Lt=class{static getNetwork(){return zn(this,Wu)}static setNetwork(e){if(zn(this,M0).includes(e))tb(this,Wu,e);else throw new Error(`Network ${e} is not available`)}static getJsonRpcAddress(){return this.jsonRpcAddress}static getContractAddress(){return zn(this,Vu)}static getPeripheryContractAddress(){return zn(this,v0)}static getNewbieVillaContractAddress(){return zn(this,w0)}static getCbtContractAddress(){return zn(this,A0)}static getTipsContractAddress(){return zn(this,E0)}static getMiraContractAddress(){return zn(this,_0)}static getLinklistContractAddress(){return zn(this,T0)}static getIpfsGateway(){return zn(this,Ju)}static setIpfsGateway(e){tb(this,Ju,e)}static getCrossbellMainnetInfo(){return{chainName:"Crossbell",network:"crossbell",chainId:3737,tokenName:"CSB",tokenSymbol:"CSB",chainIdHex:"0x"+3737 .toString(16),rpc:"https://rpc.crossbell.io",explorer:"https://scan.crossbell.io",contract:zn(this,Vu)}}static async isCrossbellMainnet(e){let{chainId:r}=this.getCrossbellMainnetInfo();return e instanceof jo||e instanceof Zs?(await e.getNetwork()).chainId===r:(e=new jo(e),(await e.getNetwork()).chainId===r)}static async switchToCrossbellMainnet(e){if(e instanceof jo&&(e=e.provider),typeof e.request!="function")throw new Error("this provider does not follow EIP-1193 API signature. It does not have the provider.request function");let{chainIdHex:r,chainName:n,tokenName:i,tokenSymbol:a,rpc:s,explorer:o}=this.getCrossbellMainnetInfo();try{await e.request({method:"wallet_switchEthereumChain",params:[{chainId:r}]})}catch{await e.request({method:"wallet_addEthereumChain",params:[{chainId:r,chainName:n,nativeCurrency:{name:i,symbol:a,decimals:18},rpcUrls:[s],blockExplorerUrls:[o]}]})}}};Vu=new WeakMap,v0=new WeakMap,w0=new WeakMap,A0=new WeakMap,E0=new WeakMap,_0=new WeakMap,T0=new WeakMap,M0=new WeakMap,Wu=new WeakMap,Ju=new WeakMap,ri(Lt,Vu,"0xa6f969045641Cf486a747A2688F3a5A6d43cd0D8"),ri(Lt,v0,"0x96e96b7af62d628ce7eb2016d2c1d2786614ea73"),ri(Lt,w0,"0xD0c83f0BB2c61D55B3d33950b70C59ba2f131caA"),ri(Lt,A0,"0x3D1b588a6Bcd728Bb61570ced6656eA4C05e404f"),ri(Lt,E0,"0x0058be0845952D887D1668B5545de995E12e8783"),ri(Lt,_0,"0xAfB95CC0BD320648B3E8Df6223d9CDD05EbeDC64"),ri(Lt,T0,"0xFc8C75bD5c26F50798758f387B698f207a016b6A"),ri(Lt,M0,["crossbell"]),ri(Lt,Wu,"crossbell"),ri(Lt,Ju,"https://w3s.link/ipfs/"),Lt.jsonRpcAddress=((rb=globalThis.process)==null?void 0:rb.env.CROSSBELL_RPC_ADDRESS)??"https://rpc.crossbell.io";var k0=[{inputs:[{internalType:"uint256",name:"characterId",type:"uint256"}],name:"ErrCharacterNotExists",type:"error"},{inputs:[],name:"ErrHandleContainsInvalidCharacters",type:"error"},{inputs:[],name:"ErrHandleExists",type:"error"},{inputs:[],name:"ErrHandleLengthInvalid",type:"error"},{inputs:[],name:"ErrNotAddressOwner",type:"error"},{inputs:[],name:"ErrNotCharacterOwner",type:"error"},{inputs:[],name:"ErrNotEnoughPermission",type:"error"},{inputs:[],name:"ErrNotEnoughPermissionForThisNote",type:"error"},{inputs:[],name:"ErrNoteIsDeleted",type:"error"},{inputs:[],name:"ErrNoteLocked",type:"error"},{inputs:[],name:"ErrNoteNotExists",type:"error"},{inputs:[],name:"ErrSocialTokenExists",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"handle",type:"string"},{internalType:"string",name:"uri",type:"string"},{internalType:"address",name:"linkModule",type:"address"},{internalType:"bytes",name:"linkModuleInitData",type:"bytes"}],internalType:"struct DataTypes.CreateCharacterData",name:"vars",type:"tuple"}],name:"createCharacter",outputs:[{internalType:"uint256",name:"characterId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"fromCharacterId",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes32",name:"linkType",type:"bytes32"}],internalType:"struct DataTypes.createThenLinkCharacterData",name:"vars",type:"tuple"}],name:"createThenLinkCharacter",outputs:[{internalType:"uint256",name:"characterId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"uint256",name:"noteId",type:"uint256"}],name:"deleteNote",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"characterId",type:"uint256"}],name:"getCharacter",outputs:[{components:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"string",name:"handle",type:"string"},{internalType:"string",name:"uri",type:"string"},{internalType:"uint256",name:"noteCount",type:"uint256"},{internalType:"address",name:"socialToken",type:"address"},{internalType:"address",name:"linkModule",type:"address"}],internalType:"struct DataTypes.Character",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"handle",type:"string"}],name:"getCharacterByHandle",outputs:[{components:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"string",name:"handle",type:"string"},{internalType:"string",name:"uri",type:"string"},{internalType:"uint256",name:"noteCount",type:"uint256"},{internalType:"address",name:"socialToken",type:"address"},{internalType:"address",name:"linkModule",type:"address"}],internalType:"struct DataTypes.Character",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"characterId",type:"uint256"}],name:"getCharacterUri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"characterId",type:"uint256"}],name:"getHandle",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"getLinkModule4Address",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getLinkModule4ERC721",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getLinkModule4Linklist",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getLinklistContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"bytes32",name:"linkType",type:"bytes32"}],name:"getLinklistId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"linkListId",type:"uint256"}],name:"getLinklistType",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getLinklistUri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"uint256",name:"noteId",type:"uint256"}],name:"getNote",outputs:[{components:[{internalType:"bytes32",name:"linkItemType",type:"bytes32"},{internalType:"bytes32",name:"linkKey",type:"bytes32"},{internalType:"string",name:"contentUri",type:"string"},{internalType:"address",name:"linkModule",type:"address"},{internalType:"address",name:"mintModule",type:"address"},{internalType:"address",name:"mintNFT",type:"address"},{internalType:"bool",name:"deleted",type:"bool"},{internalType:"bool",name:"locked",type:"bool"}],internalType:"struct DataTypes.Note",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"address",name:"operator",type:"address"}],name:"getOperatorPermissions",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"characterId",type:"uint256"}],name:"getOperators",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"uint256",name:"noteId",type:"uint256"}],name:"getOperators4Note",outputs:[{internalType:"address[]",name:"blocklist",type:"address[]"},{internalType:"address[]",name:"allowlist",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"getPrimaryCharacterId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getRevision",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"address",name:"operator",type:"address"},{internalType:"uint256",name:"permissionBitMap",type:"uint256"}],name:"grantOperatorPermissions",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"uint256",name:"noteId",type:"uint256"},{internalType:"address[]",name:"blocklist",type:"address[]"},{internalType:"address[]",name:"allowlist",type:"address[]"}],name:"grantOperators4Note",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"symbol_",type:"string"},{internalType:"address",name:"linklist_",type:"address"},{internalType:"address",name:"mintNFTImpl_",type:"address"},{internalType:"address",name:"periphery_",type:"address"},{internalType:"address",name:"newbieVilla_",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"uint256",name:"noteId",type:"uint256"},{internalType:"address",name:"operator",type:"address"}],name:"isOperatorAllowedForNote",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"characterId",type:"uint256"}],name:"isPrimaryCharacter",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"fromCharacterId",type:"uint256"},{internalType:"address",name:"ethAddress",type:"address"},{internalType:"bytes32",name:"linkType",type:"bytes32"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct DataTypes.linkAddressData",name:"vars",type:"tuple"}],name:"linkAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"fromCharacterId",type:"uint256"},{internalType:"string",name:"toUri",type:"string"},{internalType:"bytes32",name:"linkType",type:"bytes32"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct DataTypes.linkAnyUriData",name:"vars",type:"tuple"}],name:"linkAnyUri",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"fromCharacterId",type:"uint256"},{internalType:"uint256",name:"toCharacterId",type:"uint256"},{internalType:"bytes32",name:"linkType",type:"bytes32"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct DataTypes.linkCharacterData",name:"vars",type:"tuple"}],name:"linkCharacter",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"fromCharacterId",type:"uint256"},{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes32",name:"linkType",type:"bytes32"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct DataTypes.linkERC721Data",name:"vars",type:"tuple"}],name:"linkERC721",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"fromCharacterId",type:"uint256"},{internalType:"uint256",name:"toLinkListId",type:"uint256"},{internalType:"bytes32",name:"linkType",type:"bytes32"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct DataTypes.linkLinklistData",name:"vars",type:"tuple"}],name:"linkLinklist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"fromCharacterId",type:"uint256"},{internalType:"uint256",name:"toCharacterId",type:"uint256"},{internalType:"uint256",name:"toNoteId",type:"uint256"},{internalType:"bytes32",name:"linkType",type:"bytes32"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct DataTypes.linkNoteData",name:"vars",type:"tuple"}],name:"linkNote",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"uint256",name:"noteId",type:"uint256"}],name:"lockNote",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"uint256",name:"noteId",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes",name:"mintModuleData",type:"bytes"}],internalType:"struct DataTypes.MintNoteData",name:"vars",type:"tuple"}],name:"mintNote",outputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"string",name:"contentUri",type:"string"},{internalType:"address",name:"linkModule",type:"address"},{internalType:"bytes",name:"linkModuleInitData",type:"bytes"},{internalType:"address",name:"mintModule",type:"address"},{internalType:"bytes",name:"mintModuleInitData",type:"bytes"},{internalType:"bool",name:"locked",type:"bool"}],internalType:"struct DataTypes.PostNoteData",name:"vars",type:"tuple"}],name:"postNote",outputs:[{internalType:"uint256",name:"noteId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"string",name:"contentUri",type:"string"},{internalType:"address",name:"linkModule",type:"address"},{internalType:"bytes",name:"linkModuleInitData",type:"bytes"},{internalType:"address",name:"mintModule",type:"address"},{internalType:"bytes",name:"mintModuleInitData",type:"bytes"},{internalType:"bool",name:"locked",type:"bool"}],internalType:"struct DataTypes.PostNoteData",name:"vars",type:"tuple"},{internalType:"address",name:"ethAddress",type:"address"}],name:"postNote4Address",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"string",name:"contentUri",type:"string"},{internalType:"address",name:"linkModule",type:"address"},{internalType:"bytes",name:"linkModuleInitData",type:"bytes"},{internalType:"address",name:"mintModule",type:"address"},{internalType:"bytes",name:"mintModuleInitData",type:"bytes"},{internalType:"bool",name:"locked",type:"bool"}],internalType:"struct DataTypes.PostNoteData",name:"vars",type:"tuple"},{internalType:"string",name:"uri",type:"string"}],name:"postNote4AnyUri",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"string",name:"contentUri",type:"string"},{internalType:"address",name:"linkModule",type:"address"},{internalType:"bytes",name:"linkModuleInitData",type:"bytes"},{internalType:"address",name:"mintModule",type:"address"},{internalType:"bytes",name:"mintModuleInitData",type:"bytes"},{internalType:"bool",name:"locked",type:"bool"}],internalType:"struct DataTypes.PostNoteData",name:"vars",type:"tuple"},{internalType:"uint256",name:"toCharacterId",type:"uint256"}],name:"postNote4Character",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"string",name:"contentUri",type:"string"},{internalType:"address",name:"linkModule",type:"address"},{internalType:"bytes",name:"linkModuleInitData",type:"bytes"},{internalType:"address",name:"mintModule",type:"address"},{internalType:"bytes",name:"mintModuleInitData",type:"bytes"},{internalType:"bool",name:"locked",type:"bool"}],internalType:"struct DataTypes.PostNoteData",name:"vars",type:"tuple"},{components:[{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"uint256",name:"erc721TokenId",type:"uint256"}],internalType:"struct DataTypes.ERC721Struct",name:"erc721",type:"tuple"}],name:"postNote4ERC721",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"string",name:"contentUri",type:"string"},{internalType:"address",name:"linkModule",type:"address"},{internalType:"bytes",name:"linkModuleInitData",type:"bytes"},{internalType:"address",name:"mintModule",type:"address"},{internalType:"bytes",name:"mintModuleInitData",type:"bytes"},{internalType:"bool",name:"locked",type:"bool"}],internalType:"struct DataTypes.PostNoteData",name:"vars",type:"tuple"},{internalType:"uint256",name:"toLinklistId",type:"uint256"}],name:"postNote4Linklist",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"string",name:"contentUri",type:"string"},{internalType:"address",name:"linkModule",type:"address"},{internalType:"bytes",name:"linkModuleInitData",type:"bytes"},{internalType:"address",name:"mintModule",type:"address"},{internalType:"bytes",name:"mintModuleInitData",type:"bytes"},{internalType:"bool",name:"locked",type:"bool"}],internalType:"struct DataTypes.PostNoteData",name:"vars",type:"tuple"},{components:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"uint256",name:"noteId",type:"uint256"}],internalType:"struct DataTypes.NoteStruct",name:"note",type:"tuple"}],name:"postNote4Note",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"resolver",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"string",name:"newUri",type:"string"}],name:"setCharacterUri",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"string",name:"newHandle",type:"string"}],name:"setHandle",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"linkModule",type:"address"},{internalType:"bytes",name:"linkModuleInitData",type:"bytes"}],internalType:"struct DataTypes.setLinkModule4AddressData",name:"vars",type:"tuple"}],name:"setLinkModule4Address",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"linklistId",type:"uint256"},{internalType:"address",name:"linkModule",type:"address"},{internalType:"bytes",name:"linkModuleInitData",type:"bytes"}],internalType:"struct DataTypes.setLinkModule4LinklistData",name:"vars",type:"tuple"}],name:"setLinkModule4Linklist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"linklistId",type:"uint256"},{internalType:"string",name:"uri",type:"string"}],name:"setLinklistUri",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"uint256",name:"noteId",type:"uint256"},{internalType:"address",name:"mintModule",type:"address"},{internalType:"bytes",name:"mintModuleInitData",type:"bytes"}],internalType:"struct DataTypes.setMintModule4NoteData",name:"vars",type:"tuple"}],name:"setMintModule4Note",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"uint256",name:"noteId",type:"uint256"},{internalType:"string",name:"newUri",type:"string"}],name:"setNoteUri",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"characterId",type:"uint256"}],name:"setPrimaryCharacterId",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"address",name:"tokenAddress",type:"address"}],name:"setSocialToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"characterId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"fromCharacterId",type:"uint256"},{internalType:"address",name:"ethAddress",type:"address"},{internalType:"bytes32",name:"linkType",type:"bytes32"}],internalType:"struct DataTypes.unlinkAddressData",name:"vars",type:"tuple"}],name:"unlinkAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"fromCharacterId",type:"uint256"},{internalType:"string",name:"toUri",type:"string"},{internalType:"bytes32",name:"linkType",type:"bytes32"}],internalType:"struct DataTypes.unlinkAnyUriData",name:"vars",type:"tuple"}],name:"unlinkAnyUri",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"fromCharacterId",type:"uint256"},{internalType:"uint256",name:"toCharacterId",type:"uint256"},{internalType:"bytes32",name:"linkType",type:"bytes32"}],internalType:"struct DataTypes.unlinkCharacterData",name:"vars",type:"tuple"}],name:"unlinkCharacter",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"fromCharacterId",type:"uint256"},{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes32",name:"linkType",type:"bytes32"}],internalType:"struct DataTypes.unlinkERC721Data",name:"vars",type:"tuple"}],name:"unlinkERC721",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"fromCharacterId",type:"uint256"},{internalType:"uint256",name:"toLinkListId",type:"uint256"},{internalType:"bytes32",name:"linkType",type:"bytes32"}],internalType:"struct DataTypes.unlinkLinklistData",name:"vars",type:"tuple"}],name:"unlinkLinklist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"fromCharacterId",type:"uint256"},{internalType:"uint256",name:"toCharacterId",type:"uint256"},{internalType:"uint256",name:"toNoteId",type:"uint256"},{internalType:"bytes32",name:"linkType",type:"bytes32"}],internalType:"struct DataTypes.unlinkNoteData",name:"vars",type:"tuple"}],name:"unlinkNote",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"linklistId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"characterId",type:"uint256"},{indexed:!0,internalType:"bytes32",name:"linkType",type:"bytes32"}],name:"AttachLinklist",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"name",type:"string"},{indexed:!1,internalType:"string",name:"symbol",type:"string"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"BaseInitialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"characterId",type:"uint256"},{indexed:!0,internalType:"address",name:"creator",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"string",name:"handle",type:"string"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"CharacterCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"characterId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"noteId",type:"uint256"}],name:"DeleteNote",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"linklistId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"characterId",type:"uint256"},{indexed:!0,internalType:"bytes32",name:"linkType",type:"bytes32"}],name:"DetachLinklist",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"characterId",type:"uint256"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"uint256",name:"permissionBitMap",type:"uint256"}],name:"GrantOperatorPermissions",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"characterId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"noteId",type:"uint256"},{indexed:!1,internalType:"address[]",name:"blocklist",type:"address[]"},{indexed:!1,internalType:"address[]",name:"allowlist",type:"address[]"}],name:"GrantOperators4Note",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"fromCharacterId",type:"uint256"},{indexed:!0,internalType:"address",name:"ethAddress",type:"address"},{indexed:!1,internalType:"bytes32",name:"linkType",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"linklistId",type:"uint256"}],name:"LinkAddress",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"fromCharacterId",type:"uint256"},{indexed:!1,internalType:"string",name:"toUri",type:"string"},{indexed:!1,internalType:"bytes32",name:"linkType",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"linklistId",type:"uint256"}],name:"LinkAnyUri",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"uint256",name:"fromCharacterId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"toCharacterId",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"linkType",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"linklistId",type:"uint256"}],name:"LinkCharacter",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"fromCharacterId",type:"uint256"},{indexed:!0,internalType:"bytes32",name:"linkType",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"clFromCharacterId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"clToCharacterId",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"clLinkType",type:"bytes32"}],name:"LinkCharacterLink",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"fromCharacterId",type:"uint256"},{indexed:!0,internalType:"address",name:"tokenAddress",type:"address"},{indexed:!0,internalType:"uint256",name:"toNoteId",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"linkType",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"linklistId",type:"uint256"}],name:"LinkERC721",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"fromCharacterId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"toLinklistId",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"linkType",type:"bytes32"},{indexed:!0,internalType:"uint256",name:"linklistId",type:"uint256"}],name:"LinkLinklist",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"fromCharacterId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"toCharacterId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"toNoteId",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"linkType",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"linklistId",type:"uint256"}],name:"LinkNote",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"LinklistNFTInitialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"characterId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"noteId",type:"uint256"}],name:"LockNote",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"characterId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"noteId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"MintNFTInitialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"characterId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"noteId",type:"uint256"},{indexed:!1,internalType:"address",name:"tokenAddress",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"MintNote",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"characterId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"noteId",type:"uint256"},{indexed:!0,internalType:"bytes32",name:"linkKey",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"linkItemType",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"}],name:"PostNote",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"characterId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"noteId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"address[]",name:"approvedAddresses",type:"address[]"}],name:"SetApprovedMintAmount4Addresses",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"characterId",type:"uint256"},{indexed:!1,internalType:"string",name:"newUri",type:"string"}],name:"SetCharacterUri",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"uint256",name:"characterId",type:"uint256"},{indexed:!1,internalType:"string",name:"newHandle",type:"string"}],name:"SetHandle",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"linkModule",type:"address"},{indexed:!1,internalType:"bytes",name:"linkModuleInitData",type:"bytes"},{indexed:!1,internalType:"bytes",name:"returnData",type:"bytes"}],name:"SetLinkModule4Address",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"characterId",type:"uint256"},{indexed:!0,internalType:"address",name:"linkModule",type:"address"},{indexed:!1,internalType:"bytes",name:"linkModuleInitData",type:"bytes"},{indexed:!1,internalType:"bytes",name:"returnData",type:"bytes"}],name:"SetLinkModule4Character",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"tokenAddress",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"linkModule",type:"address"},{indexed:!1,internalType:"bytes",name:"linkModuleInitData",type:"bytes"},{indexed:!1,internalType:"bytes",name:"returnData",type:"bytes"}],name:"SetLinkModule4ERC721",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"linklistId",type:"uint256"},{indexed:!0,internalType:"address",name:"linkModule",type:"address"},{indexed:!1,internalType:"bytes",name:"linkModuleInitData",type:"bytes"},{indexed:!1,internalType:"bytes",name:"returnData",type:"bytes"}],name:"SetLinkModule4Linklist",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"characterId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"noteId",type:"uint256"},{indexed:!0,internalType:"address",name:"linkModule",type:"address"},{indexed:!1,internalType:"bytes",name:"linkModuleInitData",type:"bytes"},{indexed:!1,internalType:"bytes",name:"returnData",type:"bytes"}],name:"SetLinkModule4Note",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"characterId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"noteId",type:"uint256"},{indexed:!0,internalType:"address",name:"mintModule",type:"address"},{indexed:!1,internalType:"bytes",name:"mintModuleInitData",type:"bytes"},{indexed:!1,internalType:"bytes",name:"returnData",type:"bytes"}],name:"SetMintModule4Note",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"characterId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"noteId",type:"uint256"},{indexed:!1,internalType:"string",name:"newUri",type:"string"}],name:"SetNoteUri",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"uint256",name:"characterId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"oldCharacterId",type:"uint256"}],name:"SetPrimaryCharacterId",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"uint256",name:"characterId",type:"uint256"},{indexed:!0,internalType:"address",name:"tokenAddress",type:"address"}],name:"SetSocialToken",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"fromCharacterId",type:"uint256"},{indexed:!0,internalType:"address",name:"ethAddress",type:"address"},{indexed:!1,internalType:"bytes32",name:"linkType",type:"bytes32"}],name:"UnlinkAddress",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"fromCharacterId",type:"uint256"},{indexed:!1,internalType:"string",name:"toUri",type:"string"},{indexed:!1,internalType:"bytes32",name:"linkType",type:"bytes32"}],name:"UnlinkAnyUri",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"uint256",name:"fromCharacterId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"toCharacterId",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"linkType",type:"bytes32"}],name:"UnlinkCharacter",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"fromCharacterId",type:"uint256"},{indexed:!0,internalType:"bytes32",name:"linkType",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"clFromCharactereId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"clToCharacterId",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"clLinkType",type:"bytes32"}],name:"UnlinkCharacterLink",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"fromCharacterId",type:"uint256"},{indexed:!0,internalType:"address",name:"tokenAddress",type:"address"},{indexed:!0,internalType:"uint256",name:"toNoteId",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"linkType",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"linklistId",type:"uint256"}],name:"UnlinkERC721",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"fromCharacterId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"toLinklistId",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"linkType",type:"bytes32"},{indexed:!0,internalType:"uint256",name:"linklistId",type:"uint256"}],name:"UnlinkLinklist",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"fromCharacterId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"toCharacterId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"toNoteId",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"linkType",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"linklistId",type:"uint256"}],name:"UnlinkNote",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"Web3EntryInitialized",type:"event"}],Ev=class{static createInterface(){return new Di(k0)}static connect(e,r){return new rs(e,k0,r)}};Ev.abi=k0;var I0=[{inputs:[{internalType:"bytes32",name:"linkKey",type:"bytes32"}],name:"getLinkingAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"fromCharacterId",type:"uint256"},{internalType:"bytes32",name:"linkType",type:"bytes32"}],name:"getLinkingAddresses",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"linkKey",type:"bytes32"}],name:"getLinkingAnyUri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"fromCharacterId",type:"uint256"},{internalType:"bytes32",name:"linkType",type:"bytes32"}],name:"getLinkingAnyUris",outputs:[{internalType:"string[]",name:"results",type:"string[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"linkKey",type:"bytes32"}],name:"getLinkingCharacterId",outputs:[{internalType:"uint256",name:"characterId",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"fromCharacterId",type:"uint256"},{internalType:"bytes32",name:"linkType",type:"bytes32"}],name:"getLinkingCharacterIds",outputs:[{internalType:"uint256[]",name:"results",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"linkKey",type:"bytes32"}],name:"getLinkingERC721",outputs:[{components:[{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"uint256",name:"erc721TokenId",type:"uint256"}],internalType:"struct DataTypes.ERC721Struct",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"fromCharacterId",type:"uint256"},{internalType:"bytes32",name:"linkType",type:"bytes32"}],name:"getLinkingERC721s",outputs:[{components:[{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"uint256",name:"erc721TokenId",type:"uint256"}],internalType:"struct DataTypes.ERC721Struct[]",name:"results",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"linkKey",type:"bytes32"}],name:"getLinkingLinklistId",outputs:[{internalType:"uint256",name:"linklistId",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"fromCharacterId",type:"uint256"},{internalType:"bytes32",name:"linkType",type:"bytes32"}],name:"getLinkingLinklistIds",outputs:[{internalType:"uint256[]",name:"linklistIds",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"linkKey",type:"bytes32"}],name:"getLinkingNote",outputs:[{components:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"uint256",name:"noteId",type:"uint256"}],internalType:"struct DataTypes.NoteStruct",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"fromCharacterId",type:"uint256"},{internalType:"bytes32",name:"linkType",type:"bytes32"}],name:"getLinkingNotes",outputs:[{components:[{internalType:"bytes32",name:"linkItemType",type:"bytes32"},{internalType:"bytes32",name:"linkKey",type:"bytes32"},{internalType:"string",name:"contentUri",type:"string"},{internalType:"address",name:"linkModule",type:"address"},{internalType:"address",name:"mintModule",type:"address"},{internalType:"address",name:"mintNFT",type:"address"},{internalType:"bool",name:"deleted",type:"bool"},{internalType:"bool",name:"locked",type:"bool"}],internalType:"struct DataTypes.Note[]",name:"results",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"uint256",name:"offset",type:"uint256"},{internalType:"uint256",name:"limit",type:"uint256"}],name:"getNotesByCharacterId",outputs:[{components:[{internalType:"bytes32",name:"linkItemType",type:"bytes32"},{internalType:"bytes32",name:"linkKey",type:"bytes32"},{internalType:"string",name:"contentUri",type:"string"},{internalType:"address",name:"linkModule",type:"address"},{internalType:"address",name:"mintModule",type:"address"},{internalType:"address",name:"mintNFT",type:"address"},{internalType:"bool",name:"deleted",type:"bool"},{internalType:"bool",name:"locked",type:"bool"}],internalType:"struct DataTypes.Note[]",name:"results",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_web3Entry",type:"address"},{internalType:"address",name:"_linklist",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"fromCharacterId",type:"uint256"},{internalType:"uint256[]",name:"toCharacterIds",type:"uint256[]"},{internalType:"bytes[]",name:"data",type:"bytes[]"},{internalType:"address[]",name:"toAddresses",type:"address[]"},{internalType:"bytes32",name:"linkType",type:"bytes32"}],internalType:"struct DataTypes.linkCharactersInBatchData",name:"vars",type:"tuple"}],name:"linkCharactersInBatch",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"linklist",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address",name:"account",type:"address"},{internalType:"string",name:"handle",type:"string"},{internalType:"string",name:"uri",type:"string"},{internalType:"address[]",name:"toAddresses",type:"address[]"},{internalType:"bytes32",name:"linkType",type:"bytes32"}],internalType:"struct DataTypes.MigrateData",name:"vars",type:"tuple"}],name:"migrate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"web3Entry",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],_v=class{static createInterface(){return new Di(I0)}static connect(e,r){return new rs(e,I0,r)}};_v.abi=I0;var S0=[{inputs:[{internalType:"address",name:"web3Entry",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"from",type:"uint256"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"amount",type:"uint256"}],name:"Burn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"to",type:"uint256"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"tokenNumber",type:"uint256"}],name:"Mint",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256[]",name:"ids",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"TransferBatch",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"TransferSingle",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"value",type:"string"},{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"URI",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MINTER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"_web3Entry",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"accounts",type:"address[]"},{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"bytes",name:"",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"tokenURI",type:"string"}],name:"setTokenURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],Tv=class{static createInterface(){return new Di(S0)}static connect(e,r){return new rs(e,S0,r)}};Tv.abi=S0;var C0=[{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"characterId",type:"uint256"},{indexed:!1,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Withdraw",type:"event"},{inputs:[],name:"ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"ERC1820_REGISTRY",outputs:[{internalType:"contract IERC1820Registry",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"TOKENS_RECIPIENT_INTERFACE_HASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"characterId",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"web3Entry_",type:"address"},{internalType:"address",name:"xsyncOperator_",type:"address"},{internalType:"address",name:"token_",type:"address"},{internalType:"address",name:"admin_",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"},{internalType:"bytes",name:"operatorData",type:"bytes"}],name:"tokensReceived",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"web3Entry",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expires",type:"uint256"},{internalType:"bytes",name:"proof",type:"bytes"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"xsyncOperator",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],Mv=class{static createInterface(){return new Di(C0)}static connect(e,r){return new rs(e,C0,r)}};Mv.abi=C0;var N0=[{inputs:[],name:"ErrCallerNotCharacterOwner",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"fromCharacterId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"toCharacterId",type:"uint256"},{indexed:!1,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"TipCharacter",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"fromCharacterId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"toCharacterId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"toNoteId",type:"uint256"},{indexed:!1,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"TipCharacterForNote",type:"event"},{inputs:[],name:"ERC1820_REGISTRY",outputs:[{internalType:"contract IERC1820Registry",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"TOKENS_RECIPIENT_INTERFACE_HASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getWeb3Entry",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"web3Entry_",type:"address"},{internalType:"address",name:"token_",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"},{internalType:"bytes",name:"operatorData",type:"bytes"}],name:"tokensReceived",outputs:[],stateMutability:"nonpayable",type:"function"}],kv=class{static createInterface(){return new Di(N0)}static connect(e,r){return new rs(e,N0,r)}};kv.abi=N0;var R0=[{inputs:[{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"symbol_",type:"string"},{internalType:"address",name:"admin",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"tokenHolder",type:"address"}],name:"AuthorizedOperator",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"},{indexed:!1,internalType:"bytes",name:"operatorData",type:"bytes"}],name:"Burned",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"},{indexed:!1,internalType:"bytes",name:"operatorData",type:"bytes"}],name:"Minted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"tokenHolder",type:"address"}],name:"RevokedOperator",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"},{indexed:!1,internalType:"bytes",name:"operatorData",type:"bytes"}],name:"Sent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"BLOCK_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"holder",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"}],name:"authorizeOperator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"tokenHolder",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"pure",type:"function"},{inputs:[],name:"defaultOperators",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"granularity",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"address",name:"tokenHolder",type:"address"}],name:"isOperatorFor",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"bytes",name:"operatorData",type:"bytes"}],name:"operatorBurn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"bytes",name:"operatorData",type:"bytes"}],name:"operatorSend",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"}],name:"revokeOperator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"send",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"holder",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}],Iv=class{static createInterface(){return new Di(R0)}static connect(e,r){return new rs(e,R0,r)}};Iv.abi=R0;var P0=[{inputs:[],name:"ErrCallerNotWeb3Entry",type:"error"},{inputs:[],name:"ErrCallerNotWeb3EntryOrNotOwner",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"uint256",name:"characterId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"Web3Entry",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"ethAddress",type:"address"}],name:"addLinkingAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"toUri",type:"string"}],name:"addLinkingAnyUri",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"toCharacterId",type:"uint256"}],name:"addLinkingCharacterId",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{components:[{internalType:"uint256",name:"fromCharacterId",type:"uint256"},{internalType:"uint256",name:"toCharacterId",type:"uint256"},{internalType:"bytes32",name:"linkType",type:"bytes32"}],internalType:"struct DataTypes.CharacterLinkStruct",name:"linkData",type:"tuple"}],name:"addLinkingCharacterLink",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"uint256",name:"erc721TokenId",type:"uint256"}],name:"addLinkingERC721",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"linklistId",type:"uint256"}],name:"addLinkingLinklistId",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"toCharacterId",type:"uint256"},{internalType:"uint256",name:"toNoteId",type:"uint256"}],name:"addLinkingNote",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"characterId",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"characterOwnerOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getCurrentTakeOver",outputs:[{internalType:"uint256",name:"characterId",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getLinkType",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getLinkingAddressListLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getLinkingAddresses",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getLinkingAnyListLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"linkKey",type:"bytes32"}],name:"getLinkingAnyUri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getLinkingAnyUriKeys",outputs:[{internalType:"bytes32[]",name:"",type:"bytes32[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getLinkingAnyUris",outputs:[{internalType:"string[]",name:"results",type:"string[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getLinkingCharacterIds",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"linkKey",type:"bytes32"}],name:"getLinkingCharacterLink",outputs:[{components:[{internalType:"uint256",name:"fromCharacterId",type:"uint256"},{internalType:"uint256",name:"toCharacterId",type:"uint256"},{internalType:"bytes32",name:"linkType",type:"bytes32"}],internalType:"struct DataTypes.CharacterLinkStruct",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getLinkingCharacterLinkListLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getLinkingCharacterLinks",outputs:[{components:[{internalType:"uint256",name:"fromCharacterId",type:"uint256"},{internalType:"uint256",name:"toCharacterId",type:"uint256"},{internalType:"bytes32",name:"linkType",type:"bytes32"}],internalType:"struct DataTypes.CharacterLinkStruct[]",name:"results",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getLinkingCharacterListLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"linkKey",type:"bytes32"}],name:"getLinkingERC721",outputs:[{components:[{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"uint256",name:"erc721TokenId",type:"uint256"}],internalType:"struct DataTypes.ERC721Struct",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getLinkingERC721ListLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getLinkingERC721s",outputs:[{components:[{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"uint256",name:"erc721TokenId",type:"uint256"}],internalType:"struct DataTypes.ERC721Struct[]",name:"results",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getLinkingLinklistIds",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getLinkingLinklistLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"linkKey",type:"bytes32"}],name:"getLinkingNote",outputs:[{components:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"uint256",name:"noteId",type:"uint256"}],internalType:"struct DataTypes.NoteStruct",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getLinkingNoteListLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getLinkingNotes",outputs:[{components:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"uint256",name:"noteId",type:"uint256"}],internalType:"struct DataTypes.NoteStruct[]",name:"results",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getOwnerCharacterId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"symbol_",type:"string"},{internalType:"address",name:"web3Entry_",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"bytes32",name:"linkType",type:"bytes32"}],name:"mint",outputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"ethAddress",type:"address"}],name:"removeLinkingAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"toUri",type:"string"}],name:"removeLinkingAnyUri",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"toCharacterId",type:"uint256"}],name:"removeLinkingCharacterId",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{components:[{internalType:"uint256",name:"fromCharacterId",type:"uint256"},{internalType:"uint256",name:"toCharacterId",type:"uint256"},{internalType:"bytes32",name:"linkType",type:"bytes32"}],internalType:"struct DataTypes.CharacterLinkStruct",name:"linkData",type:"tuple"}],name:"removeLinkingCharacterLink",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"uint256",name:"erc721TokenId",type:"uint256"}],name:"removeLinkingERC721",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"linklistId",type:"uint256"}],name:"removeLinkingLinklistId",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"toCharacterId",type:"uint256"},{internalType:"uint256",name:"toNoteId",type:"uint256"}],name:"removeLinkingNote",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"newUri",type:"string"}],name:"setUri",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"}],Sv=class{static createInterface(){return new Di(P0)}static connect(e,r){return new rs(e,P0,r)}};Sv.abi=P0;var VN={};GN(VN,{Logger:()=>Uc,NIL_ADDRESS:()=>Gn,createSearchParamsString:()=>Mt,isAddressEqual:()=>Ko,parseCsbUri:()=>WN,validateIsInSdn:()=>Cv});var bl="csb://";function WN(t){if(!t.startsWith(bl))throw new Error("Invalid csb uri. It should start with csb://");t=t.replace(bl,"http://");let e=new URL(t),r=bl,n=e.username,i=e.password,a=e.host,s=n==="account"?a:void 0,o=n==="asset"?a:void 0,c=n==="asset"?i.split("-")[0]:void 0,f=n==="asset"?i.split("-")[1]:void 0;return{scheme:r,scope:n,identity:i,host:a,platform:s,network:o,contract_address:c,token_id:f}}function Ko(t,e){return!t||!e?!1:t.toLowerCase()===e.toLowerCase()}var Gn="0x0000000000000000000000000000000000000000",Uc=class{static log(...e){console.log(this.prefix,...e)}static warn(...e){console.warn(this.prefix,...e)}static error(...e){console.error(this.prefix,...e)}static info(...e){console.info(this.prefix,...e)}};Uc.prefix="[crossbell.js]";function Mt(t){return new URLSearchParams(Object.entries(t).filter(e=>e[1]!==void 0&&e[1]!==null).flatMap(([e,r])=>Array.isArray(r)?r.map(n=>[e,n.toString()]):[[e,r.toString()]])).toString()}var JN=new Set(["0x8589427373d6d84e98730d7795d8f6f8731fda16","0x722122df12d4e14e13ac3b6895a86e84145b6967","0xdd4c48c0b24039969fc16d1cdf626eab821d3384","0xd90e2f925da726b50c4ed8d0fb90ad053324f31b","0xd96f2b1c14db8458374d9aca76e26c3d18364307","0x4736dcf1b7a3d580672cce6e7c65cd5cc9cfba9d","0xd4b88df4d29f5cedd6857912842cff3b20c8cfa3","0x910cbd523d972eb0a6f4cae4618ad62622b39dbf","0xa160cdab225685da1d56aa342ad8841c3b53f291","0xfd8610d20aa15b7b2e3be39b396a1bc3516c7144","0xf60dd140cff0706bae9cd734ac3ae76ad9ebc32a","0x22aaa7720ddd5388a3c0a3333430953c68f1849b","0xba214c1c1928a32bffe790263e38b4af9bfcd659","0xb1c8094b234dce6e03f10a5b673c1d8c69739a00","0x527653ea119f3e6a1f5bd18fbf4714081d7b31ce","0x58e8dcc13be9780fc42e8723d8ead4cf46943df2","0xd691f27f38b395864ea86cfc7253969b409c362d","0xaeaac358560e11f52454d997aaff2c5731b6f8a6","0x1356c899d8c9467c7f71c195612f8a395abf2f0a","0xa60c772958a3ed56c1f15dd055ba37ac8e523a0d","0x169ad27a470d064dede56a2d3ff727986b15d52b","0x0836222f2b2b24a3f36f98668ed8f0b38d1a872f","0xf67721a2d8f736e75a49fdd7fad2e31d8676542a","0x9ad122c22b14202b4490edaf288fdb3c7cb3ff5e","0x905b63fff465b9ffbf41dea908ceb12478ec7601","0x07687e702b410fa43f4cb4af7fa097918ffd2730","0x94a1b5cdb22c43faab4abeb5c74999895464ddaf","0xb541fc07bc7619fd4062a54d96268525cbc6ffef","0x12d66f87a04a9e220743712ce6d9bb1b5616b8fc","0x47ce0c6ed5b0ce3d3a51fdb1c52dc66a7c3c2936","0x23773e65ed146a459791799d01336db287f25334","0xd21be7248e0197ee08e0c20d4a96debdac3d20af","0x610b717796ad172b316836ac95a2ffad065ceab4","0x178169b423a011fff22b9e3f3abea13414ddd0f1","0xbb93e510bbcd0b7beb5a853875f9ec60275cf498","0x2717c5e28cf931547b621a5dddb772ab6a35b701","0x03893a7c7463ae47d46bc7f091665f1893656003","0xca0840578f57fe71599d29375e16783424023357","0x58e8dcc13be9780fc42e8723d8ead4cf46943df2","0x8589427373d6d84e98730d7795d8f6f8731fda16","0x722122df12d4e14e13ac3b6895a86e84145b6967","0xdd4c48c0b24039969fc16d1cdf626eab821d3384","0xd90e2f925da726b50c4ed8d0fb90ad053324f31b","0xd96f2b1c14db8458374d9aca76e26c3d18364307","0x4736dcf1b7a3d580672cce6e7c65cd5cc9cfba9d"]),YN=t=>(t=t.toLowerCase(),JN.has(t)),Cv=t=>{if(YN(t))throw new Error(`This address ${t} is in the U.S. SDN list. All transactions from this address will be rejected. Info: https://home.treasury.gov/policy-issues/financial-sanctions/recent-actions/20220808`)},ZN={createCharacter:"CharacterCreated(uint256,address,address,string,uint256)",linkCharacter:"LinkCharacter(address,uint256,uint256,bytes32,uint256)",linkNote:"LinkNote(uint256,uint256,uint256,bytes32,uint256)",linkAddress:"LinkAddress(uint256,address,bytes32,uint256)",linkLinklist:"LinkLinklist(uint256,uint256,bytes32,uint256)",linkERC721:"LinkERC721(uint256,address,uint256,bytes32,uint256)",linkAnyUri:"LinkAnyUri(uint256,string,bytes32,uint256)",postNote:"PostNote(uint256,uint256,bytes32,bytes32,bytes)",mintNote:"MintNote(address,uint256,uint256,address,uint256)",mint:"Mint(uint256,uint256,uint256)",grantOperatorPermissions:"GrantOperatorPermissions(uint256,address,uint256)",grantOperators4Note:"GrantOperators4Note(uint256,uint256,address[],address[])"},_i=class{constructor(t,e){this._moduleResponseCache=void 0,this._lastModuleResponseCacheTime=0,this._providerOrPrivateKey=t,this.options=this.initOptions(e),this._connect()}get contract(){return this.getContract(this._signerOrProvider)}getContract(t=this.getDefaultProvider()){return Ev.connect(this.options.entryContractAddress,t)}get peripheryContract(){return this.getPeripheryContract(this._signerOrProvider)}getPeripheryContract(t=this.getDefaultProvider()){return _v.connect(this.options.peripheryContractAddress,t)}get cbtContract(){return this.getCbtContract(this._signerOrProvider)}getCbtContract(t=this.getDefaultProvider()){return Tv.connect(this.options.cbtContractAddress,t)}get tipsContract(){return this.getTipsContract(this._signerOrProvider)}getTipsContract(t=this.getDefaultProvider()){return kv.connect(this.options.tipsContractAddress,t)}get miraContract(){return this.getMiraContract(this._signerOrProvider)}getMiraContract(t=this.getDefaultProvider()){return Iv.connect(this.options.miraContractAddress,t)}get linklistContract(){return this.getLinklistContract(this._signerOrProvider)}getLinklistContract(t=this.getDefaultProvider()){return Sv.connect(this.options.linklistContractAddress,t)}get newbieVillaContract(){return this.getNewbieVillaContract(this._signerOrProvider)}getNewbieVillaContract(t=this.getDefaultProvider()){return Mv.connect(this.options.newbieVillaContractAddress,t)}_connect(){if(typeof this._providerOrPrivateKey>"u"){let t=this.getDefaultProvider();this._signerOrProvider=t}else if(typeof this._providerOrPrivateKey=="string"){let t=this.getDefaultProvider(),e=new Sa(this._providerOrPrivateKey,t);this._signerOrProvider=e}else{let t=this.getExternalProvider(this._providerOrPrivateKey);try{if(typeof this._providerOrPrivateKey.sendAsync!="function")throw new Error("provider.sendAsync is not a function");this._providerOrPrivateKey.sendAsync({method:"eth_requestAccounts",params:[]},()=>{})}catch{if(typeof this._providerOrPrivateKey.request=="function")this._providerOrPrivateKey.request({method:"eth_requestAccounts",params:[]});else throw new Error("Provider does not support eth_requestAccounts and does not support send()")}this._signerOrProvider=t.getSigner()}}initOptions(t){return{entryContractAddress:t?.entryContractAddress??Lt.getContractAddress(),peripheryContractAddress:t?.peripheryContractAddress??Lt.getPeripheryContractAddress(),cbtContractAddress:t?.cbtContractAddress??Lt.getCbtContractAddress(),tipsContractAddress:t?.tipsContractAddress??Lt.getTipsContractAddress(),miraContractAddress:t?.miraContractAddress??Lt.getMiraContractAddress(),newbieVillaContractAddress:t?.newbieVillaContractAddress??Lt.getNewbieVillaContractAddress(),linklistContractAddress:t?.linklistContractAddress??Lt.getLinklistContractAddress()}}async connect(){Uc.warn("connect() is deprecated. You don't need to call this anymore.")}parseLog(t,e,{throwOnMultipleLogsFound:r=!0,returnMultipleLogs:n=!1}={}){let i=kt(jt(ZN[e])),a=t.filter(o=>o.topics[0]===i);if(a.length===0)throw new Error(`Log with topic ${e} not found`);if(r&&a.length>1)throw new Error(`More than one log with topic ${e} found`);if(n)return a.map(o=>this.contract.interface.parseLog(o));let s=a[0];return this.contract.interface.parseLog(s)}getDefaultProvider(){let t=Lt.getJsonRpcAddress();if(t.startsWith("ws")){let e=new ON(t,{timeout:3e4,clientConfig:{keepalive:!0,keepaliveInterval:55e3,maxReceivedFrameSize:512e6,maxReceivedMessageSize:1024e6},reconnect:{auto:!0,delay:5e3,maxAttempts:5,onTimeout:!1}});return new jo(e)}else{let e=new Pf(t);return e.pollingInterval=100,e}}getExternalProvider(t){let e=new jo(t);return e.pollingInterval=100,e}validateAddress(t){Array.isArray(t)?t.forEach(e=>this.validateAddress(e)):Cv(t)}async getModules({type:t}={}){let e=Date.now(),r=e-this._lastModuleResponseCacheTime>60*1e3,n=[];return!this._moduleResponseCache||r?(n=await fetch("https://raw.githubusercontent.com/Crossbell-Box/Crossbell-Contracts/main/deployments/modules.json").then(i=>i.json()),this._moduleResponseCache=n,this._lastModuleResponseCacheTime=e):n=this._moduleResponseCache,t?n.filter(i=>i.type===t):n}async getModule(t){return(await this.getModules()).find(e=>Ko(e.address,t))}async getLinkModules(){return this.getModules({type:"link"})}async getLinkModule(t){return(await this.getLinkModules()).find(e=>Ko(e.address,t)&&e.type==="link")}async getMintModules(){return this.getModules({type:"mint"})}async getMintModule(t){return(await this.getMintModules()).find(e=>Ko(e.address,t)&&e.type==="mint")}async getModuleConfig(t){if(!t)return{address:Gn,initData:Gn};let e=await this.getModule(t.address);if(!e)throw new Error("Invalid module address "+t.address);let r=this.contract.interface._abiCoder.encode(e.initDataStructure.map(n=>n.type),t.data);return{address:t.address,initData:r}}async encodeModuleInitData(t,e){let r=await this.getModule(t);if(!r)throw new Error("Invalid module address "+t);return this.contract.interface._abiCoder.encode(r.initDataStructure.map(n=>n.type),e)}async decodeModuleInitData(t,e){let r=await this.getModule(t);if(!r)throw new Error("Invalid module address "+t);return this.contract.interface._abiCoder.decode(r.initDataStructure.map(n=>n.type),e)}};function Je(){return(t,e,r)=>{let n=r.value;return r.value=async function(...i){let a=async()=>{let s=this.contract.provider;await Lt.isCrossbellMainnet(s)||(Uc.warn("You're not on the mainnet. Switching to mainnet."),await Lt.switchToCrossbellMainnet(s))};try{await a()}catch{await a()}return n.apply(this,i)},r}}var Nv=class extends _i{async getBalance(t){return this.validateAddress(t),{data:(await this.getContract().provider.getBalance(t)).toString()}}async transferCsb(t,e){var r;this.validateAddress(t);let n=this.contract.signer,i=await(await(((r=n.connectUnchecked)==null?void 0:r.call(n))??n).sendTransaction({to:t,value:e})).wait();return{data:{},transactionHash:i.transactionHash}}};We([Je()],Nv.prototype,"transferCsb",1);var Ur=class extends _i{async linkCharacter(e,r,n,i,a={}){let s=await(await this.contract.linkCharacter({fromCharacterId:e,toCharacterId:r,linkType:br(n),data:i??Gn},a)).wait();return{data:this.parseLog(s.logs,"linkCharacter").args.linklistId.toNumber(),transactionHash:s.transactionHash}}async linkCharactersInBatch(e,r,n,i,a,s={}){n.forEach(c=>{this.validateAddress(c)});let o=await(await this.peripheryContract.linkCharactersInBatch({fromCharacterId:e,toCharacterIds:r,toAddresses:n,linkType:br(i),data:a??r.map(()=>Gn)},s)).wait();return{data:this.parseLog(o.logs,"linkCharacter",{throwOnMultipleLogsFound:!1}).args.linklistId.toNumber(),transactionHash:o.transactionHash}}async getLinklistIdByTransaction(e){let r=await this.contract.provider.getTransactionReceipt(e);return{data:this.parseLog(r.logs,"linkCharacter").args.linklistId.toNumber()}}async createThenLinkCharacter(e,r,n,i={}){this.validateAddress(r);let a=await(await this.contract.createThenLinkCharacter({fromCharacterId:e,to:r,linkType:br(n)},i)).wait(),s=this.parseLog(a.logs,"createCharacter"),o=this.parseLog(a.logs,"linkCharacter");return{data:{toCharacterId:s.args.characterId.toNumber(),linklistId:o.args.linklistId.toNumber()},transactionHash:a.transactionHash}}async unlinkCharacter(e,r,n,i={}){return{data:void 0,transactionHash:(await(await this.contract.unlinkCharacter({fromCharacterId:e,toCharacterId:r,linkType:br(n)},i)).wait()).transactionHash}}async getLinkingCharacterIds(e,r,n={}){return{data:(await this.getPeripheryContract().getLinkingCharacterIds(e,br(r),n)).map(i=>i.toNumber())}}async getLinkingCharacters(e,r,n={}){let i=await this.getPeripheryContract().getLinkingCharacterIds(e,br(r),n);return{data:(await Promise.all(i.map(a=>this.getCharacter(a.toNumber())))).map(a=>a.data)}}async linkAddress(e,r,n,i=Gn,a={}){let s=await(await this.contract.linkAddress({fromCharacterId:e,ethAddress:r,linkType:br(n),data:i},a)).wait();return{data:this.parseLog(s.logs,"linkAddress").args.linklistId.toNumber(),transactionHash:s.transactionHash}}async unlinkAddress(e,r,n,i={}){return{data:void 0,transactionHash:(await(await this.contract.unlinkAddress({fromCharacterId:e,ethAddress:r,linkType:br(n)},i)).wait()).transactionHash}}async linkAnyUri(e,r,n,i=Gn,a={}){let s=await(await this.contract.linkAnyUri({fromCharacterId:e,toUri:r,linkType:br(n),data:i},a)).wait();return{data:this.parseLog(s.logs,"linkAnyUri").args.linklistId.toNumber(),transactionHash:s.transactionHash}}async unlinkAnyUri(e,r,n,i={}){return{data:void 0,transactionHash:(await(await this.contract.unlinkAnyUri({fromCharacterId:e,toUri:r,linkType:br(n)},i)).wait()).transactionHash}}async linkErc721(e,r,n,i,a=Gn,s={}){let o=await(await this.contract.linkERC721({fromCharacterId:e,tokenAddress:r,tokenId:n,linkType:br(i),data:a},s)).wait();return{data:this.parseLog(o.logs,"linkAnyUri").args.linklistId.toNumber(),transactionHash:o.transactionHash}}async unlinkErc721(e,r,n,i,a={}){return{data:void 0,transactionHash:(await(await this.contract.unlinkERC721({fromCharacterId:e,tokenAddress:r,tokenId:n,linkType:br(i)},a)).wait()).transactionHash}}async linkNote(e,r,n,i,a,s={}){let o=await(await this.contract.linkNote({fromCharacterId:e,toCharacterId:r,toNoteId:n,linkType:br(i),data:a??Gn},s)).wait();return{data:this.parseLog(o.logs,"linkNote").args.linklistId.toNumber(),transactionHash:o.transactionHash}}async unlinkNote(e,r,n,i,a={}){return{data:void 0,transactionHash:(await(await this.contract.unlinkNote({fromCharacterId:e,toCharacterId:r,toNoteId:n,linkType:br(i)},a)).wait()).transactionHash}}async linkLinklist(e,r,n,i=Gn,a={}){let s=await(await this.contract.linkLinklist({fromCharacterId:e,toLinkListId:r,linkType:br(n),data:i},a)).wait();return{data:this.parseLog(s.logs,"linkNote").args.linklistId.toNumber(),transactionHash:s.transactionHash}}async unlinkLinklist(e,r,n,i={}){return{data:void 0,transactionHash:(await(await this.contract.unlinkLinklist({fromCharacterId:e,toLinkListId:r,linkType:br(n)},i)).wait()).transactionHash}}};We([Je()],Ur.prototype,"linkCharacter",1),We([Je()],Ur.prototype,"linkCharactersInBatch",1),We([Je()],Ur.prototype,"createThenLinkCharacter",1),We([Je()],Ur.prototype,"unlinkCharacter",1),We([Je()],Ur.prototype,"linkAddress",1),We([Je()],Ur.prototype,"unlinkAddress",1),We([Je()],Ur.prototype,"linkAnyUri",1),We([Je()],Ur.prototype,"unlinkAnyUri",1),We([Je()],Ur.prototype,"linkErc721",1),We([Je()],Ur.prototype,"unlinkErc721",1),We([Je()],Ur.prototype,"linkNote",1),We([Je()],Ur.prototype,"unlinkNote",1),We([Je()],Ur.prototype,"linkLinklist",1),We([Je()],Ur.prototype,"unlinkLinklist",1);typeof globalThis.fetch>"u"&&(globalThis.fetch=LN);var _n=class{static async uploadJson(e){return await Do(async()=>await fetch("https://ipfs-relay.crossbell.io/json",{method:"POST",body:JSON.stringify(e)}).then(r=>r.json()),{retries:3})}static uploadFile(e){return Do(async()=>{let r=new FormData;return r.append("file",e),await(await fetch("https://ipfs-relay.crossbell.io/upload",{method:"post",body:r})).json()},{retries:3})}static async metadataToUri(e){var r;let n=await this.uploadJson(e);if(!((r=n?.url)!=null&&r.startsWith("ipfs://")))throw new Error("upload to IPFS failed");return n.url}static async uriToMetadata(e){return Do(async()=>{if($N(e)){let n=await jN(e).then(i=>i.text());try{return JSON.parse(n)}catch{throw new Error("Failed to parse metadata from uri: "+e)}}let r;try{return r=await fetch(e).then(n=>n.text()),r=JSON.parse(r),r}catch{throw new Error(`Failed to fetch metadata from uri: ${e} . Response: `+r)}},{retries:3})}static async parseMetadataOrUri(e,r,n=!1){if(r==="")return{uri:"",metadata:void 0};let i,a;return typeof r=="string"?(i=r,a=n?await _n.uriToMetadata(i):void 0):(a=r,a.type||(a.type=e),i=await _n.metadataToUri(a)),{metadata:a,uri:i}}},ni=class extends _i{async postNote(e,r,{locked:n=!1,linkModule:i,mintModule:a}={},s={}){let{uri:o}=await _n.parseMetadataOrUri("note",r),c=await this.getModuleConfig(i),f=await this.getModuleConfig(a),l=await(await this.contract.postNote({characterId:e,contentUri:o,linkModule:c.address,linkModuleInitData:c.initData,mintModule:f.address,mintModuleInitData:f.initData,locked:n},s)).wait();return{data:{noteId:this.parseLog(l.logs,"postNote").args.noteId.toNumber()},transactionHash:l.transactionHash}}async postNotes(e,r={}){let n=b2(10),i=await Promise.all(e.map(s=>n(async()=>{var o,c,f;let{uri:l}=await _n.parseMetadataOrUri("note",s.metadataOrUri),x=await this.getModuleConfig((o=s.options)==null?void 0:o.linkModule),E=await this.getModuleConfig((c=s.options)==null?void 0:c.mintModule);return this.contract.interface.encodeFunctionData("postNote",[{characterId:s.characterId,contentUri:l,linkModule:x.address,linkModuleInitData:x.initData,mintModule:E.address,mintModuleInitData:E.initData,locked:((f=s.options)==null?void 0:f.locked)??!1}])}))),a=await(await this.contract.multicall(i,r)).wait();return{data:{noteIds:this.parseLog(a.logs,"postNote",{throwOnMultipleLogsFound:!1,returnMultipleLogs:!0}).map(s=>s.args.noteId.toNumber())},transactionHash:a.transactionHash}}async postNoteForAnyUri(e,r,n,{locked:i=!1,linkModule:a,mintModule:s}={},o={}){let{uri:c}=await _n.parseMetadataOrUri("note",r),f=await this.getModuleConfig(a),l=await this.getModuleConfig(s),x=await(await this.contract.postNote4AnyUri({characterId:e,contentUri:c,linkModule:f.address,linkModuleInitData:f.initData,mintModule:l.address,mintModuleInitData:l.initData,locked:i},n,o)).wait();return{data:{noteId:this.parseLog(x.logs,"postNote").args.noteId.toNumber()},transactionHash:x.transactionHash}}async postNoteForNote(e,r,n,i,{locked:a=!1,linkModule:s,mintModule:o}={},c={}){let{uri:f}=await _n.parseMetadataOrUri("note",r),l=await this.getModuleConfig(s),x=await this.getModuleConfig(o),E=await(await this.contract.postNote4Note({characterId:e,contentUri:f,linkModule:l.address,linkModuleInitData:l.initData,mintModule:x.address,mintModuleInitData:x.initData,locked:a},{characterId:n,noteId:i},c)).wait();return{data:{noteId:this.parseLog(E.logs,"postNote").args.noteId.toNumber()},transactionHash:E.transactionHash}}async setNoteUri(e,r,n,i={}){let{uri:a,metadata:s}=await _n.parseMetadataOrUri("note",n,!0),o=await(await this.contract.setNoteUri(e,r,a,i)).wait();return{data:{uri:a,metadata:s},transactionHash:o.transactionHash}}async changeNoteMetadata(e,r,n,i={}){let a=await this.getNote(e,r),s=n(a.data.metadata);if(typeof s>"u")throw new Error("The modified metadata is undefined. Did you return it?");return s.type||(s.type="note"),this.setNoteMetadata(e,r,s,i)}async setNoteMetadata(e,r,n,i={}){return this.setNoteUri(e,r,n,i)}async getNote(e,r,n,i={}){let a=await this.getContract().getNote(e,r,i),s=l9(a.linkItemType),o=s===""?void 0:s,c=a.contentUri?await _n.uriToMetadata(a.contentUri):void 0,f,l=this.getPeripheryContract();if(n==="AnyUri")f={uri:await l.getLinkingAnyUri(a.linkKey)};else if(n==="ERC721"){let x=await l.getLinkingERC721(a.linkKey);f={contractAddress:x.tokenAddress.toString(),tokenId:x.erc721TokenId.toString()}}else if(n==="Address")f={address:(await l.getLinkingAddress(a.linkKey)).toString()};else if(n==="Character")f={characterId:(await l.getLinkingCharacterId(a.linkKey)).toNumber()};else if(n==="Note"){let x=await l.getLinkingNote(a.linkKey);f={characterId:x.characterId.toNumber(),noteId:x.noteId.toNumber()}}else n==="Linklist"?f={linklistId:(await l.getLinkingLinklistId(a.linkKey)).toNumber()}:f=void 0;return{data:{characterId:Number(e),noteId:Number(r),contentUri:a.contentUri,metadata:c,linkItemType:a.linkItemType,linkItemTypeString:o,linkItem:f,linkKey:a.linkKey,linkModule:a.linkModule,contractAddress:a.mintNFT,mintModule:a.mintModule,deleted:a.deleted,locked:a.locked}}}async deleteNote(e,r,n={}){return{data:void 0,transactionHash:(await(await this.contract.deleteNote(e,r,n)).wait()).transactionHash}}async lockNote(e,r,n={}){return{data:void 0,transactionHash:(await(await this.contract.lockNote(e,r,n)).wait()).transactionHash}}async mintNote(e,r,n,i={}){this.validateAddress(n);let a=await(await this.contract.mintNote({characterId:e,noteId:r,to:n,mintModuleData:Gn},i)).wait(),s=this.parseLog(a.logs,"mintNote");return{data:{contractAddress:s.args.tokenAddress,tokenId:s.args.tokenId.toNumber()},transactionHash:a.transactionHash}}getLinkKeyForCharacter(e){return hs(["string","uint"],["Character",e])}getLinkKeyForAddress(e){return this.validateAddress(e),hs(["string","address"],["Address",e])}getLinkKeyForNote(e,r){return hs(["string","uint","uint"],["Note",e,r])}getLinkKeyForERC721(e,r){return hs(["string","address","uint"],["ERC721",e,r])}getLinkKeyForLinklist(e){return hs(["string","uint"],["Linklist",e])}getLinkKeyForAnyUri(e){return hs(["string","string"],["AnyUri",e])}};We([Je()],ni.prototype,"postNote",1),We([Je()],ni.prototype,"postNotes",1),We([Je()],ni.prototype,"postNoteForAnyUri",1),We([Je()],ni.prototype,"postNoteForNote",1),We([Je()],ni.prototype,"setNoteUri",1),We([Je()],ni.prototype,"changeNoteMetadata",1),We([Je()],ni.prototype,"deleteNote",1),We([Je()],ni.prototype,"lockNote",1),We([Je()],ni.prototype,"mintNote",1);var Mi=class extends _i{async createCharacter(e,r,n,{linkModule:i}={},a={}){this.validateAddress(e),this.validateHandleFormat(r);let{uri:s}=await _n.parseMetadataOrUri("character",n),o=await this.getModuleConfig(i),c=await(await this.contract.createCharacter({to:e,handle:r,uri:s,linkModule:o.address,linkModuleInitData:o.initData},a)).wait();return{data:this.parseLog(c.logs,"createCharacter").args.characterId.toNumber(),transactionHash:c.transactionHash}}async setHandle(e,r,n={}){return this.validateHandleFormat(r),{data:void 0,transactionHash:(await(await this.contract.setHandle(e,r,n)).wait()).transactionHash}}async setCharacterUri(e,r,n={}){let{uri:i,metadata:a}=await _n.parseMetadataOrUri("character",r,!0),s=await(await this.contract.setCharacterUri(e,i,n)).wait();return{data:{uri:i,metadata:a},transactionHash:s.transactionHash}}async setCharacterMetadata(e,r,n={}){return this.setCharacterUri(e,r,n)}async changeCharacterMetadata(e,r,n={}){let i=await this.getCharacter(e),a=r(i.data.metadata);if(typeof a>"u")throw new Error("The modified metadata is undefined. Did you return it?");return a.type||(a.type="character"),this.setCharacterMetadata(e,a,n)}async setSocialToken(e,r,n={}){return{data:void 0,transactionHash:(await(await this.contract.setSocialToken(e,r,n)).wait()).transactionHash}}async setPrimaryCharacterId(e,r={}){return{data:void 0,transactionHash:(await(await this.contract.setPrimaryCharacterId(e,r)).wait()).transactionHash}}async burnCharacter(e,r={}){return{data:void 0,transactionHash:(await(await this.contract.burn(e,r)).wait()).transactionHash}}async getPrimaryCharacterId(e,r={}){return this.validateAddress(e),{data:(await this.getContract().getPrimaryCharacterId(e,r)).toNumber()}}async isPrimaryCharacterId(e,r={}){return{data:await this.getContract().isPrimaryCharacter(e,r)}}async getCharacterByHandle(e,r={}){e=e.toLowerCase();let n=await this.getContract().getCharacterByHandle(e,r),i=n.uri?await _n.uriToMetadata(n.uri):void 0;return{data:{characterId:n.characterId.toNumber(),handle:n.handle,uri:n.uri,metadata:i,socialToken:n.socialToken,noteCount:n.noteCount.toNumber()}}}async getCharacter(e,r={}){let n=await this.getContract().getCharacter(e,r),{metadata:i}=await _n.parseMetadataOrUri("character",n.uri,!0);return{data:{characterId:n.characterId.toNumber(),handle:n.handle,uri:n.uri,socialToken:n.socialToken,noteCount:n.noteCount.toNumber(),metadata:i}}}async getHandle(e,r={}){return{data:await this.getContract().getHandle(e,r)}}async getCharacterUri(e,r={}){return{data:await this.getContract().getCharacterUri(e,r)}}async getCharacterByTransaction(e,r={}){let n=await this.getContract().provider.getTransactionReceipt(e),i=this.parseLog(n.logs,"createCharacter").args.characterId.toNumber();return await this.getCharacter(i,r)}async existsCharacterForAddress(e,r={}){return this.validateAddress(e),{data:(await this.getContract().getPrimaryCharacterId(e,r)).toString()!=="0"}}async existsCharacterForHandle(e,r={}){return{data:(await this.getContract().getCharacterByHandle(e,r)).handle!==""}}async withdrawCharacterFromNewbieVilla(e,r,n,i,a,s={}){return this.validateAddress(e),{data:void 0,transactionHash:(await(await this.newbieVillaContract.withdraw(e,r,n,i,a,s)).wait()).transactionHash}}validateHandleFormat(e){if(e.length>=32||e.length<=2)throw new Error("Invalid handle: handle must be between 3 and 31 characters.");if(!/^[a-z0-9\-\_]+$/.test(e))throw new Error("Invalid handle: handle must only contain [a-z0-9-_].")}};We([Je()],Mi.prototype,"createCharacter",1),We([Je()],Mi.prototype,"setHandle",1),We([Je()],Mi.prototype,"setCharacterUri",1),We([Je()],Mi.prototype,"changeCharacterMetadata",1),We([Je()],Mi.prototype,"setSocialToken",1),We([Je()],Mi.prototype,"setPrimaryCharacterId",1),We([Je()],Mi.prototype,"burnCharacter",1),We([Je()],Mi.prototype,"withdrawCharacterFromNewbieVilla",1);var Rv=class extends _i{constructor(){super(...arguments),this.CURRENT_SDK_REVISION=4}async getLatestRevision(){return{data:(await this.getContract().getRevision()).toNumber()}}async getCurrentRevision(){return{data:this.CURRENT_SDK_REVISION}}async checkRevision(){let{data:e}=await this.getLatestRevision(),r=this.CURRENT_SDK_REVISION;return{data:{isUpToDate:e===r,currentRevision:r,latestRevision:e}}}};We([Je()],Rv.prototype,"getLatestRevision",1);var B0=class extends _i{constructor(){super(...arguments),this.CHARACTER_PERMISSION_BITMAP={0:"SET_HANDLE",1:"SET_SOCIAL_TOKEN",2:"GRANT_OPERATOR_PERMISSIONS",3:"GRANT_OPERATORS_FOR_NOTE",176:"SET_CHARACTER_URI",177:"SET_LINKLIST_URI",178:"LINK_CHARACTER",179:"UNLINK_CHARACTER",180:"CREATE_THEN_LINK_CHARACTER",181:"LINK_NOTE",182:"UNLINK_NOTE",183:"LINK_ERC721",184:"UNLINK_ERC721",185:"LINK_ADDRESS",186:"UNLINK_ADDRESS",187:"LINK_ANY_URI",188:"UNLINK_ANY_URI",189:"LINK_LINKLIST",190:"UNLINK_LINKLIST",191:"SET_LINK_MODULE_FOR_CHARACTER",192:"SET_LINK_MODULE_FOR_NOTE",193:"SET_LINK_MODULE_FOR_LINKLIST",194:"SET_MINT_MODULE_FOR_NOTE",195:"SET_NOTE_URI",196:"LOCK_NOTE",197:"DELETE_NOTE",198:"POST_NOTE_FOR_CHARACTER",199:"POST_NOTE_FOR_ADDRESS",200:"POST_NOTE_FOR_LINKLIST",201:"POST_NOTE_FOR_NOTE",202:"POST_NOTE_FOR_ERC721",203:"POST_NOTE_FOR_ANY_URI",236:"POST_NOTE"}}async grantOperatorPermissionsForCharacter(e,r,n,i={}){this.validateAddress(r);let a=this.convertPermissionsToUint256ForCharacter(n),s=await(await this.contract.grantOperatorPermissions(e,r,a,i)).wait();return{data:{bitmapUint256:this.parseLog(s.logs,"grantOperatorPermissions").args.permissionBitMap},transactionHash:s.transactionHash}}async grantOperatorsForNote(e,r,n,i=[],a={}){this.validateAddress(n),this.validateAddress(i);let s=await(await this.contract.grantOperators4Note(e,r,i,n,a)).wait();return{data:{},transactionHash:s.transactionHash}}async getOperatorsForCharacter(e,r={}){return{data:await this.getContract().getOperators(e,r)}}async getOperatorsForNote(e,r,n={}){let{allowlist:i,blocklist:a}=await this.getContract().getOperators4Note(e,r,n);return{data:{allowlist:i,blocklist:a}}}async isOperatorAllowedForNote(e,r,n){return{data:await this.getContract().isOperatorAllowedForNote(e,r,n)}}async getOperatorPermissionsForCharacter(e,r,n={}){let i=await this.getContract().getOperatorPermissions(e,r,n);return{data:this.convertUint256ToPermissionsForCharacter(i)}}convertPermissionsToUint256ForCharacter(e){let r=e.map(i=>{let a=Object.entries(this.CHARACTER_PERMISSION_BITMAP).find(([,s])=>s===i)[0];return parseInt(a)}),n=Array(256).fill(0);return r.forEach(i=>{n[i]=1}),n.reverse(),this.convertsBinaryBitsToUint256(n)}convertUint256ToPermissionsForCharacter(e){return this.convertUint256ToBinaryBits(e).reverse().map((r,n)=>{if(r===1){if(this.isPermissionBitForCharacter(n))return this.CHARACTER_PERMISSION_BITMAP[n];Uc.warn("Found invalid permission bit.",n);return}}).filter(Boolean)}convertsBinaryBitsToUint256(e){return e.join("").replace(/^0+/,"").split("").reverse().reduce((r,n,i)=>n==="1"?r.add(ve.from(2).pow(i)):r,ve.from(0))}convertUint256ToBinaryBits(e){let r=ve.from(e).toString();return new Ve(r,10).toString(2).padStart(256,"0").split("").map(n=>parseInt(n))}isPermissionBitForCharacter(e){return Object.keys(this.CHARACTER_PERMISSION_BITMAP).includes(e.toString())}};We([Je()],B0.prototype,"grantOperatorPermissionsForCharacter",1),We([Je()],B0.prototype,"grantOperatorsForNote",1);var O0=class extends _i{async mintCbt(e,r,n={}){return{data:void 0,transactionHash:(await(await this.cbtContract.mint(e,r,n)).wait()).transactionHash}}async setCbtTokenUri(e,r,n={}){return{data:void 0,transactionHash:(await(await this.cbtContract.setTokenURI(e,r,n)).wait()).transactionHash}}async getCbtTokenUri(e,r={}){return{data:await this.getCbtContract().uri(e,r)}}};We([Je()],O0.prototype,"mintCbt",1),We([Je()],O0.prototype,"setCbtTokenUri",1);var L0=class extends _i{async tipCharacter(e,r,n,i={}){let a=this.miraContract.interface._abiCoder.encode(["uint256","uint256"],[e,r]);return{data:void 0,transactionHash:(await(await this.miraContract.send(this.options.tipsContractAddress,n,a,i)).wait()).transactionHash}}async tipCharacterForNote(e,r,n,i,a={}){let s=this.miraContract.interface._abiCoder.encode(["uint256","uint256","uint256"],[e,r,n]);return{data:void 0,transactionHash:(await(await this.miraContract.send(this.options.tipsContractAddress,i,s,a)).wait()).transactionHash}}async getMiraBalanceOfCharacter(e,r={}){let n=await this.getContract().ownerOf(e,r);return{data:(Ko(n,this.options.newbieVillaContractAddress)?await this.getNewbieVillaContract().balanceOf(e,r):await this.getMiraContract().balanceOf(n,r)).toString()}}async getMiraBalance(e,r={}){return{data:(await this.getMiraContract().balanceOf(e,r)).toString()}}async getMiraTokenAddress(e={}){return{data:await this.getTipsContract().getToken(e)}}async getMiraTokenDecimals(e={}){return{data:await this.getMiraContract().decimals(e)}}};We([Je()],L0.prototype,"tipCharacter",1),We([Je()],L0.prototype,"tipCharacterForNote",1);var F0=class extends _i{async setLinkModuleForAddress(e,r,n={}){let i=await this.getModuleConfig(r);return{data:void 0,transactionHash:(await(await this.contract.setLinkModule4Address({account:e,linkModule:i.address,linkModuleInitData:i.initData},n)).wait()).transactionHash}}async setLinkModuleForLinklist(e,r,n={}){let i=await this.getModuleConfig(r);return{data:void 0,transactionHash:(await(await this.contract.setLinkModule4Linklist({linklistId:e,linkModule:i.address,linkModuleInitData:i.initData},n)).wait()).transactionHash}}};We([Je()],F0.prototype,"setLinkModuleForAddress",1),We([Je()],F0.prototype,"setLinkModuleForLinklist",1);var Pv=class extends _i{async setMintModuleForNote(t,e,r,n={}){let i=await this.getModuleConfig(r);return{data:void 0,transactionHash:(await(await this.contract.setMintModule4Note({characterId:t,noteId:e,mintModule:i.address,mintModuleInitData:i.initData},n)).wait()).transactionHash}}};We([Je()],Pv.prototype,"setMintModuleForNote",1);var QN=Cc(Mi,Ur,ni,B0,Nv,Rv,O0,L0,F0,Pv),wp=class extends QN{},Qr=class{constructor(e){if(this.endpoint="https://indexer.crossbell.io/v1",this.fetchOptions={},typeof e=="string")this.endpoint=e;else if(typeof e=="object")this.endpoint=e.endpoint??this.endpoint,this.fetchOptions=e.fetchOptions??this.fetchOptions;else if(typeof e<"u")throw new Error(`Invalid argument: ${JSON.stringify(e)}. It must be a string or an object.`)}fetch(e,r={}){return fetch(e,{...this.fetchOptions,...r})}},XN=class extends Qr{async getLinks(e,{limit:r=20,cursor:n,linkType:i,linkItemType:a,fromCharacterId:s,toCharacterId:o,toAddress:c,toNoteId:f,toContractAddress:l,toTokenId:x,toLinklistId:E,toUri:C,order:M}={}){let k=`${this.endpoint}/characters/${e}/links?`;return k+=Mt({limit:r,cursor:n,linkType:i,linkItemType:a,fromCharacterId:s,toCharacterId:o,toAddress:c,toNoteId:f,toContractAddress:l,toTokenId:x,toLinklistId:E,toUri:C,order:M}),await this.fetch(k).then(S=>S.json())}async getBacklinksOfCharacter(e,{limit:r=20,cursor:n,linkType:i,order:a}={}){let s=`${this.endpoint}/characters/${e}/backlinks?`;return s+=Mt({limit:r,cursor:n,linkType:i,order:a}),await this.fetch(s).then(o=>o.json())}async getBacklinksOfAddress(e,{limit:r=20,cursor:n,linkType:i,order:a}={}){let s=`${this.endpoint}/addresses/${e}/backlinks?`;return s+=Mt({limit:r,cursor:n,linkType:i,order:a}),await this.fetch(s).then(o=>o.json())}async getBacklinksOfNote(e,r,{limit:n=20,cursor:i,linkType:a,order:s}={}){let o=`${this.endpoint}/notes/${e}/${r}/backlinks?`;return o+=Mt({limit:n,cursor:i,linkType:a,order:s}),await this.fetch(o).then(c=>c.json())}async getBacklinksOfErc721(e,r,{limit:n=20,cursor:i,linkType:a,order:s}={}){let o=`${this.endpoint}/erc721s/${e}/${r}/backlinks?`;return o+=Mt({limit:n,cursor:i,linkType:a,order:s}),await this.fetch(o).then(c=>c.json())}async getBacklinksOfLinklist(e,{limit:r=20,cursor:n,linkType:i,order:a}={}){let s=`${this.endpoint}/linklists/${e}/backlinks?`;return s+=Mt({limit:r,cursor:n,linkType:i,order:a}),await this.fetch(s).then(o=>o.json())}async getBacklinksOfAnyUri(e,{limit:r=20,cursor:n,linkType:i,order:a}={}){let s=`${this.endpoint}/anyuris/${e}/backlinks?`;return s+=Mt({limit:r,cursor:n,linkType:i,order:a}),await this.fetch(s).then(o=>o.json())}},eR=class extends Qr{async getLinklistsOfCharacter(t,{linkType:e,limit:r=20,cursor:n}={}){let i=`${this.endpoint}/characters/${t}/linklists?`;return i+=Mt({linkType:e,limit:r,cursor:n}),await this.fetch(i).then(a=>a.json())}async getLinklist(t){let e=`${this.endpoint}/linklists/${t}`;return await this.fetch(e).then(r=>r.json())}},tR=class extends Qr{async getNotes(t={}){let e=`${this.endpoint}/notes?`;return e+=Mt(t),await this.fetch(e).then(r=>r.json())}async getNotesOfCharacterFollowing(t,e={}){let r=`${this.endpoint}/characters/${t}/notes/following?`;return r+=Mt(e),await this.fetch(r).then(n=>n.json())}async getNote(t,e){let r=`${this.endpoint}/characters/${t}/notes/${e}`;return await this.fetch(r).then(n=>n.json())}async getDistinctNoteTagsOfCharacter(t,{sources:e}={}){let r=`${this.endpoint}/characters/${t}/notes/tags?`;return r+=Mt({sources:e}),await this.fetch(r).then(n=>n.json())}async getDistinctNoteSourcesOfCharacter(t,{tags:e}={}){let r=`${this.endpoint}/characters/${t}/notes/sources?`;return r+=Mt({tags:e}),await this.fetch(r).then(n=>n.json())}},rR=class extends Qr{async getCharacters(t,{primary:e=void 0,limit:r=20,cursor:n}={}){let i=`${this.endpoint}/addresses/${t}/characters?`;return i+=Mt({primary:e,limit:r,cursor:n}),await this.fetch(i).then(a=>a.json())}async getPrimaryCharacter(t){return this.getCharacters(t,{limit:1,primary:!0}).then(e=>{var r;return((r=e.list)==null?void 0:r[0])??null})}async getCharacter(t){let e=`${this.endpoint}/characters/${t}`;return await this.fetch(e).then(r=>r.json())}async getCharacterByHandle(t){let e=`${this.endpoint}/handles/${t}/character`;return await this.fetch(e).then(r=>r.json())}},nR=class extends Qr{async searchCharacters(t,e){let r=`${this.endpoint}/characters/search?`;return r+=Mt({q:t,...e}),await this.fetch(r).then(n=>n.json())}async searchNotes(t,e){let r=`${this.endpoint}/notes/search?`;return r+=Mt({q:t,...e}),await this.fetch(r).then(n=>n.json())}},iR=class extends Qr{async getFeedsOfCharacter(t,{type:e,limit:r,cursor:n}={}){let i=`${this.endpoint}/characters/${t}/feed?`;return i+=Mt({type:e,limit:r,cursor:n}),await this.fetch(i).then(a=>a.json())}async getFollowingFeedsOfCharacter(t,{type:e,limit:r,cursor:n}={}){return this.getFeedsOfCharacterFollowing(t,{type:e,limit:r,cursor:n})}async getFeedsOfCharacterFollowing(t,{type:e,limit:r,cursor:n}={}){let i=`${this.endpoint}/characters/${t}/feed/follow?`;return i+=Mt({type:e,limit:r,cursor:n}),await this.fetch(i).then(a=>a.json())}async getFeed(t,e){let r=`${this.endpoint}/feed/${t}/${e}`;return await this.fetch(r).then(n=>n.json())}},aR=class extends Qr{async getMintedNotesOfAddress(t,{noteCharacterId:e,noteId:r,variant:n,limit:i,cursor:a,order:s}={}){let o=`${this.endpoint}/addresses/${t}/minted/notes?`;return o+=Mt({noteCharacterId:e,noteId:r,variant:n,limit:i,cursor:a,order:s}),await this.fetch(o).then(c=>c.json())}async getMintedNotesOfNote(t,e,{owner:r,limit:n,cursor:i,order:a}={}){let s=`${this.endpoint}/notes/${t}/${e}/minted?`;return s+=Mt({owner:r,limit:n,cursor:i,order:a}),await this.fetch(s).then(o=>o.json())}async getMintedNote(t,e){let r=`${this.endpoint}/minted/notes/${t}/${e}`;return await this.fetch(r).then(n=>n.json())}},sR=class extends Qr{async syncMetadataOfCharacter(t){let e=`${this.endpoint}/characters/${t}/metadata/sync`;return await this.fetch(e).then(r=>r.json())}async syncMetadataOfNote(t,e){let r=`${this.endpoint}/notes/${t}/${e}/metadata/sync`;return await this.fetch(r).then(n=>n.json())}},oR=class extends Qr{async getAchievements(t,{status:e}={}){let r=`${this.endpoint}/characters/${t}/achievements?`;return r+=Mt({status:e}),await this.fetch(r).then(n=>n.json())}async mintAchievement(t,e){let r=`${this.endpoint}/characters/${t}/achievements/${e}`;return await this.fetch(r,{method:"POST"}).then(n=>n.json())}},cR=class extends Qr{async getNotificationsOfCharacter(t,{type:e,includeCharacterMetadata:r,includeSelfInvoked:n,includeIsRead:i,read:a,limit:s,cursor:o}={}){let c=`${this.endpoint}/characters/${t}/notifications?`;return c+=Mt({type:e,includeCharacterMetadata:r,includeSelfInvoked:n,includeIsRead:i,read:a,limit:s,cursor:o}),await this.fetch(c).then(f=>f.json())}async markNotificationsAsRead(t){let e=`${this.endpoint}/characters/${t}/notifications/read`;return await this.fetch(e,{method:"POST"}).then(r=>r.json())}async getNotification(t,e,r,{includeCharacterMetadata:n}={}){let i=`${this.endpoint}/characters/${t}/notifications/${e}/${r}?`;return i+=Mt({includeCharacterMetadata:n}),await this.fetch(i).then(a=>a.json())}},uR=class extends Qr{async getCharacterOperators(t,{limit:e=20,cursor:r}={}){let n=`${this.endpoint}/characters/${t}/operators?`;return n+=Mt({limit:e,cursor:r}),await this.fetch(n).then(i=>i.json())}async getNoteOperators(t,e){let r=`${this.endpoint}/characters/${t}/notes/${e}/operators?`;return await this.fetch(r).then(n=>n.json())}async getCharacterOperator(t,e){let r=`${this.endpoint}/characters/${t}/operators/${e}`;return await this.fetch(r).then(n=>n.json())}async getNoteOperator(t,e,r){let n=`${this.endpoint}/characters/${t}/notes/${e}/operators/${r}`;return await this.fetch(n).then(i=>i.json())}},fR=class extends Qr{async getTips({characterId:t,toCharacterId:e,toNoteId:r,tokenAddress:n,includeZeroAmount:i,includeMetadata:a,limit:s,cursor:o}={}){let c=`${this.endpoint}/tips?`;return c+=Mt({characterId:t,toCharacterId:e,toNoteId:r,tokenAddress:n,includeZeroAmount:i,includeMetadata:a,limit:s,cursor:o}),await this.fetch(c).then(f=>f.json())}async getTip(t,e){let r=`${this.endpoint}/tips/${t}/${e}`;return await this.fetch(r).then(n=>n.json())}},dR=class extends Qr{async getLinkModules({targetItemType:t,toAddress:e,toCharacterId:r,toNoteId:n,toContractAddress:i,toTokenId:a,toLinklistId:s,limit:o,cursor:c}={}){let f=`${this.endpoint}/link-modules?`;return f+=Mt({targetItemType:t,toAddress:e,toCharacterId:r,toNoteId:n,toContractAddress:i,toTokenId:a,toLinklistId:s,limit:o,cursor:c}),await this.fetch(f).then(l=>l.json())}async getLinkModule(t,e){let r=`${this.endpoint}/link-modules/${t}/${e}`;return await this.fetch(r).then(n=>n.json())}},lR=class extends Qr{async getMintModules({targetItemType:t,toCharacterId:e,toNoteId:r,limit:n,cursor:i}={}){let a=`${this.endpoint}/mint-modules?`;return a+=Mt({targetItemType:t,toCharacterId:e,toNoteId:r,limit:n,cursor:i}),await this.fetch(a).then(s=>s.json())}async getMintModule(t,e){let r=`${this.endpoint}/mint-modules/${t}/${e}`;return await this.fetch(r).then(n=>n.json())}},hR=Cc(rR,eR,XN,tR,aR,nR,iR,sR,oR,cR),pR=Cc(hR,uR,fR,dR,lR),Us=class extends pR{},mR=(t=>(t.INACTIVE="INACTIVE",t.MINTABLE="MINTABLE",t.MINTED="MINTED",t))(mR||{}),yR=(t=>(t.CREATE_CHARACTER="CREATE_CHARACTER",t.UPDATE_CHARACTER_HANDLE="UPDATE_CHARACTER_HANDLE",t.UPDATE_CHARACTER_METADATA="UPDATE_CHARACTER_METADATA",t.UPDATE_PRIMARY_CHARACTER="UPDATE_PRIMARY_CHARACTER",t.TRANSFER_CHARACTER="TRANSFER_CHARACTER",t.ADD_OPERATOR="ADD_OPERATOR",t.REMOVE_OPERATOR="REMOVE_OPERATOR",t.CREATE_LINKLIST="CREATE_LINKLIST",t.UPDATE_LINKLIST="UPDATE_LINKLIST",t.TRANSFER_LINKLIST="TRANSFER_LINKLIST",t.LINK="LINK",t.UNLINK="UNLINK",t.POST_NOTE="POST_NOTE",t.POST_NOTE_FOR_NOTE="POST_NOTE_FOR_NOTE",t.POST_NOTE_FOR_ANY_URI="POST_NOTE_FOR_ANY_URI",t.POST_NOTE_FOR_ADDRESS="POST_NOTE_FOR_ADDRESS",t.POST_NOTE_FOR_LINKLIST="POST_NOTE_FOR_LINKLIST",t.POST_NOTE_FOR_CHARACTER="POST_NOTE_FOR_CHARACTER",t.POST_NOTE_FOR_ERC721="POST_NOTE_FOR_ERC721",t.UPDATE_NOTE="UPDATE_NOTE",t.LOCK_NOTE="LOCK_NOTE",t.DELETE_NOTE="DELETE_NOTE",t.MINT_NOTE="MINT_NOTE",t.TRANSFER_MINTED_NOTE="TRANSFER_MINTED_NOTE",t.SET_LINK_MODULE="SET_LINK_MODULE",t.SET_MINT_MODULE="SET_MINT_MODULE",t.TIP_CHARACTER="TIP_CHARACTER",t))(yR||{}),bR=(t=>(t.OPERATOR_ADDED="OPERATOR_ADDED",t.OPERATOR_REMOVED="OPERATOR_REMOVED",t.LINKED="LINKED",t.UNLINKED="UNLINKED",t.NOTE_MINTED="NOTE_MINTED",t.NOTE_POSTED="NOTE_POSTED",t.MENTIONED="MENTIONED",t.TIPPED="TIPPED",t))(bR||{}),xR=(t=>(t.SET_HANDLE="SET_HANDLE",t.SET_SOCIAL_TOKEN="SET_SOCIAL_TOKEN",t.GRANT_OPERATOR_PERMISSIONS="GRANT_OPERATOR_PERMISSIONS",t.GRANT_OPERATORS_FOR_NOTE="GRANT_OPERATORS_FOR_NOTE",t.SET_CHARACTER_URI="SET_CHARACTER_URI",t.SET_LINKLIST_URI="SET_LINKLIST_URI",t.LINK_CHARACTER="LINK_CHARACTER",t.UNLINK_CHARACTER="UNLINK_CHARACTER",t.CREATE_THEN_LINK_CHARACTER="CREATE_THEN_LINK_CHARACTER",t.LINK_NOTE="LINK_NOTE",t.UNLINK_NOTE="UNLINK_NOTE",t.LINK_ERC721="LINK_ERC721",t.UNLINK_ERC721="UNLINK_ERC721",t.LINK_ADDRESS="LINK_ADDRESS",t.UNLINK_ADDRESS="UNLINK_ADDRESS",t.LINK_ANY_URI="LINK_ANY_URI",t.UNLINK_ANY_URI="UNLINK_ANY_URI",t.LINK_LINKLIST="LINK_LINKLIST",t.UNLINK_LINKLIST="UNLINK_LINKLIST",t.SET_LINK_MODULE_FOR_CHARACTER="SET_LINK_MODULE_FOR_CHARACTER",t.SET_LINK_MODULE_FOR_NOTE="SET_LINK_MODULE_FOR_NOTE",t.SET_LINK_MODULE_FOR_LINKLIST="SET_LINK_MODULE_FOR_LINKLIST",t.SET_MINT_MODULE_FOR_NOTE="SET_MINT_MODULE_FOR_NOTE",t.SET_NOTE_URI="SET_NOTE_URI",t.LOCK_NOTE="LOCK_NOTE",t.DELETE_NOTE="DELETE_NOTE",t.POST_NOTE_FOR_CHARACTER="POST_NOTE_FOR_CHARACTER",t.POST_NOTE_FOR_ADDRESS="POST_NOTE_FOR_ADDRESS",t.POST_NOTE_FOR_LINKLIST="POST_NOTE_FOR_LINKLIST",t.POST_NOTE_FOR_NOTE="POST_NOTE_FOR_NOTE",t.POST_NOTE_FOR_ERC721="POST_NOTE_FOR_ERC721",t.POST_NOTE_FOR_ANY_URI="POST_NOTE_FOR_ANY_URI",t.POST_NOTE="POST_NOTE",t))(xR||{}),Bv=class{},Ov=class{};(class extends Cc(Bv,Ov){});(class extends Cc(Bv,Ov){});function fd(){this._types=Object.create(null),this._extensions=Object.create(null);for(let t=0;t<arguments.length;t++)this.define(arguments[t]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}fd.prototype.define=function(t,e){for(let r in t){let n=t[r].map(function(i){return i.toLowerCase()});r=r.toLowerCase();for(let i=0;i<n.length;i++){const a=n[i];if(a[0]!=="*"){if(!e&&a in this._types)throw new Error('Attempt to change mapping for "'+a+'" extension from "'+this._types[a]+'" to "'+r+'". Pass `force=true` to allow this, otherwise remove "'+a+'" from the list of extensions for "'+r+'".');this._types[a]=r}}if(e||!this._extensions[r]){const i=n[0];this._extensions[r]=i[0]!=="*"?i:i.substr(1)}}};fd.prototype.getType=function(t){t=String(t);let e=t.replace(/^.*[/\\]/,"").toLowerCase(),r=e.replace(/^.*\./,"").toLowerCase(),n=e.length<t.length;return(r.length<e.length-1||!n)&&this._types[r]||null};fd.prototype.getExtension=function(t){return t=/^\s*([^;\s]*)/.test(t)&&RegExp.$1,t&&this._extensions[t.toLowerCase()]||null};var gR=fd,vR={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]},wR={"application/prs.cww":["cww"],"application/vnd.1000minds.decision-model+xml":["1km"],"application/vnd.3gpp.pic-bw-large":["plb"],"application/vnd.3gpp.pic-bw-small":["psb"],"application/vnd.3gpp.pic-bw-var":["pvb"],"application/vnd.3gpp2.tcap":["tcap"],"application/vnd.3m.post-it-notes":["pwn"],"application/vnd.accpac.simply.aso":["aso"],"application/vnd.accpac.simply.imp":["imp"],"application/vnd.acucobol":["acu"],"application/vnd.acucorp":["atc","acutc"],"application/vnd.adobe.air-application-installer-package+zip":["air"],"application/vnd.adobe.formscentral.fcdt":["fcdt"],"application/vnd.adobe.fxp":["fxp","fxpl"],"application/vnd.adobe.xdp+xml":["xdp"],"application/vnd.adobe.xfdf":["xfdf"],"application/vnd.ahead.space":["ahead"],"application/vnd.airzip.filesecure.azf":["azf"],"application/vnd.airzip.filesecure.azs":["azs"],"application/vnd.amazon.ebook":["azw"],"application/vnd.americandynamics.acc":["acc"],"application/vnd.amiga.ami":["ami"],"application/vnd.android.package-archive":["apk"],"application/vnd.anser-web-certificate-issue-initiation":["cii"],"application/vnd.anser-web-funds-transfer-initiation":["fti"],"application/vnd.antix.game-component":["atx"],"application/vnd.apple.installer+xml":["mpkg"],"application/vnd.apple.keynote":["key"],"application/vnd.apple.mpegurl":["m3u8"],"application/vnd.apple.numbers":["numbers"],"application/vnd.apple.pages":["pages"],"application/vnd.apple.pkpass":["pkpass"],"application/vnd.aristanetworks.swi":["swi"],"application/vnd.astraea-software.iota":["iota"],"application/vnd.audiograph":["aep"],"application/vnd.balsamiq.bmml+xml":["bmml"],"application/vnd.blueice.multipass":["mpm"],"application/vnd.bmi":["bmi"],"application/vnd.businessobjects":["rep"],"application/vnd.chemdraw+xml":["cdxml"],"application/vnd.chipnuts.karaoke-mmd":["mmd"],"application/vnd.cinderella":["cdy"],"application/vnd.citationstyles.style+xml":["csl"],"application/vnd.claymore":["cla"],"application/vnd.cloanto.rp9":["rp9"],"application/vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"application/vnd.cluetrust.cartomobile-config":["c11amc"],"application/vnd.cluetrust.cartomobile-config-pkg":["c11amz"],"application/vnd.commonspace":["csp"],"application/vnd.contact.cmsg":["cdbcmsg"],"application/vnd.cosmocaller":["cmc"],"application/vnd.crick.clicker":["clkx"],"application/vnd.crick.clicker.keyboard":["clkk"],"application/vnd.crick.clicker.palette":["clkp"],"application/vnd.crick.clicker.template":["clkt"],"application/vnd.crick.clicker.wordbank":["clkw"],"application/vnd.criticaltools.wbs+xml":["wbs"],"application/vnd.ctc-posml":["pml"],"application/vnd.cups-ppd":["ppd"],"application/vnd.curl.car":["car"],"application/vnd.curl.pcurl":["pcurl"],"application/vnd.dart":["dart"],"application/vnd.data-vision.rdz":["rdz"],"application/vnd.dbf":["dbf"],"application/vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"application/vnd.dece.ttml+xml":["uvt","uvvt"],"application/vnd.dece.unspecified":["uvx","uvvx"],"application/vnd.dece.zip":["uvz","uvvz"],"application/vnd.denovo.fcselayout-link":["fe_launch"],"application/vnd.dna":["dna"],"application/vnd.dolby.mlp":["mlp"],"application/vnd.dpgraph":["dpg"],"application/vnd.dreamfactory":["dfac"],"application/vnd.ds-keypoint":["kpxx"],"application/vnd.dvb.ait":["ait"],"application/vnd.dvb.service":["svc"],"application/vnd.dynageo":["geo"],"application/vnd.ecowin.chart":["mag"],"application/vnd.enliven":["nml"],"application/vnd.epson.esf":["esf"],"application/vnd.epson.msf":["msf"],"application/vnd.epson.quickanime":["qam"],"application/vnd.epson.salt":["slt"],"application/vnd.epson.ssf":["ssf"],"application/vnd.eszigno3+xml":["es3","et3"],"application/vnd.ezpix-album":["ez2"],"application/vnd.ezpix-package":["ez3"],"application/vnd.fdf":["fdf"],"application/vnd.fdsn.mseed":["mseed"],"application/vnd.fdsn.seed":["seed","dataless"],"application/vnd.flographit":["gph"],"application/vnd.fluxtime.clip":["ftc"],"application/vnd.framemaker":["fm","frame","maker","book"],"application/vnd.frogans.fnc":["fnc"],"application/vnd.frogans.ltf":["ltf"],"application/vnd.fsc.weblaunch":["fsc"],"application/vnd.fujitsu.oasys":["oas"],"application/vnd.fujitsu.oasys2":["oa2"],"application/vnd.fujitsu.oasys3":["oa3"],"application/vnd.fujitsu.oasysgp":["fg5"],"application/vnd.fujitsu.oasysprs":["bh2"],"application/vnd.fujixerox.ddd":["ddd"],"application/vnd.fujixerox.docuworks":["xdw"],"application/vnd.fujixerox.docuworks.binder":["xbd"],"application/vnd.fuzzysheet":["fzs"],"application/vnd.genomatix.tuxedo":["txd"],"application/vnd.geogebra.file":["ggb"],"application/vnd.geogebra.tool":["ggt"],"application/vnd.geometry-explorer":["gex","gre"],"application/vnd.geonext":["gxt"],"application/vnd.geoplan":["g2w"],"application/vnd.geospace":["g3w"],"application/vnd.gmx":["gmx"],"application/vnd.google-apps.document":["gdoc"],"application/vnd.google-apps.presentation":["gslides"],"application/vnd.google-apps.spreadsheet":["gsheet"],"application/vnd.google-earth.kml+xml":["kml"],"application/vnd.google-earth.kmz":["kmz"],"application/vnd.grafeq":["gqf","gqs"],"application/vnd.groove-account":["gac"],"application/vnd.groove-help":["ghf"],"application/vnd.groove-identity-message":["gim"],"application/vnd.groove-injector":["grv"],"application/vnd.groove-tool-message":["gtm"],"application/vnd.groove-tool-template":["tpl"],"application/vnd.groove-vcard":["vcg"],"application/vnd.hal+xml":["hal"],"application/vnd.handheld-entertainment+xml":["zmm"],"application/vnd.hbci":["hbci"],"application/vnd.hhe.lesson-player":["les"],"application/vnd.hp-hpgl":["hpgl"],"application/vnd.hp-hpid":["hpid"],"application/vnd.hp-hps":["hps"],"application/vnd.hp-jlyt":["jlt"],"application/vnd.hp-pcl":["pcl"],"application/vnd.hp-pclxl":["pclxl"],"application/vnd.hydrostatix.sof-data":["sfd-hdstx"],"application/vnd.ibm.minipay":["mpy"],"application/vnd.ibm.modcap":["afp","listafp","list3820"],"application/vnd.ibm.rights-management":["irm"],"application/vnd.ibm.secure-container":["sc"],"application/vnd.iccprofile":["icc","icm"],"application/vnd.igloader":["igl"],"application/vnd.immervision-ivp":["ivp"],"application/vnd.immervision-ivu":["ivu"],"application/vnd.insors.igm":["igm"],"application/vnd.intercon.formnet":["xpw","xpx"],"application/vnd.intergeo":["i2g"],"application/vnd.intu.qbo":["qbo"],"application/vnd.intu.qfx":["qfx"],"application/vnd.ipunplugged.rcprofile":["rcprofile"],"application/vnd.irepository.package+xml":["irp"],"application/vnd.is-xpr":["xpr"],"application/vnd.isac.fcs":["fcs"],"application/vnd.jam":["jam"],"application/vnd.jcp.javame.midlet-rms":["rms"],"application/vnd.jisp":["jisp"],"application/vnd.joost.joda-archive":["joda"],"application/vnd.kahootz":["ktz","ktr"],"application/vnd.kde.karbon":["karbon"],"application/vnd.kde.kchart":["chrt"],"application/vnd.kde.kformula":["kfo"],"application/vnd.kde.kivio":["flw"],"application/vnd.kde.kontour":["kon"],"application/vnd.kde.kpresenter":["kpr","kpt"],"application/vnd.kde.kspread":["ksp"],"application/vnd.kde.kword":["kwd","kwt"],"application/vnd.kenameaapp":["htke"],"application/vnd.kidspiration":["kia"],"application/vnd.kinar":["kne","knp"],"application/vnd.koan":["skp","skd","skt","skm"],"application/vnd.kodak-descriptor":["sse"],"application/vnd.las.las+xml":["lasxml"],"application/vnd.llamagraphics.life-balance.desktop":["lbd"],"application/vnd.llamagraphics.life-balance.exchange+xml":["lbe"],"application/vnd.lotus-1-2-3":["123"],"application/vnd.lotus-approach":["apr"],"application/vnd.lotus-freelance":["pre"],"application/vnd.lotus-notes":["nsf"],"application/vnd.lotus-organizer":["org"],"application/vnd.lotus-screencam":["scm"],"application/vnd.lotus-wordpro":["lwp"],"application/vnd.macports.portpkg":["portpkg"],"application/vnd.mapbox-vector-tile":["mvt"],"application/vnd.mcd":["mcd"],"application/vnd.medcalcdata":["mc1"],"application/vnd.mediastation.cdkey":["cdkey"],"application/vnd.mfer":["mwf"],"application/vnd.mfmp":["mfm"],"application/vnd.micrografx.flo":["flo"],"application/vnd.micrografx.igx":["igx"],"application/vnd.mif":["mif"],"application/vnd.mobius.daf":["daf"],"application/vnd.mobius.dis":["dis"],"application/vnd.mobius.mbk":["mbk"],"application/vnd.mobius.mqy":["mqy"],"application/vnd.mobius.msl":["msl"],"application/vnd.mobius.plc":["plc"],"application/vnd.mobius.txf":["txf"],"application/vnd.mophun.application":["mpn"],"application/vnd.mophun.certificate":["mpc"],"application/vnd.mozilla.xul+xml":["xul"],"application/vnd.ms-artgalry":["cil"],"application/vnd.ms-cab-compressed":["cab"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.addin.macroenabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroenabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.ms-excel.template.macroenabled.12":["xltm"],"application/vnd.ms-fontobject":["eot"],"application/vnd.ms-htmlhelp":["chm"],"application/vnd.ms-ims":["ims"],"application/vnd.ms-lrm":["lrm"],"application/vnd.ms-officetheme":["thmx"],"application/vnd.ms-outlook":["msg"],"application/vnd.ms-pki.seccat":["cat"],"application/vnd.ms-pki.stl":["*stl"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.ms-powerpoint.addin.macroenabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroenabled.12":["pptm"],"application/vnd.ms-powerpoint.slide.macroenabled.12":["sldm"],"application/vnd.ms-powerpoint.slideshow.macroenabled.12":["ppsm"],"application/vnd.ms-powerpoint.template.macroenabled.12":["potm"],"application/vnd.ms-project":["mpp","mpt"],"application/vnd.ms-word.document.macroenabled.12":["docm"],"application/vnd.ms-word.template.macroenabled.12":["dotm"],"application/vnd.ms-works":["wps","wks","wcm","wdb"],"application/vnd.ms-wpl":["wpl"],"application/vnd.ms-xpsdocument":["xps"],"application/vnd.mseq":["mseq"],"application/vnd.musician":["mus"],"application/vnd.muvee.style":["msty"],"application/vnd.mynfc":["taglet"],"application/vnd.neurolanguage.nlu":["nlu"],"application/vnd.nitf":["ntf","nitf"],"application/vnd.noblenet-directory":["nnd"],"application/vnd.noblenet-sealer":["nns"],"application/vnd.noblenet-web":["nnw"],"application/vnd.nokia.n-gage.ac+xml":["*ac"],"application/vnd.nokia.n-gage.data":["ngdat"],"application/vnd.nokia.n-gage.symbian.install":["n-gage"],"application/vnd.nokia.radio-preset":["rpst"],"application/vnd.nokia.radio-presets":["rpss"],"application/vnd.novadigm.edm":["edm"],"application/vnd.novadigm.edx":["edx"],"application/vnd.novadigm.ext":["ext"],"application/vnd.oasis.opendocument.chart":["odc"],"application/vnd.oasis.opendocument.chart-template":["otc"],"application/vnd.oasis.opendocument.database":["odb"],"application/vnd.oasis.opendocument.formula":["odf"],"application/vnd.oasis.opendocument.formula-template":["odft"],"application/vnd.oasis.opendocument.graphics":["odg"],"application/vnd.oasis.opendocument.graphics-template":["otg"],"application/vnd.oasis.opendocument.image":["odi"],"application/vnd.oasis.opendocument.image-template":["oti"],"application/vnd.oasis.opendocument.presentation":["odp"],"application/vnd.oasis.opendocument.presentation-template":["otp"],"application/vnd.oasis.opendocument.spreadsheet":["ods"],"application/vnd.oasis.opendocument.spreadsheet-template":["ots"],"application/vnd.oasis.opendocument.text":["odt"],"application/vnd.oasis.opendocument.text-master":["odm"],"application/vnd.oasis.opendocument.text-template":["ott"],"application/vnd.oasis.opendocument.text-web":["oth"],"application/vnd.olpc-sugar":["xo"],"application/vnd.oma.dd2+xml":["dd2"],"application/vnd.openblox.game+xml":["obgx"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openstreetmap.data+xml":["osm"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.osgeo.mapguide.package":["mgp"],"application/vnd.osgi.dp":["dp"],"application/vnd.osgi.subsystem":["esa"],"application/vnd.palm":["pdb","pqa","oprc"],"application/vnd.pawaafile":["paw"],"application/vnd.pg.format":["str"],"application/vnd.pg.osasli":["ei6"],"application/vnd.picsel":["efif"],"application/vnd.pmi.widget":["wg"],"application/vnd.pocketlearn":["plf"],"application/vnd.powerbuilder6":["pbd"],"application/vnd.previewsystems.box":["box"],"application/vnd.proteus.magazine":["mgz"],"application/vnd.publishare-delta-tree":["qps"],"application/vnd.pvi.ptid1":["ptid"],"application/vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"application/vnd.rar":["rar"],"application/vnd.realvnc.bed":["bed"],"application/vnd.recordare.musicxml":["mxl"],"application/vnd.recordare.musicxml+xml":["musicxml"],"application/vnd.rig.cryptonote":["cryptonote"],"application/vnd.rim.cod":["cod"],"application/vnd.rn-realmedia":["rm"],"application/vnd.rn-realmedia-vbr":["rmvb"],"application/vnd.route66.link66+xml":["link66"],"application/vnd.sailingtracker.track":["st"],"application/vnd.seemail":["see"],"application/vnd.sema":["sema"],"application/vnd.semd":["semd"],"application/vnd.semf":["semf"],"application/vnd.shana.informed.formdata":["ifm"],"application/vnd.shana.informed.formtemplate":["itp"],"application/vnd.shana.informed.interchange":["iif"],"application/vnd.shana.informed.package":["ipk"],"application/vnd.simtech-mindmapper":["twd","twds"],"application/vnd.smaf":["mmf"],"application/vnd.smart.teacher":["teacher"],"application/vnd.software602.filler.form+xml":["fo"],"application/vnd.solent.sdkm+xml":["sdkm","sdkd"],"application/vnd.spotfire.dxp":["dxp"],"application/vnd.spotfire.sfs":["sfs"],"application/vnd.stardivision.calc":["sdc"],"application/vnd.stardivision.draw":["sda"],"application/vnd.stardivision.impress":["sdd"],"application/vnd.stardivision.math":["smf"],"application/vnd.stardivision.writer":["sdw","vor"],"application/vnd.stardivision.writer-global":["sgl"],"application/vnd.stepmania.package":["smzip"],"application/vnd.stepmania.stepchart":["sm"],"application/vnd.sun.wadl+xml":["wadl"],"application/vnd.sun.xml.calc":["sxc"],"application/vnd.sun.xml.calc.template":["stc"],"application/vnd.sun.xml.draw":["sxd"],"application/vnd.sun.xml.draw.template":["std"],"application/vnd.sun.xml.impress":["sxi"],"application/vnd.sun.xml.impress.template":["sti"],"application/vnd.sun.xml.math":["sxm"],"application/vnd.sun.xml.writer":["sxw"],"application/vnd.sun.xml.writer.global":["sxg"],"application/vnd.sun.xml.writer.template":["stw"],"application/vnd.sus-calendar":["sus","susp"],"application/vnd.svd":["svd"],"application/vnd.symbian.install":["sis","sisx"],"application/vnd.syncml+xml":["xsm"],"application/vnd.syncml.dm+wbxml":["bdm"],"application/vnd.syncml.dm+xml":["xdm"],"application/vnd.syncml.dmddf+xml":["ddf"],"application/vnd.tao.intent-module-archive":["tao"],"application/vnd.tcpdump.pcap":["pcap","cap","dmp"],"application/vnd.tmobile-livetv":["tmo"],"application/vnd.trid.tpt":["tpt"],"application/vnd.triscape.mxs":["mxs"],"application/vnd.trueapp":["tra"],"application/vnd.ufdl":["ufd","ufdl"],"application/vnd.uiq.theme":["utz"],"application/vnd.umajin":["umj"],"application/vnd.unity":["unityweb"],"application/vnd.uoml+xml":["uoml"],"application/vnd.vcx":["vcx"],"application/vnd.visio":["vsd","vst","vss","vsw"],"application/vnd.visionary":["vis"],"application/vnd.vsf":["vsf"],"application/vnd.wap.wbxml":["wbxml"],"application/vnd.wap.wmlc":["wmlc"],"application/vnd.wap.wmlscriptc":["wmlsc"],"application/vnd.webturbo":["wtb"],"application/vnd.wolfram.player":["nbp"],"application/vnd.wordperfect":["wpd"],"application/vnd.wqd":["wqd"],"application/vnd.wt.stf":["stf"],"application/vnd.xara":["xar"],"application/vnd.xfdl":["xfdl"],"application/vnd.yamaha.hv-dic":["hvd"],"application/vnd.yamaha.hv-script":["hvs"],"application/vnd.yamaha.hv-voice":["hvp"],"application/vnd.yamaha.openscoreformat":["osf"],"application/vnd.yamaha.openscoreformat.osfpvg+xml":["osfpvg"],"application/vnd.yamaha.smaf-audio":["saf"],"application/vnd.yamaha.smaf-phrase":["spf"],"application/vnd.yellowriver-custom-menu":["cmp"],"application/vnd.zul":["zir","zirz"],"application/vnd.zzazz.deck+xml":["zaz"],"application/x-7z-compressed":["7z"],"application/x-abiword":["abw"],"application/x-ace-compressed":["ace"],"application/x-apple-diskimage":["*dmg"],"application/x-arj":["arj"],"application/x-authorware-bin":["aab","x32","u32","vox"],"application/x-authorware-map":["aam"],"application/x-authorware-seg":["aas"],"application/x-bcpio":["bcpio"],"application/x-bdoc":["*bdoc"],"application/x-bittorrent":["torrent"],"application/x-blorb":["blb","blorb"],"application/x-bzip":["bz"],"application/x-bzip2":["bz2","boz"],"application/x-cbr":["cbr","cba","cbt","cbz","cb7"],"application/x-cdlink":["vcd"],"application/x-cfs-compressed":["cfs"],"application/x-chat":["chat"],"application/x-chess-pgn":["pgn"],"application/x-chrome-extension":["crx"],"application/x-cocoa":["cco"],"application/x-conference":["nsc"],"application/x-cpio":["cpio"],"application/x-csh":["csh"],"application/x-debian-package":["*deb","udeb"],"application/x-dgc-compressed":["dgc"],"application/x-director":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],"application/x-doom":["wad"],"application/x-dtbncx+xml":["ncx"],"application/x-dtbook+xml":["dtb"],"application/x-dtbresource+xml":["res"],"application/x-dvi":["dvi"],"application/x-envoy":["evy"],"application/x-eva":["eva"],"application/x-font-bdf":["bdf"],"application/x-font-ghostscript":["gsf"],"application/x-font-linux-psf":["psf"],"application/x-font-pcf":["pcf"],"application/x-font-snf":["snf"],"application/x-font-type1":["pfa","pfb","pfm","afm"],"application/x-freearc":["arc"],"application/x-futuresplash":["spl"],"application/x-gca-compressed":["gca"],"application/x-glulx":["ulx"],"application/x-gnumeric":["gnumeric"],"application/x-gramps-xml":["gramps"],"application/x-gtar":["gtar"],"application/x-hdf":["hdf"],"application/x-httpd-php":["php"],"application/x-install-instructions":["install"],"application/x-iso9660-image":["*iso"],"application/x-iwork-keynote-sffkey":["*key"],"application/x-iwork-numbers-sffnumbers":["*numbers"],"application/x-iwork-pages-sffpages":["*pages"],"application/x-java-archive-diff":["jardiff"],"application/x-java-jnlp-file":["jnlp"],"application/x-keepass2":["kdbx"],"application/x-latex":["latex"],"application/x-lua-bytecode":["luac"],"application/x-lzh-compressed":["lzh","lha"],"application/x-makeself":["run"],"application/x-mie":["mie"],"application/x-mobipocket-ebook":["prc","mobi"],"application/x-ms-application":["application"],"application/x-ms-shortcut":["lnk"],"application/x-ms-wmd":["wmd"],"application/x-ms-wmz":["wmz"],"application/x-ms-xbap":["xbap"],"application/x-msaccess":["mdb"],"application/x-msbinder":["obd"],"application/x-mscardfile":["crd"],"application/x-msclip":["clp"],"application/x-msdos-program":["*exe"],"application/x-msdownload":["*exe","*dll","com","bat","*msi"],"application/x-msmediaview":["mvb","m13","m14"],"application/x-msmetafile":["*wmf","*wmz","*emf","emz"],"application/x-msmoney":["mny"],"application/x-mspublisher":["pub"],"application/x-msschedule":["scd"],"application/x-msterminal":["trm"],"application/x-mswrite":["wri"],"application/x-netcdf":["nc","cdf"],"application/x-ns-proxy-autoconfig":["pac"],"application/x-nzb":["nzb"],"application/x-perl":["pl","pm"],"application/x-pilot":["*prc","*pdb"],"application/x-pkcs12":["p12","pfx"],"application/x-pkcs7-certificates":["p7b","spc"],"application/x-pkcs7-certreqresp":["p7r"],"application/x-rar-compressed":["*rar"],"application/x-redhat-package-manager":["rpm"],"application/x-research-info-systems":["ris"],"application/x-sea":["sea"],"application/x-sh":["sh"],"application/x-shar":["shar"],"application/x-shockwave-flash":["swf"],"application/x-silverlight-app":["xap"],"application/x-sql":["sql"],"application/x-stuffit":["sit"],"application/x-stuffitx":["sitx"],"application/x-subrip":["srt"],"application/x-sv4cpio":["sv4cpio"],"application/x-sv4crc":["sv4crc"],"application/x-t3vm-image":["t3"],"application/x-tads":["gam"],"application/x-tar":["tar"],"application/x-tcl":["tcl","tk"],"application/x-tex":["tex"],"application/x-tex-tfm":["tfm"],"application/x-texinfo":["texinfo","texi"],"application/x-tgif":["*obj"],"application/x-ustar":["ustar"],"application/x-virtualbox-hdd":["hdd"],"application/x-virtualbox-ova":["ova"],"application/x-virtualbox-ovf":["ovf"],"application/x-virtualbox-vbox":["vbox"],"application/x-virtualbox-vbox-extpack":["vbox-extpack"],"application/x-virtualbox-vdi":["vdi"],"application/x-virtualbox-vhd":["vhd"],"application/x-virtualbox-vmdk":["vmdk"],"application/x-wais-source":["src"],"application/x-web-app-manifest+json":["webapp"],"application/x-x509-ca-cert":["der","crt","pem"],"application/x-xfig":["fig"],"application/x-xliff+xml":["*xlf"],"application/x-xpinstall":["xpi"],"application/x-xz":["xz"],"application/x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts":["dts"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.rip":["rip"],"audio/x-aac":["aac"],"audio/x-aiff":["aif","aiff","aifc"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-m4a":["*m4a"],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-pn-realaudio":["ram","ra"],"audio/x-pn-realaudio-plugin":["rmp"],"audio/x-realaudio":["*ra"],"audio/x-wav":["*wav"],"chemical/x-cdx":["cdx"],"chemical/x-cif":["cif"],"chemical/x-cmdf":["cmdf"],"chemical/x-cml":["cml"],"chemical/x-csml":["csml"],"chemical/x-xyz":["xyz"],"image/prs.btif":["btif"],"image/prs.pti":["pti"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.airzip.accelerator.azv":["azv"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":["*sub"],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.microsoft.icon":["ico"],"image/vnd.ms-dds":["dds"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.pco.b16":["b16"],"image/vnd.tencent.tap":["tap"],"image/vnd.valve.source.texture":["vtf"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/vnd.zbrush.pcx":["pcx"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["*ico"],"image/x-jng":["jng"],"image/x-mrsid-image":["sid"],"image/x-ms-bmp":["*bmp"],"image/x-pcx":["*pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"],"message/vnd.wfa.wsc":["wsc"],"model/vnd.collada+xml":["dae"],"model/vnd.dwf":["dwf"],"model/vnd.gdl":["gdl"],"model/vnd.gtw":["gtw"],"model/vnd.mts":["mts"],"model/vnd.opengex":["ogex"],"model/vnd.parasolid.transmit.binary":["x_b"],"model/vnd.parasolid.transmit.text":["x_t"],"model/vnd.sap.vds":["vds"],"model/vnd.usdz+zip":["usdz"],"model/vnd.valve.source.compiled-map":["bsp"],"model/vnd.vtu":["vtu"],"text/prs.lines.tag":["dsc"],"text/vnd.curl":["curl"],"text/vnd.curl.dcurl":["dcurl"],"text/vnd.curl.mcurl":["mcurl"],"text/vnd.curl.scurl":["scurl"],"text/vnd.dvb.subtitle":["sub"],"text/vnd.fly":["fly"],"text/vnd.fmi.flexstor":["flx"],"text/vnd.graphviz":["gv"],"text/vnd.in3d.3dml":["3dml"],"text/vnd.in3d.spot":["spot"],"text/vnd.sun.j2me.app-descriptor":["jad"],"text/vnd.wap.wml":["wml"],"text/vnd.wap.wmlscript":["wmls"],"text/x-asm":["s","asm"],"text/x-c":["c","cc","cxx","cpp","h","hh","dic"],"text/x-component":["htc"],"text/x-fortran":["f","for","f77","f90"],"text/x-handlebars-template":["hbs"],"text/x-java-source":["java"],"text/x-lua":["lua"],"text/x-markdown":["mkd"],"text/x-nfo":["nfo"],"text/x-opml":["opml"],"text/x-org":["*org"],"text/x-pascal":["p","pas"],"text/x-processing":["pde"],"text/x-sass":["sass"],"text/x-scss":["scss"],"text/x-setext":["etx"],"text/x-sfv":["sfv"],"text/x-suse-ymp":["ymp"],"text/x-uuencode":["uu"],"text/x-vcalendar":["vcs"],"text/x-vcard":["vcf"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["mxu","m4u"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-ms-asf":["asf","asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/x-msvideo":["avi"],"video/x-sgi-movie":["movie"],"video/x-smv":["smv"],"x-conference/x-cooltalk":["ice"]};let AR=gR;var ER=new AR(vR,wR);const _R=Yn(ER);function Lv(t,e){return function(){return t.apply(e,arguments)}}const{toString:TR}=Object.prototype,{getPrototypeOf:Ap}=Object,dd=(t=>e=>{const r=TR.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ti=t=>(t=t.toLowerCase(),e=>dd(e)===t),ld=t=>e=>typeof e===t,{isArray:ho}=Array,yc=ld("undefined");function MR(t){return t!==null&&!yc(t)&&t.constructor!==null&&!yc(t.constructor)&&Mn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Fv=Ti("ArrayBuffer");function kR(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Fv(t.buffer),e}const IR=ld("string"),Mn=ld("function"),Dv=ld("number"),hd=t=>t!==null&&typeof t=="object",SR=t=>t===!0||t===!1,xu=t=>{if(dd(t)!=="object")return!1;const e=Ap(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},CR=Ti("Date"),NR=Ti("File"),RR=Ti("Blob"),PR=Ti("FileList"),BR=t=>hd(t)&&Mn(t.pipe),OR=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Mn(t.append)&&((e=dd(t))==="formdata"||e==="object"&&Mn(t.toString)&&t.toString()==="[object FormData]"))},LR=Ti("URLSearchParams"),FR=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function $c(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),ho(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{const a=r?Object.getOwnPropertyNames(t):Object.keys(t),s=a.length;let o;for(n=0;n<s;n++)o=a[n],e.call(null,t[o],o,t)}}function Uv(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const $v=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Hv=t=>!yc(t)&&t!==$v;function D0(){const{caseless:t}=Hv(this)&&this||{},e={},r=(n,i)=>{const a=t&&Uv(e,i)||i;xu(e[a])&&xu(n)?e[a]=D0(e[a],n):xu(n)?e[a]=D0({},n):ho(n)?e[a]=n.slice():e[a]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&$c(arguments[n],r);return e}const DR=(t,e,r,{allOwnKeys:n}={})=>($c(e,(i,a)=>{r&&Mn(i)?t[a]=Lv(i,r):t[a]=i},{allOwnKeys:n}),t),UR=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),$R=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},HR=(t,e,r,n)=>{let i,a,s;const o={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),a=i.length;a-- >0;)s=i[a],(!n||n(s,t,e))&&!o[s]&&(e[s]=t[s],o[s]=!0);t=r!==!1&&Ap(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},zR=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},qR=t=>{if(!t)return null;if(ho(t))return t;let e=t.length;if(!Dv(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},jR=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Ap(Uint8Array)),KR=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=n.next())&&!i.done;){const a=i.value;e.call(t,a[0],a[1])}},GR=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},VR=Ti("HTMLFormElement"),WR=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),nb=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),JR=Ti("RegExp"),zv=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};$c(r,(i,a)=>{e(i,a,t)!==!1&&(n[a]=i)}),Object.defineProperties(t,n)},YR=t=>{zv(t,(e,r)=>{if(Mn(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(Mn(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},ZR=(t,e)=>{const r={},n=i=>{i.forEach(a=>{r[a]=!0})};return ho(t)?n(t):n(String(t).split(e)),r},QR=()=>{},XR=(t,e)=>(t=+t,Number.isFinite(t)?t:e),xl="abcdefghijklmnopqrstuvwxyz",ib="0123456789",qv={DIGIT:ib,ALPHA:xl,ALPHA_DIGIT:xl+xl.toUpperCase()+ib},eP=(t=16,e=qv.ALPHA_DIGIT)=>{let r="";const{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r};function tP(t){return!!(t&&Mn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const rP=t=>{const e=new Array(10),r=(n,i)=>{if(hd(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;const a=ho(n)?[]:{};return $c(n,(s,o)=>{const c=r(s,i+1);!yc(c)&&(a[o]=c)}),e[i]=void 0,a}}return n};return r(t,0)},nP=Ti("AsyncFunction"),iP=t=>t&&(hd(t)||Mn(t))&&Mn(t.then)&&Mn(t.catch),se={isArray:ho,isArrayBuffer:Fv,isBuffer:MR,isFormData:OR,isArrayBufferView:kR,isString:IR,isNumber:Dv,isBoolean:SR,isObject:hd,isPlainObject:xu,isUndefined:yc,isDate:CR,isFile:NR,isBlob:RR,isRegExp:JR,isFunction:Mn,isStream:BR,isURLSearchParams:LR,isTypedArray:jR,isFileList:PR,forEach:$c,merge:D0,extend:DR,trim:FR,stripBOM:UR,inherits:$R,toFlatObject:HR,kindOf:dd,kindOfTest:Ti,endsWith:zR,toArray:qR,forEachEntry:KR,matchAll:GR,isHTMLForm:VR,hasOwnProperty:nb,hasOwnProp:nb,reduceDescriptors:zv,freezeMethods:YR,toObjectSet:ZR,toCamelCase:WR,noop:QR,toFiniteNumber:XR,findKey:Uv,global:$v,isContextDefined:Hv,ALPHABET:qv,generateString:eP,isSpecCompliantForm:tP,toJSONObject:rP,isAsyncFn:nP,isThenable:iP};function gt(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}se.inherits(gt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:se.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const jv=gt.prototype,Kv={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Kv[t]={value:t}});Object.defineProperties(gt,Kv);Object.defineProperty(jv,"isAxiosError",{value:!0});gt.from=(t,e,r,n,i,a)=>{const s=Object.create(jv);return se.toFlatObject(t,s,function(c){return c!==Error.prototype},o=>o!=="isAxiosError"),gt.call(s,t.message,e,r,n,i),s.cause=t,s.name=t.name,a&&Object.assign(s,a),s};const aP=null;function U0(t){return se.isPlainObject(t)||se.isArray(t)}function Gv(t){return se.endsWith(t,"[]")?t.slice(0,-2):t}function ab(t,e,r){return t?t.concat(e).map(function(i,a){return i=Gv(i),!r&&a?"["+i+"]":i}).join(r?".":""):e}function sP(t){return se.isArray(t)&&!t.some(U0)}const oP=se.toFlatObject(se,{},null,function(e){return/^is[A-Z]/.test(e)});function pd(t,e,r){if(!se.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=se.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(k,S){return!se.isUndefined(S[k])});const n=r.metaTokens,i=r.visitor||l,a=r.dots,s=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&se.isSpecCompliantForm(e);if(!se.isFunction(i))throw new TypeError("visitor must be a function");function f(M){if(M===null)return"";if(se.isDate(M))return M.toISOString();if(!c&&se.isBlob(M))throw new gt("Blob is not supported. Use a Buffer instead.");return se.isArrayBuffer(M)||se.isTypedArray(M)?c&&typeof Blob=="function"?new Blob([M]):Buffer.from(M):M}function l(M,k,S){let R=M;if(M&&!S&&typeof M=="object"){if(se.endsWith(k,"{}"))k=n?k:k.slice(0,-2),M=JSON.stringify(M);else if(se.isArray(M)&&sP(M)||(se.isFileList(M)||se.endsWith(k,"[]"))&&(R=se.toArray(M)))return k=Gv(k),R.forEach(function($,H){!(se.isUndefined($)||$===null)&&e.append(s===!0?ab([k],H,a):s===null?k:k+"[]",f($))}),!1}return U0(M)?!0:(e.append(ab(S,k,a),f(M)),!1)}const x=[],E=Object.assign(oP,{defaultVisitor:l,convertValue:f,isVisitable:U0});function C(M,k){if(!se.isUndefined(M)){if(x.indexOf(M)!==-1)throw Error("Circular reference detected in "+k.join("."));x.push(M),se.forEach(M,function(R,B){(!(se.isUndefined(R)||R===null)&&i.call(e,R,se.isString(B)?B.trim():B,k,E))===!0&&C(R,k?k.concat(B):[B])}),x.pop()}}if(!se.isObject(t))throw new TypeError("data must be an object");return C(t),e}function sb(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Ep(t,e){this._pairs=[],t&&pd(t,this,e)}const Vv=Ep.prototype;Vv.append=function(e,r){this._pairs.push([e,r])};Vv.toString=function(e){const r=e?function(n){return e.call(this,n,sb)}:sb;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function cP(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Wv(t,e,r){if(!e)return t;const n=r&&r.encode||cP,i=r&&r.serialize;let a;if(i?a=i(e,r):a=se.isURLSearchParams(e)?e.toString():new Ep(e,r).toString(n),a){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class uP{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){se.forEach(this.handlers,function(n){n!==null&&e(n)})}}const ob=uP,Jv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},fP=typeof URLSearchParams<"u"?URLSearchParams:Ep,dP=typeof FormData<"u"?FormData:null,lP=typeof Blob<"u"?Blob:null,hP=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),pP=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),hi={isBrowser:!0,classes:{URLSearchParams:fP,FormData:dP,Blob:lP},isStandardBrowserEnv:hP,isStandardBrowserWebWorkerEnv:pP,protocols:["http","https","file","blob","url","data"]};function mP(t,e){return pd(t,new hi.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,a){return hi.isNode&&se.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function yP(t){return se.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function bP(t){const e={},r=Object.keys(t);let n;const i=r.length;let a;for(n=0;n<i;n++)a=r[n],e[a]=t[a];return e}function Yv(t){function e(r,n,i,a){let s=r[a++];const o=Number.isFinite(+s),c=a>=r.length;return s=!s&&se.isArray(i)?i.length:s,c?(se.hasOwnProp(i,s)?i[s]=[i[s],n]:i[s]=n,!o):((!i[s]||!se.isObject(i[s]))&&(i[s]=[]),e(r,n,i[s],a)&&se.isArray(i[s])&&(i[s]=bP(i[s])),!o)}if(se.isFormData(t)&&se.isFunction(t.entries)){const r={};return se.forEachEntry(t,(n,i)=>{e(yP(n),i,r,0)}),r}return null}const xP={"Content-Type":void 0};function gP(t,e,r){if(se.isString(t))try{return(e||JSON.parse)(t),se.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const md={transitional:Jv,adapter:["xhr","http"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,a=se.isObject(e);if(a&&se.isHTMLForm(e)&&(e=new FormData(e)),se.isFormData(e))return i&&i?JSON.stringify(Yv(e)):e;if(se.isArrayBuffer(e)||se.isBuffer(e)||se.isStream(e)||se.isFile(e)||se.isBlob(e))return e;if(se.isArrayBufferView(e))return e.buffer;if(se.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return mP(e,this.formSerializer).toString();if((o=se.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return pd(o?{"files[]":e}:e,c&&new c,this.formSerializer)}}return a||i?(r.setContentType("application/json",!1),gP(e)):e}],transformResponse:[function(e){const r=this.transitional||md.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(e&&se.isString(e)&&(n&&!this.responseType||i)){const s=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(o){if(s)throw o.name==="SyntaxError"?gt.from(o,gt.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:hi.classes.FormData,Blob:hi.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};se.forEach(["delete","get","head"],function(e){md.headers[e]={}});se.forEach(["post","put","patch"],function(e){md.headers[e]=se.merge(xP)});const _p=md,vP=se.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),wP=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(s){i=s.indexOf(":"),r=s.substring(0,i).trim().toLowerCase(),n=s.substring(i+1).trim(),!(!r||e[r]&&vP[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},cb=Symbol("internals");function No(t){return t&&String(t).trim().toLowerCase()}function gu(t){return t===!1||t==null?t:se.isArray(t)?t.map(gu):String(t)}function AP(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const EP=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function gl(t,e,r,n,i){if(se.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!se.isString(e)){if(se.isString(n))return e.indexOf(n)!==-1;if(se.isRegExp(n))return n.test(e)}}function _P(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function TP(t,e){const r=se.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,a,s){return this[n].call(this,e,i,a,s)},configurable:!0})})}class yd{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function a(o,c,f){const l=No(c);if(!l)throw new Error("header name must be a non-empty string");const x=se.findKey(i,l);(!x||i[x]===void 0||f===!0||f===void 0&&i[x]!==!1)&&(i[x||c]=gu(o))}const s=(o,c)=>se.forEach(o,(f,l)=>a(f,l,c));return se.isPlainObject(e)||e instanceof this.constructor?s(e,r):se.isString(e)&&(e=e.trim())&&!EP(e)?s(wP(e),r):e!=null&&a(r,e,n),this}get(e,r){if(e=No(e),e){const n=se.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return AP(i);if(se.isFunction(r))return r.call(this,i,n);if(se.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=No(e),e){const n=se.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||gl(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function a(s){if(s=No(s),s){const o=se.findKey(n,s);o&&(!r||gl(n,n[o],o,r))&&(delete n[o],i=!0)}}return se.isArray(e)?e.forEach(a):a(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const a=r[n];(!e||gl(this,this[a],a,e,!0))&&(delete this[a],i=!0)}return i}normalize(e){const r=this,n={};return se.forEach(this,(i,a)=>{const s=se.findKey(n,a);if(s){r[s]=gu(i),delete r[a];return}const o=e?_P(a):String(a).trim();o!==a&&delete r[a],r[o]=gu(i),n[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return se.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&se.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[cb]=this[cb]={accessors:{}}).accessors,i=this.prototype;function a(s){const o=No(s);n[o]||(TP(i,s),n[o]=!0)}return se.isArray(e)?e.forEach(a):a(e),this}}yd.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);se.freezeMethods(yd.prototype);se.freezeMethods(yd);const Oi=yd;function vl(t,e){const r=this||_p,n=e||r,i=Oi.from(n.headers);let a=n.data;return se.forEach(t,function(o){a=o.call(r,a,i.normalize(),e?e.status:void 0)}),i.normalize(),a}function Zv(t){return!!(t&&t.__CANCEL__)}function Hc(t,e,r){gt.call(this,t??"canceled",gt.ERR_CANCELED,e,r),this.name="CanceledError"}se.inherits(Hc,gt,{__CANCEL__:!0});function MP(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new gt("Request failed with status code "+r.status,[gt.ERR_BAD_REQUEST,gt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const kP=hi.isStandardBrowserEnv?function(){return{write:function(r,n,i,a,s,o){const c=[];c.push(r+"="+encodeURIComponent(n)),se.isNumber(i)&&c.push("expires="+new Date(i).toGMTString()),se.isString(a)&&c.push("path="+a),se.isString(s)&&c.push("domain="+s),o===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(r){const n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function IP(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function SP(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function Qv(t,e){return t&&!IP(e)?SP(t,e):e}const CP=hi.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let n;function i(a){let s=a;return e&&(r.setAttribute("href",s),s=r.href),r.setAttribute("href",s),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(s){const o=se.isString(s)?i(s):s;return o.protocol===n.protocol&&o.host===n.host}}():function(){return function(){return!0}}();function NP(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function RP(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,a=0,s;return e=e!==void 0?e:1e3,function(c){const f=Date.now(),l=n[a];s||(s=f),r[i]=c,n[i]=f;let x=a,E=0;for(;x!==i;)E+=r[x++],x=x%t;if(i=(i+1)%t,i===a&&(a=(a+1)%t),f-s<e)return;const C=l&&f-l;return C?Math.round(E*1e3/C):void 0}}function ub(t,e){let r=0;const n=RP(50,250);return i=>{const a=i.loaded,s=i.lengthComputable?i.total:void 0,o=a-r,c=n(o),f=a<=s;r=a;const l={loaded:a,total:s,progress:s?a/s:void 0,bytes:o,rate:c||void 0,estimated:c&&s&&f?(s-a)/c:void 0,event:i};l[e?"download":"upload"]=!0,t(l)}}const PP=typeof XMLHttpRequest<"u",BP=PP&&function(t){return new Promise(function(r,n){let i=t.data;const a=Oi.from(t.headers).normalize(),s=t.responseType;let o;function c(){t.cancelToken&&t.cancelToken.unsubscribe(o),t.signal&&t.signal.removeEventListener("abort",o)}se.isFormData(i)&&(hi.isStandardBrowserEnv||hi.isStandardBrowserWebWorkerEnv?a.setContentType(!1):a.setContentType("multipart/form-data;",!1));let f=new XMLHttpRequest;if(t.auth){const C=t.auth.username||"",M=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";a.set("Authorization","Basic "+btoa(C+":"+M))}const l=Qv(t.baseURL,t.url);f.open(t.method.toUpperCase(),Wv(l,t.params,t.paramsSerializer),!0),f.timeout=t.timeout;function x(){if(!f)return;const C=Oi.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders()),k={data:!s||s==="text"||s==="json"?f.responseText:f.response,status:f.status,statusText:f.statusText,headers:C,config:t,request:f};MP(function(R){r(R),c()},function(R){n(R),c()},k),f=null}if("onloadend"in f?f.onloadend=x:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(x)},f.onabort=function(){f&&(n(new gt("Request aborted",gt.ECONNABORTED,t,f)),f=null)},f.onerror=function(){n(new gt("Network Error",gt.ERR_NETWORK,t,f)),f=null},f.ontimeout=function(){let M=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const k=t.transitional||Jv;t.timeoutErrorMessage&&(M=t.timeoutErrorMessage),n(new gt(M,k.clarifyTimeoutError?gt.ETIMEDOUT:gt.ECONNABORTED,t,f)),f=null},hi.isStandardBrowserEnv){const C=(t.withCredentials||CP(l))&&t.xsrfCookieName&&kP.read(t.xsrfCookieName);C&&a.set(t.xsrfHeaderName,C)}i===void 0&&a.setContentType(null),"setRequestHeader"in f&&se.forEach(a.toJSON(),function(M,k){f.setRequestHeader(k,M)}),se.isUndefined(t.withCredentials)||(f.withCredentials=!!t.withCredentials),s&&s!=="json"&&(f.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&f.addEventListener("progress",ub(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&f.upload&&f.upload.addEventListener("progress",ub(t.onUploadProgress)),(t.cancelToken||t.signal)&&(o=C=>{f&&(n(!C||C.type?new Hc(null,t,f):C),f.abort(),f=null)},t.cancelToken&&t.cancelToken.subscribe(o),t.signal&&(t.signal.aborted?o():t.signal.addEventListener("abort",o)));const E=NP(l);if(E&&hi.protocols.indexOf(E)===-1){n(new gt("Unsupported protocol "+E+":",gt.ERR_BAD_REQUEST,t));return}f.send(i||null)})},vu={http:aP,xhr:BP};se.forEach(vu,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const OP={getAdapter:t=>{t=se.isArray(t)?t:[t];const{length:e}=t;let r,n;for(let i=0;i<e&&(r=t[i],!(n=se.isString(r)?vu[r.toLowerCase()]:r));i++);if(!n)throw n===!1?new gt(`Adapter ${r} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(se.hasOwnProp(vu,r)?`Adapter '${r}' is not available in the build`:`Unknown adapter '${r}'`);if(!se.isFunction(n))throw new TypeError("adapter is not a function");return n},adapters:vu};function wl(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Hc(null,t)}function fb(t){return wl(t),t.headers=Oi.from(t.headers),t.data=vl.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),OP.getAdapter(t.adapter||_p.adapter)(t).then(function(n){return wl(t),n.data=vl.call(t,t.transformResponse,n),n.headers=Oi.from(n.headers),n},function(n){return Zv(n)||(wl(t),n&&n.response&&(n.response.data=vl.call(t,t.transformResponse,n.response),n.response.headers=Oi.from(n.response.headers))),Promise.reject(n)})}const db=t=>t instanceof Oi?t.toJSON():t;function $s(t,e){e=e||{};const r={};function n(f,l,x){return se.isPlainObject(f)&&se.isPlainObject(l)?se.merge.call({caseless:x},f,l):se.isPlainObject(l)?se.merge({},l):se.isArray(l)?l.slice():l}function i(f,l,x){if(se.isUndefined(l)){if(!se.isUndefined(f))return n(void 0,f,x)}else return n(f,l,x)}function a(f,l){if(!se.isUndefined(l))return n(void 0,l)}function s(f,l){if(se.isUndefined(l)){if(!se.isUndefined(f))return n(void 0,f)}else return n(void 0,l)}function o(f,l,x){if(x in e)return n(f,l);if(x in t)return n(void 0,f)}const c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(f,l)=>i(db(f),db(l),!0)};return se.forEach(Object.keys(Object.assign({},t,e)),function(l){const x=c[l]||i,E=x(t[l],e[l],l);se.isUndefined(E)&&x!==o||(r[l]=E)}),r}const Xv="1.4.0",Tp={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Tp[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const lb={};Tp.transitional=function(e,r,n){function i(a,s){return"[Axios v"+Xv+"] Transitional option '"+a+"'"+s+(n?". "+n:"")}return(a,s,o)=>{if(e===!1)throw new gt(i(s," has been removed"+(r?" in "+r:"")),gt.ERR_DEPRECATED);return r&&!lb[s]&&(lb[s]=!0,console.warn(i(s," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(a,s,o):!0}};function LP(t,e,r){if(typeof t!="object")throw new gt("options must be an object",gt.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const a=n[i],s=e[a];if(s){const o=t[a],c=o===void 0||s(o,a,t);if(c!==!0)throw new gt("option "+a+" must be "+c,gt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new gt("Unknown option "+a,gt.ERR_BAD_OPTION)}}const $0={assertOptions:LP,validators:Tp},Qi=$0.validators;class Yu{constructor(e){this.defaults=e,this.interceptors={request:new ob,response:new ob}}request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=$s(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:a}=r;n!==void 0&&$0.assertOptions(n,{silentJSONParsing:Qi.transitional(Qi.boolean),forcedJSONParsing:Qi.transitional(Qi.boolean),clarifyTimeoutError:Qi.transitional(Qi.boolean)},!1),i!=null&&(se.isFunction(i)?r.paramsSerializer={serialize:i}:$0.assertOptions(i,{encode:Qi.function,serialize:Qi.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let s;s=a&&se.merge(a.common,a[r.method]),s&&se.forEach(["delete","get","head","post","put","patch","common"],M=>{delete a[M]}),r.headers=Oi.concat(s,a);const o=[];let c=!0;this.interceptors.request.forEach(function(k){typeof k.runWhen=="function"&&k.runWhen(r)===!1||(c=c&&k.synchronous,o.unshift(k.fulfilled,k.rejected))});const f=[];this.interceptors.response.forEach(function(k){f.push(k.fulfilled,k.rejected)});let l,x=0,E;if(!c){const M=[fb.bind(this),void 0];for(M.unshift.apply(M,o),M.push.apply(M,f),E=M.length,l=Promise.resolve(r);x<E;)l=l.then(M[x++],M[x++]);return l}E=o.length;let C=r;for(x=0;x<E;){const M=o[x++],k=o[x++];try{C=M(C)}catch(S){k.call(this,S);break}}try{l=fb.call(this,C)}catch(M){return Promise.reject(M)}for(x=0,E=f.length;x<E;)l=l.then(f[x++],f[x++]);return l}getUri(e){e=$s(this.defaults,e);const r=Qv(e.baseURL,e.url);return Wv(r,e.params,e.paramsSerializer)}}se.forEach(["delete","get","head","options"],function(e){Yu.prototype[e]=function(r,n){return this.request($s(n||{},{method:e,url:r,data:(n||{}).data}))}});se.forEach(["post","put","patch"],function(e){function r(n){return function(a,s,o){return this.request($s(o||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:s}))}}Yu.prototype[e]=r(),Yu.prototype[e+"Form"]=r(!0)});const wu=Yu;class Mp{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(i=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](i);n._listeners=null}),this.promise.then=i=>{let a;const s=new Promise(o=>{n.subscribe(o),a=o}).then(i);return s.cancel=function(){n.unsubscribe(a)},s},e(function(a,s,o){n.reason||(n.reason=new Hc(a,s,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}static source(){let e;return{token:new Mp(function(i){e=i}),cancel:e}}}const FP=Mp;function DP(t){return function(r){return t.apply(null,r)}}function UP(t){return se.isObject(t)&&t.isAxiosError===!0}const H0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(H0).forEach(([t,e])=>{H0[e]=t});const $P=H0;function e6(t){const e=new wu(t),r=Lv(wu.prototype.request,e);return se.extend(r,wu.prototype,e,{allOwnKeys:!0}),se.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return e6($s(t,i))},r}const rr=e6(_p);rr.Axios=wu;rr.CanceledError=Hc;rr.CancelToken=FP;rr.isCancel=Zv;rr.VERSION=Xv;rr.toFormData=pd;rr.AxiosError=gt;rr.Cancel=rr.CanceledError;rr.all=function(e){return Promise.all(e)};rr.spread=DP;rr.isAxiosError=UP;rr.mergeConfig=$s;rr.AxiosHeaders=Oi;rr.formToJSON=t=>Yv(se.isHTMLForm(t)?new FormData(t):t);rr.HttpStatusCode=$P;rr.default=rr;const It=rr;var Fo={NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType"};class z0 extends Error{constructor(e,r,n,i,a,s,o){super(e),this.name="GraphQLError",this.message=e,a&&(this.path=a),r&&(this.nodes=Array.isArray(r)?r:[r]),n&&(this.source=n),i&&(this.positions=i),s&&(this.originalError=s);var c=o;if(!c&&s){var f=s.extensions;f&&typeof f=="object"&&(c=f)}this.extensions=c||{}}toJSON(){return{...this,message:this.message}}toString(){return this.message}get[Symbol.toStringTag](){return"GraphQLError"}}var Nt,et;function Qt(t){return new z0(`Syntax Error: Unexpected token at ${et} in ${t}`)}function rn(t){if(t.lastIndex=et,t.test(Nt))return Nt.slice(et,et=t.lastIndex)}var iu=/ +(?=[^\s])/y;function HP(t){for(var e=t.split(`
`),r="",n=0,i=0,a=e.length-1,s=0;s<e.length;s++)iu.lastIndex=0,iu.test(e[s])&&(s&&(!n||iu.lastIndex<n)&&(n=iu.lastIndex),i=i||s,a=s);for(var o=i;o<=a;o++)o!==i&&(r+=`
`),r+=e[o].slice(n).replace(/\\"""/g,'"""');return r}function it(){for(var t=0|Nt.charCodeAt(et++);t===9||t===10||t===13||t===32||t===35||t===44||t===65279;t=0|Nt.charCodeAt(et++))if(t===35)for(;(t=Nt.charCodeAt(et++))!==10&&t!==13;);et--}var t6=/[_\w][_\d\w]*/y;function vi(){var t;if(t=rn(t6))return{kind:"Name",value:t}}var zP=/null|true|false/y,r6=/\$[_\w][_\d\w]*/y,qP=/-?\d+/y,jP=/(?:\.\d+)?(?:[eE][+-]?\d+)?/y,KP=/\\/g,GP=/"""(?:[\s\S]+(?="""))?"""/y,VP=/"(?:[^"\r\n]+)?"/y;function Zu(t){var e,r;if(r=rn(zP))e=r==="null"?{kind:"NullValue"}:{kind:"BooleanValue",value:r==="true"};else if(!t&&(r=rn(r6)))e={kind:"Variable",name:{kind:"Name",value:r.slice(1)}};else if(r=rn(qP)){var n=r;(r=rn(jP))?e={kind:"FloatValue",value:n+r}:e={kind:"IntValue",value:n}}else if(r=rn(t6))e={kind:"EnumValue",value:r};else if(r=rn(GP))e={kind:"StringValue",value:HP(r.slice(3,-3)),block:!0};else if(r=rn(VP))e={kind:"StringValue",value:KP.test(r)?JSON.parse(r):r.slice(1,-1),block:!1};else if(e=function(a){var s;if(Nt.charCodeAt(et)===91){et++,it();for(var o=[];s=Zu(a);)o.push(s);if(Nt.charCodeAt(et++)!==93)throw Qt("ListValue");return it(),{kind:"ListValue",values:o}}}(t)||function(a){if(Nt.charCodeAt(et)===123){et++,it();for(var s=[],o;o=vi();){if(it(),Nt.charCodeAt(et++)!==58)throw Qt("ObjectField");it();var c=Zu(a);if(!c)throw Qt("ObjectField");s.push({kind:"ObjectField",name:o,value:c})}if(Nt.charCodeAt(et++)!==125)throw Qt("ObjectValue");return it(),{kind:"ObjectValue",fields:s}}}(t))return e;return it(),e}function n6(t){var e=[];if(it(),Nt.charCodeAt(et)===40){et++,it();for(var r;r=vi();){if(it(),Nt.charCodeAt(et++)!==58)throw Qt("Argument");it();var n=Zu(t);if(!n)throw Qt("Argument");e.push({kind:"Argument",name:r,value:n})}if(!e.length||Nt.charCodeAt(et++)!==41)throw Qt("Argument");it()}return e}function Hs(t){var e=[];for(it();Nt.charCodeAt(et)===64;){et++;var r=vi();if(!r)throw Qt("Directive");it(),e.push({kind:"Directive",name:r,arguments:n6(t)})}return e}function WP(){var t=vi();if(t){it();var e;if(Nt.charCodeAt(et)===58){if(et++,it(),e=t,!(t=vi()))throw Qt("Field");it()}return{kind:"Field",alias:e,name:t,arguments:n6(!1),directives:Hs(!1),selectionSet:bd()}}}function i6(){var t;if(it(),Nt.charCodeAt(et)===91){et++,it();var e=i6();if(!e||Nt.charCodeAt(et++)!==93)throw Qt("ListType");t={kind:"ListType",type:e}}else if(t=vi())t={kind:"NamedType",name:t};else throw Qt("NamedType");return it(),Nt.charCodeAt(et)===33?(et++,it(),{kind:"NonNullType",type:t}):t}var JP=/on/y;function a6(){if(rn(JP)){it();var t=vi();if(!t)throw Qt("NamedType");return it(),{kind:"NamedType",name:t}}}var YP=/\.\.\./y;function ZP(){if(rn(YP)){it();var t=et,e;if((e=vi())&&e.value!=="on")return{kind:"FragmentSpread",name:e,directives:Hs(!1)};et=t;var r=a6(),n=Hs(!1),i=bd();if(!i)throw Qt("InlineFragment");return{kind:"InlineFragment",typeCondition:r,directives:n,selectionSet:i}}}function bd(){var t;if(it(),Nt.charCodeAt(et)===123){et++,it();for(var e=[];t=ZP()||WP();)e.push(t);if(!e.length||Nt.charCodeAt(et++)!==125)throw Qt("SelectionSet");return it(),{kind:"SelectionSet",selections:e}}}var QP=/fragment/y;function XP(){if(rn(QP)){it();var t=vi();if(!t)throw Qt("FragmentDefinition");it();var e=a6();if(!e)throw Qt("FragmentDefinition");var r=Hs(!1),n=bd();if(!n)throw Qt("FragmentDefinition");return{kind:"FragmentDefinition",name:t,typeCondition:e,directives:r,selectionSet:n}}}var eB=/query|mutation|subscription/y;function tB(){var t,e,r=[],n=[];(t=rn(eB))&&(it(),e=vi(),r=function(){var s,o=[];if(it(),Nt.charCodeAt(et)===40){for(et++,it();s=rn(r6);){if(it(),Nt.charCodeAt(et++)!==58)throw Qt("VariableDefinition");var c=i6(),f=void 0;if(Nt.charCodeAt(et)===61&&(et++,it(),!(f=Zu(!0))))throw Qt("VariableDefinition");it(),o.push({kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:s.slice(1)}},type:c,defaultValue:f,directives:Hs(!0)})}if(Nt.charCodeAt(et++)!==41)throw Qt("VariableDefinition");it()}return o}(),n=Hs(!1));var i=bd();if(i)return{kind:"OperationDefinition",operation:t||"query",name:e,variableDefinitions:r,directives:n,selectionSet:i}}function rB(t,e){return Nt=typeof t.body=="string"?t.body:t,et=0,function(){var n;it();for(var i=[];n=XP()||tB();)i.push(n);return{kind:"Document",definitions:i}}()}function nB(t){return JSON.stringify(t)}function iB(t){return`"""
`+t.replace(/"""/g,'\\"""')+`
"""`}var yn=t=>!(!t||!t.length),Ar={OperationDefinition(t){if(t.operation==="query"&&!t.name&&!yn(t.variableDefinitions)&&!yn(t.directives))return Ar.SelectionSet(t.selectionSet);var e=t.operation;return t.name&&(e+=" "+t.name.value),yn(t.variableDefinitions)&&(t.name||(e+=" "),e+="("+t.variableDefinitions.map(Ar.VariableDefinition).join(", ")+")"),yn(t.directives)&&(e+=" "+t.directives.map(Ar.Directive).join(" ")),e+" "+Ar.SelectionSet(t.selectionSet)},VariableDefinition(t){var e=Ar.Variable(t.variable)+": "+xn(t.type);return t.defaultValue&&(e+=" = "+xn(t.defaultValue)),yn(t.directives)&&(e+=" "+t.directives.map(Ar.Directive).join(" ")),e},Field(t){var e=(t.alias?t.alias.value+": ":"")+t.name.value;if(yn(t.arguments)){var r=t.arguments.map(Ar.Argument),n=e+"("+r.join(", ")+")";e=n.length>80?e+`(
  `+r.join(`
`).replace(/\n/g,`
  `)+`
)`:n}return yn(t.directives)&&(e+=" "+t.directives.map(Ar.Directive).join(" ")),t.selectionSet?e+" "+Ar.SelectionSet(t.selectionSet):e},StringValue:t=>t.block?iB(t.value):nB(t.value),BooleanValue:t=>""+t.value,NullValue:t=>"null",IntValue:t=>t.value,FloatValue:t=>t.value,EnumValue:t=>t.value,Name:t=>t.value,Variable:t=>"$"+t.name.value,ListValue:t=>"["+t.values.map(xn).join(", ")+"]",ObjectValue:t=>"{"+t.fields.map(Ar.ObjectField).join(", ")+"}",ObjectField:t=>t.name.value+": "+xn(t.value),Document:t=>yn(t.definitions)?t.definitions.map(xn).join(`

`):"",SelectionSet:t=>`{
  `+t.selections.map(xn).join(`
`).replace(/\n/g,`
  `)+`
}`,Argument:t=>t.name.value+": "+xn(t.value),FragmentSpread(t){var e="..."+t.name.value;return yn(t.directives)&&(e+=" "+t.directives.map(Ar.Directive).join(" ")),e},InlineFragment(t){var e="...";return t.typeCondition&&(e+=" on "+t.typeCondition.name.value),yn(t.directives)&&(e+=" "+t.directives.map(Ar.Directive).join(" ")),e+" "+xn(t.selectionSet)},FragmentDefinition(t){var e="fragment "+t.name.value;return e+=" on "+t.typeCondition.name.value,yn(t.directives)&&(e+=" "+t.directives.map(Ar.Directive).join(" ")),e+" "+xn(t.selectionSet)},Directive(t){var e="@"+t.name.value;return yn(t.arguments)&&(e+="("+t.arguments.map(Ar.Argument).join(", ")+")"),e},NamedType:t=>t.name.value,ListType:t=>"["+xn(t.type)+"]",NonNullType:t=>xn(t.type)+"!"};function xn(t){return Ar[t.kind]?Ar[t.kind](t):""}var s6=()=>{},fn=s6;function ei(t){return{tag:0,0:t}}function zc(t){return{tag:1,0:t}}var aB=t=>t;function Gr(t){return e=>r=>{var n=fn;e(i=>{i===0?r(0):i.tag===0?(n=i[0],r(i)):t(i[0])?r(i):n(0)})}}function Go(t){return e=>r=>e(n=>{n===0||n.tag===0?r(n):r(zc(t(n[0])))})}function o6(t){return e=>r=>{var n=[],i=fn,a=!1,s=!1;e(o=>{s||(o===0?(s=!0,n.length||r(0)):o.tag===0?i=o[0]:(a=!1,function(f){var l=fn;f(x=>{if(x===0){if(n.length){var E=n.indexOf(l);E>-1&&(n=n.slice()).splice(E,1),n.length||(s?r(0):a||(a=!0,i(0)))}}else x.tag===0?(n.push(l=x[0]),l(0)):n.length&&(r(x),l(0))})}(t(o[0])),a||(a=!0,i(0))))}),r(ei(o=>{if(o===1){s||(s=!0,i(1));for(var c=0,f=n,l=n.length;c<l;c++)f[c](1);n.length=0}else{!s&&!a?(a=!0,i(0)):a=!1;for(var x=0,E=n,C=n.length;x<C;x++)E[x](0)}}))}}function sB(t){return o6(aB)(t)}function bc(t){return sB(dB(t))}function oB(t){return e=>r=>{var n=!1;e(i=>{if(!n)if(i===0)n=!0,r(0),t();else if(i.tag===0){var a=i[0];r(ei(s=>{s===1?(n=!0,a(1),t()):a(s)}))}else r(i)})}}function c6(t){return e=>r=>{var n=!1;e(i=>{if(!n)if(i===0)n=!0,r(0);else if(i.tag===0){var a=i[0];r(ei(s=>{s===1&&(n=!0),a(s)}))}else t(i[0]),r(i)})}}function hb(t){return e=>r=>e(n=>{n===0?r(0):n.tag===0?(r(n),t()):r(n)})}function xc(t){var e=[],r=fn,n=!1;return i=>{e.push(i),e.length===1&&t(a=>{if(a===0){for(var s=0,o=e,c=e.length;s<c;s++)o[s](0);e.length=0}else if(a.tag===0)r=a[0];else{n=!1;for(var f=0,l=e,x=e.length;f<x;f++)l[f](a)}}),i(ei(a=>{if(a===1){var s=e.indexOf(i);s>-1&&(e=e.slice()).splice(s,1),e.length||r(1)}else n||(n=!0,r(0))}))}}function pb(t){return e=>r=>{var n=fn,i=fn,a=!1,s=!1,o=!1,c=!1;e(f=>{c||(f===0?(c=!0,o||r(0)):f.tag===0?n=f[0]:(o&&(i(1),i=fn),a?a=!1:(a=!0,n(0)),function(x){o=!0,x(E=>{o&&(E===0?(o=!1,c?r(0):a||(a=!0,n(0))):E.tag===0?(s=!1,(i=E[0])(0)):(r(E),s?s=!1:i(0)))})}(t(f[0]))))}),r(ei(f=>{f===1?(c||(c=!0,n(1)),o&&(o=!1,i(1))):(!c&&!a&&(a=!0,n(0)),o&&!s&&(s=!0,i(0)))}))}}function u6(t){return e=>r=>{var n=fn,i=!1,a=0;e(s=>{i||(s===0?(i=!0,r(0)):s.tag===0?t<=0?(i=!0,r(0),s[0](1)):n=s[0]:a++<t?(r(s),!i&&a>=t&&(i=!0,r(0),n(1))):r(s))}),r(ei(s=>{s===1&&!i?(i=!0,n(1)):s===0&&!i&&a<t&&n(0)}))}}function f6(t){return e=>r=>{var n=fn,i=fn,a=!1;e(s=>{a||(s===0?(a=!0,i(1),r(0)):s.tag===0?(n=s[0],t(o=>{o===0||(o.tag===0?(i=o[0])(0):(a=!0,i(1),n(1),r(0)))})):r(s))}),r(ei(s=>{s===1&&!a?(a=!0,n(1),i(1)):a||n(0)}))}}function cB(t,e){return r=>n=>{var i=fn,a=!1;r(s=>{a||(s===0?(a=!0,n(0)):s.tag===0?(i=s[0],n(s)):t(s[0])?n(s):(a=!0,e&&n(s),n(0),i(1)))})}}function uB(t){return e=>t()(e)}function d6(t){return e=>{var r=t[Symbol.asyncIterator](),n=!1,i=!1,a=!1,s;e(ei(async o=>{if(o===1)n=!0,r.return&&r.return();else if(i)a=!0;else{for(a=i=!0;a&&!n;)if((s=await r.next()).done)n=!0,r.return&&await r.return(),e(0);else try{a=!1,e(zc(s.value))}catch(c){if(r.throw)(n=!!(await r.throw(c)).done)&&e(0);else throw c}i=!1}}))}}function fB(t){return t[Symbol.asyncIterator]?d6(t):e=>{var r=t[Symbol.iterator](),n=!1,i=!1,a=!1,s;e(ei(o=>{if(o===1)n=!0,r.return&&r.return();else if(i)a=!0;else{for(a=i=!0;a&&!n;)if((s=r.next()).done)n=!0,r.return&&r.return(),e(0);else try{a=!1,e(zc(s.value))}catch(c){if(r.throw)(n=!!r.throw(c).done)&&e(0);else throw c}i=!1}}))}}var dB=fB;function Al(t){return e=>{var r=!1;e(ei(n=>{n===1?r=!0:r||(r=!0,e(zc(t)),e(0))}))}}function lB(t){return e=>{var r=!1,n=t({next(i){r||e(zc(i))},complete(){r||(r=!0,e(0))}});e(ei(i=>{i===1&&!r&&(r=!0,n())}))}}function hB(){var t,e;return{source:xc(lB(r=>(t=r.next,e=r.complete,s6))),next(r){t&&t(r)},complete(){e&&e()}}}function kp(t){return e=>{var r=fn,n=!1;return e(i=>{i===0?n=!0:i.tag===0?(r=i[0])(0):n||(t(i[0]),r(0))}),{unsubscribe(){n||(n=!0,r(1))}}}}function pB(t){kp(e=>{})(t)}function mB(t){return new Promise(e=>{var r=fn,n;t(i=>{i===0?Promise.resolve(n).then(e):i.tag===0?(r=i[0])(0):(n=i[0],r(0))})})}var yB=t=>t&&t.message&&(t.extensions||t.name==="GraphQLError")?t:typeof t=="object"&&t.message?new z0(t.message,t.nodes,t.source,t.positions,t.path,t,t.extensions||{}):new z0(t);class Ip extends Error{constructor(e){var r=(e.graphQLErrors||[]).map(yB),n=((i,a)=>{var s="";if(i)return`[Network] ${i.message}`;if(a)for(var o of a)s&&(s+=`
`),s+=`[GraphQL] ${o.message}`;return s})(e.networkError,r);super(n),this.name="CombinedError",this.message=n,this.graphQLErrors=r,this.networkError=e.networkError,this.response=e.response}toString(){return this.message}}var q0=(t,e)=>{for(var r=0|(e||5381),n=0,i=0|t.length;n<i;n++)r=(r<<5)+r+t.charCodeAt(n);return r},$a=new Set,mb=new WeakMap,xs=t=>{if(t===null||$a.has(t))return"null";if(typeof t!="object")return JSON.stringify(t)||"";if(t.toJSON)return xs(t.toJSON());if(Array.isArray(t)){var e="[";for(var r of t)e.length>1&&(e+=","),e+=xs(r)||"null";return e+="]"}else if(Xu!==zs&&t instanceof Xu||ef!==zs&&t instanceof ef)return"null";var n=Object.keys(t).sort();if(!n.length&&t.constructor&&t.constructor!==Object){var i=mb.get(t)||Math.random().toString(36).slice(2);return mb.set(t,i),xs({__key:i})}$a.add(t);var a="{";for(var s of n){var o=xs(t[s]);o&&(a.length>1&&(a+=","),a+=xs(s)+":"+o)}return $a.delete(t),a+="}"},j0=(t,e,r)=>{if(!(r==null||typeof r!="object"||r.toJSON||$a.has(r)))if(Array.isArray(r))for(var n=0,i=r.length;n<i;n++)j0(t,`${e}.${n}`,r[n]);else if(r instanceof Xu||r instanceof ef)t.set(e,r);else{$a.add(r);for(var a of Object.keys(r))j0(t,`${e}.${a}`,r[a])}},Qu=t=>($a.clear(),xs(t));class zs{}var Xu=typeof File<"u"?File:zs,ef=typeof Blob<"u"?Blob:zs,bB=/("{3}[\s\S]*"{3}|"(?:\\.|[^"])*")/g,xB=/(?:#[^\n\r]+)?(?:[\r\n]+|$)/g,gB=(t,e)=>e%2==0?t.replace(xB,`
`):t,yb=t=>t.split(bB).map(gB).join("").trim(),bb=new Map,Au=new Map,Sp=t=>{var e;return typeof t=="string"?e=yb(t):t.loc&&Au.get(t.__key)===t?e=t.loc.source.body:(e=bb.get(t)||yb(xn(t)),bb.set(t,e)),typeof t!="string"&&!t.loc&&(t.loc={start:0,end:e.length,source:{body:e,name:"gql",locationOffset:{line:1,column:1}}}),e},xb=t=>{var e=q0(Sp(t));if(t.definitions){var r=h6(t);r&&(e=q0(`
# ${r}`,e))}return e},l6=t=>{var e,r;return typeof t=="string"?(e=xb(t),r=Au.get(e)||rB(t)):(e=t.__key||xb(t),r=Au.get(e)||t),r.loc||Sp(r),r.__key=e,Au.set(e,r),r},El=(t,e,r)=>{var n=e||{},i=l6(t),a=Qu(n),s=i.__key;return a!=="{}"&&(s=q0(a,s)),{key:s,query:i,variables:n,extensions:r}},h6=t=>{for(var e of t.definitions)if(e.kind===Fo.OPERATION_DEFINITION)return e.name?e.name.value:void 0},gb=(t,e,r)=>{if(!("data"in e)&&!("errors"in e))throw new Error("No Content");var n=t.kind==="subscription";return{operation:t,data:e.data,error:Array.isArray(e.errors)?new Ip({graphQLErrors:e.errors,response:r}):void 0,extensions:e.extensions?{...e.extensions}:void 0,hasNext:e.hasNext==null?n:e.hasNext,stale:!1}},K0=(t,e)=>{if(typeof t=="object"&&t!=null&&(!t.constructor||t.constructor===Object||Array.isArray(t))){t=Array.isArray(t)?[...t]:{...t};for(var r of Object.keys(e))t[r]=K0(t[r],e[r]);return t}return e},vB=(t,e,r)=>{var n=t.error?t.error.graphQLErrors:[],i=!!t.extensions||!!e.extensions,a={...t.extensions,...e.extensions},s=e.incremental;"path"in e&&(s=[e]);var o={data:t.data};if(s)for(var c of s){Array.isArray(c.errors)&&n.push(...c.errors),c.extensions&&(Object.assign(a,c.extensions),i=!0);for(var f="data",l=o,x=0,E=c.path.length;x<E;f=c.path[x++])l=l[f]=Array.isArray(l[f])?[...l[f]]:{...l[f]};if(c.items)for(var C=+f>=0?f:0,M=0,k=c.items.length;M<k;M++)l[C+M]=K0(l[C+M],c.items[M]);else c.data!==void 0&&(l[f]=K0(l[f],c.data))}else o.data=e.data||t.data,n=e.errors||n;return{operation:t.operation,data:o.data,error:n.length?new Ip({graphQLErrors:n,response:r}):void 0,extensions:i?a:void 0,hasNext:e.hasNext!=null?e.hasNext:t.hasNext,stale:!1}},wB=(t,e,r)=>({operation:t,data:void 0,error:new Ip({networkError:e,response:r}),extensions:void 0,hasNext:!1,stale:!1});function AB(t){return{query:t.extensions&&t.extensions.persistedQuery&&!t.extensions.persistedQuery.miss?void 0:Sp(t.query),operationName:h6(t.query),variables:t.variables||void 0,extensions:t.extensions}}var EB=(t,e)=>{var r=t.kind==="query"&&t.context.preferGetMethod;if(!r||!e)return t.context.url;var n=new URL(t.context.url);for(var i in e){var a=e[i];a&&n.searchParams.set(i,typeof a=="object"?Qu(a):a)}var s=n.toString();return s.length>2047&&r!=="force"?(t.context.preferGetMethod=!1,t.context.url):s},_B=(t,e)=>{if(e&&!(t.kind==="query"&&t.context.preferGetMethod)){var r=Qu(e),n=(o=>{var c=new Map;return(Xu!==zs||ef!==zs)&&($a.clear(),j0(c,"variables",o)),c})(e.variables);if(n.size){var i=new FormData;i.append("operations",r),i.append("map",Qu({...[...n.keys()].map(o=>[o])}));var a=0;for(var s of n.values())i.append(""+a++,s);return i}return r}},TB=(t,e)=>{var r={accept:t.kind==="subscription"?"text/event-stream, multipart/mixed":"application/graphql-response+json, application/graphql+json, application/json, text/event-stream, multipart/mixed"},n=(typeof t.context.fetchOptions=="function"?t.context.fetchOptions():t.context.fetchOptions)||{};if(n.headers)for(var i in n.headers)r[i.toLowerCase()]=n.headers[i];var a=_B(t,e);return typeof a=="string"&&!r["content-type"]&&(r["content-type"]="application/json"),{...n,method:a?"POST":"GET",body:a,headers:r}},MB=typeof TextDecoder<"u"?new TextDecoder:null,kB=/boundary="?([^=";]+)"?/i,IB=/data: ?([^\n]+)/,vb=t=>t.constructor.name==="Buffer"?t.toString():MB.decode(t);async function*wb(t){if(t.body[Symbol.asyncIterator])for await(var e of t.body)yield vb(e);else{var r=t.body.getReader(),n;try{for(;!(n=await r.read()).done;)yield vb(n.value)}finally{r.cancel()}}}async function*Ab(t,e){var r="",n;for await(var i of t)for(r+=i;(n=r.indexOf(e))>-1;)yield r.slice(0,n),r=r.slice(n+e.length)}async function*SB(t,e,r){var n=!0,i,a=null,s;try{typeof AbortController<"u"&&(r.signal=(i=new AbortController).signal),yield await Promise.resolve();var o=(s=await(t.context.fetch||fetch)(e,r)).headers.get("Content-Type")||"",c;if(/multipart\/mixed/i.test(o))c=async function*(x,E){var C=x.match(kB),M="--"+(C?C[1]:"-"),k=!0,S;for await(var R of Ab(wb(E),`\r
`+M)){if(k){k=!1;var B=R.indexOf(M);if(B>-1)R=R.slice(B+M.length);else continue}try{yield S=JSON.parse(R.slice(R.indexOf(`\r
\r
`)+4))}catch($){if(!S)throw $}if(S&&!S.hasNext)break}S&&S.hasNext&&(yield{hasNext:!1})}(o,s);else if(/text\/event-stream/i.test(o))c=async function*(x){var E;for await(var C of Ab(wb(x),`

`)){var M=C.match(IB);if(M){var k=M[1];try{yield E=JSON.parse(k)}catch(S){if(!E)throw S}if(E&&!E.hasNext)break}}E&&E.hasNext&&(yield{hasNext:!1})}(s);else if(!/text\//i.test(o))c=async function*(x){yield JSON.parse(await x.text())}(s);else throw new Error(await s.text());for await(var f of c)a=a?vB(a,f,s):gb(t,f,s),n=!1,yield a,n=!0;a||(yield a=gb(t,{},s))}catch(l){if(!n)throw l;yield wB(t,s&&(s.status<200||s.status>=300)&&s.statusText?new Error(s.statusText):l,s)}finally{i&&i.abort()}}function CB(t,e,r){return Gr(n=>!!n)(d6(SB(t,e,r)))}var G0=(t,e)=>{if(Array.isArray(t))for(var r of t)G0(r,e);else if(typeof t=="object"&&t!==null)for(var n in t)n==="__typename"&&typeof t[n]=="string"?e.add(t[n]):G0(t[n],e);return e},V0=t=>{var e=!1;if("definitions"in t){var r=[];for(var n of t.definitions){var i=V0(n);e=e||i!==n,r.push(i)}if(e)return{...t,definitions:r}}else if("selectionSet"in t){var a=[],s=t.kind===Fo.OPERATION_DEFINITION;if(t.selectionSet){for(var o of t.selectionSet.selections||[]){s=s||o.kind===Fo.FIELD&&o.name.value==="__typename"&&!o.alias;var c=V0(o);e=e||c!==o,a.push(c)}if(s||(e=!0,a.push({kind:Fo.FIELD,name:{kind:Fo.NAME,value:"__typename"}})),e)return{...t,selectionSet:{...t.selectionSet,selections:a}}}}return t},Eb=new Map,NB=t=>{var e=l6(t),r=Eb.get(e.__key);return r||(Eb.set(e.__key,r=V0(e)),Object.defineProperty(r,"__key",{value:e.__key,enumerable:!1})),r},W0=(t,e)=>{if(!t||typeof t!="object")return t;if(Array.isArray(t))return t.map(i=>W0(i));if(t&&typeof t=="object"&&(e||"__typename"in t)){var r={};for(var n in t)n==="__typename"?Object.defineProperty(r,"__typename",{enumerable:!1,value:t.__typename}):r[n]=W0(t[n]);return r}else return t};function _b(t){var e=r=>t(r);return e.toPromise=()=>mB(u6(1)(Gr(r=>!r.stale&&!r.hasNext)(e))),e.then=(r,n)=>e.toPromise().then(r,n),e.subscribe=r=>kp(r)(e),e}function tf(t,e,r){return{...e,kind:t,context:e.context?{...e.context,...r}:r||e.context}}var RB=()=>{},_l=({kind:t})=>t!=="mutation"&&t!=="query",PB=({forward:t,client:e,dispatchDebug:r})=>{var n=new Map,i=new Map,a=o=>{var c=tf(o.kind,o);return c.query=NB(o.query),c},s=o=>o.kind==="query"&&o.context.requestPolicy!=="network-only"&&(o.context.requestPolicy==="cache-only"||n.has(o.key));return o=>{var c=Go(l=>{var x=n.get(l.key),E=x;return l.context.requestPolicy==="cache-and-network"&&(E.stale=!0,Tb(e,l)),E})(Gr(l=>!_l(l)&&s(l))(o)),f=c6(l=>{var{operation:x}=l;if(x){var E=(J=>[...G0(J,new Set)])(l.data).concat(x.context.additionalTypenames||[]);if(l.operation.kind==="mutation"){for(var C=new Set,M=0;M<E.length;M++){var k=E[M],S=i.get(k);S||i.set(k,S=new Set);for(var R of S.values())C.add(R);S.clear()}for(var B of C.values())n.has(B)&&(x=n.get(B).operation,n.delete(B),Tb(e,x))}else if(x.kind==="query"&&l.data){n.set(x.key,l);for(var $=0;$<E.length;$++){var H=E[$],K=i.get(H);K||i.set(H,K=new Set),K.add(x.key)}}}})(t(Gr(l=>l.kind!=="query"||l.context.requestPolicy!=="cache-only")(Go(l=>l)(bc([Go(a)(Gr(l=>!_l(l)&&!s(l))(o)),Gr(l=>_l(l))(o)])))));return bc([c,f])}},Tb=(t,e)=>t.reexecuteOperation(tf(e.kind,e,{requestPolicy:"network-only"})),BB=({forward:t,dispatchDebug:e})=>r=>{var n=o6(a=>{var s=AB(a),o=EB(a,s),c=TB(a,s),f=f6(Gr(l=>l.kind==="teardown"&&l.key===a.key)(r))(CB(a,o,c));return f})(Gr(a=>a.kind!=="teardown"&&(a.kind!=="subscription"||!!a.context.fetchSubscriptions))(r)),i=t(Gr(a=>a.kind==="teardown"||a.kind==="subscription"&&!a.context.fetchSubscriptions)(r));return bc([n,i])},OB=t=>({client:e,forward:r,dispatchDebug:n})=>t.reduceRight((i,a)=>a({client:e,forward(s){return xc(i(xc(s)))},dispatchDebug(s){}}),r),LB=({dispatchDebug:t})=>e=>Gr(r=>!1)(e),FB=function t(e){var r=0,n=new Map,i=new Map,a=new Set,s=[],o={url:e.url,fetchOptions:e.fetchOptions,fetch:e.fetch,preferGetMethod:!!e.preferGetMethod,requestPolicy:e.requestPolicy||"cache-first"},c=hB();function f(B){(B.kind==="mutation"||B.kind==="teardown"||!a.has(B.key))&&(B.kind==="teardown"?a.delete(B.key):B.kind!=="mutation"&&a.add(B.key),c.next(B))}var l=!1;function x(B){if(B&&f(B),!l){for(l=!0;l&&(B=s.shift());)f(B);l=!1}}var E=B=>{var $=f6(Gr(H=>H.kind==="teardown"&&H.key===B.key)(c.source))(Gr(H=>H.operation.kind===B.kind&&H.operation.key===B.key&&(!H.operation.context._instance||H.operation.context._instance===B.context._instance))(R));return B.kind!=="query"?$=cB(H=>!!H.hasNext,!0)($):$=pb(H=>{var K=Al(H);return H.stale||H.hasNext?K:bc([K,Go(()=>(H.stale=!0,H))(u6(1)(Gr(J=>J.key===B.key)(c.source)))])})($),B.kind!=="mutation"?$=oB(()=>{a.delete(B.key),n.delete(B.key),i.delete(B.key),l=!1;for(var H=s.length-1;H>=0;H--)s[H].key===B.key&&s.splice(H,1);f(tf("teardown",B,B.context))})(c6(H=>{if(H.stale){for(var K of s)if(K.key===H.operation.key){a.delete(K.key);break}}else H.hasNext||a.delete(B.key);n.set(B.key,H)})($)):$=hb(()=>{f(B)})($),e.maskTypename&&($=Go(H=>({...H,data:W0(H.data,!0)}))($)),xc($)},C=this instanceof t?this:Object.create(t.prototype),M=Object.assign(C,{suspense:!!e.suspense,operations$:c.source,reexecuteOperation(B){B.kind==="teardown"?x(B):(B.kind==="mutation"||i.has(B.key))&&(s.push(B),Promise.resolve().then(x))},createRequestOperation(B,$,H){return H||(H={}),tf(B,$,{_instance:B==="mutation"?r=r+1|0:void 0,...o,...H,requestPolicy:H.requestPolicy||o.requestPolicy,suspense:H.suspense||H.suspense!==!1&&M.suspense})},executeRequestOperation(B){return B.kind==="mutation"?_b(E(B)):_b(uB(()=>{var $=i.get(B.key);$||i.set(B.key,$=E(B)),$=hb(()=>{x(B)})($);var H=n.get(B.key);return B.kind==="query"&&H&&(H.stale||H.hasNext)?pb(Al)(bc([$,Gr(K=>K===n.get(B.key))(Al(H))])):$}))},executeQuery(B,$){var H=M.createRequestOperation("query",B,$);return M.executeRequestOperation(H)},executeSubscription(B,$){var H=M.createRequestOperation("subscription",B,$);return M.executeRequestOperation(H)},executeMutation(B,$){var H=M.createRequestOperation("mutation",B,$);return M.executeRequestOperation(H)},readQuery(B,$,H){var K=null;return kp(J=>{K=J})(M.query(B,$,H)).unsubscribe(),K},query:(B,$,H)=>M.executeQuery(El(B,$),H),subscription:(B,$,H)=>M.executeSubscription(El(B,$),H),mutation:(B,$,H)=>M.executeMutation(El(B,$),H)}),k=RB,S=OB(e.exchanges),R=xc(S({client:M,dispatchDebug:k,forward:LB({dispatchDebug:k})})(c.source));return pB(R),M},DB=FB;const UB=new Set(["ENOTFOUND","ENETUNREACH","UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_CRL","UNABLE_TO_DECRYPT_CERT_SIGNATURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","CERT_SIGNATURE_FAILURE","CRL_SIGNATURE_FAILURE","CERT_NOT_YET_VALID","CERT_HAS_EXPIRED","CRL_NOT_YET_VALID","CRL_HAS_EXPIRED","ERROR_IN_CERT_NOT_BEFORE_FIELD","ERROR_IN_CERT_NOT_AFTER_FIELD","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD","OUT_OF_MEM","DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_CHAIN_TOO_LONG","CERT_REVOKED","INVALID_CA","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","CERT_UNTRUSTED","CERT_REJECTED","HOSTNAME_MISMATCH"]);var $B=t=>!UB.has(t&&t.code);const HB=Yn($B);function Mb(t,e,r,n,i,a,s){try{var o=t[a](s),c=o.value}catch(f){r(f);return}o.done?e(c):Promise.resolve(c).then(n,i)}function p6(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function s(c){Mb(a,n,i,s,o,"next",c)}function o(c){Mb(a,n,i,s,o,"throw",c)}s(void 0)})}}function kb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ib(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kb(Object(r),!0).forEach(function(n){zB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kb(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zB(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var J0="axios-retry";function m6(t){return!t.response&&!!t.code&&t.code!=="ECONNABORTED"&&HB(t)}var y6=["get","head","options"],qB=y6.concat(["put","delete"]);function Cp(t){return t.code!=="ECONNABORTED"&&(!t.response||t.response.status>=500&&t.response.status<=599)}function jB(t){return t.config?Cp(t)&&y6.indexOf(t.config.method)!==-1:!1}function b6(t){return t.config?Cp(t)&&qB.indexOf(t.config.method)!==-1:!1}function Np(t){return m6(t)||b6(t)}function KB(){return 0}function GB(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=Math.pow(2,t)*100,r=e*.2*Math.random();return e+r}function Sb(t){var e=t[J0]||{};return e.retryCount=e.retryCount||0,t[J0]=e,e}function VB(t,e){return Ib(Ib({},e),t[J0])}function WB(t,e){t.defaults.agent===e.agent&&delete e.agent,t.defaults.httpAgent===e.httpAgent&&delete e.httpAgent,t.defaults.httpsAgent===e.httpsAgent&&delete e.httpsAgent}function JB(t,e,r,n){return Y0.apply(this,arguments)}function Y0(){return Y0=p6(function*(t,e,r,n){var i=r.retryCount<t&&e(n);if(typeof i=="object")try{var a=yield i;return a!==!1}catch{return!1}return i}),Y0.apply(this,arguments)}function ha(t,e){t.interceptors.request.use(r=>{var n=Sb(r);return n.lastRequestTime=Date.now(),r}),t.interceptors.response.use(null,function(){var r=p6(function*(n){var{config:i}=n;if(!i)return Promise.reject(n);var{retries:a=3,retryCondition:s=Np,retryDelay:o=KB,shouldResetTimeout:c=!1,onRetry:f=()=>{}}=VB(i,e),l=Sb(i);if(yield JB(a,s,l,n)){l.retryCount+=1;var x=o(l.retryCount,n);if(WB(t,i),!c&&i.timeout&&l.lastRequestTime){var E=Date.now()-l.lastRequestTime,C=i.timeout-E-x;if(C<=0)return Promise.reject(n);i.timeout=C}return i.transformRequest=[M=>M],f(l.retryCount,n,i),new Promise(M=>setTimeout(()=>M(t(i)),x))}return Promise.reject(n)});return function(n){return r.apply(this,arguments)}}())}ha.isNetworkError=m6;ha.isSafeRequestError=jB;ha.isIdempotentRequestError=b6;ha.isNetworkOrIdempotentRequestError=Np;ha.exponentialDelay=GB;ha.isRetryableError=Cp;var YB=class{main;indexer;constructor(t){this.main=t}replaceIPFS(t){return/^[a-zA-Z0-9]{46}$/.test(t)&&(t="ipfs://"+t),t.replace("ipfs://ipfs/","ipfs://").replace("ipfs://",this.main.options.ipfsGateway)}replaceIPFSs(t){return t.map(e=>this.replaceIPFS(e))}async getCrossbellCharacter(t){let e;switch(this.indexer||(this.indexer=new Us),t.platform){case"Ethereum":e=await this.indexer.getPrimaryCharacter(t.identity);break;case"Crossbell":e=await this.indexer.getCharacterByHandle(t.identity);break;default:throw new Error(`Unsupported platform: ${t.platform}`)}return e}removeEmpty(t,e){for(let r in t)typeof t[r]=="object"?!t[r]||Object.keys(t[r]).length===0?delete t[r]:this.removeEmpty(t[r],{obj:t,key:r}):t[r]||delete t[r];Object.keys(t).length===0&&e&&delete e.obj[e.key]}getMimeType(t){t=this.main.utils.replaceIPFS(t);let e=_R.getType(t);if(e)return e}async uploadToIPFS(t){return(await It.post(this.main.options.ipfsRelay,t)).data.url}},ZB=YB,QB=class{main;inited;constructor(t){this.main=t}},x6=QB,XB=class extends x6{ethersProvider;urqlClient;constructor(t){super(t)}async init(){this.ethersProvider=new Xx("homestead",this.main.options.infuraProjectID),this.urqlClient=DB({url:"https://api.thegraph.com/subgraphs/name/ensdomains/ens",maskTypename:!1,exchanges:[PB,BB]}),this.inited=!0}async get(t){this.inited||await this.init();let e=await this.urqlClient.query(`
                query getRegistrations($identity: ID!, $limit: Int, $cursor: Int) {
                    account(id: $identity) {
                    domains(orderBy: createdAt, orderDirection: "desc", skip: $cursor, first: $limit) {
                        id
                        name
                        createdAt
                        labelhash
                        resolver {
                            texts
                            id
                                address
                            }
                        }
                    }
                }`,{identity:t.identity.toLowerCase(),cursor:t.cursor||0,limit:t.limit}).toPromise(),r=await Promise.all(e?.data?.account?.domains?.map(async n=>{let i={date_created:new Date(+n.createdAt).toISOString(),name:n.name,username:n.name,source:"ENS",metadata:{network:"Ethereum",proof:n.name}},a=await this.ethersProvider.getResolver(n.name);if(a){let s=n.resolver?.texts||[];await Promise.all(s.map(async o=>{switch(o){case"avatar":i.avatars=[await a.getText(o)];break;case"description":i.bio=await a.getText(o);break;case"url":i.websites=[await a.getText(o)];break;default:let c=o.split(".");c.length===2&&(c[0]==="com"||c[0]==="org")&&(i.connected_accounts||(i.connected_accounts=[]),i.connected_accounts.push({identity:await a.getText(o),platform:c[1]}));break}}))}return i}))||[];return{total:r.length,...t.limit&&r.length>=t.limit&&{cursor:t.limit+(t.cursor||0)},list:r}}set},eO=XB,tO=class extends x6{indexer;contract;constructor(t){super(t),Lt.setIpfsGateway(this.main.options.ipfsGateway)}async get(t){this.indexer||(this.indexer=new Us),t=Object.assign({platform:"Ethereum"},t);let e;if(t.platform==="Ethereum")e=await this.indexer.getCharacters(t.identity,{cursor:t.cursor,limit:t.limit,primary:t.filter?.primary});else{let n=await this.indexer.getCharacterByHandle(t.identity);n?e={count:1,cursor:"",list:[n]}:e={count:0,cursor:"",list:[]}}let r=await Promise.all(e.list?.map(async n=>{if(n.uri&&!(n.metadata&&n.metadata.content))try{let i=await It.get(this.main.utils.replaceIPFS(n.uri),{...typeof window>"u"&&{headers:{"User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.0.0 Safari/537.36"}}});n.metadata={content:i.data}}catch{}return Object.assign({date_created:n.createdAt,date_updated:n.updatedAt,username:n.handle,source:"Crossbell Profile",metadata:{network:"Crossbell",proof:n.characterId,raw:n.metadata?.content||{},uri:n.uri,primary:n.primary,block_number:n.blockNumber,owner:n.owner,transactions:[n.transactionHash,...n.transactionHash!==n.updatedTransactionHash?[n.updatedTransactionHash]:[]]}},{...n.metadata?.content?.name&&{name:n.metadata.content.name},...n.metadata?.content?.bio&&{bio:n.metadata.content.bio},...n.metadata?.content?.banners?.[0].address&&n.metadata?.content?.banners?.[0].mime_type&&{banners:n.metadata?.content?.banners},...n.metadata?.content?.avatars&&{avatars:n.metadata.content.avatars},...n.metadata?.content?.websites&&{websites:n.metadata.content.websites},...n.metadata?.content?.tags&&{tags:n.metadata.content.tags},...n.metadata?.content?.connected_accounts&&{connected_accounts:n.metadata.content.connected_accounts},...n.metadata?.content?.attributes&&{attributes:(n.metadata?.content).attributes}})}));return{total:r.length,...e.cursor&&{cursor:e.cursor},list:r.map(n=>(n.connected_accounts&&(n.connected_accounts=n.connected_accounts.map(i=>{if(i.uri&&(i=i.uri),typeof i=="string"){let a=i.match(/:\/\/account:(.*)@(.*)/);return a?{identity:a[1],platform:a[2]}:{identity:i,platform:""}}return i})),n))}}async set(t,e,r){switch(t=Object.assign({platform:"Ethereum",action:"update"},t),!this.contract&&!r?.newbieToken&&(this.contract=new wp(this.main.options.ethereumProvider),await this.contract.connect()),this.indexer||(this.indexer=new Us),t.action){case"update":{let n=await this.main.utils.getCrossbellCharacter({identity:t.identity,platform:t.platform});if(!n)return{code:1,message:"Profile not found"};if(e.username&&e.username!==n.handle&&!r?.newbieToken&&await this.contract.setHandle(n.characterId+"",e.username),Object.keys(e).filter(i=>i!=="username").length){delete e.username,e.connected_accounts&&(e.connected_accounts=e.connected_accounts.map(a=>a.identity&&a.platform?`csb://account:${a.identity}@${a.platform.toLowerCase()}`:a)),n.metadata?.uri&&!n.metadata?.content&&(n.metadata.content=(await It.get(this.main.utils.replaceIPFS(n.metadata.uri),{...typeof window>"u"&&{headers:{"User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.0.0 Safari/537.36"}}})).data);let i=Object.assign({},n.metadata?.content,e);if(e.attributes&&n.metadata?.content?.attributes&&(i.attributes=Lb(e.attributes,(n.metadata?.content).attributes,"trait_type")),r?.newbieToken)await It.post(`${this.indexer.endpoint}/newbie/contract/characters/me/metadata`,{metadata:i,mode:"replace"},{headers:{authorization:`Bearer ${r?.newbieToken}`}});else{let a=await this.main.utils.uploadToIPFS(i);await this.contract.setCharacterUri(n.characterId+"",a)}return{code:0,message:"Success"}}else return{code:0,message:"Success"}}case"add":{if(r?.newbieToken)throw new Error(`Unsupported action ${t.action} for newbie`);switch(t.platform){case"Ethereum":{let n=e.username||t.identity;delete e.username;let i=e,a=await this.main.utils.uploadToIPFS(i);return await this.contract.createCharacter(t.identity,n,a),{code:0,message:"Success"}}default:throw new Error(`Unsupported platform: ${t.platform}`)}}default:throw new Error(`Unsupported action: ${t.action}`)}}},rO=tO,nO=class{main;map;accountsMap;constructor(t){this.main=t,this.map={ENS:new eO(t),"Crossbell Profile":new rO(t)},this.accountsMap={github:{platform:"GitHub",url:"https://github.com/$$id"},twitter:{platform:"Twitter",url:"https://twitter.com/$$id"},twitter_id:{platform:"Twitter",url:"https://twitter.com/i/user/$$id"},telegram:{platform:"Telegram",url:"https://t.me/$$id"},discord:{platform:"Discord"},reddit:{platform:"Reddit",url:"https://www.reddit.com/user/$$id"},jike:{platform:"Jike",url:"https://web.okjike.com/u/$$id"}}}async get(t){let e=await this.map[t.source].get(t);return e.list=e.list.map(r=>(r.avatars&&(r.avatars=this.main.utils.replaceIPFSs(r.avatars)),r.banners&&r.banners.map(n=>(n.address=this.main.utils.replaceIPFS(n.address),n)),r.connected_accounts&&(r.connected_accounts=r.connected_accounts.map(n=>{let i=this.accountsMap[n.platform?.toLowerCase()];return i&&(n.platform=i.platform,i.url&&(n.url=i.url.replace("$$id",n.identity))),n})),r)),e}async set(t,e,r){return this.map[t.source].set?this.map[t.source].set(t,e,r):{code:1,message:"Method not implemented"}}},iO=nO,aO=class{main;inited;constructor(t){this.main=t}},sO=aO,oO=class extends sO{indexer;contract;constructor(t){super(t)}async get(t){this.indexer||(this.indexer=new Us),t=Object.assign({type:"follow",platform:"Ethereum"},t);let e=await this.main.utils.getCrossbellCharacter({identity:t.identity,platform:t.platform}),r;t.filter?.to&&(r=await this.main.utils.getCrossbellCharacter({identity:t.filter?.to,platform:"Crossbell"}));let n=await this.indexer[t.reversed?"getBacklinksOfCharacter":"getLinks"](e?.characterId+"",{linkType:t.type,limit:t.limit,cursor:t.cursor,...r?.characterId&&{toCharacterId:r.characterId+""}}),i=n?.list?.map(a=>({date_created:a.createdAt,from:(t.reversed?a.fromCharacter?.handle:e?.handle)||"",to:(t.reversed?e?.handle:a.toCharacter?.handle)||"",type:t.type||"",source:"Crossbell Link",metadata:{network:"Crossbell",proof:a.transactionHash,block_number:a.blockNumber,from_owner:t.reversed?a.fromCharacter?.owner:t.identity,to_owner:t.reversed?t.identity:a.toCharacter?.owner,...a.fromCharacter&&{from_raw:a.fromCharacter},...a.toCharacter&&{to_raw:a.toCharacter}}}));return{total:n?.count,...n?.cursor&&{cursor:n?.cursor},list:i}}async set(t,e){t=Object.assign({platform:"Ethereum",action:"add"},t),this.contract||(this.contract=new wp(this.main.options.ethereumProvider),await this.contract.connect());let r=(await this.main.utils.getCrossbellCharacter({identity:t.identity,platform:t.platform}))?.characterId;if(!r)return{code:1,message:"Character not found"};let n=(await this.main.utils.getCrossbellCharacter({identity:e.to,platform:"Crossbell"}))?.characterId;if(!n)return{code:1,message:"Character not found"};switch(t.action){case"add":return await this.contract.linkCharacter(r+"",n+"",e.type),{code:0,message:"Success"};case"remove":return await this.contract.unlinkCharacter(r+"",n+"",e.type),{code:0,message:"Success"};default:throw new Error(`Unsupported action: ${t.action}`)}}},cO=oO,uO=class{map;constructor(t){this.map={"Crossbell Link":new cO(t)}}async get(t){return this.map[t.source].get(t)}async set(t,e){return this.map[t.source].set?this.map[t.source].set(t,e):{code:1,message:"Method not implemented"}}},fO=uO,dO=class{main;inited;constructor(t){this.main=t}generateAttributes(t){if(Array.isArray(t))return t.map(e=>(e.trait_type||e.name)&&e.value?{key:e.trait_type||e.name,value:e.value}:null).filter(e=>e)}},Gi=dO,lO=class extends Gi{constructor(t){super(t)}async get(t){if(!this.main.options.moralisWeb3APIKey)return{total:0,list:[]};let e=["eth","polygon","bsc","avalanche","fantom"],r={eth:"Ethereum",polygon:"Polygon",bsc:"Binance Smart Chain",avalanche:"Avalanche",fantom:"Fantom"},n=[],i=1,a=[],s=0;return await Promise.all(e.map(async(o,c)=>{let f={};try{f=await It.get(`https://deep-index.moralis.io/api/v2/${t.identity}/nft`,{params:{chain:o,cursor:t.cursor?.[c],limit:t.limit},headers:{"x-api-key":this.main.options.moralisWeb3APIKey}})}catch{}let l=[];return f.data?.result&&f.data?.result.length&&(l=await Promise.all(f.data?.result.map(async x=>{let E;try{x.metadata?E=JSON.parse(x.metadata):x.token_uri&&(setTimeout(()=>{It.get(`https://deep-index.moralis.io/api/v2/nft/${x.token_address}/${x.token_id}/metadata/resync`,{params:{chain:o,flag:"metadata",mode:"sync"},headers:{"x-api-key":this.main.options.moralisWeb3APIKey}})},i*1e4),i++)}catch{}let C={tags:["NFT"],owners:[Et(x.owner_of||t.identity)],name:E?.name,description:E?.description,source:"Ethereum NFT",metadata:{network:r[o],proof:`${x.token_address}-${x.token_id}`,token_standard:`${x.contract_type.slice(0,3)}-${x.contract_type.slice(3)}`,token_id:x.token_id,token_symbol:x.symbol,collection_address:x.token_address,collection_name:x.name,block_number_minted:x.block_number_minted,block_number:x.block_number,providers:["Moralis"]}},M=E?.image||E?.image_url;M&&(C.previews=[{address:M}]);let k=E?.animation_url||E?.image||E?.image_url;if(k&&(C.items=[{address:k}]),E?.attributes){let S=this.generateAttributes(E?.attributes);S&&(C.attributes=S)}return(E?.external_url||E?.external_link)&&(C.related_urls||(C.related_urls=[]),C.related_urls.push(E?.external_url||E?.external_link)),C}))),n=n.concat(l),l.length<f.data?.total&&(a[c]=f.data?.cursor),s+=f.data?.total||l.length,o})),n=n.sort((o,c)=>parseInt(c.metadata?.block_number||0)-parseInt(o.metadata?.block_number||0)),{total:s,...a.find(o=>o)&&{cursor:a},list:n}}},hO=lO,pO=class extends Gi{constructor(t){super(t)}async get(t){let e=await It.get("https://api.opensea.io/api/v1/assets",{params:{format:"json",owner:t.identity,limit:t.limit||50,next:t.cursor},headers:{"x-api-key":this.main.options.openseaAPIKey||""}}),r=e.data?.assets.map(n=>{let i={tags:["NFT"],owners:[Et(t.identity)],name:n.name,description:n.description,source:"Ethereum NFT",metadata:{network:"Ethereum",proof:`${n.asset_contract.address}-${n.token_id}`,token_standard:`${n.asset_contract.schema_name.slice(0,3)}-${n.asset_contract.schema_name.slice(3)}`,token_id:n.token_id,token_symbol:n.asset_contract.symbol,collection_address:n.asset_contract.address,collection_name:n.asset_contract.name,providers:["OpenSea"]}};if(n.image_original_url&&(i.previews=[{address:n.image_original_url.replace("https://opensea-private.mypinata.cloud/ipfs/","ipfs://").replace("https://opensea.mypinata.cloud/ipfs/","ipfs://")}]),n.animation_original_url&&(i.items=[{address:n.animation_original_url.replace("https://opensea-private.mypinata.cloud/ipfs/","ipfs://").replace("https://opensea.mypinata.cloud/ipfs/","ipfs://")}]),n.traits){let a=this.generateAttributes(n.traits);a&&(i.attributes=a)}return n.external_link&&(i.related_urls||(i.related_urls=[]),i.related_urls.push(n.external_link)),i});return{total:r.length,...e.data?.next&&{cursor:e.data?.next},list:r}}},mO=pO,yO=class extends Gi{constructor(t){super(t)}async get(t){let e=(this.main.options.poapAPIKey?await It.get(`https://api.poap.tech/actions/scan/${t.identity}`,{headers:{"X-API-KEY":this.main.options.poapAPIKey}}):await It.get(`https://frontend.poap.tech/actions/scan/${t.identity}`)).data?.map(r=>({tags:["NFT","POAP"],owners:[Et(r.owner)],name:r.event.name,description:r.event.description,items:[{address:r.event.image_url,mime_type:"image/png"}],attributes:[{key:"country",value:r.event.country},{key:"city",value:r.event.city},{key:"year",value:r.event.year},{key:"start_date",value:r.event.start_date},{key:"end_date",value:r.event.end_date},{key:"expiry_date",value:r.event.expiry_date},{key:"supply",value:r.event.supply},{key:"event_url",value:r.event.event_url}],source:"Ethereum NFT",metadata:{network:"Gnosis",proof:`0x22C1f6050E56d2876009903609a2cC3fEf83B415-${r.tokenId}`,token_standard:"ERC-721",token_id:r.tokenId,token_symbol:"The Proof of Attendance Protocol",collection_address:"0x22C1f6050E56d2876009903609a2cC3fEf83B415",collection_name:"POAP",providers:["POAP"]}}));return{total:e.length,list:e}}},bO=yO,xO=class extends Gi{constructor(t){super(t)}async get(t){let e=(await It.get("https://public-api.solscan.io/account/tokens",{params:{account:t.identity}})).data,r=(await Promise.all(e.map(async n=>{let i={};try{i=(await It.get(`https://public-api.solscan.io/account/${n.tokenAddress}`)).data}catch{}if(i.tokenInfo.type!=="nft")return!1;let a={tags:["NFT"],owners:[t.identity],name:i.metadata?.data.name||i.onchainMetadata?.data.name,description:i.metadata?.data.description,source:"Solana NFT",metadata:{network:"Solana",proof:n.tokenAddress,token_standard:"Metaplex",token_id:n.tokenAddress,token_symbol:i.onchainMetadata?.data.symbol,collection_name:i.metadata?.data.collection.name,providers:["Solscan"]}};i.metadata?.data.image&&(a.previews=[{address:i.metadata?.data.image}]);let s=i.metadata?.data.animation_url||i.metadata?.data.image;if(s&&(a.items=[{address:s}]),i.metadata?.data.attributes){let o=this.generateAttributes(i.metadata?.data.attributes);o&&(a.attributes=o)}return i.metadata?.data.external_url&&(a.related_urls||(a.related_urls=[]),a.related_urls.push(i.metadata?.data.external_url)),a}))).filter(n=>n);return{total:r.length,list:r}}},gO=xO,vO=class extends Gi{constructor(t){super(t)}async get(t){if(!this.main.options.moralisWeb3APIKey)return{total:0,list:[]};let e=(await It.get(`https://solana-gateway.moralis.io/account/mainnet/${t.identity}/nft`,{headers:{"x-api-key":this.main.options.moralisWeb3APIKey}})).data,r=await Promise.all(e.map(async n=>{let i={};try{i=(await It.get(`https://solana-gateway.moralis.io/nft/mainnet/${n.mint}/metadata`,{headers:{"x-api-key":this.main.options.moralisWeb3APIKey}})).data}catch{}let a={};try{a=(await It.get(i.metaplex?.metadataUri)).data}catch{}let s={tags:["NFT"],owners:[t.identity],name:a.name||i.name,description:a.description,source:"Solana NFT",metadata:{network:"Solana",proof:n.mint,token_standard:i.standard,token_id:n.mint,token_symbol:a.symbol||i.symbol,collection_name:a.collection?.name,providers:["Moralis"]}};a.image&&(s.previews=[{address:a.image}]);let o=a.animation_url||a.image;if(o&&(s.items=[{address:o}]),a.attributes){let c=this.generateAttributes(a.attributes);c&&(s.attributes=c)}return a.external_url&&(s.related_urls||(s.related_urls=[]),s.related_urls.push(a.external_url)),s}));return{total:r.length,list:r}}},wO=vO,AO=class extends Gi{constructor(t){super(t)}async get(t){let e=[],r={Ethereum:{endpoint:"https://eth-mainnet.alchemyapi.io/v2/",keyName:"alchemyEthereumAPIKey"},Polygon:{endpoint:"https://polygon-mainnet.g.alchemy.com/v2/",keyName:"alchemyPolygonAPIKey"}},n=[],i=0;return await Promise.all(Object.keys(r).map(async(a,s)=>{let o=this.main.options[r[a].keyName];if(!o)return;let c=await It.get(`${r[a].endpoint}${o}/getNFTs/`,{params:{owner:t.identity,pageKey:t.cursor?.[s]}}),f=c.data?.ownedNfts.map(l=>{let x=ve.from(l.id.tokenId).toString(),E={tags:["NFT"],owners:[Et(t.identity)],name:l.title,description:l.description,source:"Ethereum NFT",metadata:{network:a,proof:`${l.contract.address}-${x}`,token_standard:`${l.id.tokenMetadata.tokenType.slice(0,3)}-${l.id.tokenMetadata.tokenType.slice(3)}`,token_id:x,collection_address:l.contract.address,providers:["Alchemy"]}},C=l.metadata?.image||l.metadata?.image_url;C&&(E.previews=[{address:C}]);let M=l.metadata?.animation_url||l.metadata?.image||l.metadata?.image_url;if(M&&(E.items=[{address:M}]),l.metadata?.attributes){let k=this.generateAttributes(l.metadata?.attributes);k&&(E.attributes=k)}return(l.metadata?.external_url||l.metadata?.external_link)&&(E.related_urls||(E.related_urls=[]),E.related_urls.push(l.metadata?.external_url||l.metadata?.external_link)),E});return e=e.concat(f),f.length<c.data?.totalCount&&(n[s]=c.data?.pageKey),i+=c.data?.totalCount||f.length,a})),{total:i,...n.find(a=>a)&&{cursor:n},list:e}}},EO=AO,_O=class extends Gi{constructor(t){super(t)}async get(t){if(!this.main.options.alchemyFlowAPIKey)return{total:0,list:[]};let e=await It.get(`https://flow-mainnet.g.alchemy.com/v2/${this.main.options.alchemyFlowAPIKey}/getNFTs/`,{params:{owner:t.identity,limit:t.limit,offset:t.cursor}}),r=e.data?.nfts.map(n=>{let i=ve.from(n.id.tokenId).toString(),a={tags:["NFT"],owners:[t.identity],name:n.title,description:n.description,source:"Flow NFT",metadata:{network:"Flow",proof:`${n.contract.address}-${i}`,token_id:i,collection_address:n.contract.address,collection_name:n.contract.name,providers:["Alchemy"]}};if(n.media?.length&&(a.items=n.media.map(s=>({address:s.uri}))),n.metadata.metadata){let s=this.generateAttributes(n.metadata.metadata);s&&(a.attributes=s)}return n.externalDomainViewUrl&&(a.related_urls||(a.related_urls=[]),a.related_urls.push(n.externalDomainViewUrl)),a});return{total:e.data.nftCount,...(t.cursor||0)+r.length<e.data.nftCount&&{cursor:(t.cursor||0)+r.length},list:r}}},TO=_O,MO=class extends Gi{constructor(t){super(t)}async get(t){let e=(await It.get(`https://pregod.rss3.dev/v0.4.0/account:${t.identity}@ethereum/notes`,{params:{item_sources:"Gitcoin Contribution"}})).data,r={total:e.total,list:e.list.map(s=>{let o={date_created:s.date_created,date_updated:s.date_updated,tags:["Donation"],owners:[Et(t.identity)],name:s.title,description:s.attachments.filter(f=>f.type==="description")[0].content,source:"Gitcoin Contribution",related_urls:s.related_urls,metadata:{network:s.metadata.approach==="Standard"?"Ethereum":s.metadata.approach,proof:s.metadata.destination,amounts:[{value:s.metadata.value_amount,symbol:s.metadata.value_symbol}],providers:["RSS3"]}},c=s.attachments.filter(f=>f.type==="logo")[0].address;return c&&(o.previews=[{address:c}]),o})},n=r.list,i=Eu([n[0]],s=>s.metadata?.proof);for(let s=1;s<n.length;s++)i=Bb(i,Eu([n[s]],o=>o.metadata?.proof),(o,c)=>{if(Array.isArray(o))return Fb(o.concat(c),Rb)});let a=Ob(i);return r.list=a,r}},kO=MO,IO=class extends Gi{constructor(t){super(t)}async get(t){if(!this.main.options.nftscanAPIKey)return{total:0,list:[]};let e=[],r={Ethereum:"https://restapi.nftscan.com/",Polygon:"https://polygonapi.nftscan.com/","Binance Smart Chain":"https://bnbapi.nftscan.com/",Arbitrum:"https://arbitrumapi.nftscan.com/",Moonbeam:"https://moonbeamapi.nftscan.com/",Optimism:"https://optimismapi.nftscan.com/"},n=[],i=0,a=[],s=Object.keys(r);for(let o=0;o<s.length;o++)a=a.concat([[s[o],"erc721"],[s[o],"erc1155"]]);return await Promise.all(a.map(async(o,c)=>{let f=await It.get(`${r[o[0]]}api/v2/account/own/${t.identity}`,{params:{erc_type:o[1],limit:100,cursor:t.cursor?.[c]},headers:{"X-API-KEY":this.main.options.nftscanAPIKey}}),l=f.data?.data?.content?.map(x=>{let E;if(x.metadata_json)try{E=JSON.parse(x.metadata_json)}catch{}let C={date_created:new Date(x.mint_timestamp).toISOString(),tags:["NFT"],owners:[Et(t.identity)],name:x.name||E?.name,description:E?.description,source:"Ethereum NFT",metadata:{network:o[0],proof:`${x.contract_address}-${x.token_id}`,token_standard:o[1]==="erc721"?"ERC-721":"ERC-1155",token_id:x.token_id,collection_address:x.contract_address,collection_name:x.contract_name,providers:["NFTScan"]}},M=E?.image||E?.image_url;M&&(C.previews=[{address:M}]);let k=E?.animation_url||E?.image||E?.image_url;if(k&&(C.items=[{address:k}]),E?.attributes){let S=this.generateAttributes(E?.attributes);S&&(C.attributes=S)}return(E?.external_url||E?.external_link)&&(C.related_urls||(C.related_urls=[]),C.related_urls.push(E?.external_url||E?.external_link)),C});return e=e.concat(l),i+=f.data?.data?.total,f.data?.data?.total&&f.data?.data?.total>l.length&&(n[c]=f.data?.data?.next),o[0]})),{total:i,...n.find(o=>o)&&{cursor:n},list:e}}},SO=IO,CO=class{main;map;constructor(t){this.main=t,this.map={"Ethereum NFT":{NFTScan:new SO(t),Alchemy:new EO(t),Moralis:new hO(t),OpenSea:new mO(t),POAP:new bO(t)},"Solana NFT":{Solscan:new gO(t),Moralis:new wO(t)},"Flow NFT":{Alchemy:new TO(t)},"Gitcoin Contribution":{RSS3:new kO(t)}}}generateRelatedUrls(t){switch(t.related_urls||(t.related_urls=[]),t.metadata?.network){case"Ethereum":t.metadata.token_id&&t.metadata.collection_address&&(t.related_urls=t.related_urls.concat([`https://etherscan.io/nft/${t.metadata.collection_address}/${t.metadata.token_id}`,`https://opensea.io/assets/${t.metadata.collection_address}/${t.metadata.token_id}`]));break;case"Polygon":t.metadata.token_id&&t.metadata.collection_address&&(t.related_urls=t.related_urls.concat([`https://polygonscan.com/token/${t.metadata.collection_address}?a=${t.metadata.token_id}`,`https://opensea.io/assets/matic/${t.metadata.collection_address}/${t.metadata.token_id}`]));break;case"Binance Smart Chain":t.metadata.token_id&&t.metadata.collection_address&&(t.related_urls=t.related_urls.concat([`https://bscscan.com/token/${t.metadata.collection_address}?a=${t.metadata.token_id}`]));break;case"Gnosis":t.metadata.token_id&&t.metadata.collection_address&&(t.related_urls=t.related_urls.concat([`https://blockscout.com/xdai/mainnet/token/0x22c1f6050e56d2876009903609a2cc3fef83b415/instance/${t.metadata.token_id}/token-transfers`,`https://app.poap.xyz/token/${t.metadata.token_id}`]));break;case"Solana":t.metadata.token_id&&(t.related_urls=t.related_urls.concat([`https://solscan.io/token/${t.metadata.token_id}`]));break;case"Crossbell":t.metadata.token_id&&(t.related_urls=t.related_urls.concat([`https://scan.crossbell.io/token/${t.metadata.collection_address}/instance/${t.metadata.token_id}`]));break}}async get(t){t=Object.assign({providers:Object.keys(this.map[t.source])},t);let e;if(t.providers.length>1){let n=await Promise.all(t.providers.map(async(o,c)=>{try{let f=await this.map[t.source][o].get(Object.assign(t,{cursor:t.cursor?.[c]}));return f.list=f.list.filter(l=>l),this.main.utils.removeEmpty(f.list),f}catch(f){return console.warn(f),{total:0,list:[]}}})),i=Eu(n[0].list,o=>o.metadata?.proof);for(let o=1;o<n.length;o++)i=Bb(i,Eu(n[o].list,c=>c.metadata?.proof),(c,f)=>{if(Array.isArray(c))return Fb(f.concat(c),Rb)});let a=Ob(i),s=n.map(o=>o.cursor);e={total:a.length,...s.find(o=>o)&&{cursor:s},list:a}}else e=await this.map[t.source][t.providers[0]].get(t);let r=["Gnosis","Binance Smart Chain","Polygon","Crossbell","Ethereum"];return e.list=e.list.map(n=>(n.name||(n.name=`${n.metadata?.collection_name||n.metadata?.token_symbol||""} #${n.metadata?.token_id||""}`),n.description||(n.description=n.name),n.previews&&n.previews.forEach(i=>{i.address&&(i.address=this.main.utils.replaceIPFS(i.address)),i.address&&!i.mime_type&&(i.mime_type=this.main.utils.getMimeType(i.address))}),n.items&&n.items.forEach(i=>{i.address&&(i.address=this.main.utils.replaceIPFS(i.address)),i.address&&!i.mime_type&&(i.mime_type=this.main.utils.getMimeType(i.address))}),n.items&&!n.previews&&(n.previews=n.items),n.previews&&!n.items&&(n.items=n.previews),this.generateRelatedUrls(n),n)).sort((n,i)=>r.indexOf(i.metadata?.network||"")-r.indexOf(n.metadata?.network||"")||(n.metadata?.block_number&&i.metadata?.block_number?parseInt(i.metadata?.block_number||0)-parseInt(n.metadata?.block_number||0):n.date_created&&i.date_created?+new Date(i.date_created)-+new Date(n.date_created):0)),e}},NO=CO,RO=class{main;inited;accountsMap;constructor(t){this.main=t}},xd=RO,PO=class extends xd{constructor(t){super(t)}async get(t){let e=(await It.get(`https://pregod.rss3.dev/v0.4.0/account:${t.identity}@ethereum/notes`,{params:{item_sources:"Mirror Entry",limit:t.limit,last_identifier:t.cursor}})).data;return{total:e.total,...e.identifier_next&&new URL(e.identifier_next).searchParams.get("last_identifier")&&{cursor:new URL(e.identifier_next).searchParams.get("last_identifier")},list:e.list.map(r=>{delete r.links,delete r.backlinks,r.id=r.identifier,delete r.identifier,r.authors=r.authors.map(i=>({identity:i.match(/account:(.*)@/)?.[1],platform:i.match(/@(.*)$/)?.[1]})),r.summary={content:r.summary,mime_type:"text/markdown"},r.attachments||(r.attachments=[]),r.attachments.forEach(i=>(i.address&&(i.address=this.main.utils.replaceIPFS(i.address)),i.name=i.type,delete i.type,i));let n=r.attachments?.find(i=>i.name==="body");return n?(r.body=n,r.attachments=r.attachments.filter(i=>i.name!=="body"),r.attachments.length||delete r.attachments,delete r.body.type):r.body=r.summary,r})}}set},BO=PO,OO=class extends xd{constructor(t){super(t)}async get(t){let e=(await It.get(`https://pregod.rss3.dev/v0.4.0/account:${t.identity}@ethereum/notes`,{params:{item_sources:"Ethereum NFT",limit:t.limit,last_identifier:t.cursor}})).data;return{total:e.total,...new URL(e.identifier_next&&e.identifier_next).searchParams.get("last_identifier")&&{cursor:new URL(e.identifier_next).searchParams.get("last_identifier")},list:e.list.map(r=>{delete r.links,delete r.backlinks,r.id=r.identifier,delete r.identifier,r.authors=r.authors.map(i=>({identity:i.match(/account:(.*)@/)?.[1],platform:i.match(/@(.*)$/)?.[1]})),r.title=r.metadata.from===t.identity?"Lost an NFT: ":"Got an NFT: "+(r.title||""),r.summary={content:r.summary,mime_type:"text/plain"},r.attachments||(r.attachments=[]),r.attachments.forEach(i=>(i.address&&(i.address=this.main.utils.replaceIPFS(i.address)),i.name=i.type,delete i.type,i));let n=r.attachments?.find(i=>i.name==="body");return n?(r.body=n,r.attachments=r.attachments.filter(i=>i.name!=="body"),r.attachments.length||delete r.attachments,delete r.body.type):r.body=r.summary,r})}}set},LO=OO,FO=class extends xd{constructor(t){super(t)}async get(t){let e=(await It.get(`https://pregod.rss3.dev/v0.4.0/account:${t.identity}@ethereum/notes`,{params:{item_sources:"Gitcoin Contribution",limit:t.limit,last_identifier:t.cursor}})).data;return{total:e.total,...e.identifier_next&&new URL(e.identifier_next&&e.identifier_next).searchParams.get("last_identifier")&&{cursor:new URL(e.identifier_next).searchParams.get("last_identifier")},list:e.list.map(r=>{delete r.links,delete r.backlinks,r.id=r.identifier,delete r.identifier,r.authors=r.authors.map(i=>({identity:i.match(/account:(.*)@/)?.[1],platform:i.match(/@(.*)$/)?.[1]})),r.title=`Contributed ${r.metadata.value_amount}${r.metadata.value_symbol} to `+(r.title||""),r.summary={content:r.summary,mime_type:"text/plain"},r.attachments||(r.attachments=[]),r.attachments.forEach(i=>(i.address&&(i.address=this.main.utils.replaceIPFS(i.address)),i.name=i.type,delete i.type,i));let n=r.attachments?.find(i=>i.name==="description");return n?(r.body=n,r.attachments=r.attachments.filter(i=>i.name!=="description"),r.attachments.length||delete r.attachments,delete r.body.type):r.body=r.summary,r})}}set},DO=FO,UO={date_created:"createdAt",date_updated:"updatedAt",date_published:"publishedAt"},$O=class extends xd{indexer;contract;constructor(t){super(t),Lt.setIpfsGateway(this.main.options.ipfsGateway)}async get(t){this.indexer||(this.indexer=new Us),t=Object.assign({platform:"Ethereum"},t);let e;if(t.identity&&(e=(await this.main.utils.getCrossbellCharacter({identity:t.identity,platform:t.platform}))?.characterId,!e))return{total:0,list:[]};let r;if(t.filter?.id){let i=await this.indexer.getNote(e+"",t.filter.id.split("-")[1]);i?r={count:1,cursor:null,list:[i]}:r={count:0,cursor:null,list:[]}}else r=await this.indexer.getNotes({cursor:t.cursor,includeDeleted:t.include_deleted,limit:t.limit,includeEmptyMetadata:!0,...t.order_by&&{orderBy:UO[t.order_by]},...e&&{characterId:e+""},...t.filter?.url&&{externalUrls:t.filter?.url},...t.filter?.tags&&{tags:t.filter?.tags},...t.filter?.applications&&{sources:t.filter?.applications}});let n=(await Promise.all(r?.list.map(async i=>{if(i.metadata.uri&&!i.metadata.content)try{let s=await It.get(this.main.utils.replaceIPFS(i.metadata.uri),{...typeof window>"u"&&{headers:{"User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.0.0 Safari/537.36"}}});if(i.metadata.content=s.data,t.filter?.url&&!i.metadata.content.external_urls?.includes(t.filter?.url)||t.filter?.tags&&(Array.isArray(t.filter?.tags)||(t.filter.tags=[t.filter.tags]),!t.filter.tags.every(o=>i.metadata.content.tags?.includes(o)))||t.filter?.applications&&(Array.isArray(t.filter?.applications)||(t.filter.applications=[t.filter.applications]),!t.filter.applications.every(o=>i.metadata.content.sources?.includes(o))))return r.count--,null}catch(s){console.warn(s)}let a=Object.assign({date_published:i.createdAt},i.metadata?.content,{id:`${e}-${i.noteId}`,date_created:i.createdAt,date_updated:i.updatedAt,related_urls:[...i.toUri?[i.toUri]:[],...i.uri?[this.main.utils.replaceIPFS(i.uri)]:[],`https://scan.crossbell.io/tx/${i.transactionHash}`,...i.updatedTransactionHash&&i.updatedTransactionHash!==i.transactionHash?[`https://scan.crossbell.io/tx/${i.updatedTransactionHash}`]:[]],authors:[i.operator],source:"Crossbell Note",metadata:{network:"Crossbell",proof:`${e}-${i.noteId}`,block_number:i.blockNumber,owner:i.owner,transactions:[i.transactionHash,...i.transactionHash!==i.updatedTransactionHash?[i.updatedTransactionHash]:[]],raw:i.metadata?.content}});return a.summary&&(a.summary={content:a.summary,mime_type:"text/markdown"}),a.content&&(a.body={content:a.content,mime_type:"text/markdown"},delete a.content),a.attachments&&a.attachments.forEach(s=>{s.address&&(s.address=this.main.utils.replaceIPFS(s.address)),s.address&&!s.mime_type&&(s.mime_type=this.main.utils.getMimeType(s.address))}),a.sources&&(a.applications=a.sources,delete a.sources),a}))).filter(i=>i);return{total:r.count,...r.cursor&&{cursor:r.cursor},list:n}}async set(t,e,r){t=Object.assign({platform:"Ethereum",action:"add"},t),!this.contract&&!r?.newbieToken&&(this.contract=new wp(this.main.options.ethereumProvider),await this.contract.connect()),this.indexer||(this.indexer=new Us);let n=(await this.main.utils.getCrossbellCharacter({identity:t.identity,platform:t.platform}))?.characterId;if(!n)return{code:1,message:"Character not found"};switch(e.body&&(e.content=e.body.content,delete e.body),e.summary&&(e.summary=e.summary.content),e.related_urls&&(e.external_urls=e.related_urls,delete e.related_urls),e.applications&&(e.sources=e.applications,delete e.applications),t.action){case"add":{let i;if(r?.newbieToken){let a={};r&&r.targetUri?a={linkItemType:"AnyUri",linkItem:{uri:r.targetUri}}:r&&r.targetNote&&(a={linkItemType:"Note",linkItem:{characterId:r.targetNote.split("-")?.[0],noteId:r.targetNote.split("-")?.[1]}}),i=(await It.put(`${this.indexer.endpoint}/newbie/contract/notes`,Object.assign({metadata:e,locked:!1},a),{headers:{authorization:`Bearer ${r?.newbieToken}`}})).data}else{let a=await this.main.utils.uploadToIPFS(e);r&&r.targetUri?i=await this.contract.postNoteForAnyUri(n+"",a,r.targetUri):r&&r.targetNote?i=await this.contract.postNoteForNote(n+"",a,r.targetNote.split("-")?.[0],r.targetNote.split("-")?.[1]):i=await this.contract.postNote(n+"",a)}return{code:0,message:"Success",data:i.data.noteId}}case"remove":{if(e.id){if(e.id.split("-")[0]!==n+"")return{code:1,message:"Wrong id"};r?.newbieToken?await It.delete(`${this.indexer.endpoint}/newbie/contract/notes/${e.id.split("-")[1]}`,{headers:{authorization:`Bearer ${r?.newbieToken}`}}):await this.contract.deleteNote(n+"",e.id.split("-")[1])}else return{code:1,message:"Missing id"};return{code:0,message:"Success"}}case"update":if(e.id){if(e.id.split("-")[0]!==n+"")return{code:1,message:"Wrong id"};{let i=await this.indexer.getNote(n+"",e.id.split("-")[1]);if(i){let a=e.id;delete e.id,i.metadata?.uri&&!i.metadata?.content&&(i.metadata.content=(await It.get(this.main.utils.replaceIPFS(i.metadata.uri),{...typeof window>"u"&&{headers:{"User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.0.0 Safari/537.36"}}})).data);let s=Object.assign({},i.metadata?.content,e);if(e.attributes&&i.metadata?.content?.attributes&&(s.attributes=Lb(e.attributes,i.metadata.content.attributes,"trait_type")),r?.newbieToken)await It.post(`${this.indexer.endpoint}/newbie/contract/notes/${a.split("-")[1]}/metadata`,{metadata:s,mode:"replace"},{headers:{authorization:`Bearer ${r?.newbieToken}`}});else{let o=await this.main.utils.uploadToIPFS(s);await this.contract.setNoteUri(n+"",a.split("-")[1],o)}return{code:0,message:"Success"}}else return{code:1,message:"Note not found"}}}else return{code:1,message:"Missing id"};default:throw new Error(`Unsupported action: ${t.action}`)}}},HO=$O,zO=class{map;constructor(t){this.map={"Mirror Entry":new BO(t),"Ethereum NFT Activity":new LO(t),"Gitcoin Contribution":new DO(t),"Crossbell Note":new HO(t)}}async get(t){t=Object.assign({limit:10},t);let e=await this.map[t.source].get(t);return e?.list&&(e.list=e.list.map(r=>(r.date_published||(r.date_published=r.date_created),r))),e}async set(t,e,r){return this.map[t.source].set?this.map[t.source].set(t,e,r):{code:1,message:"Method not implemented"}}},qO=zO;console.log(`
 %c Unidata v0.7.20 %c https://unidata.app 
`,"color: #fecc02; background: #030307; padding: 5px 0;","background: #fecc02; padding: 5px 0;");var jO=class{options;utils;profiles;links;assets;notes;constructor(t){this.options=Object.assign({},{ipfsGateway:"https://gateway.ipfs.io/ipfs/",ipfsRelay:"https://ipfs-relay.crossbell.io/json",...typeof window<"u"&&{ethereumProvider:window.ethereum}},t),ha(It,{retries:3,retryDelay:ha.exponentialDelay,retryCondition:e=>e.response?.status===429||Np(e)}),this.utils=new ZB(this),this.profiles=new iO(this),this.links=new fO(this),this.assets=new NO(this),this.notes=new qO(this)}},KO=jO;const Cb=new KO,GO="https://ipfs.4everland.xyz/ipfs/",VO=t=>t?.replaceAll(GO,"").replaceAll("https://gateway.ipfs.io/ipfs/","").replaceAll("https://ipfs.io/ipfs/","").replaceAll("https://cf-ipfs.com/ipfs/","").replaceAll("https://ipfs.4everland.xyz/ipfs/","").replaceAll("https://rss3.mypinata.cloud/ipfs/","");class rF{static SITE_ID="";static setSiteId(e){this.SITE_ID=e}static createOrUpdate(e){const r=["hide","password","secret"];for(const n of r)if(n in e&&e[n])return message.info(`跳过隐藏笔记，命中字段：${n}`),Promise.resolve();return new Promise(n=>{if(!("ethereum"in window)){n(null);return}if(!this.SITE_ID){n(null);return}dialog.create({title:"已连接到 xLog",content:`已连接到 xLog (${this.SITE_ID})，此文章的更新需要同步吗？`,onNegativeClick(){n(null)},onPositiveClick(){i()},negativeText:"不需要",positiveText:"嗯！"});const i=async()=>{const a=this.SITE_ID,s=window.ethereum,o=T7(s);if(message.loading("准备发布到 xLog，等待钱包响应..."),await o.walletClient.requestAddresses(),!o.account.address){console.error("no address");return}let c=!1,f=e.meta?.xLog?.pageId;const l="slug"in e?e.slug:`note-${e.nid}`;await(async()=>{if(c)return Promise.resolve();const{text:E,title:C}=e;c=!0,(!f||this.isNoteModel(e))&&(f=await this.fetchPageId(l));const M=await qc.api.helper("url-builder")(e.id).get().then(({data:R})=>R).catch(()=>"");if(!M)throw new Error("文章链接生成失败");const k=`${E}

<span style="text-align: right;font-size: 0.8em; float: right">此文由 [Mix Space](https://github.com/mx-space) 同步更新至 xLog
原始链接为 <${M}></span>`;message.loading("正在发布到 xLog...");const S={siteId:a,content:k,title:C,isPost:!0,slug:l,published:!0,applications:["xlog"],externalUrl:`https://${a}.xlog.app/posts/${l}`,pageId:f,tags:"tags"in e?e.tags.toString():this.isNoteModel(e)?"Note":"",publishedAt:e.created};return Cb.notes.set({source:"Crossbell Note",identity:S.siteId,platform:"Crossbell",action:S.pageId?"update":"add"},{...S.externalUrl&&{related_urls:[S.externalUrl]},...S.pageId&&{id:S.pageId},...S.title&&{title:S.title},...S.content&&{body:{content:S.content,mime_type:"text/markdown"}},...S.publishedAt&&{date_published:S.publishedAt},tags:["post",...S.tags?.split(",").map(R=>R.trim()).filter(R=>R)||[]],applications:["xlog",...S.applications?.filter(R=>R!=="xlog")||[]],...S.slug&&{attributes:[{trait_type:"xlog_slug",value:S.slug}]}})})().then(()=>{message.success("xLog 发布成功"),C6(),(f?Promise.resolve(f):this.fetchPageId(l)).then(E=>{if(!E){message.error("无法获取 xLog pageId 任务终止");return}this.updateModel(e,{pageId:E}),Cb.notes.get({source:"Crossbell Note",identity:a,platform:"Crossbell",filter:{id:E}}).then(C=>{if(!C)return;const{list:M}=C,k=M[0];if(!k)return;const{metadata:S,related_urls:R}=k,B={...S};delete B.raw,console.debug(k),this.updateModel(e,{pageId:E,related_urls:R,metadata:B,cid:VO(R?.[0]||"")})})}),n(null)}).catch(()=>{message.error("xLog 发布失败"),n(null)})}})}static isNoteModel(e){return"nid"in e}static async fetchPageId(e){if(!this.SITE_ID)return;const{characterId:r,noteId:n}=await qc.api.fn.xlog.get_page_id.get({params:{handle:this.SITE_ID,slug:e}}).catch(()=>({noteId:"",characterId:""}));if(!(!r||!n))return`${r}-${n}`}static async updateModel(e,r){const n=e.id,{cid:i,pageId:a,related_urls:s,metadata:o}=r;for(const f in r)r[f]===void 0&&delete r[f];const c={meta:{...e.meta,xLog:{...e.meta?.xLog,pageId:a,cid:i,related_urls:s,metadata:o}}};this.isNoteModel(e)?await qc.api.notes(n).patch({data:c}):await qc.api.posts(n).patch({data:c})}}export{rF as CrossBellConnector};
