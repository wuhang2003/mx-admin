import{_ as ce}from"./index-b7f3c7f1.js";import{g as de}from"./class-b8686508.js";const fe=Symbol(),Z=Object.getPrototypeOf,Q=new WeakMap,ue=e=>e&&(Q.has(e)?Q.get(e):Z(e)===Object.prototype||Z(e)===Array.prototype),pe=e=>ue(e)&&e[fe]||null,ee=(e,t=!0)=>{Q.set(e,t)},q=e=>typeof e=="object"&&e!==null,_=new WeakMap,B=new WeakSet,he=(e=Object.is,t=(a,v)=>new Proxy(a,v),s=a=>q(a)&&!B.has(a)&&(Array.isArray(a)||!(Symbol.iterator in a))&&!(a instanceof WeakMap)&&!(a instanceof WeakSet)&&!(a instanceof Error)&&!(a instanceof Number)&&!(a instanceof Date)&&!(a instanceof String)&&!(a instanceof RegExp)&&!(a instanceof ArrayBuffer),r=a=>{switch(a.status){case"fulfilled":return a.value;case"rejected":throw a.reason;default:throw a}},c=new WeakMap,d=(a,v,O=r)=>{const w=c.get(a);if(w?.[0]===v)return w[1];const y=Array.isArray(a)?[]:Object.create(Object.getPrototypeOf(a));return ee(y,!0),c.set(a,[v,y]),Reflect.ownKeys(a).forEach(U=>{if(Object.getOwnPropertyDescriptor(y,U))return;const C=Reflect.get(a,U),S={value:C,enumerable:!0,configurable:!0};if(B.has(C))ee(C,!1);else if(C instanceof Promise)delete S.value,S.get=()=>O(C);else if(_.has(C)){const[g,z]=_.get(C);S.value=d(g,z(),O)}Object.defineProperty(y,U,S)}),y},m=new WeakMap,b=[1,1],G=a=>{if(!q(a))throw new Error("object required");const v=m.get(a);if(v)return v;let O=b[0];const w=new Set,y=(i,o=++b[0])=>{O!==o&&(O=o,w.forEach(n=>n(i,o)))};let U=b[1];const C=(i=++b[1])=>(U!==i&&!w.size&&(U=i,g.forEach(([o])=>{const n=o[1](i);n>O&&(O=n)})),O),S=i=>(o,n)=>{const p=[...o];p[1]=[i,...p[1]],y(p,n)},g=new Map,z=(i,o)=>{if(({VITE_APP_LOGIN_BG:"https://fastly.jsdelivr.net/gh/mx-space/docs-images@master/images/chichi-1.jpeg",VITE_APP_PUBLIC_URL:"https://fastly.jsdelivr.net/gh/mx-space/mx-admin@gh-pages/",BASE_URL:"https://fastly.jsdelivr.net/gh/mx-space/mx-admin@gh-pages/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&g.has(i))throw new Error("prop listener already exists");if(w.size){const n=o[3](S(i));g.set(i,[o,n])}else g.set(i,[o])},Y=i=>{var o;const n=g.get(i);n&&(g.delete(i),(o=n[1])==null||o.call(n))},ie=i=>(w.add(i),w.size===1&&g.forEach(([n,p],M)=>{if(({VITE_APP_LOGIN_BG:"https://fastly.jsdelivr.net/gh/mx-space/docs-images@master/images/chichi-1.jpeg",VITE_APP_PUBLIC_URL:"https://fastly.jsdelivr.net/gh/mx-space/mx-admin@gh-pages/",BASE_URL:"https://fastly.jsdelivr.net/gh/mx-space/mx-admin@gh-pages/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&p)throw new Error("remove already exists");const D=n[3](S(M));g.set(M,[n,D])}),()=>{w.delete(i),w.size===0&&g.forEach(([n,p],M)=>{p&&(p(),g.set(M,[n]))})}),H=Array.isArray(a)?[]:Object.create(Object.getPrototypeOf(a)),T=t(H,{deleteProperty(i,o){const n=Reflect.get(i,o);Y(o);const p=Reflect.deleteProperty(i,o);return p&&y(["delete",[o],n]),p},set(i,o,n,p){const M=Reflect.has(i,o),D=Reflect.get(i,o,p);if(M&&(e(D,n)||m.has(n)&&e(D,m.get(n))))return!0;Y(o),q(n)&&(n=pe(n)||n);let k=n;if(n instanceof Promise)n.then(E=>{n.status="fulfilled",n.value=E,y(["resolve",[o],E])}).catch(E=>{n.status="rejected",n.reason=E,y(["reject",[o],E])});else{!_.has(n)&&s(n)&&(k=G(n));const E=!B.has(k)&&_.get(k);E&&z(o,E)}return Reflect.set(i,o,k,p),y(["set",[o],n,D]),!0}});m.set(a,T);const le=[H,C,d,ie];return _.set(T,le),Reflect.ownKeys(a).forEach(i=>{const o=Object.getOwnPropertyDescriptor(a,i);"value"in o&&(T[i]=a[i],delete o.value,delete o.writable),Object.defineProperty(H,i,o)}),T})=>[G,_,B,e,t,s,r,c,d,m,b],[me]=he();function I(e={}){return me(e)}function A(e,t,s){const r=_.get(e);({VITE_APP_LOGIN_BG:"https://fastly.jsdelivr.net/gh/mx-space/docs-images@master/images/chichi-1.jpeg",VITE_APP_PUBLIC_URL:"https://fastly.jsdelivr.net/gh/mx-space/mx-admin@gh-pages/",BASE_URL:"https://fastly.jsdelivr.net/gh/mx-space/mx-admin@gh-pages/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&!r&&console.warn("Please use proxy object");let c;const d=[],m=r[3];let b=!1;const a=m(v=>{if(d.push(v),s){t(d.splice(0));return}c||(c=Promise.resolve().then(()=>{c=void 0,b&&t(d.splice(0))}))});return b=!0,()=>{b=!1,a()}}let J;const P={ethereumClient:void 0,setEthereumClient(e){J=e},client(){if(J)return J;throw new Error("ClientCtrl has no client set")}},l=I({address:void 0,profileName:void 0,profileAvatar:void 0,profileLoading:!1,balanceLoading:!1,balance:void 0,isConnected:!1}),ge={state:l,subscribe(e){return A(l,()=>e(l))},getAccount(){const e=P.client().getAccount();l.address=e.address,l.isConnected=e.isConnected},async fetchProfile(e,t){try{l.profileLoading=!0;const s=t??l.address,{id:r}=P.client().getDefaultChain();if(s&&r===1){const[c,d]=await Promise.all([P.client().fetchEnsName({address:s,chainId:1}),P.client().fetchEnsAvatar({address:s,chainId:1})]);d&&await e(d),l.profileName=c,l.profileAvatar=d}}finally{l.profileLoading=!1}},async fetchBalance(e){try{l.balanceLoading=!0;const t=e??l.address;if(t){const s=await P.client().fetchBalance({address:t});l.balance={amount:s.formatted,symbol:s.symbol}}}finally{l.balanceLoading=!1}},setAddress(e){l.address=e},setIsConnected(e){l.isConnected=e},resetBalance(){l.balance=void 0},resetAccount(){l.address=void 0,l.isConnected=!1,l.profileName=void 0,l.profileAvatar=void 0,l.balance=void 0}},L={WALLETCONNECT_DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",W3M_VERSION:"W3M_VERSION",isMobile(){return typeof window<"u"?!!(window.matchMedia("(pointer:coarse)").matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},isAndroid(){return L.isMobile()&&navigator.userAgent.toLowerCase().includes("android")},isEmptyObject(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.getOwnPropertyNames(e).length===0&&Object.getOwnPropertySymbols(e).length===0},isHttpUrl(e){return e.startsWith("http://")||e.startsWith("https://")},formatNativeUrl(e,t,s){if(L.isHttpUrl(e))return this.formatUniversalUrl(e,t,s);let r=e;r.includes("://")||(r=e.replaceAll("/","").replaceAll(":",""),r=`${r}://`),this.setWalletConnectDeepLink(r,s);const c=encodeURIComponent(t);return`${r}wc?uri=${c}`},formatUniversalUrl(e,t,s){if(!L.isHttpUrl(e))return this.formatNativeUrl(e,t,s);let r=e;e.endsWith("/")&&(r=e.slice(0,-1)),this.setWalletConnectDeepLink(r,s);const c=encodeURIComponent(t);return`${r}/wc?uri=${c}`},async wait(e){return new Promise(t=>{setTimeout(t,e)})},openHref(e,t){window.open(e,t,"noreferrer noopener")},setWalletConnectDeepLink(e,t){localStorage.setItem(L.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))},setWalletConnectAndroidDeepLink(e){const[t]=e.split("?");localStorage.setItem(L.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:t,name:"Android"}))},removeWalletConnectDeepLink(){localStorage.removeItem(L.WALLETCONNECT_DEEPLINK_CHOICE)},isNull(e){return e===null},setWeb3ModalVersionInStorage(){typeof localStorage<"u"&&localStorage.setItem(L.W3M_VERSION,"2.2.2")}},f=I({selectedChain:void 0,chains:void 0,standaloneChains:void 0,standaloneUri:void 0,isStandalone:!1,isCustomDesktop:!1,isCustomMobile:!1,isDataLoaded:!1,isUiLoaded:!1,walletConnectVersion:1}),u={state:f,subscribe(e){return A(f,()=>e(f))},setChains(e){f.chains=e},setStandaloneChains(e){f.standaloneChains=e},setStandaloneUri(e){f.standaloneUri=e},getSelectedChain(){const e=P.client().getNetwork().chain;return e&&(f.selectedChain=e),f.selectedChain},setSelectedChain(e){f.selectedChain=e},setIsStandalone(e){f.isStandalone=e},setIsCustomDesktop(e){f.isCustomDesktop=e},setIsCustomMobile(e){f.isCustomMobile=e},setIsDataLoaded(e){f.isDataLoaded=e},setIsUiLoaded(e){f.isUiLoaded=e},setWalletConnectVersion(e){f.walletConnectVersion=e}},$=I({projectId:"",mobileWallets:void 0,desktopWallets:void 0,walletImages:void 0,chainImages:void 0,tokenImages:void 0,standaloneChains:void 0,enableStandaloneMode:!1,enableNetworkView:!1,enableAccountView:!0,enableExplorer:!0,defaultChain:void 0,explorerAllowList:void 0,explorerDenyList:void 0,termsOfServiceUrl:void 0,privacyPolicyUrl:void 0}),X={state:$,subscribe(e){return A($,()=>e($))},setConfig(e){var t,s,r,c;if(u.setStandaloneChains(e.standaloneChains),u.setIsStandalone(!!((t=e.standaloneChains)!=null&&t.length)||!!e.enableStandaloneMode),u.setIsCustomMobile(!!((s=e.mobileWallets)!=null&&s.length)),u.setIsCustomDesktop(!!((r=e.desktopWallets)!=null&&r.length)),u.setWalletConnectVersion((c=e.walletConnectVersion)!=null?c:1),!u.state.isStandalone){const d=P.client().getDefaultChain();u.setSelectedChain(d),u.setChains(P.client().chains)}e.defaultChain&&u.setSelectedChain(e.defaultChain),L.setWeb3ModalVersionInStorage(),Object.assign($,e)}},te="https://explorer-api.walletconnect.com";function be(e){const t=Object.fromEntries(Object.entries(e).filter(([s,r])=>typeof r<"u"&&r!==null&&r!=="").map(([s,r])=>[s,r.toString()]));return new URLSearchParams(t).toString()}const x={async fetchWallets(e,t){const s=be(t),r=`${te}/v3/wallets?projectId=${e}&${s}`;return(await fetch(r)).json()},formatImageUrl(e,t){return`${te}/v3/logo/lg/${t}?projectId=${e}`}},j=I({wallets:{listings:[],total:0,page:1},search:{listings:[],total:0,page:1},previewWallets:[],recomendedWallets:[]});function K(){const{projectId:e}=X.state;if(!e)throw new Error("projectId is required to work with explorer api");return e}const Ae={state:j,async getPreviewWallets(e){const{listings:t}=await x.fetchWallets(K(),e);return j.previewWallets=Object.values(t),j.previewWallets},async getRecomendedWallets(){const{listings:e}=await x.fetchWallets(K(),{page:1,entries:6});j.recomendedWallets=Object.values(e)},async getPaginatedWallets(e){const{page:t,search:s}=e,{listings:r,total:c}=await x.fetchWallets(K(),e),d=Object.values(r),m=s?"search":"wallets";return j[m]={listings:[...j[m].listings,...d],total:c,page:t??1},{listings:d,total:c}},getImageUrl(e){return x.formatImageUrl(K(),e)},resetSearch(){j.search={listings:[],total:0,page:1}}},h=I({history:["ConnectWallet"],view:"ConnectWallet",data:void 0}),R={state:h,subscribe(e){return A(h,()=>e(h))},push(e,t){e!==h.view&&(h.view=e,t&&(h.data=t),h.history.push(e))},replace(e){h.view=e,h.history=[e]},goBack(){if(h.history.length>1){h.history.pop();const[e]=h.history.slice(-1);h.view=e}}},N=I({open:!1}),F={state:N,subscribe(e){return A(N,()=>e(N))},async open(e){return new Promise(t=>{const{isStandalone:s,isUiLoaded:r,isDataLoaded:c}=u.state,{isConnected:d}=ge.state,{enableNetworkView:m}=X.state;if(s?(u.setStandaloneUri(e?.uri),u.setStandaloneChains(e?.standaloneChains),R.replace("ConnectWallet")):e!=null&&e.route?R.replace(e.route):d?R.replace("Account"):m?R.replace("SelectNetwork"):R.replace("ConnectWallet"),r&&c)N.open=!0,t();else{const b=setInterval(()=>{u.state.isUiLoaded&&u.state.isDataLoaded&&(clearInterval(b),N.open=!0,t())},200)}})},close(){N.open=!1}};var we=Object.defineProperty,se=Object.getOwnPropertySymbols,ye=Object.prototype.hasOwnProperty,ve=Object.prototype.propertyIsEnumerable,ne=(e,t,s)=>t in e?we(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Ce=(e,t)=>{for(var s in t||(t={}))ye.call(t,s)&&ne(e,s,t[s]);if(se)for(var s of se(t))ve.call(t,s)&&ne(e,s,t[s]);return e};function Oe(){return typeof matchMedia<"u"&&matchMedia("(prefers-color-scheme: dark)").matches}const V=I({themeMode:Oe()?"dark":"light"}),ae={state:V,subscribe(e){return A(V,()=>e(V))},setThemeConfig(e){const{themeMode:t,themeVariables:s}=e;t&&(V.themeMode=t),s&&(V.themeVariables=Ce({},s))}},W=I({open:!1,message:"",variant:"success"}),Ue={state:W,subscribe(e){return A(W,()=>e(W))},openToast(e,t){W.open=!0,W.message=e,W.variant=t},closeToast(){W.open=!1}};typeof window<"u"&&(window.Buffer||(window.Buffer=de.Buffer),window.global||(window.global=window),window.process||(window.process={env:{}}));var Ee=Object.defineProperty,oe=Object.getOwnPropertySymbols,Le=Object.prototype.hasOwnProperty,Pe=Object.prototype.propertyIsEnumerable,re=(e,t,s)=>t in e?Ee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Ie=(e,t)=>{for(var s in t||(t={}))Le.call(t,s)&&re(e,s,t[s]);if(oe)for(var s of oe(t))Pe.call(t,s)&&re(e,s,t[s]);return e};class Se{constructor(t){this.openModal=F.open,this.closeModal=F.close,this.subscribeModal=F.subscribe,this.setTheme=ae.setThemeConfig,ae.setThemeConfig(t),X.setConfig(Ie({enableStandaloneMode:!0},t)),this.initUi()}async initUi(){if(typeof window<"u"){await ce(()=>import("./index-7b7f012f.js"),["js/index-7b7f012f.js","js/class-b8686508.js","js/index-b7f3c7f1.js","assets/index-1368171b.css","js/index-fa06d764.js","js/last-862de5a8.js"]);const t=document.createElement("w3m-modal");document.body.insertAdjacentElement("beforeend",t),u.setIsUiLoaded(!0)}}}const Me=Object.freeze(Object.defineProperty({__proto__:null,Web3Modal:Se},Symbol.toStringTag,{value:"Module"}));export{ge as A,ae as B,Ue as H,X as S,Ae as _,Me as a,L as d,R as g,u as i,P as p,F as x};
