import{j as f,y as l,au as v,ah as d}from"./index-3c95053e.js";const h=(r,i,n="文章未保存是否确定离开？")=>{const t=e=>{if(!i())return e.preventDefault(),e.returnValue=n,!1};f(()=>{r&&window.addEventListener("beforeunload",t)}),l(()=>{r&&window.removeEventListener("beforeunload",t)});const a=v();d(async(e,c,o)=>{if(!r){o();return}if(i()){o();return}if(e.hash=="|publish"){o();return}const u=new Promise((s,m)=>{a.warning({title:n,negativeText:"嗯",positiveText:"手抖了啦",onNegativeClick(){s(!0)},onPositiveClick(){s(!1)}})});await Promise.resolve(u)&&o()})};export{h as u};
