import{e as re}from"./class-8f014a09.js";import{gl as ye,n as A,ag as me}from"./index-a5dd80c2.js";import{t as ve}from"./tslib.es6-f16173f3.js";const we=ye(ve);var u={};Object.defineProperty(u,"__esModule",{value:!0});var Ee=u.getLocalStorage=He=u.getLocalStorageOrThrow=Ue=u.getCrypto=Ie=u.getCryptoOrThrow=Fe=u.getLocation=Le=u.getLocationOrThrow=Se=u.getNavigator=De=u.getNavigatorOrThrow=Ae=u.getDocument=Oe=u.getDocumentOrThrow=Re=u.getFromWindowOrThrow=be=u.getFromWindow=void 0;function C(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}var be=u.getFromWindow=C;function D(t){const e=C(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}var Re=u.getFromWindowOrThrow=D;function _e(){return D("document")}var Oe=u.getDocumentOrThrow=_e;function Te(){return C("document")}var Ae=u.getDocument=Te;function Ce(){return D("navigator")}var De=u.getNavigatorOrThrow=Ce;function Pe(){return C("navigator")}var Se=u.getNavigator=Pe;function xe(){return D("location")}var Le=u.getLocationOrThrow=xe;function Be(){return C("location")}var Fe=u.getLocation=Be;function Me(){return D("crypto")}var Ie=u.getCryptoOrThrow=Me;function Ne(){return C("crypto")}var Ue=u.getCrypto=Ne;function je(){return D("localStorage")}var He=u.getLocalStorageOrThrow=je;function qe(){return C("localStorage")}Ee=u.getLocalStorage=qe;var H={};Object.defineProperty(H,"__esModule",{value:!0});var $e=H.getWindowMetadata=void 0;const k=u;function Je(){let t,e;try{t=k.getDocumentOrThrow(),e=k.getLocationOrThrow()}catch{return null}function n(){const y=t.getElementsByTagName("link"),w=[];for(let v=0;v<y.length;v++){const h=y[v],b=h.getAttribute("rel");if(b&&b.toLowerCase().indexOf("icon")>-1){const l=h.getAttribute("href");if(l)if(l.toLowerCase().indexOf("https:")===-1&&l.toLowerCase().indexOf("http:")===-1&&l.indexOf("//")!==0){let O=e.protocol+"//"+e.host;if(l.indexOf("/")===0)O+=l;else{const x=e.pathname.split("/");x.pop();const I=x.join("/");O+=I+"/"+l}w.push(O)}else if(l.indexOf("//")===0){const O=e.protocol+l;w.push(O)}else w.push(l)}}return w}function a(...y){const w=t.getElementsByTagName("meta");for(let v=0;v<w.length;v++){const h=w[v],b=["itemprop","property","name"].map(l=>h.getAttribute(l)).filter(l=>l?y.includes(l):!1);if(b.length&&b){const l=h.getAttribute("content");if(l)return l}}return""}function c(){let y=a("name","og:site_name","og:title","twitter:title");return y||(y=t.title),y}function s(){return a("description","og:description","twitter:description","keywords")}const d=c(),p=s(),F=e.origin,M=n();return{description:p,url:F,icons:M,name:d}}$e=H.getWindowMetadata=Je;var _t=t=>encodeURIComponent(t).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),ne="%[a-f0-9]{2}",V=new RegExp("("+ne+")|([^%]+?)","gi"),G=new RegExp("("+ne+")+","gi");function j(t,e){try{return[decodeURIComponent(t.join(""))]}catch{}if(t.length===1)return t;e=e||1;var n=t.slice(0,e),a=t.slice(e);return Array.prototype.concat.call([],j(n),j(a))}function We(t){try{return decodeURIComponent(t)}catch{for(var e=t.match(V)||[],n=1;n<e.length;n++)t=j(e,n).join(""),e=t.match(V)||[];return t}}function ke(t){for(var e={"%FE%FF":"��","%FF%FE":"��"},n=G.exec(t);n;){try{e[n[0]]=decodeURIComponent(n[0])}catch{var a=We(n[0]);a!==n[0]&&(e[n[0]]=a)}n=G.exec(t)}e["%C2"]="�";for(var c=Object.keys(e),s=0;s<c.length;s++){var d=c[s];t=t.replace(new RegExp(d,"g"),e[d])}return t}var Ot=function(t){if(typeof t!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch{return ke(t)}},Tt=(t,e)=>{if(!(typeof t=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[t];const n=t.indexOf(e);return n===-1?[t]:[t.slice(0,n),t.slice(n+e.length)]},At=function(t,e){for(var n={},a=Object.keys(t),c=Array.isArray(e),s=0;s<a.length;s++){var d=a[s],p=t[d];(c?e.indexOf(d)!==-1:e(d,p,t))&&(n[d]=p)}return n};const Ve=t=>JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString()+"n":n),Ge=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=t.replace(e,'$1"$2n"$3');return JSON.parse(n,(a,c)=>typeof c=="string"&&c.match(/^\d+n$/)?BigInt(c.substring(0,c.length-1)):c)};function ze(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return Ge(t)}catch{return t}}function z(t){return typeof t=="string"?t:Ve(t)||""}const Xe="PARSE_ERROR",Qe="INVALID_REQUEST",Ke="METHOD_NOT_FOUND",Ye="INVALID_PARAMS",oe="INTERNAL_ERROR",q="SERVER_ERROR",Ze=[-32700,-32600,-32601,-32602,-32603],S={[Xe]:{code:-32700,message:"Parse error"},[Qe]:{code:-32600,message:"Invalid Request"},[Ke]:{code:-32601,message:"Method not found"},[Ye]:{code:-32602,message:"Invalid params"},[oe]:{code:-32603,message:"Internal error"},[q]:{code:-32e3,message:"Server error"}},se=q;function et(t){return Ze.includes(t)}function X(t){return Object.keys(S).includes(t)?S[t]:S[se]}function tt(t){const e=Object.values(S).find(n=>n.code===t);return e||S[se]}function rt(t,e,n){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${e}`):t}var nt={},R={},Q;function ot(){if(Q)return R;Q=1,Object.defineProperty(R,"__esModule",{value:!0}),R.isBrowserCryptoAvailable=R.getSubtleCrypto=R.getBrowerCrypto=void 0;function t(){return(A===null||A===void 0?void 0:A.crypto)||(A===null||A===void 0?void 0:A.msCrypto)||{}}R.getBrowerCrypto=t;function e(){const a=t();return a.subtle||a.webkitSubtle}R.getSubtleCrypto=e;function n(){return!!t()&&!!e()}return R.isBrowserCryptoAvailable=n,R}var _={},K;function st(){if(K)return _;K=1,Object.defineProperty(_,"__esModule",{value:!0}),_.isBrowser=_.isNode=_.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}_.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}_.isNode=e;function n(){return!t()&&!e()}return _.isBrowser=n,_}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=we;e.__exportStar(ot(),t),e.__exportStar(st(),t)})(nt);function ie(t=3){const e=Date.now()*Math.pow(10,t),n=Math.floor(Math.random()*Math.pow(10,t));return e+n}function it(t=6){return BigInt(ie(t))}function at(t,e,n){return{id:n||ie(),jsonrpc:"2.0",method:t,params:e}}function Ct(t,e){return{id:t,jsonrpc:"2.0",result:e}}function ct(t,e,n){return{id:t,jsonrpc:"2.0",error:ft(e,n)}}function ft(t,e){return typeof t>"u"?X(oe):(typeof t=="string"&&(t=Object.assign(Object.assign({},X(q)),{message:t})),typeof e<"u"&&(t.data=e),et(t.code)&&(t=tt(t.code)),t)}class ae{}class Dt extends ae{constructor(e){super()}}class ut extends ae{constructor(){super()}}class ht extends ut{constructor(e){super()}}const dt="^https?:",lt="^wss?:";function pt(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function ce(t,e){const n=pt(t);return typeof n>"u"?!1:new RegExp(e).test(n)}function Y(t){return ce(t,dt)}function Pt(t){return ce(t,lt)}function St(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function fe(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function xt(t){return fe(t)&&"method"in t}function gt(t){return fe(t)&&(yt(t)||ue(t))}function yt(t){return"result"in t}function ue(t){return"error"in t}class Lt extends ht{constructor(e){super(e),this.events=new re.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async request(e,n){return this.requestStrict(at(e.method,e.params||[],it().toString()),n)}async requestStrict(e,n){return new Promise(async(a,c)=>{if(!this.connection.connected)try{await this.open()}catch(s){c(s)}this.events.on(`${e.id}`,s=>{ue(s)?c(s.error):a(s.result)});try{await this.connection.send(e,n)}catch(s){c(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),gt(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}}var B={},mt={get exports(){return B},set exports(t){B=t}};(function(t,e){var n=typeof self<"u"?self:A,a=function(){function s(){this.fetch=!1,this.DOMException=n.DOMException}return s.prototype=n,new s}();(function(s){(function(d){var p={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function F(r){return r&&DataView.prototype.isPrototypeOf(r)}if(p.arrayBuffer)var M=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],$=ArrayBuffer.isView||function(r){return r&&M.indexOf(Object.prototype.toString.call(r))>-1};function y(r){if(typeof r!="string"&&(r=String(r)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(r))throw new TypeError("Invalid character in header field name");return r.toLowerCase()}function w(r){return typeof r!="string"&&(r=String(r)),r}function v(r){var o={next:function(){var i=r.shift();return{done:i===void 0,value:i}}};return p.iterable&&(o[Symbol.iterator]=function(){return o}),o}function h(r){this.map={},r instanceof h?r.forEach(function(o,i){this.append(i,o)},this):Array.isArray(r)?r.forEach(function(o){this.append(o[0],o[1])},this):r&&Object.getOwnPropertyNames(r).forEach(function(o){this.append(o,r[o])},this)}h.prototype.append=function(r,o){r=y(r),o=w(o);var i=this.map[r];this.map[r]=i?i+", "+o:o},h.prototype.delete=function(r){delete this.map[y(r)]},h.prototype.get=function(r){return r=y(r),this.has(r)?this.map[r]:null},h.prototype.has=function(r){return this.map.hasOwnProperty(y(r))},h.prototype.set=function(r,o){this.map[y(r)]=w(o)},h.prototype.forEach=function(r,o){for(var i in this.map)this.map.hasOwnProperty(i)&&r.call(o,this.map[i],i,this)},h.prototype.keys=function(){var r=[];return this.forEach(function(o,i){r.push(i)}),v(r)},h.prototype.values=function(){var r=[];return this.forEach(function(o){r.push(o)}),v(r)},h.prototype.entries=function(){var r=[];return this.forEach(function(o,i){r.push([i,o])}),v(r)},p.iterable&&(h.prototype[Symbol.iterator]=h.prototype.entries);function b(r){if(r.bodyUsed)return Promise.reject(new TypeError("Already read"));r.bodyUsed=!0}function l(r){return new Promise(function(o,i){r.onload=function(){o(r.result)},r.onerror=function(){i(r.error)}})}function O(r){var o=new FileReader,i=l(o);return o.readAsArrayBuffer(r),i}function x(r){var o=new FileReader,i=l(o);return o.readAsText(r),i}function I(r){for(var o=new Uint8Array(r),i=new Array(o.length),m=0;m<o.length;m++)i[m]=String.fromCharCode(o[m]);return i.join("")}function J(r){if(r.slice)return r.slice(0);var o=new Uint8Array(r.byteLength);return o.set(new Uint8Array(r)),o.buffer}function W(){return this.bodyUsed=!1,this._initBody=function(r){this._bodyInit=r,r?typeof r=="string"?this._bodyText=r:p.blob&&Blob.prototype.isPrototypeOf(r)?this._bodyBlob=r:p.formData&&FormData.prototype.isPrototypeOf(r)?this._bodyFormData=r:p.searchParams&&URLSearchParams.prototype.isPrototypeOf(r)?this._bodyText=r.toString():p.arrayBuffer&&p.blob&&F(r)?(this._bodyArrayBuffer=J(r.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):p.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(r)||$(r))?this._bodyArrayBuffer=J(r):this._bodyText=r=Object.prototype.toString.call(r):this._bodyText="",this.headers.get("content-type")||(typeof r=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):p.searchParams&&URLSearchParams.prototype.isPrototypeOf(r)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},p.blob&&(this.blob=function(){var r=b(this);if(r)return r;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?b(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(O)}),this.text=function(){var r=b(this);if(r)return r;if(this._bodyBlob)return x(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(I(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},p.formData&&(this.formData=function(){return this.text().then(le)}),this.json=function(){return this.text().then(JSON.parse)},this}var he=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function de(r){var o=r.toUpperCase();return he.indexOf(o)>-1?o:r}function T(r,o){o=o||{};var i=o.body;if(r instanceof T){if(r.bodyUsed)throw new TypeError("Already read");this.url=r.url,this.credentials=r.credentials,o.headers||(this.headers=new h(r.headers)),this.method=r.method,this.mode=r.mode,this.signal=r.signal,!i&&r._bodyInit!=null&&(i=r._bodyInit,r.bodyUsed=!0)}else this.url=String(r);if(this.credentials=o.credentials||this.credentials||"same-origin",(o.headers||!this.headers)&&(this.headers=new h(o.headers)),this.method=de(o.method||this.method||"GET"),this.mode=o.mode||this.mode||null,this.signal=o.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}T.prototype.clone=function(){return new T(this,{body:this._bodyInit})};function le(r){var o=new FormData;return r.trim().split("&").forEach(function(i){if(i){var m=i.split("="),g=m.shift().replace(/\+/g," "),f=m.join("=").replace(/\+/g," ");o.append(decodeURIComponent(g),decodeURIComponent(f))}}),o}function pe(r){var o=new h,i=r.replace(/\r?\n[\t ]+/g," ");return i.split(/\r?\n/).forEach(function(m){var g=m.split(":"),f=g.shift().trim();if(f){var L=g.join(":").trim();o.append(f,L)}}),o}W.call(T.prototype);function E(r,o){o||(o={}),this.type="default",this.status=o.status===void 0?200:o.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in o?o.statusText:"OK",this.headers=new h(o.headers),this.url=o.url||"",this._initBody(r)}W.call(E.prototype),E.prototype.clone=function(){return new E(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},E.error=function(){var r=new E(null,{status:0,statusText:""});return r.type="error",r};var ge=[301,302,303,307,308];E.redirect=function(r,o){if(ge.indexOf(o)===-1)throw new RangeError("Invalid status code");return new E(null,{status:o,headers:{location:r}})},d.DOMException=s.DOMException;try{new d.DOMException}catch{d.DOMException=function(o,i){this.message=o,this.name=i;var m=Error(o);this.stack=m.stack},d.DOMException.prototype=Object.create(Error.prototype),d.DOMException.prototype.constructor=d.DOMException}function N(r,o){return new Promise(function(i,m){var g=new T(r,o);if(g.signal&&g.signal.aborted)return m(new d.DOMException("Aborted","AbortError"));var f=new XMLHttpRequest;function L(){f.abort()}f.onload=function(){var P={status:f.status,statusText:f.statusText,headers:pe(f.getAllResponseHeaders()||"")};P.url="responseURL"in f?f.responseURL:P.headers.get("X-Request-URL");var U="response"in f?f.response:f.responseText;i(new E(U,P))},f.onerror=function(){m(new TypeError("Network request failed"))},f.ontimeout=function(){m(new TypeError("Network request failed"))},f.onabort=function(){m(new d.DOMException("Aborted","AbortError"))},f.open(g.method,g.url,!0),g.credentials==="include"?f.withCredentials=!0:g.credentials==="omit"&&(f.withCredentials=!1),"responseType"in f&&p.blob&&(f.responseType="blob"),g.headers.forEach(function(P,U){f.setRequestHeader(U,P)}),g.signal&&(g.signal.addEventListener("abort",L),f.onreadystatechange=function(){f.readyState===4&&g.signal.removeEventListener("abort",L)}),f.send(typeof g._bodyInit>"u"?null:g._bodyInit)})}return N.polyfill=!0,s.fetch||(s.fetch=N,s.Headers=h,s.Request=T,s.Response=E),d.Headers=h,d.Request=T,d.Response=E,d.fetch=N,Object.defineProperty(d,"__esModule",{value:!0}),d})({})})(a),a.fetch.ponyfill=!0,delete a.fetch.polyfill;var c=a;e=c.fetch,e.default=c.fetch,e.fetch=c.fetch,e.Headers=c.Headers,e.Request=c.Request,e.Response=c.Response,t.exports=e})(mt,B);const Z=me(B),vt={Accept:"application/json","Content-Type":"application/json"},wt="POST",ee={headers:vt,method:wt},te=10;class Bt{constructor(e){if(this.url=e,this.events=new re.EventEmitter,this.isAvailable=!1,this.registering=!1,!Y(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e,n){this.isAvailable||await this.register();try{const a=z(e),s=await(await Z(this.url,Object.assign(Object.assign({},ee),{body:a}))).json();this.onPayload({data:s})}catch(a){this.onError(e.id,a)}}async register(e=this.url){if(!Y(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((a,c)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),c(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return c(new Error("HTTP connection is missing or invalid"));a()})})}this.url=e,this.registering=!0;try{const n=z({id:1,jsonrpc:"2.0",method:"test",params:[]});await Z(e,Object.assign(Object.assign({},ee),{body:n})),this.onOpen()}catch(n){const a=this.parseError(n);throw this.events.emit("register_error",a),this.onClose(),a}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?ze(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const a=this.parseError(n),c=a.message||a.toString(),s=ct(e,c);this.events.emit("payload",s)}parseError(e,n=this.url){return rt(e,n,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>te&&this.events.setMaxListeners(te)}}export{De as A,Le as B,Ie as C,Ue as D,He as E,ie as F,Bt as H,Dt as I,Lt as J,_t as a,Fe as b,Ae as c,Ot as d,Se as e,At as f,$e as g,z as h,Pt as i,nt as j,St as k,ze as l,ct as m,xt as n,Ct as o,rt as p,yt as q,we as r,Tt as s,ue as t,gt as u,at as v,Ee as w,be as x,Re as y,Oe as z};
