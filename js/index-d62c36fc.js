import{u as c,s as I,L as x,v as E,i as A,c as b,e as B,g as j,f as F,h as J,b as X,w as N,x as P,q as V,r as $,I as _,N as O}from"./codemirror-129216e5.js";import"./use-save-confirm-f2ef0770.js";import"./index-b99e499e.js";import"./toggle-787e23ef.js";import"./use-react-5456aa13.js";import"./throttle-593fe371.js";import"./FormItem-2477962f.js";import"./Form-eb67836e.js";import"./InputNumber-34647ff3.js";import"./Remove-11cc5a34.js";import"./Add-73e1d13d.js";import"./Switch-76b16329.js";import"./Select-11727ae9.js";import"./Tag-3f8dfd3a.js";const R=[c("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),c("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),c("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),c("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),c("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),c(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),c("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),c(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),c(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),c('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),c('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],w=new O,D=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function p(e){return(t,r)=>{let n=t.node.getChild("VariableDefinition");return n&&r(n,e),!0}}const M=["FunctionDeclaration"],W={FunctionDeclaration:p("function"),ClassDeclaration:p("class"),ClassExpression:()=>!0,EnumDeclaration:p("constant"),TypeAliasDeclaration:p("type"),NamespaceDeclaration:p("namespace"),VariableDefinition(e,t){e.matchContext(M)||t(e,"variable")},TypeDefinition(e,t){t(e,"type")},__proto__:null};function T(e,t){let r=w.get(t);if(r)return r;let n=[],o=!0;function s(a,i){let d=e.sliceString(a.from,a.to);n.push({label:d,type:i})}return t.cursor(_.IncludeAnonymous).iterate(a=>{if(o)o=!1;else if(a.name){let i=W[a.name];if(i&&i(a,s)||D.has(a.name))return!1}else if(a.to-a.from>8192){for(let i of T(e,a.node))n.push(i);return!1}}),w.set(t,n),n}const k=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,L=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName"];function q(e){let t=I(e.state).resolveInner(e.pos,-1);if(L.indexOf(t.name)>-1)return null;let r=t.to-t.from<20&&k.test(e.state.sliceDoc(t.from,t.to));if(!r&&!e.explicit)return null;let n=[];for(let o=t;o;o=o.parent)D.has(o.name)&&(n=n.concat(T(e.state.doc,o)));return{options:n,from:r?t.from:e.pos,validFor:k}}const m=x.define({parser:E.configure({props:[A.add({IfStatement:b({except:/^\s*({|else\b)/}),TryStatement:b({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:B,SwitchBody:e=>{let t=e.textAfter,r=/^\s*\}/.test(t),n=/^\s*(case|default)\b/.test(t);return e.baseIndent+(r?0:n?1:2)*e.unit},Block:j({closing:"}"}),ArrowFunction:e=>e.baseIndent+e.unit,"TemplateString BlockComment":()=>-1,"Statement Property":b({except:/^{/}),JSXElement(e){let t=/^\s*<\//.test(e.textAfter);return e.lineIndent(e.node.from)+(t?0:e.unit)},JSXEscape(e){let t=/\s*\}/.test(e.textAfter);return e.lineIndent(e.node.from)+(t?0:e.unit)},"JSXOpenTag JSXSelfClosingTag"(e){return e.column(e.node.from)+e.unit}}),F.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression":J,BlockComment(e){return{from:e.from+2,to:e.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),H=m.configure({dialect:"ts"}),z=m.configure({dialect:"jsx"}),G=m.configure({dialect:"jsx ts"}),K="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(e=>({label:e,type:"keyword"}));function ue(e={}){let t=e.jsx?e.typescript?G:z:e.typescript?H:m;return new X(t,[m.data.of({autocomplete:N(L,P(R.concat(K)))}),m.data.of({autocomplete:q}),e.jsx?U:[]])}function v(e,t,r=e.length){if(!t)return"";let n=t.getChild("JSXIdentifier");return n?e.sliceString(n.from,Math.min(n.to,r)):""}const Q=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),U=V.inputHandler.of((e,t,r,n)=>{if((Q?e.composing:e.compositionStarted)||e.state.readOnly||t!=r||n!=">"&&n!="/"||!m.isActiveAt(e.state,t,-1))return!1;let{state:o}=e,s=o.changeByRange(a=>{var i,d,u;let{head:l}=a,f=I(o).resolveInner(l,-1),y;if(f.name=="JSXStartTag"&&(f=f.parent),n==">"&&f.name=="JSXFragmentTag")return{range:$.cursor(l+1),changes:{from:l,insert:"><>"}};if(n==">"&&f.name=="JSXIdentifier"){if(((d=(i=f.parent)===null||i===void 0?void 0:i.lastChild)===null||d===void 0?void 0:d.name)!="JSXEndTag"&&(y=v(o.doc,f.parent,l)))return{range:$.cursor(l+1),changes:{from:l,insert:`></${y}>`}}}else if(n=="/"&&f.name=="JSXFragmentTag"){let g=f.parent,h=g?.parent;if(g.from==l-1&&((u=h.lastChild)===null||u===void 0?void 0:u.name)!="JSXEndTag"&&(y=v(o.doc,h?.firstChild,l))){let S=`/${y}>`;return{range:$.cursor(l+S.length),changes:{from:l,insert:S}}}}return{range:a}});return s.changes.empty?!1:(e.dispatch(s,{userEvent:"input.type",scrollIntoView:!0}),!0)});function pe(e,t){return t||(t={parserOptions:{ecmaVersion:2019,sourceType:"module"},env:{browser:!0,node:!0,es6:!0,es2015:!0,es2017:!0,es2020:!0},rules:{}},e.getRules().forEach((r,n)=>{r.meta.docs.recommended&&(t.rules[n]=2)})),r=>{let{state:n}=r,o=[];for(let{from:s,to:a}of m.findRegions(n)){let i=n.doc.lineAt(s),d={line:i.number-1,col:s-i.from,pos:s};for(let u of e.verify(n.sliceDoc(s,a),t))o.push(Y(u,n.doc,d))}return o}}function C(e,t,r,n){return r.line(e+n.line).from+t+(e==1?n.col-1:-1)}function Y(e,t,r){let n=C(e.line,e.column,t,r),o={from:n,to:e.endLine!=null&&e.endColumn!=1?C(e.endLine,e.endColumn,t,r):n,message:e.message,source:e.ruleId?"jshint:"+e.ruleId:"jshint",severity:e.severity==1?"warning":"error"};if(e.fix){let{range:s,text:a}=e.fix,i=s[0]+r.pos-n,d=s[1]+r.pos-n;o.actions=[{name:"fix",apply(u,l){u.dispatch({changes:{from:l+i,to:l+d,insert:a},scrollIntoView:!0})}}]}return o}export{U as autoCloseTags,pe as esLint,ue as javascript,m as javascriptLanguage,z as jsxLanguage,q as localCompletionSource,R as snippets,G as tsxLanguage,H as typescriptLanguage};
