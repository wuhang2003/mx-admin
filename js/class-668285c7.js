import{gm as h6,bK as p6,gn as Tb,go as m6,gp as y6,cX as b6,d0 as x6,gq as g6,gr as md,gs as Mb,gt as v6,gu as w6,gv as _6,gw as Mp,gx as A6,ag as Wn,_ as E6,dr as rr,n as Ke,gy as kb,R as Uc}from"./index-804307be.js";import{l as T6}from"./last-862de5a8.js";import{s as M6}from"./confetti-fa4954ff.js";function k6(){}function I6(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}function S6(t){return t!==t}function C6(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}function N6(t,e,r){return e===e?C6(t,e,r):I6(t,S6,r)}function R6(t,e){var r=t==null?0:t.length;return!!r&&N6(t,e,0)>-1}function P6(t,e,r,n){for(var i=-1,a=t==null?0:t.length;++i<a;){var s=t[i];e(n,s,r(s),t)}return n}function O6(t,e,r,n){return h6(t,function(i,a,s){e(n,i,r(i),s)}),n}function B6(t,e){return function(r,n){var i=p6(r)?P6:O6,a=e?e():{};return i(r,t,Tb(n),a)}}var L6=m6(function(t,e,r,n){y6(t,e,r,n)});const Ib=L6;function D6(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}function F6(t,e){return b6(e,function(r){return t[r]})}function Sb(t){return t==null?[]:F6(t,x6(t))}var U6=B6(function(t,e,r){g6(t,r,e)});const gu=U6;var $6=1/0,H6=md&&1/Mb(new md([,-0]))[1]==$6?function(t){return new md(t)}:k6;const z6=H6;var q6=200;function Cb(t,e,r){var n=-1,i=R6,a=t.length,s=!0,o=[],c=o;if(r)s=!1,i=D6;else if(a>=q6){var f=e?null:z6(t);if(f)return Mb(f);s=!1,i=w6,c=new v6}else c=e?[]:o;e:for(;++n<a;){var l=t[n],x=e?e(l):l;if(l=r||l!==0?l:0,s&&x===x){for(var A=c.length;A--;)if(c[A]===x)continue e;e&&c.push(x),o.push(l)}else i(c,x,r)||(c!==o&&c.push(x),o.push(l))}return o}var j6=_6(function(t){var e=T6(t);return Mp(e)&&(e=void 0),Cb(A6(t,1,Mp,!0),Tb(e))});const Nb=j6;function Rb(t,e){return e=typeof e=="function"?e:void 0,t&&t.length?Cb(t,void 0,e):[]}var Pb={};function Tn(t,e){typeof e=="boolean"&&(e={forever:e}),this._originalTimeouts=JSON.parse(JSON.stringify(t)),this._timeouts=t,this._options=e||{},this._maxRetryTime=e&&e.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var K6=Tn;Tn.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};Tn.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};Tn.prototype.retry=function(t){if(this._timeout&&clearTimeout(this._timeout),!t)return!1;var e=new Date().getTime();if(t&&e-this._operationStart>=this._maxRetryTime)return this._errors.push(t),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(t);var r=this._timeouts.shift();if(r===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1);else return!1;var n=this;return this._timer=setTimeout(function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout(function(){n._operationTimeoutCb(n._attempts)},n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)},r),this._options.unref&&this._timer.unref(),!0};Tn.prototype.attempt=function(t,e){this._fn=t,e&&(e.timeout&&(this._operationTimeout=e.timeout),e.cb&&(this._operationTimeoutCb=e.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){r._operationTimeoutCb()},r._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};Tn.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated"),this.attempt(t)};Tn.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated"),this.attempt(t)};Tn.prototype.start=Tn.prototype.try;Tn.prototype.errors=function(){return this._errors};Tn.prototype.attempts=function(){return this._attempts};Tn.prototype.mainError=function(){if(this._errors.length===0)return null;for(var t={},e=null,r=0,n=0;n<this._errors.length;n++){var i=this._errors[n],a=i.message,s=(t[a]||0)+1;t[a]=s,s>=r&&(e=i,r=s)}return e};(function(t){var e=K6;t.operation=function(r){var n=t.timeouts(r);return new e(n,{forever:r&&(r.forever||r.retries===1/0),unref:r&&r.unref,maxRetryTime:r&&r.maxRetryTime})},t.timeouts=function(r){if(r instanceof Array)return[].concat(r);var n={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var i in r)n[i]=r[i];if(n.minTimeout>n.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var a=[],s=0;s<n.retries;s++)a.push(this.createTimeout(s,n));return r&&r.forever&&!a.length&&a.push(this.createTimeout(s,n)),a.sort(function(o,c){return o-c}),a},t.createTimeout=function(r,n){var i=n.randomize?Math.random()+1:1,a=Math.round(i*Math.max(n.minTimeout,1)*Math.pow(n.factor,r));return a=Math.min(a,n.maxTimeout),a},t.wrap=function(r,n,i){if(n instanceof Array&&(i=n,n=null),!i){i=[];for(var a in r)typeof r[a]=="function"&&i.push(a)}for(var s=0;s<i.length;s++){var o=i[s],c=r[o];r[o]=function(l){var x=t.operation(n),A=Array.prototype.slice.call(arguments,1),S=A.pop();A.push(function(M){x.retry(M)||(M&&(arguments[0]=x.mainError()),S.apply(this,arguments))}),x.attempt(function(){l.apply(r,A)})}.bind(r,c),r[o].options=n}}})(Pb);var G6=Pb,V6=G6;function W6(t,e){function r(n,i){var a=e||{},s;"randomize"in a||(a.randomize=!0),s=V6.operation(a);function o(l){i(l||new Error("Aborted"))}function c(l,x){if(l.bail){o(l);return}s.retry(l)?a.onRetry&&a.onRetry(l,x):i(s.mainError())}function f(l){var x;try{x=t(o,l)}catch(A){c(A,l);return}Promise.resolve(x).then(n).catch(function(S){c(S,l)})}s.attempt(f)}return new Promise(r)}var J6=W6;const Oo=Wn(J6);var Ob=["https://4everland.xyz/ipfs/{cid}{pathToResource}","https://w3s.link/ipfs/{cid}{pathToResource}","https://ipfs.io/ipfs/{cid}{pathToResource}","https://dweb.link/ipfs/{cid}{pathToResource}","https://cf-ipfs.com/ipfs/{cid}{pathToResource}"],Bb=/^ipfs:\/\/([^/]+)(.*)$/;function Y6(t){let[,e="",r=""]=Bb.exec(t)??[];return e?{cid:e,pathToResource:r}:null}function Z6(t,e){let r=(()=>e.pathToResource===""||e.pathToResource.startsWith("/")?e.pathToResource:`/${e.pathToResource}`)();return t.replace(/{cid}/g,e.cid).replace(/\/?{pathToResource}/g,r)}function Q6(t,e=Ob){let r=Y6(t);return r?e.map(n=>({gateway:n,url:Z6(n,r)})):[]}function X6(t){return Bb.test(t)}var ew=(t=>(t.allFailed="ipfsFetch all failed",t))(ew||{}),tw=class extends Error{constructor(e,r,n){super(e),this.url=r,this.web2InfoList=n}name="IpfsFetchError"},rw=new Promise(()=>{});function nw(t,{gateways:e=Ob,signal:r,...n}={}){let i=Q6(t,e),a=new Set,s=0;return Promise.race(i.map(o=>{let c=new AbortController;a.add(c),r?.addEventListener("abort",()=>c.abort());let f=()=>(s+=1,s>=i.length?Promise.reject(new tw("ipfsFetch all failed",t,i)):rw);return fetch(o.url,{...n,signal:c.signal}).then(l=>l.ok?(a.delete(c),Object.assign(l,{_info:o})):f()).catch(l=>l instanceof Error&&l.name==="AbortError"?Promise.reject(l):f())})).finally(()=>{a.forEach(o=>o.abort()),a.clear()})}function iw(t){return Oo(async()=>await fetch("https://ipfs-relay.crossbell.io/json",{method:"POST",body:JSON.stringify(t)}).then(r=>r.json()),{retries:3})}async function aw(t){const e=await iw(t);if(!e?.url?.startsWith("ipfs://"))throw new Error("upload to IPFS failed");return e.url}function K0(t){return Oo(async()=>{if(X6(t)){const r=await nw(t).then(n=>n.text());try{return JSON.parse(r)}catch{throw new Error(`Failed to parse metadata from uri: ${t}`)}}let e;try{return e=await fetch(t).then(r=>r.text()),e=JSON.parse(e),e}catch{throw new Error(`Failed to fetch metadata from uri: ${t} . Response: ${e}`)}},{retries:3})}async function Qi(t,e,r=!1){if(e==="")return{uri:"",metadata:void 0};let n,i;return typeof e=="string"?(n=e,i=r?await K0(n):void 0):(i=e,i.type||(i.type=t),n=await aw(i)),{metadata:i,uri:n}}var sw={id:3737,network:"crossbell",name:"Crossbell",nativeCurrency:{decimals:18,name:"CSB",symbol:"CSB"},rpcUrls:{default:{http:["https://rpc.crossbell.io"]},public:{http:["https://rpc.crossbell.io"]}},blockExplorers:{default:{name:"CrossScan",url:"https://scan.crossbell.io"}},contracts:{multicall3:{address:"0xBB9759009cDaC82774EfC84D94cD9F7440f75Fcf",blockCreated:23499787}}};const ow="0.3.13",cw=t=>t,Qu=t=>t,uw=()=>`viem@${ow}`;class ne extends Error{constructor(e,r={}){super(),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ViemError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:uw()});const n=r.cause instanceof ne?r.cause.details:r.cause?.message?r.cause.message:r.details,i=r.cause instanceof ne&&r.cause.docsPath||r.docsPath;this.message=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...i?[`Docs: https://viem.sh${i}.html${r.docsSlug?`#${r.docsSlug}`:""}`]:[],...n?[`Details: ${n}`]:[],`Version: ${this.version}`].join(`
`),r.cause&&(this.cause=r.cause),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.shortMessage=e}}class fw extends ne{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorNotFoundError"})}}class kp extends ne{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorParamsNotFoundError"})}}class dw extends ne{constructor({data:e,size:r}){super([`Data size of ${r} bytes is invalid.`,"Size must be in increments of 32 bytes (size % 32 === 0)."].join(`
`),{metaMessages:[`Data: ${e} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingDataSizeInvalidError"})}}class Lb extends ne{constructor({data:e,params:r,size:n}){super([`Data size of ${n} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${af(r,{includeName:!0})})`,`Data:   ${e} (${n} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=r,this.size=n}}class Xu extends ne{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingZeroDataError"})}}class lw extends ne{constructor({expectedLength:e,givenLength:r,type:n}){super([`ABI encoding array length mismatch for type ${n}.`,`Expected length: ${e}`,`Given length: ${r}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingArrayLengthMismatchError"})}}class hw extends ne{constructor({expectedSize:e,value:r}){super(`Size of bytes "${r}" (bytes${ur(r)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingBytesSizeMismatchError"})}}class Db extends ne{constructor({expectedLength:e,givenLength:r}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${r}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingLengthMismatchError"})}}class pw extends ne{constructor(e,{docsPath:r}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiErrorSignatureNotFoundError"})}}class mw extends ne{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureEmptyTopicsError"})}}class yw extends ne{constructor(e,{docsPath:r}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureNotFoundError"})}}class bw extends ne{constructor(e,{docsPath:r}){super([`Event "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventNotFoundError"})}}class Fb extends ne{constructor(e,{docsPath:r}){super([`Function "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionNotFoundError"})}}class xw extends ne{constructor(e,{docsPath:r}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionOutputsNotFoundError"})}}class Ub extends ne{constructor({expectedSize:e,givenSize:r}){super(`Expected bytes${e}, got bytes${r}.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytesSizeMismatchError"})}}class gw extends ne{constructor({data:e,params:r,size:n}){super([`Data size of ${n} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:["This error is usually caused if the ABI event has too many non-indexed event parameters for the emitted log.","",`Params: (${af(r,{includeName:!0})})`,`Data:   ${e} (${n} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogDataMismatch"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=r,this.size=n}}class vw extends ne{constructor({abiItem:e,param:r}){super([`Expected a topic for indexed event parameter${r.name?` "${r.name}"`:""} on event "${Wa(e,{includeName:!0})}".`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogTopicsMismatch"})}}class ww extends ne{constructor(e,{docsPath:r}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiEncodingType"})}}class _w extends ne{constructor(e,{docsPath:r}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiDecodingType"})}}class Aw extends ne{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidArrayError"})}}class Ew extends ne{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidDefinitionTypeError"})}}class Tw extends ne{constructor(e){super(`Type "${e}" is not supported for packed encoding.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedPackedAbiType"})}}class mc extends ne{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the WalletClient."].join(`
`),{docsPath:e,docsSlug:"account"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountNotFoundError"})}}class Wr extends ne{constructor({address:e}){super(`Address "${e}" is invalid.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"})}}class Mw extends ne{constructor({blockHash:e,blockNumber:r}){let n="Block";e&&(n=`Block at hash "${e}"`),r&&(n=`Block at number "${r}"`),super(`${n} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlockNotFoundError"})}}class gl extends ne{constructor({blockNumber:e,chain:r,contract:n}){super(`Chain "${r.name}" does not support contract "${n.name}".`,{metaMessages:["This could be due to any of the following:",...e&&n.blockCreated&&n.blockCreated>e?[`- The contract "${n.name}" was not deployed until block ${n.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${n.name}" configured.`]]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDoesNotSupportContract"})}}class kw extends ne{constructor({chain:e,currentChainId:r}){super(`The current chain of the wallet (id: ${r}) does not match the target chain for the transaction (id: ${e.id} – ${e.name}).`,{metaMessages:[`Current Chain ID:  ${r}`,`Expected Chain ID: ${e.id} – ${e.name}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainMismatchError"})}}class Iw extends ne{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotFoundError"})}}class $b extends ne{constructor(){super("No chain was provided to the Client."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ClientChainNotConfiguredError"})}}class G0 extends ne{constructor({chainId:e}){super(`Chain ID "${e}" is invalid.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidChainIdError"})}}const vl=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],Hb=[{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],Ip=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],Sp=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]}],Sw="0x82ad56cb",zb={1:"An `assert` condition failed.",17:"Arithmic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Cw={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Nw={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"},Rw={gwei:9,wei:18},qb={ether:-9,wei:9};function yc(t){const e=Object.entries(t).map(([n,i])=>i===void 0||i===!1?null:[n,i]).filter(Boolean),r=e.reduce((n,[i])=>Math.max(n,i.length),0);return e.map(([n,i])=>`  ${`${n}:`.padEnd(r+1)}  ${i}`).join(`
`)}class Pw extends ne{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeConflictError"})}}class Ow extends ne{constructor({v:e}){super(`Invalid \`v\` value "${e}". Expected 27 or 28.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidLegacyVError"})}}class Bw extends ne{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",yc(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- a Legacy Transaction with `gasPrice`"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSerializableTransactionError"})}}class Lw extends ne{constructor({storageKey:e}){super(`Size for storage key "${e}" is invalid. Expected 32 bytes. Got ${Math.floor((e.length-2)/2)} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStorageKeySizeError"})}}class Dw extends ne{constructor(e,{account:r,docsPath:n,chain:i,data:a,gas:s,gasPrice:o,maxFeePerGas:c,maxPriorityFeePerGas:f,nonce:l,to:x,value:A}){const S=yc({chain:i&&`${i?.name} (id: ${i?.id})`,from:r?.address,to:x,value:typeof A<"u"&&`${mh(A)} ${i?.nativeCurrency.symbol||"ETH"}`,data:a,gas:s,gasPrice:typeof o<"u"&&`${fn(o)} gwei`,maxFeePerGas:typeof c<"u"&&`${fn(c)} gwei`,maxPriorityFeePerGas:typeof f<"u"&&`${fn(f)} gwei`,nonce:l});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",S].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionExecutionError"}),this.cause=e}}class jb extends ne{constructor({blockHash:e,blockNumber:r,blockTag:n,hash:i,index:a}){let s="Transaction";n&&a!==void 0&&(s=`Transaction at block time "${n}" at index "${a}"`),e&&a!==void 0&&(s=`Transaction at block hash "${e}" at index "${a}"`),r&&a!==void 0&&(s=`Transaction at block number "${r}" at index "${a}"`),i&&(s=`Transaction with hash "${i}"`),super(`${s} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionNotFoundError"})}}class Kb extends ne{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionReceiptNotFoundError"})}}class Fw extends ne{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WaitForTransactionReceiptTimeoutError"})}}class Gb extends ne{constructor(e,{account:r,docsPath:n,chain:i,data:a,gas:s,gasPrice:o,maxFeePerGas:c,maxPriorityFeePerGas:f,nonce:l,to:x,value:A}){const S=r?Jn(r):void 0,M=yc({from:S?.address,to:x,value:typeof A<"u"&&`${mh(A)} ${i?.nativeCurrency.symbol||"ETH"}`,data:a,gas:s,gasPrice:typeof o<"u"&&`${fn(o)} gwei`,maxFeePerGas:typeof c<"u"&&`${fn(c)} gwei`,maxPriorityFeePerGas:typeof f<"u"&&`${fn(f)} gwei`,nonce:l});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",M].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CallExecutionError"}),this.cause=e}}class Vb extends ne{constructor(e,{abi:r,args:n,contractAddress:i,docsPath:a,functionName:s,sender:o}){const c=vc({abi:r,args:n,name:s}),f=c?w1({abiItem:c,args:n,includeFunctionName:!1,includeName:!1}):void 0,l=c?Wa(c,{includeName:!0}):void 0,x=yc({address:i&&cw(i),function:l,args:f&&f!=="()"&&`${[...Array(s?.length??0).keys()].map(()=>" ").join("")}${f}`,sender:o});super(e.shortMessage||`An unknown error occurred while executing the contract function "${s}".`,{cause:e,docsPath:a,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Contract Call:",x].filter(Boolean)}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionExecutionError"}),this.abi=r,this.args=n,this.cause=e,this.contractAddress=i,this.functionName=s,this.sender=o}}class Uw extends ne{constructor({abi:e,data:r,functionName:n,message:i}){let a,s,o;if(r&&r!=="0x"){a=C5({abi:e,data:r});const{abiItem:c,errorName:f,args:l}=a;if(f==="Error")o=l[0];else if(f==="Panic"){const[x]=l;o=zb[x]}else if(l){const x=c?Wa(c,{includeName:!0}):void 0,A=c?w1({abiItem:c,args:l,includeFunctionName:!1,includeName:!1}):void 0;s=[x?`Error: ${x}`:"",A&&A!=="()"?`       ${[...Array(f?.length??0).keys()].map(()=>" ").join("")}${A}`:""]}}else i&&(o=i);super(o&&o!=="execution reverted"?[`The contract function "${n}" reverted with the following reason:`,o].join(`
`):`The contract function "${n}" reverted.`,{metaMessages:s}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.reason=o,this.data=a}}class $w extends ne{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionZeroDataError"})}}class V0 extends ne{constructor({data:e,message:r}){super(r||""),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RawContractError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}class Wb extends ne{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${r}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeExceedsPaddingSizeError"})}}class Hw extends ne{constructor({max:e,min:r,signed:n,size:i,value:a}){super(`Number "${a}" is not in safe ${i?`${i*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${r} to ${e})`:`(above ${r})`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntegerOutOfRangeError"})}}class zw extends ne{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidHexBooleanError"})}}class qw extends ne{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${e} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeOverflowError"})}}class jw extends ne{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidMetadataError"})}}class uo extends ne{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidNftUriError"})}}class W0 extends ne{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUriResolutionError"})}}class Kw extends ne{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUnsupportedNamespaceError"})}}class Jb extends ne{constructor(e,{account:r,docsPath:n,chain:i,data:a,gas:s,gasPrice:o,maxFeePerGas:c,maxPriorityFeePerGas:f,nonce:l,to:x,value:A}){const S=yc({from:r?.address,to:x,value:typeof A<"u"&&`${mh(A)} ${i?.nativeCurrency.symbol||"ETH"}`,data:a,gas:s,gasPrice:typeof o<"u"&&`${fn(o)} gwei`,maxFeePerGas:typeof c<"u"&&`${fn(c)} gwei`,maxPriorityFeePerGas:typeof f<"u"&&`${fn(f)} gwei`,nonce:l});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",S].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EstimateGasExecutionError"}),this.cause=e}}class Gw extends ne{constructor(e){super(`Filter type "${e}" is not supported.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FilterTypeNotSupportedError"})}}class xs extends ne{constructor({cause:e,message:r}={}){const n=r?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${n?`with reason: ${n}`:"for an unknown reason"}.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ExecutionRevertedError"})}}Object.defineProperty(xs,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(xs,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class Ua extends ne{constructor({cause:e,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${fn(r)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooHigh"})}}Object.defineProperty(Ua,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class wl extends ne{constructor({cause:e,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${fn(r)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooLow"})}}Object.defineProperty(wl,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class _l extends ne{constructor({cause:e,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}is higher than the next one expected.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooHighError"})}}Object.defineProperty(_l,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class Al extends ne{constructor({cause:e,nonce:r}={}){super([`Nonce provided for the transaction ${r?`(${r}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooLowError"})}}Object.defineProperty(Al,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported/});class El extends ne{constructor({cause:e,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}exceeds the maximum allowed nonce.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceMaxValueError"})}}Object.defineProperty(El,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class Tl extends ne{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InsufficientFundsError"})}}Object.defineProperty(Tl,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds/});class Ml extends ne{constructor({cause:e,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooHighError"})}}Object.defineProperty(Ml,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class kl extends ne{constructor({cause:e,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction is too low.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooLowError"})}}Object.defineProperty(kl,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class Il extends ne{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionTypeNotSupportedError"})}}Object.defineProperty(Il,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class qo extends ne{constructor({cause:e,maxPriorityFeePerGas:r,maxFeePerGas:n}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${r?` = ${fn(r)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${n?` = ${fn(n)} gwei`:""}).`].join(`
`),{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TipAboveFeeCapError"})}}Object.defineProperty(qo,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Vw extends ne{constructor({cause:e}){super(`An error occurred while executing: ${e?.message}`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownNodeError"})}}class Bo extends ne{constructor({body:e,details:r,headers:n,status:i,url:a}){super("HTTP request failed.",{details:r,metaMessages:[i&&`Status: ${i}`,`URL: ${Qu(a)}`,`Request body: ${sa(e)}`].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=n,this.status=i,this.url=a}}class Ww extends ne{constructor({body:e,details:r,url:n}){super("WebSocket request failed.",{details:r,metaMessages:[`URL: ${Qu(n)}`,`Request body: ${sa(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WebSocketRequestError"})}}class jo extends ne{constructor({body:e,error:r,url:n}){super("RPC Request failed.",{cause:r,details:r.message,metaMessages:[`URL: ${Qu(n)}`,`Request body: ${sa(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=r.code}}class Sl extends ne{constructor({body:e,url:r}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${Qu(r)}`,`Request body: ${sa(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TimeoutError"})}}const Jw=-1;class Qr extends ne{constructor(e,{code:r=Jw,docsPath:n,metaMessages:i,shortMessage:a}){super(a,{cause:e,docsPath:n,metaMessages:i||e?.metaMessages}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.code=e instanceof jo?e.code:r}}class Us extends Qr{constructor(e,r){super(e,r),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=r.data}}class Yw extends Qr{constructor(e){super(e,{code:-32700,shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ParseRpcError"})}}class Zw extends Qr{constructor(e){super(e,{code:-32600,shortMessage:"JSON is not a valid request object."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRequestRpcError"})}}class Qw extends Qr{constructor(e){super(e,{code:-32601,shortMessage:"The method does not exist / is not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotFoundRpcError"})}}class Xw extends Qr{constructor(e){super(e,{code:-32602,shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParamsRpcError"})}}class e3 extends Qr{constructor(e){super(e,{code:-32603,shortMessage:"An internal error was received."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalRpcError"})}}class Yb extends Qr{constructor(e){super(e,{code:-32e3,shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidInputRpcError"})}}class t3 extends Qr{constructor(e){super(e,{code:-32001,shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}class r3 extends Qr{constructor(e){super(e,{code:-32002,shortMessage:"Requested resource not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceUnavailableRpcError"})}}class Zb extends Qr{constructor(e){super(e,{code:-32003,shortMessage:"Transaction creation failed."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionRejectedRpcError"})}}class Cp extends Qr{constructor(e){super(e,{code:-32004,shortMessage:"Method is not implemented."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotSupportedRpcError"})}}class n3 extends Qr{constructor(e){super(e,{code:-32005,shortMessage:"Request exceeds defined limit."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"LimitExceededRpcError"})}}class i3 extends Qr{constructor(e){super(e,{code:-32006,shortMessage:"Version of JSON-RPC protocol is not supported."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"JsonRpcVersionUnsupportedError"})}}class a3 extends Us{constructor(e){super(e,{code:4001,shortMessage:"User rejected the request."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UserRejectedRequestError"})}}class s3 extends Us{constructor(e){super(e,{code:4100,shortMessage:"The requested method and/or account has not been authorized by the user."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnauthorizedProviderError"})}}class o3 extends Us{constructor(e){super(e,{code:4200,shortMessage:"The Provider does not support the requested method."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedProviderMethodError"})}}class c3 extends Us{constructor(e){super(e,{code:4900,shortMessage:"The Provider is disconnected from all chains."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderDisconnectedError"})}}class u3 extends Us{constructor(e){super(e,{code:4901,shortMessage:"The Provider is not connected to the requested chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDisconnectedError"})}}class f3 extends Us{constructor(e){super(e,{code:4902,shortMessage:"An error occurred when attempting to switch chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainError"})}}class d3 extends Qr{constructor(e){super(e,{shortMessage:"An unknown RPC error occurred."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownRpcError"})}}class Qb extends ne{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro"})}}function bc(t){return!t||typeof t!="string"?!1:/^0x[0-9a-fA-F]*$/.test(t)}function Ct(t,{dir:e,size:r=32}={}){return typeof t=="string"?ta(t,{dir:e,size:r}):l3(t,{dir:e,size:r})}function ta(t,{dir:e,size:r=32}={}){if(r===null)return t;const n=t.replace("0x","");if(n.length>r*2)throw new Wb({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[e==="right"?"padEnd":"padStart"](r*2,"0")}`}function l3(t,{dir:e,size:r=32}={}){if(r===null)return t;if(t.length>r)throw new Wb({size:t.length,targetSize:r,type:"bytes"});const n=new Uint8Array(r);for(let i=0;i<r;i++){const a=e==="right";n[a?i:r-i-1]=t[a?i:t.length-i-1]}return n}function ur(t){return bc(t)?Math.ceil((t.length-2)/2):t.length}function Mn(t){return typeof t[0]=="string"?xc(t):h3(t)}function h3(t){let e=0;for(const i of t)e+=i.length;const r=new Uint8Array(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return r}function xc(t){return`0x${t.reduce((e,r)=>e+r.replace("0x",""),"")}`}function Pa(t,{dir:e="left"}={}){let r=typeof t=="string"?t.replace("0x",""):t,n=0;for(let i=0;i<r.length-1&&r[e==="left"?i:r.length-i-1].toString()==="0";i++)n++;return r=e==="left"?r.slice(n):r.slice(0,r.length-n),typeof t=="string"?(r.length===1&&e==="right"&&(r=`${r}0`),`0x${r}`):r}function qt(t,e,r){return bc(t)?m3(t,e,r):p3(t,e,r)}function Xb(t,e){if(typeof e=="number"&&e>0&&e>ur(t)-1)throw new Error(`Slice starting at offset "${e}" is out-of-bounds (size: ${ur(t)}).`)}function p3(t,e,r){return Xb(t,e),t.slice(e,r)}function m3(t,e,r){return Xb(t,e),`0x${t.replace("0x","").slice((e??0)*2,(r??t.length)*2)}`}function la(t,{size:e}){if(ur(t)>e)throw new qw({givenSize:ur(t),maxSize:e})}function y3(t,e){const r=typeof e=="string"?{to:e}:e,n=r.to;return n==="number"?kr(t,r):n==="bigint"?Es(t,r):n==="string"?t1(t,r):n==="boolean"?e1(t,r):ef(t,r)}function Es(t,e={}){const{signed:r}=e;e.size&&la(t,{size:e.size});const n=BigInt(t);if(!r)return n;const i=(t.length-2)/2,a=(1n<<BigInt(i)*8n-1n)-1n;return n<=a?n:n-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function e1(t,e={}){let r=t;if(e.size&&(la(r,{size:e.size}),r=Pa(r)),Pa(r)==="0x0")return!1;if(Pa(r)==="0x1")return!0;throw new zw(r)}function kr(t,e={}){return Number(Es(t,e))}function t1(t,e={}){let r=ef(t);return e.size&&(la(r,{size:e.size}),r=Pa(r,{dir:"right"})),new TextDecoder().decode(r)}const b3=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Fe(t,e={}){return typeof t=="number"||typeof t=="bigint"?rt(t,e):typeof t=="string"?Y0(t,e):typeof t=="boolean"?J0(t,e):Ko(t,e)}function J0(t,e={}){const r=`0x${Number(t)}`;return typeof e.size=="number"?(la(r,{size:e.size}),Ct(r,{size:e.size})):r}function Ko(t,e={}){let r="";for(let i=0;i<t.length;i++)r+=b3[t[i]];const n=`0x${r}`;return typeof e.size=="number"?(la(n,{size:e.size}),Ct(n,{dir:"right",size:e.size})):n}function rt(t,e={}){const{signed:r,size:n}=e,i=BigInt(t);let a;n?r?a=(1n<<BigInt(n)*8n-1n)-1n:a=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(a=BigInt(Number.MAX_SAFE_INTEGER));const s=typeof a=="bigint"&&r?-a-1n:0;if(a&&i>a||i<s){const c=typeof t=="bigint"?"n":"";throw new Hw({max:a?`${a}${c}`:void 0,min:`${s}${c}`,signed:r,size:n,value:`${t}${c}`})}const o=`0x${(r&&i<0?(1n<<BigInt(n*8))+BigInt(i):i).toString(16)}`;return n?Ct(o,{size:n}):o}const x3=new TextEncoder;function Y0(t,e={}){const r=x3.encode(t);return Ko(r,e)}const g3=new TextEncoder;function ia(t,e={}){return typeof t=="number"||typeof t=="bigint"?w3(t,e):typeof t=="boolean"?v3(t,e):bc(t)?ef(t,e):Go(t,e)}function v3(t,e={}){const r=new Uint8Array(1);return r[0]=Number(t),typeof e.size=="number"?(la(r,{size:e.size}),Ct(r,{size:e.size})):r}function ef(t,e={}){let r=t;e.size&&(la(r,{size:e.size}),r=Ct(r,{dir:"right",size:e.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);const i=new Uint8Array(n.length/2);for(let a=0;a<i.length;a++){const s=a*2,o=n.slice(s,s+2),c=Number.parseInt(o,16);if(Number.isNaN(c)||c<0)throw new ne(`Invalid byte sequence ("${o}" in "${n}").`);i[a]=c}return i}function w3(t,e){const r=rt(t,e);return ef(r)}function Go(t,e={}){const r=g3.encode(t);return typeof e.size=="number"?(la(r,{size:e.size}),Ct(r,{dir:"right",size:e.size})):r}function Z0(t,e){const r=e||"hex";return _3(n1(r1(t)),r)}function r1(t){return Array.isArray(t)?t.map(r1):typeof t=="string"?ia(t):t}function _3(t,e="bytes"){return e==="hex"?Ko(t):t}function n1(t){if(Array.isArray(t)){const e=Mn(t.map(n1));return new Uint8Array([...Np(e.length,192),...e])}return t.length===1&&t[0]<128?t:new Uint8Array([...Np(t.length,128),...t])}function Np(t,e){return t<56?[e+t]:[ia(t).length+e+55,...ia(t)]}const A3=/((function|event)\s)?(.*)(\((.*)\))/;function i1(t){const e=t.match(A3),r=e?.[2]||void 0,n=e?.[3],i=e?.[5]||void 0;return{type:r,name:n,params:i}}function E3(t){return i1(t).name}function T3(t){return i1(t).params?.split(",").map(n=>n.trim().split(" "))?.map(n=>({type:n[0],name:n[1]==="indexed"?n[2]:n[1],...n[1]==="indexed"?{indexed:!0}:{}}))}function Cl(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function M3(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function a1(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function k3(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Cl(t.outputLen),Cl(t.blockLen)}function I3(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function S3(t,e){a1(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const an={number:Cl,bool:M3,bytes:a1,hash:k3,exists:I3,output:S3},$c=BigInt(2**32-1),Nl=BigInt(32);function s1(t,e=!1){return e?{h:Number(t&$c),l:Number(t>>Nl&$c)}:{h:Number(t>>Nl&$c)|0,l:Number(t&$c)|0}}function C3(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:a,l:s}=s1(t[i],e);[r[i],n[i]]=[a,s]}return[r,n]}const N3=(t,e)=>BigInt(t>>>0)<<Nl|BigInt(e>>>0),R3=(t,e,r)=>t>>>r,P3=(t,e,r)=>t<<32-r|e>>>r,O3=(t,e,r)=>t>>>r|e<<32-r,B3=(t,e,r)=>t<<32-r|e>>>r,L3=(t,e,r)=>t<<64-r|e>>>r-32,D3=(t,e,r)=>t>>>r-32|e<<64-r,F3=(t,e)=>e,U3=(t,e)=>t,$3=(t,e,r)=>t<<r|e>>>32-r,H3=(t,e,r)=>e<<r|t>>>32-r,z3=(t,e,r)=>e<<r-32|t>>>64-r,q3=(t,e,r)=>t<<r-32|e>>>64-r;function j3(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}const K3=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),G3=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,V3=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),W3=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,J3=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),Y3=(t,e,r,n,i,a)=>e+r+n+i+a+(t/2**32|0)|0,Vo={fromBig:s1,split:C3,toBig:N3,shrSH:R3,shrSL:P3,rotrSH:O3,rotrSL:B3,rotrBH:L3,rotrBL:D3,rotr32H:F3,rotr32L:U3,rotlSH:$3,rotlSL:H3,rotlBH:z3,rotlBL:q3,add:j3,add3L:K3,add3H:G3,add4L:V3,add4H:W3,add5H:Y3,add5L:J3},yd=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Z3=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),bd=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Xn=(t,e)=>t<<32-e|t>>>e,Q3=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Q3)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function X3(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function gc(t){if(typeof t=="string"&&(t=X3(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}function e5(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];const e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const a=t[n];r.set(a,i),i+=a.length}return r}let Q0=class{clone(){return this._cloneInto()}};function X0(t){const e=n=>t().update(gc(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function t5(t){const e=(n,i)=>t(i).update(gc(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}function o1(t=32){if(yd&&typeof yd.getRandomValues=="function")return yd.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}const[c1,u1,f1]=[[],[],[]],r5=BigInt(0),fo=BigInt(1),n5=BigInt(2),i5=BigInt(7),a5=BigInt(256),s5=BigInt(113);for(let t=0,e=fo,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],c1.push(2*(5*n+r)),u1.push((t+1)*(t+2)/2%64);let i=r5;for(let a=0;a<7;a++)e=(e<<fo^(e>>i5)*s5)%a5,e&n5&&(i^=fo<<(fo<<BigInt(a))-fo);f1.push(i)}const[o5,c5]=Vo.split(f1,!0),Rp=(t,e,r)=>r>32?Vo.rotlBH(t,e,r):Vo.rotlSH(t,e,r),Pp=(t,e,r)=>r>32?Vo.rotlBL(t,e,r):Vo.rotlSL(t,e,r);function u5(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let s=0;s<10;s++)r[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){const o=(s+8)%10,c=(s+2)%10,f=r[c],l=r[c+1],x=Rp(f,l,1)^r[o],A=Pp(f,l,1)^r[o+1];for(let S=0;S<50;S+=10)t[s+S]^=x,t[s+S+1]^=A}let i=t[2],a=t[3];for(let s=0;s<24;s++){const o=u1[s],c=Rp(i,a,o),f=Pp(i,a,o),l=c1[s];i=t[l],a=t[l+1],t[l]=c,t[l+1]=f}for(let s=0;s<50;s+=10){for(let o=0;o<10;o++)r[o]=t[s+o];for(let o=0;o<10;o++)t[s+o]^=~r[(o+2)%10]&r[(o+4)%10]}t[0]^=o5[n],t[1]^=c5[n]}r.fill(0)}let d1=class l1 extends Q0{constructor(e,r,n,i=!1,a=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=a,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,an.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Z3(this.state)}keccak(){u5(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){an.exists(this);const{blockLen:r,state:n}=this;e=gc(e);const i=e.length;for(let a=0;a<i;){const s=Math.min(r-this.pos,i-a);for(let o=0;o<s;o++)n[this.pos++]^=e[a++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){an.exists(this,!1),an.bytes(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,a=e.length;i<a;){this.posOut>=n&&this.keccak();const s=Math.min(n-this.posOut,a-i);e.set(r.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return an.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(an.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:a,enableXOF:s}=this;return e||(e=new l1(r,n,i,s,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=n,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}};const ha=(t,e,r)=>X0(()=>new d1(e,t,r));ha(6,144,224/8);ha(6,136,256/8);ha(6,104,384/8);ha(6,72,512/8);ha(1,144,224/8);const f5=ha(1,136,256/8);ha(1,104,384/8);ha(1,72,512/8);const h1=(t,e,r)=>t5((n={})=>new d1(e,t,n.dkLen===void 0?r:n.dkLen,!0));h1(31,168,128/8);h1(31,136,256/8);function zt(t,e){const r=e||"hex",n=f5(bc(t)?ia(t):t);return r==="bytes"?n:Fe(n)}const Op=t=>zt(ia(t));function p1(t){const e=E3(t),r=T3(t);return!r||r.length===0?Op(t.replace(/ /g,"")):Op(`${e}(${r.map(({type:n})=>n).join(",")})`)}const m1=t=>p1(t),y1=t=>qt(p1(t),0,4),d5=/^0x[a-fA-F0-9]{40}$/;function qr(t){return d5.test(t)}function tf(t,e){const r=e?`${e}${t.toLowerCase()}`:t.substring(2).toLowerCase(),n=zt(Go(r),"bytes"),i=(e?r.substring(`${e}0x`.length):r).split("");for(let a=0;a<40;a+=2)n[a>>1]>>4>=8&&i[a]&&(i[a]=i[a].toUpperCase()),(n[a>>1]&15)>=8&&i[a+1]&&(i[a+1]=i[a+1].toUpperCase());return`0x${i.join("")}`}function l5(t,e){if(!qr(t))throw new Wr({address:t});return tf(t,e)}function b1(t,e){if(!qr(t))throw new Wr({address:t});if(!qr(e))throw new Wr({address:e});return t.toLowerCase()===e.toLowerCase()}function aa(t,e){if(t.length!==e.length)throw new Db({expectedLength:t.length,givenLength:e.length});const r=h5({params:t,values:e}),n=th(r);return n.length===0?"0x":n}function h5({params:t,values:e}){const r=[];for(let n=0;n<t.length;n++)r.push(eh({param:t[n],value:e[n]}));return r}function eh({param:t,value:e}){const r=rf(t.type);if(r){const[n,i]=r;return m5(e,{length:n,param:{...t,type:i}})}if(t.type==="tuple")return v5(e,{param:t});if(t.type==="address")return p5(e);if(t.type==="bool")return b5(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const n=t.type.startsWith("int");return x5(e,{signed:n})}if(t.type.startsWith("bytes"))return y5(e,{param:t});if(t.type==="string")return g5(e);throw new ww(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function th(t){let e=0;for(let a=0;a<t.length;a++){const{dynamic:s,encoded:o}=t[a];s?e+=32:e+=ur(o)}const r=[],n=[];let i=0;for(let a=0;a<t.length;a++){const{dynamic:s,encoded:o}=t[a];s?(r.push(rt(e+i,{size:32})),n.push(o),i+=ur(o)):r.push(o)}return Mn([...r,...n])}function p5(t){if(!qr(t))throw new Wr({address:t});return{dynamic:!1,encoded:ta(t.toLowerCase())}}function m5(t,{length:e,param:r}){const n=e===null;if(!Array.isArray(t))throw new Aw(t);if(!n&&t.length!==e)throw new lw({expectedLength:e,givenLength:t.length,type:`${r.type}[${e}]`});let i=!1;const a=[];for(let s=0;s<t.length;s++){const o=eh({param:r,value:t[s]});o.dynamic&&(i=!0),a.push(o)}if(n||i){const s=th(a);if(n){const o=rt(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?Mn([o,s]):o}}if(i)return{dynamic:!0,encoded:s}}return{dynamic:!1,encoded:Mn(a.map(({encoded:s})=>s))}}function y5(t,{param:e}){const[r,n]=e.type.split("bytes");if(!n){const i=Math.ceil(ur(t)/32),a=[];for(let s=0;s<i;s++)a.push(ta(qt(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Mn([ta(rt(ur(t),{size:32})),...a])}}if(ur(t)!==parseInt(n))throw new hw({expectedSize:parseInt(n),value:t});return{dynamic:!1,encoded:ta(t,{dir:"right"})}}function b5(t){return{dynamic:!1,encoded:ta(J0(t))}}function x5(t,{signed:e}){return{dynamic:!1,encoded:rt(t,{size:32,signed:e})}}function g5(t){const e=Y0(t),r=Math.ceil(ur(e)/32),n=[];for(let i=0;i<r;i++)n.push(ta(qt(e,i*32,(i+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Mn([ta(rt(ur(e),{size:32})),...n])}}function v5(t,{param:e}){let r=!1;const n=[];for(let i=0;i<e.components.length;i++){const a=e.components[i],s=Array.isArray(t)?i:a.name,o=eh({param:a,value:t[s]});n.push(o),o.dynamic&&(r=!0)}return{dynamic:r,encoded:r?th(n):Mn(n.map(({encoded:i})=>i))}}function rf(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function nf(t,e){if(e==="0x"&&t.length>0)throw new Xu;if(ur(e)%32!==0)throw new dw({data:e,size:ur(e)});return w5({data:e,params:t})}function w5({data:t,params:e}){const r=[];let n=0;for(let i=0;i<e.length;i++){if(n>=ur(t))throw new Lb({data:t,params:e,size:ur(t)});const a=e[i],{consumed:s,value:o}=gs({data:t,param:a,position:n});r.push(o),n+=s}return r}function gs({data:t,param:e,position:r}){const n=rf(e.type);if(n){const[a,s]=n;return A5(t,{length:a,param:{...e,type:s},position:r})}if(e.type==="tuple")return I5(t,{param:e,position:r});if(e.type==="string")return k5(t,{position:r});if(e.type.startsWith("bytes"))return T5(t,{param:e,position:r});const i=qt(t,r,r+32);if(e.type.startsWith("uint")||e.type.startsWith("int"))return M5(i,{param:e});if(e.type==="address")return _5(i);if(e.type==="bool")return E5(i);throw new _w(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}function _5(t){return{consumed:32,value:tf(qt(t,-20))}}function A5(t,{param:e,length:r,position:n}){if(!r){const s=kr(qt(t,n,n+32)),o=kr(qt(t,s,s+32));let c=0;const f=[];for(let l=0;l<o;++l){const x=gs({data:qt(t,s+32),param:e,position:c});c+=x.consumed,f.push(x.value)}return{value:f,consumed:32}}if(vu(e)){const o=!rf(e.type)?.[0];let c=0;const f=[];for(let l=0;l<r;++l){const x=kr(qt(t,n,n+32)),A=gs({data:qt(t,x),param:e,position:o?c:l*32});c+=A.consumed,f.push(A.value)}return{value:f,consumed:32}}let i=0;const a=[];for(let s=0;s<r;++s){const o=gs({data:t,param:e,position:n+i});i+=o.consumed,a.push(o.value)}return{value:a,consumed:i}}function E5(t){return{consumed:32,value:e1(t)}}function T5(t,{param:e,position:r}){const[n,i]=e.type.split("bytes");if(!i){const s=kr(qt(t,r,r+32)),o=kr(qt(t,s,s+32));return o===0?{consumed:32,value:"0x"}:{consumed:32,value:qt(t,s+32,s+32+o)}}return{consumed:32,value:qt(t,r,r+parseInt(i))}}function M5(t,{param:e}){const r=e.type.startsWith("int");return{consumed:32,value:parseInt(e.type.split("int")[1]||"256")>48?Es(t,{signed:r}):kr(t,{signed:r})}}function k5(t,{position:e}){const r=kr(qt(t,e,e+32)),n=kr(qt(t,r,r+32));return n===0?{consumed:32,value:""}:{consumed:32,value:t1(Pa(qt(t,r+32,r+32+n)))}}function I5(t,{param:e,position:r}){const n=e.components.length===0||e.components.some(({name:s})=>!s),i=n?[]:{};let a=0;if(vu(e)){const s=kr(qt(t,r,r+32));for(let o=0;o<e.components.length;++o){const c=e.components[o],f=gs({data:qt(t,s),param:c,position:a});a+=f.consumed,i[n?o:c?.name]=f.value}return{consumed:32,value:i}}for(let s=0;s<e.components.length;++s){const o=e.components[s],c=gs({data:t,param:o,position:r+a});a+=c.consumed,i[n?s:o?.name]=c.value}return{consumed:a,value:i}}function vu(t){const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return t.components?.some(vu);const r=rf(t.type);return!!(r&&vu({...t,type:r[1]}))}function Wa(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new Ew(t.type);return`${t.name}(${af(t.inputs,{includeName:e})})`}function af(t,{includeName:e=!1}={}){return t?t.map(r=>S5(r,{includeName:e})).join(e?", ":","):""}function S5(t,{includeName:e}){return t.type.startsWith("tuple")?`(${af(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}function C5({abi:t,data:e}){const r=qt(e,0,4);if(r==="0x")throw new Xu;const i=[...t||[],Cw,Nw].find(a=>a.type==="error"&&r===y1(Wa(a)));if(!i)throw new pw(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:i,args:"inputs"in i&&i.inputs&&i.inputs.length>0?nf(i.inputs,qt(e,4)):void 0,errorName:i.name}}const Bp="/docs/contract/decodeEventLog";function sf({abi:t,data:e,topics:r}){const[n,...i]=r;if(!n)throw new mw({docsPath:Bp});const a=t.find(l=>l.type==="event"&&n===m1(Wa(l)));if(!(a&&"name"in a))throw new yw(n,{docsPath:Bp});const{name:s,inputs:o}=a,c=o?.some(l=>!("name"in l&&l.name));let f=c?[]:{};if(i.length>0){const l=o.filter(x=>"indexed"in x&&x.indexed);for(let x=0;x<l.length;x++){const A=l[x],S=i[x];if(!S)throw new vw({abiItem:a,param:A});f[A.name||x]=N5({param:A,value:S})}}if(e&&e!=="0x"){const l=o.filter(x=>!("indexed"in x&&x.indexed));try{const x=nf(l,e);if(x)if(c)f=[...f,...x];else for(let A=0;A<l.length;A++)f[l[A].name]=x[A]}catch(x){throw x instanceof Lb?new gw({data:x.data,params:x.params,size:x.size}):x}}return{eventName:s,args:Object.values(f).length>0?f:void 0}}function N5({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(nf([t],e)||[])[0]}function vc({abi:t,args:e=[],name:r}){const n=t.filter(i=>"name"in i&&i.name===r);if(n.length!==0){if(n.length===1)return n[0];for(const i of n){if(!("inputs"in i))continue;if(!e||e.length===0){if(!i.inputs||i.inputs.length===0)return i;continue}if(!i.inputs||i.inputs.length===0)continue;if(e.every((s,o)=>{const c="inputs"in i&&i.inputs[o];return c?Rl(s,c):!1}))return i}return n[0]}}function Rl(t,e){const r=typeof t,n=e.type;switch(n){case"address":return qr(t);case"bool":return r==="boolean";case"function":return r==="string";case"string":return r==="string";default:return n==="tuple"&&"components"in e?Object.values(e.components).every((i,a)=>Rl(Object.values(t)[a],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(n)?r==="number"||r==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(n)?r==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(n)?Array.isArray(t)&&t.every(i=>Rl(i,{...e,type:n.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}const Lp="/docs/contract/decodeFunctionResult";function $s({abi:t,args:e,functionName:r,data:n}){const i=vc({abi:t,args:e,name:r});if(!i)throw new Fb(r,{docsPath:Lp});if(!("outputs"in i))throw new xw(r,{docsPath:Lp});const a=nf(i.outputs,n);if(a&&a.length>1)return a;if(a&&a.length===1)return a[0]}const xd="/docs/contract/encodeDeployData";function R5({abi:t,args:e,bytecode:r}){if(!e||e.length===0)return r;const n=t.find(a=>"type"in a&&a.type==="constructor");if(!n)throw new fw({docsPath:xd});if(!("inputs"in n))throw new kp({docsPath:xd});if(!n.inputs||n.inputs.length===0)throw new kp({docsPath:xd});const i=aa(n.inputs,e);return xc([r,i])}function rh({abi:t,eventName:e,args:r}){const n=vc({abi:t,args:r,name:e});if(!n)throw new bw(e,{docsPath:"/docs/contract/encodeEventTopics"});const i=Wa(n),a=m1(i);let s=[];if(r&&"inputs"in n){const o=Array.isArray(r)?r:n.inputs?.map(c=>r[c.name])??[];s=n.inputs?.filter(c=>"indexed"in c&&c.indexed).map((c,f)=>Array.isArray(o[f])?o[f].map((l,x)=>Dp({param:c,value:o[f][x]})):o[f]?Dp({param:c,value:o[f]}):null)??[]}return[a,...s]}function Dp({param:t,value:e}){if(t.type==="string"||t.type==="bytes")return zt(ia(e));if(t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/))throw new Gw(t.type);return aa([t],[e])}function Ui({abi:t,args:e,functionName:r}){const n=vc({abi:t,args:e,name:r});if(!n)throw new Fb(r,{docsPath:"/docs/contract/encodeFunctionData"});const i=Wa(n),a=y1(i),s="inputs"in n&&n.inputs?aa(n.inputs,e??[]):void 0;return xc([a,s??"0x"])}const P5=/^(.*)\[([0-9]*)\]$/,x1=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,g1=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function as(t,e){if(t.length!==e.length)throw new Db({expectedLength:t.length,givenLength:e.length});const r=[];for(let n=0;n<t.length;n++){const i=t[n],a=e[n];r.push(v1(i,a))}return Mn(r)}function v1(t,e,r=!1){if(t==="address"){const s=e;if(!qr(s))throw new Wr({address:s});return Ct(s.toLowerCase(),{size:r?32:null})}if(t==="string")return Y0(e);if(t==="bytes")return e;if(t==="bool")return Ct(J0(e),{size:r?32:1});const n=t.match(g1);if(n){const[s,o,c="256"]=n,f=parseInt(c)/8;return rt(e,{size:r?32:f,signed:o==="int"})}const i=t.match(x1);if(i){const[s,o]=i;if(parseInt(o)!==(e.length-2)/2)throw new Ub({expectedSize:parseInt(o),givenSize:(e.length-2)/2});return Ct(e,{dir:"right",size:r?32:null})}const a=t.match(P5);if(a&&Array.isArray(e)){const[s,o]=a,c=[];for(let f=0;f<e.length;f++)c.push(v1(o,e[f],!0));return Mn(c)}throw new Tw(t)}function w1({abiItem:t,args:e,includeFunctionName:r=!0,includeName:n=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${r?t.name:""}(${t.inputs.map((i,a)=>`${n&&i.name?`${i.name}: `:""}${typeof e[a]=="object"?sa(e[a]):e[a]}`).join(", ")})`}function Jn(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}function O5(t){const e=zt(`0x${t.substring(4)}`).substring(26);return tf(`0x${e}`)}const gd=new Map;function B5({fn:t,id:e,shouldSplitBatch:r,wait:n=0}){const i=async()=>{const f=o();a();const l=f.map(({args:x})=>x);l.length!==0&&t(l).then(x=>{f.forEach(({pendingPromise:A},S)=>A.resolve?.([x[S],x]))}).catch(x=>{f.forEach(({pendingPromise:A})=>A.reject?.(x))})},a=()=>gd.delete(e),s=()=>o().map(({args:f})=>f),o=()=>gd.get(e)||[],c=f=>gd.set(e,[...o(),f]);return{flush:a,async schedule(f){const l={},x=new Promise((M,k)=>{l.resolve=M,l.reject=k});return r?.([...s(),f])&&i(),o().length>0?(c({args:f,pendingPromise:l}),x):(c({args:f,pendingPromise:l}),setTimeout(i,n),x)}}}const L5=new Map,D5=new Map;function F5(t){const e=(i,a)=>({clear:()=>a.delete(i),get:()=>a.get(i),set:s=>a.set(i,s)}),r=e(t,L5),n=e(t,D5);return{clear:()=>{r.clear(),n.clear()},promise:r,response:n}}async function U5(t,{cacheKey:e,maxAge:r=1/0}){const n=F5(e),i=n.response.get();if(i&&r>0&&new Date().getTime()-i.created.getTime()<r)return i.data;let a=n.promise.get();a||(a=t(),n.promise.set(a));const s=await a;return n.promise.clear(),n.response.set({created:new Date,data:s}),s}async function Pl(t){return new Promise(e=>setTimeout(e,t))}function $5(t,{delay:e=100,retryCount:r=2,shouldRetry:n=()=>!0}={}){return new Promise((i,a)=>{const s=async({count:o=0}={})=>{const c=async({error:f})=>{const l=typeof e=="function"?e({count:o,error:f}):e;l&&await Pl(l),s({count:o+1})};try{const f=await t();i(f)}catch(f){if(o<r&&await n({count:o,error:f}))return c({error:f});a(f)}};s()})}function _1(t,{errorInstance:e,timeout:r,signal:n}){return new Promise((i,a)=>{(async()=>{let s;try{const o=new AbortController;r>0&&(s=setTimeout(()=>{n?o.abort():a(e)},r)),i(await t({signal:o?.signal}))}catch(o){o.name==="AbortError"&&a(e),a(o)}finally{clearTimeout(s)}})()})}const H5=t=>"code"in t?t.code!==-1&&t.code!==-32004&&t.code!==-32005&&t.code!==-32042&&t.code!==-32603:t instanceof Bo&&t.status?t.status!==403&&t.status!==408&&t.status!==413&&t.status!==429&&t.status!==500&&t.status!==502&&t.status!==503&&t.status!==504:!1;function z5(t,{retryDelay:e=150,retryCount:r=3}={}){return async n=>$5(async()=>{try{return await t(n)}catch(i){const a=i;throw a.code===-32700?new Yw(a):a.code===-32600?new Zw(a):a.code===-32601?new Qw(a):a.code===-32602?new Xw(a):a.code===-32603?new e3(a):a.code===-32e3?new Yb(a):a.code===-32001?new t3(a):a.code===-32002?new r3(a):a.code===-32003?new Zb(a):a.code===-32004?new Cp(a):a.code===-32005?new n3(a):a.code===-32006?new i3(a):a.code===-32042?new Cp(a):a.code===4001?new a3(a):a.code===4100?new s3(a):a.code===4200?new o3(a):a.code===4900?new c3(a):a.code===4901?new u3(a):a.code===4902?new f3(a):i instanceof ne?i:new d3(a)}},{delay:({count:i,error:a})=>{if(a&&a instanceof Bo){const s=a?.headers?.get("Retry-After");if(s?.match(/\d/))return parseInt(s)*1e3}return~~(1<<i)*e},retryCount:r,shouldRetry:({error:i})=>!H5(i)})}function Hs({blockNumber:t,chain:e,contract:r}){const n=e?.contracts?.[r];if(!n)throw new gl({chain:e,contract:{name:r}});if(t&&n.blockCreated&&n.blockCreated>t)throw new gl({blockNumber:t,chain:e,contract:{name:r,blockCreated:n.blockCreated}});return n.address}function zs(t,{formatter:e}){return e(t)}const A1={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559"};function E1(t){const e={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?kr(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?kr(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?A1[t.type]:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return e.type==="legacy"&&(delete e.accessList,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e.type==="eip2930"&&(delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e}function q5(t){const e=t.transactions?.map(r=>typeof r=="string"?r:E1(r));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,difficulty:t.difficulty?BigInt(t.difficulty):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:e,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}function nh(t,{formatter:e}){return e?Object.keys(e({})).reduce((n,i)=>(t?.hasOwnProperty(i)&&(n[i]=t[i]),n),{}):{}}function j5(t){return{baseFeePerGas:t.baseFeePerGas.map(e=>BigInt(e)),gasUsedRatio:t.gasUsedRatio,oldestBlock:BigInt(t.oldestBlock),reward:t.reward?.map(e=>e.map(r=>BigInt(r)))}}function of(t,{args:e,eventName:r}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?BigInt(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?BigInt(t.transactionIndex):null,...r?{args:e,eventName:r}:{}}}const K5={"0x0":"reverted","0x1":"success"};function G5(t){return{...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(e=>of(e)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?kr(t.transactionIndex):null,status:t.status?K5[t.status]:null,type:t.type?A1[t.type]:null}}function ih(t){return{...t,gas:typeof t.gas<"u"?rt(t.gas):void 0,gasPrice:typeof t.gasPrice<"u"?rt(t.gasPrice):void 0,maxFeePerGas:typeof t.maxFeePerGas<"u"?rt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:typeof t.maxPriorityFeePerGas<"u"?rt(t.maxPriorityFeePerGas):void 0,nonce:typeof t.nonce<"u"?rt(t.nonce):void 0,value:typeof t.value<"u"?rt(t.value):void 0}}function ah(t){return t instanceof Zb||t instanceof Yb||t instanceof jo&&t.code===xs.code}function sh(t,e){const r=t.details.toLowerCase();return Ua.nodeMessage.test(r)?new Ua({cause:t,maxFeePerGas:e?.maxFeePerGas}):wl.nodeMessage.test(r)?new wl({cause:t,maxFeePerGas:e?.maxFeePerGas}):_l.nodeMessage.test(r)?new _l({cause:t,nonce:e?.nonce}):Al.nodeMessage.test(r)?new Al({cause:t,nonce:e?.nonce}):El.nodeMessage.test(r)?new El({cause:t,nonce:e?.nonce}):Tl.nodeMessage.test(r)?new Tl({cause:t}):Ml.nodeMessage.test(r)?new Ml({cause:t,gas:e?.gas}):kl.nodeMessage.test(r)?new kl({cause:t,gas:e?.gas}):Il.nodeMessage.test(r)?new Il({cause:t}):qo.nodeMessage.test(r)?new qo({cause:t,maxFeePerGas:e?.maxFeePerGas,maxPriorityFeePerGas:e?.maxPriorityFeePerGas}):r.match(xs.nodeMessage)||"code"in t.cause&&t.cause?.code===xs.code?new xs({cause:t,message:t.cause.details}):new Vw({cause:t.cause.cause})}function V5(t,{docsPath:e,...r}){let n=t;return ah(t)&&(n=sh(t,r)),new Gb(n,{docsPath:e,...r})}const W5=3;function Wo(t,{abi:e,address:r,args:n,docsPath:i,functionName:a,sender:s}){const{code:o,data:c,message:f,shortMessage:l}=t instanceof V0?t:!(t.cause&&"data"in t.cause)&&(t instanceof Gb||t instanceof Jb)?t.cause?.cause?.cause||{}:t.cause||{};let x=t;return t instanceof Xu?x=new $w({functionName:a}):o===W5&&(c||f||l)&&(x=new Uw({abi:e,data:c,functionName:a,message:l??f})),new Vb(x,{abi:e,args:n,contractAddress:r,docsPath:i,functionName:a,sender:s})}function J5(t,{docsPath:e,...r}){let n=t;return ah(t)&&(n=sh(t,r)),new Jb(n,{docsPath:e,...r})}function Y5(t,{docsPath:e,...r}){let n=t;return ah(t)&&(n=sh(t,r)),new Dw(n,{docsPath:e,...r})}const sa=(t,e,r)=>JSON.stringify(t,(n,i)=>{const a=typeof i=="bigint"?i.toString():i;return typeof e=="function"?e(n,a):a},r);let T1=0;async function Z5(t,{body:e,fetchOptions:r={},timeout:n=1e4}){const{headers:i,method:a,signal:s}=r;try{const o=await _1(async({signal:f})=>await fetch(t,{...r,body:sa({jsonrpc:"2.0",id:T1++,...e}),headers:{...i,"Content-Type":"application/json"},method:a||"POST",signal:s||(n>0?f:void 0)}),{errorInstance:new Sl({body:e,url:t}),timeout:n,signal:!0});let c;if(o.headers.get("Content-Type")?.startsWith("application/json")?c=await o.json():c=await o.text(),!o.ok)throw new Bo({body:e,details:sa(c.error)||o.statusText,headers:o.headers,status:o.status,url:t});if(c.error)throw new jo({body:e,error:c.error,url:t});return c}catch(o){throw o instanceof Bo||o instanceof jo||o instanceof Sl?o:new Bo({body:e,details:o.message,url:t})}}const vd=new Map;async function wd(t){const e=new URL(t),r=e.toString();let n=vd.get(r);if(n)return n;let i=await E6(()=>import("./browser-3852a342.js"),[]);i.default?.constructor?i=i.default:i=i.WebSocket;const a=new i(e),s=new Map,o=new Map,c=({data:l})=>{const x=JSON.parse(l),A=x.method==="eth_subscription",S=A?x.params.subscription:x.id,M=A?o:s,k=M.get(S);k&&k({data:l}),A||M.delete(S)},f=()=>{vd.delete(r),a.removeEventListener("close",f),a.removeEventListener("message",c)};return a.addEventListener("close",f),a.addEventListener("message",c),a.readyState===i.CONNECTING&&await new Promise((l,x)=>{a&&(a.onopen=l,a.onerror=x)}),n=Object.assign(a,{requests:s,subscriptions:o}),vd.set(r,n),n}function Q5(t,{body:e,onData:r,onError:n}){if(t.readyState===t.CLOSED||t.readyState===t.CLOSING)throw new Ww({body:e,url:t.url,details:"Socket is closed."});const i=T1++,a=({data:s})=>{const o=JSON.parse(s);typeof o.id=="number"&&i!==o.id||(o.error?n?.(new jo({body:e,error:o.error,url:t.url})):r?.(o),e.method==="eth_subscribe"&&typeof o.result=="string"&&t.subscriptions.set(o.result,a),e.method==="eth_unsubscribe"&&t.subscriptions.delete(e.params?.[0]))};return t.requests.set(i,a),t.send(JSON.stringify({jsonrpc:"2.0",...e,id:i})),t}async function X5(t,{body:e,timeout:r=1e4}){return _1(()=>new Promise((n,i)=>Lo.webSocket(t,{body:e,onData:n,onError:i})),{errorInstance:new Sl({body:e,url:t.url}),timeout:r})}const Lo={http:Z5,webSocket:Q5,webSocketAsync:X5};function e4(t,e){const r=ia(t),n=ia(`Ethereum Signed Message:
${r.length}`);return zt(Mn([n,r]),e)}function M1({domain:t,message:e,primaryType:r,types:n}){const i=n,a=(s,o)=>{for(const c of s){const{name:f,type:l}=c,x=l,A=o[f],S=x.match(g1);if(S&&(typeof A=="number"||typeof A=="bigint")){const[I,C,R]=S;rt(A,{signed:C==="int",size:parseInt(R)/8})}if(x==="address"&&typeof A=="string"&&!qr(A))throw new Wr({address:A});const M=x.match(x1);if(M){const[I,C]=M;if(C&&ur(A)!==parseInt(C))throw new Ub({expectedSize:parseInt(C),givenSize:ur(A)})}const k=i[x];k&&a(k,A)}};if(i.EIP712Domain&&t&&a(i.EIP712Domain,t),r!=="EIP712Domain"){const s=i[r];a(s,e)}}function t4({domain:t,message:e,primaryType:r,types:n}){const i=typeof t>"u"?{}:t,a={EIP712Domain:[i?.name&&{name:"name",type:"string"},i?.version&&{name:"version",type:"string"},i?.chainId&&{name:"chainId",type:"uint256"},i?.verifyingContract&&{name:"verifyingContract",type:"address"},i?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean),...n};M1({domain:i,message:e,primaryType:r,types:a});const s=["0x1901"];return i&&s.push(r4({domain:i,types:a})),r!=="EIP712Domain"&&s.push(k1({data:e,primaryType:r,types:a})),zt(Mn(s))}function r4({domain:t,types:e}){return k1({data:t,primaryType:"EIP712Domain",types:e})}function k1({data:t,primaryType:e,types:r}){const n=I1({data:t,primaryType:e,types:r});return zt(n)}function I1({data:t,primaryType:e,types:r}){const n=[{type:"bytes32"}],i=[n4({primaryType:e,types:r})];for(const a of r[e]){const[s,o]=C1({types:r,name:a.name,type:a.type,value:t[a.name]});n.push(s),i.push(o)}return aa(n,i)}function n4({primaryType:t,types:e}){const r=Fe(i4({primaryType:t,types:e}));return zt(r)}function i4({primaryType:t,types:e}){let r="";const n=S1({primaryType:t,types:e});n.delete(t);const i=[t,...Array.from(n).sort()];for(const a of i)r+=`${a}(${e[a].map(({name:s,type:o})=>`${o} ${s}`).join(",")})`;return r}function S1({primaryType:t,types:e},r=new Set){const i=t.match(/^\w*/u)?.[0];if(r.has(i)||e[i]===void 0)return r;r.add(i);for(const a of e[i])S1({primaryType:a.type,types:e},r);return r}function C1({types:t,name:e,type:r,value:n}){if(t[r]!==void 0)return[{type:"bytes32"},zt(I1({data:n,primaryType:r,types:t}))];if(r==="bytes")return n=`0x${(n.length%2?"0":"")+n.slice(2)}`,[{type:"bytes32"},zt(n)];if(r==="string")return[{type:"bytes32"},zt(Fe(n))];if(r.lastIndexOf("]")===r.length-1){const i=r.slice(0,r.lastIndexOf("[")),a=n.map(s=>C1({name:e,type:i,types:t,value:s}));return[{type:"bytes32"},zt(aa(a.map(([s])=>s),a.map(([,s])=>s)))]}return[{type:r},n]}function cf(t){const{account:e,gasPrice:r,maxFeePerGas:n,maxPriorityFeePerGas:i,to:a}=t,s=e?Jn(e):void 0;if(s&&!qr(s.address))throw new Wr({address:s.address});if(a&&!qr(a))throw new Wr({address:a});if(typeof r<"u"&&(typeof n<"u"||typeof i<"u"))throw new Pw;if(n&&n>2n**256n-1n)throw new Ua({maxFeePerGas:n});if(i&&n&&i>n)throw new qo({maxFeePerGas:n,maxPriorityFeePerGas:i})}function a4(t){if(t.type)return t.type;if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new Bw({transaction:t})}const s4=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,o4=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,c4=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,u4=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function f4(t){try{const e=await fetch(t,{method:"HEAD"});return e.status===200?e.headers.get("content-type")?.startsWith("image/"):!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(r=>{const n=new Image;n.onload=()=>{r(!0)},n.onerror=()=>{r(!1)},n.src=t})}}function Fp(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function N1({uri:t,gatewayUrls:e}){const r=c4.test(t);if(r)return{uri:t,isOnChain:!0,isEncoded:r};const n=Fp(e?.ipfs,"https://ipfs.io"),i=Fp(e?.arweave,"https://arweave.net"),a=t.match(s4),{protocol:s,subpath:o,target:c,subtarget:f=""}=a?.groups||{},l=s==="ipns:/"||o==="ipns/",x=s==="ipfs:/"||o==="ipfs/"||o4.test(t);if(t.startsWith("http")&&!l&&!x){let S=t;return e?.arweave&&(S=t.replace(/https:\/\/arweave.net/g,e?.arweave)),{uri:S,isOnChain:!1,isEncoded:!1}}if((l||x)&&c)return{uri:`${n}/${l?"ipns":"ipfs"}/${c}${f}`,isOnChain:!1,isEncoded:!1};if(s==="ar:/"&&c)return{uri:`${i}/${c}${f||""}`,isOnChain:!1,isEncoded:!1};let A=t.replace(u4,"");if(A.startsWith("<svg")&&(A=`data:image/svg+xml;base64,${btoa(A)}`),A.startsWith("data:")||A.startsWith("{"))return{uri:A,isOnChain:!0,isEncoded:!1};throw new W0({uri:t})}function R1(t){if(typeof t!="object"||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new jw({data:t});return t.image||t.image_url||t.image_data}async function d4({gatewayUrls:t,uri:e}){try{const r=await fetch(e).then(i=>i.json());return await oh({gatewayUrls:t,uri:R1(r)})}catch{throw new W0({uri:e})}}async function oh({gatewayUrls:t,uri:e}){const{uri:r,isOnChain:n}=N1({uri:e,gatewayUrls:t});if(n||await f4(r))return r;throw new W0({uri:e})}function l4(t){t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[e,r,n]=t.split("/"),[i,a]=e.split(":"),[s,o]=r.split(":");if(!i||i.toLowerCase()!=="eip155")throw new uo({reason:"Only EIP-155 supported"});if(!a)throw new uo({reason:"Chain ID not found"});if(!o)throw new uo({reason:"Contract address not found"});if(!n)throw new uo({reason:"Token ID not found"});if(!s)throw new uo({reason:"ERC namespace not found"});return{chainID:parseInt(a),namespace:s.toLowerCase(),contractAddress:o,tokenID:n}}async function h4(t,{nft:e}){if(e.namespace==="erc721")return Ri(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return Ri(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new Kw({namespace:e.namespace})}async function p4(t,{gatewayUrls:e,record:r}){return/eip155:/i.test(r)?m4(t,{gatewayUrls:e,record:r}):oh({uri:r,gatewayUrls:e})}async function m4(t,{gatewayUrls:e,record:r}){const n=l4(r),i=await h4(t,{nft:n}),{uri:a,isOnChain:s,isEncoded:o}=N1({uri:i,gatewayUrls:e});if(s&&(a.includes("data:application/json;base64,")||a.startsWith("{"))){const f=o?atob(a.replace("data:application/json;base64,","")):a,l=JSON.parse(f);return oh({uri:R1(l),gatewayUrls:e})}let c=n.tokenID;return n.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),d4({gatewayUrls:e,uri:a.replace(/(?:0x)?{id}/,c)})}function P1(t){let e=new Uint8Array(32).fill(0);if(!t)return Ko(e);const r=t.split(".");for(let n=r.length-1;n>=0;n-=1){const i=zt(Go(r[n]),"bytes");e=zt(Mn([e,i]),"bytes")}return Ko(e)}function uf(t){function e(s){return s==="."||s===".."?1:Go(s.replace(/^\.|\.$/gm,"")).length+2}const r=new Uint8Array(e(t)),n=t.replace(/^\.|\.$/gm,"");if(!n.length)return r;let i=0;const a=n.split(".");for(let s=0;s<a.length;s++){const o=Go(a[s]);r[i]=o.length,r.set(o,i+1),i+=o.length+1}return r}async function ch(t,e){const{account:r,batch:n=!!t.batch?.multicall,blockNumber:i,blockTag:a="latest",accessList:s,data:o,gas:c,gasPrice:f,maxFeePerGas:l,maxPriorityFeePerGas:x,nonce:A,to:S,value:M,...k}=e,I=r?Jn(r):void 0;try{cf(e);const C=i?rt(i):void 0,R=t.chain?.formatters?.transactionRequest,D=zs({from:I?.address,accessList:s,data:o,gas:c,gasPrice:f,maxFeePerGas:l,maxPriorityFeePerGas:x,nonce:A,to:S,value:M,...nh(k,{formatter:R})},{formatter:R||ih});if(n&&y4({request:D}))try{return await b4(t,{...D,blockNumber:i,blockTag:a})}catch(H){if(!(H instanceof $b)&&!(H instanceof gl))throw H}const F=await t.request({method:"eth_call",params:[D,C||a]});return F==="0x"?{data:void 0}:{data:F}}catch(C){throw V5(C,{...e,account:I,chain:t.chain})}}function y4({request:t}){const{data:e,to:r,...n}=t;return!(!e||e.startsWith(Sw)||!r||Object.values(n).filter(i=>typeof i<"u").length>0)}async function b4(t,e){const{batchSize:r=1024,wait:n=0}=typeof t.batch?.multicall=="object"?t.batch?.multicall:{},{blockNumber:i,blockTag:a="latest",data:s,multicallAddress:o,to:c}=e;let f=o;if(!f){if(!t.chain)throw new $b;f=Hs({blockNumber:i,chain:t.chain,contract:"multicall3"})}const x=(i?rt(i):void 0)||a,{schedule:A}=B5({id:`${t.uid}.${x}`,wait:n,shouldSplitBatch(k){return k.reduce((C,{data:R})=>C+(R.length-2),0)>r*2},fn:async k=>{const I=k.map(D=>({allowFailure:!0,callData:D.data,target:D.to})),C=Ui({abi:vl,args:[I],functionName:"aggregate3"}),R=await t.request({method:"eth_call",params:[{data:C,to:f},x]});return $s({abi:vl,args:[I],functionName:"aggregate3",data:R||"0x"})}}),[{returnData:S,success:M}]=await A({data:s,to:c});if(!M)throw new V0({data:S});return S==="0x"?{data:void 0}:{data:S}}async function O1(t,{abi:e,address:r,args:n,functionName:i,...a}){const s=a.account?Jn(a.account):void 0,o=Ui({abi:e,args:n,functionName:i});try{const{data:c}=await ch(t,{batch:!1,data:o,to:r,...a});return{result:$s({abi:e,args:n,functionName:i,data:c||"0x"}),request:{abi:e,address:r,args:n,functionName:i,...a}}}catch(c){throw Wo(c,{abi:e,address:r,args:n,docsPath:"/docs/contract/simulateContract",functionName:i,sender:s?.address})}}function ff(t,{method:e}){const r={};return t.transport.type==="fallback"&&t.transport.onResponse?.(({method:n,response:i,status:a,transport:s})=>{a==="success"&&e===n&&(r[i]=s.request)}),n=>r[n]||t.request}async function B1(t){const e=ff(t,{method:"eth_newPendingTransactionFilter"}),r=await t.request({method:"eth_newPendingTransactionFilter"});return{id:r,request:e(r),type:"transaction"}}async function x4(t){const e=ff(t,{method:"eth_newBlockFilter"}),r=await t.request({method:"eth_newBlockFilter"});return{id:r,request:e(r),type:"block"}}async function L1(t,{address:e,args:r,event:n,fromBlock:i,toBlock:a}={}){const s=ff(t,{method:"eth_newFilter"});let o=[];n&&(o=rh({abi:[n],eventName:n.name,args:r}));const c=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof i=="bigint"?rt(i):i,toBlock:typeof a=="bigint"?rt(a):a,...o.length?{topics:o}:{}}]});return{abi:n?[n]:void 0,args:r,eventName:n?n.name:void 0,id:c,request:s(c),type:"event"}}async function uh(t,{address:e,abi:r,args:n,eventName:i,fromBlock:a,toBlock:s}){const o=ff(t,{method:"eth_newFilter"}),c=i?rh({abi:r,args:n,eventName:i}):void 0,f=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof a=="bigint"?rt(a):a,toBlock:typeof s=="bigint"?rt(s):s,topics:c}]});return{abi:r,args:n,eventName:i,id:f,request:o(f),type:"event"}}async function fh(t,e){if(!e.account)throw new mc({docsPath:"/docs/actions/public/estimateGas"});const r=Jn(e.account);try{const{accessList:n,blockNumber:i,blockTag:a="latest",data:s,gas:o,gasPrice:c,maxFeePerGas:f,maxPriorityFeePerGas:l,nonce:x,to:A,value:S,...M}=r.type==="local"?await j1(t,e):e,k=i?rt(i):void 0;cf(e);const I=t.chain?.formatters?.transactionRequest,C=zs({from:r.address,accessList:n,data:s,gas:o,gasPrice:c,maxFeePerGas:f,maxPriorityFeePerGas:l,nonce:x,to:A,value:S,...nh(M,{formatter:I})},{formatter:I||ih}),R=await t.request({method:"eth_estimateGas",params:[C,k||a]});return BigInt(R)}catch(n){throw J5(n,{...e,account:r,chain:t.chain})}}async function D1(t,{abi:e,address:r,args:n,functionName:i,...a}){const s=Jn(a.account),o=Ui({abi:e,args:n,functionName:i});try{return await fh(t,{data:o,to:r,...a})}catch(c){throw Wo(c,{abi:e,address:r,args:n,docsPath:"/docs/contract/simulateContract",functionName:i,sender:s?.address})}}async function g4(t,{address:e,blockNumber:r,blockTag:n="latest"}){const i=r?rt(r):void 0,a=await t.request({method:"eth_getBalance",params:[e,i||n]});return BigInt(a)}async function Jo(t,{blockHash:e,blockNumber:r,blockTag:n="latest",includeTransactions:i=!1}={}){const a=r!==void 0?rt(r):void 0;let s=null;if(e?s=await t.request({method:"eth_getBlockByHash",params:[e,i]}):s=await t.request({method:"eth_getBlockByNumber",params:[a||n,i]}),!s)throw new Mw({blockHash:e,blockNumber:r});return zs(s,{formatter:t.chain?.formatters?.block||q5})}const v4=t=>`blockNumber.${t}`;async function wc(t,{maxAge:e=t.pollingInterval}={}){const r=await U5(()=>t.request({method:"eth_blockNumber"}),{cacheKey:v4(t.uid),maxAge:e});return BigInt(r)}async function w4(t,{blockHash:e,blockNumber:r,blockTag:n="latest"}={}){const i=r!==void 0?rt(r):void 0;let a=null;return e?a=await t.request({method:"eth_getBlockTransactionCountByHash",params:[e]}):a=await t.request({method:"eth_getBlockTransactionCountByNumber",params:[i||n]}),kr(a)}async function _4(t,{address:e,blockNumber:r,blockTag:n="latest"}){const i=r!==void 0?rt(r):void 0,a=await t.request({method:"eth_getCode",params:[e,i||n]});if(a!=="0x")return a}async function dh(t){const e=await t.request({method:"eth_chainId"});return kr(e)}async function A4(t,{blockCount:e,blockNumber:r,blockTag:n="latest",rewardPercentiles:i}){const a=r?rt(r):void 0,s=await t.request({method:"eth_feeHistory",params:[rt(e),a||n,i]});return j5(s)}async function df(t,{filter:e}){return(await e.request({method:"eth_getFilterChanges",params:[e.id]})).map(n=>{if(typeof n=="string")return n;try{const{eventName:i,args:a}="abi"in e&&e.abi?sf({abi:e.abi,data:n.data,topics:n.topics}):{eventName:void 0,args:void 0};return of(n,{args:a,eventName:i})}catch{return}}).filter(Boolean)}async function E4(t,{filter:e}){return(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map(n=>{try{const{eventName:i,args:a}="abi"in e&&e.abi?sf({abi:e.abi,data:n.data,topics:n.topics}):{eventName:void 0,args:void 0};return of(n,{args:a,eventName:i})}catch{return}}).filter(Boolean)}async function F1(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function lh(t,{address:e,blockHash:r,fromBlock:n,toBlock:i,event:a,args:s}={}){let o=[];a&&(o=rh({abi:[a],eventName:a.name,args:s}));let c;return r?c=await t.request({method:"eth_getLogs",params:[{address:e,topics:o,blockHash:r}]}):c=await t.request({method:"eth_getLogs",params:[{address:e,topics:o,fromBlock:typeof n=="bigint"?rt(n):n,toBlock:typeof i=="bigint"?rt(i):i}]}),c.map(f=>{try{const{eventName:l,args:x}=a?sf({abi:[a],data:f.data,topics:f.topics}):{eventName:void 0,args:void 0};return of(f,{args:x,eventName:l})}catch{return}}).filter(Boolean)}async function T4(t,{address:e,blockNumber:r,blockTag:n="latest",slot:i}){const a=r!==void 0?rt(r):void 0;return await t.request({method:"eth_getStorageAt",params:[e,i,a||n]})}async function hh(t,{blockHash:e,blockNumber:r,blockTag:n="latest",hash:i,index:a}){const s=r!==void 0?rt(r):void 0;let o=null;if(i?o=await t.request({method:"eth_getTransactionByHash",params:[i]}):e?o=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,rt(a)]}):(s||n)&&(o=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[s||n,rt(a)]})),!o)throw new jb({blockHash:e,blockNumber:r,blockTag:n,hash:i,index:a});return zs(o,{formatter:t.chain?.formatters?.transaction||E1})}async function M4(t,{hash:e,transactionReceipt:r}){const[n,i]=await Promise.all([wc(t),e?hh(t,{hash:e}):void 0]),a=r?.blockNumber||i?.blockNumber;return a?n-a+1n:0n}async function U1(t,{address:e,blockTag:r="latest",blockNumber:n}){const i=await t.request({method:"eth_getTransactionCount",params:[e,n?rt(n):r]});return kr(i)}async function Ol(t,{hash:e}){const r=await t.request({method:"eth_getTransactionReceipt",params:[e]});if(!r)throw new Kb({hash:e});return zs(r,{formatter:t.chain?.formatters?.transactionReceipt||G5})}async function Ri(t,{abi:e,address:r,args:n,functionName:i,...a}){const s=Ui({abi:e,args:n,functionName:i});try{const{data:o}=await ch(t,{data:s,to:r,...a});return $s({abi:e,args:n,functionName:i,data:o||"0x"})}catch(o){throw Wo(o,{abi:e,address:r,args:n,docsPath:"/docs/contract/readContract",functionName:i})}}async function k4(t,e){const{allowFailure:r=!0,batchSize:n,blockNumber:i,blockTag:a,contracts:s,multicallAddress:o}=e,c=n??(typeof t.batch?.multicall=="object"&&t.batch.multicall.batchSize||1024),f=s;let l=o;if(!l){if(!t.chain)throw new Error("client chain not configured. multicallAddress is required.");l=Hs({blockNumber:i,chain:t.chain,contract:"multicall3"})}const x=[[]];let A=0,S=0;for(let k=0;k<f.length;k++){const{abi:I,address:C,args:R,functionName:D}=f[k];try{const F=Ui({abi:I,args:R,functionName:D});S+=F.length,c>0&&S>c&&(A++,S=(F.length-2)/2,x[A]=[]),x[A]=[...x[A],{allowFailure:!0,callData:F,target:C}]}catch(F){const H=Wo(F,{abi:I,address:C,args:R,docsPath:"/docs/contract/multicall",functionName:D});if(!r)throw H;x[A]=[...x[A],{allowFailure:!0,callData:"0x",target:C}]}}return(await Promise.all(x.map(k=>Ri(t,{abi:vl,address:l,args:[k],blockNumber:i,blockTag:a,functionName:"aggregate3"})))).flat().flatMap(({returnData:k,success:I},C)=>{const R=x.flat(),{callData:D}=R[C],{abi:F,address:H,functionName:j,args:Z}=f[C];try{if(D==="0x")throw new Xu;if(!I)throw new V0({data:k});const G=$s({abi:F,data:k,functionName:j});return r?{result:G,status:"success"}:G}catch(G){const J=Wo(G,{abi:F,address:H,args:Z,docsPath:"/docs/contract/multicall",functionName:j});if(!r)throw J;return{error:J,result:void 0,status:"failure"}}})}async function lf(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}const _d=new Map,Up=new Map;let I4=0;function qs(t,e,r){const n=++I4,i=()=>_d.get(t)||[],a=()=>{const l=i();_d.set(t,l.filter(x=>x.id!==n))},s=()=>{const l=Up.get(t);i().length===1&&l&&l(),a()},o=i();if(_d.set(t,[...o,{id:n,fns:e}]),o&&o.length>0)return s;const c={};for(const l in e)c[l]=(...x)=>{const A=i();A.length!==0&&A.forEach(S=>S.fns[l]?.(...x))};const f=r(c);return typeof f=="function"&&Up.set(t,f),s}async function S4(t,{confirmations:e=1,hash:r,onReplaced:n,pollingInterval:i=t.pollingInterval,timeout:a}){const s=JSON.stringify(["waitForTransactionReceipt",t.uid,r]);let o,c,f;return new Promise((l,x)=>{a&&setTimeout(()=>x(new Fw({hash:r})),a);const A=qs(s,{onReplaced:n,resolve:l,reject:x},S=>{const M=$1(t,{emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:i,async onBlockNumber(k){const I=async C=>{M(),C(),A()};try{if(f){if(k-f.blockNumber+1n<e)return;I(()=>S.resolve(f));return}if(o=await hh(t,{hash:r}),f=await Ol(t,{hash:r}),k-f.blockNumber+1n<e)return;I(()=>S.resolve(f))}catch(C){if(o&&(C instanceof jb||C instanceof Kb)){c=o;const D=(await Jo(t,{blockNumber:k,includeTransactions:!0})).transactions.find(({from:H,nonce:j})=>H===c.from&&j===c.nonce);if(!D||(f=await Ol(t,{hash:D.hash}),k-f.blockNumber+1n<e))return;let F="replaced";D.to===c.to&&D.value===c.value?F="repriced":D.from===D.to&&D.value===0n&&(F="cancelled"),I(()=>{S.onReplaced?.({reason:F,replacedTransaction:c,transaction:D,transactionReceipt:f}),S.resolve(f)})}else I(()=>S.reject(C))}}});return M})})}function _c(t,{emitOnBegin:e,initialWaitTime:r,interval:n}){let i=!0;const a=()=>i=!1;return(async()=>{let o;e&&(o=await t({unpoll:a}));const c=await r?.(o)??n;await Pl(c);const f=async()=>{i&&(await t({unpoll:a}),await Pl(n),f())};f()})(),a}function $1(t,{emitOnBegin:e=!1,emitMissed:r=!1,onBlockNumber:n,onError:i,poll:a,pollingInterval:s=t.pollingInterval}){const o=typeof a<"u"?a:t.transport.type!=="webSocket";let c;return o?(()=>{const x=JSON.stringify(["watchBlockNumber",t.uid,e,r,s]);return qs(x,{onBlockNumber:n,onError:i},A=>_c(async()=>{try{const S=await wc(t,{maxAge:0});if(c){if(S===c)return;if(S-c>1&&r)for(let M=c+1n;M<S;M++)A.onBlockNumber(M,c),c=M}(!c||S>c)&&(A.onBlockNumber(S,c),c=S)}catch(S){A.onError?.(S)}},{emitOnBegin:e,interval:s}))})():(()=>{let x=!0,A=()=>x=!1;return(async()=>{try{const{unsubscribe:S}=await t.transport.subscribe({params:["newHeads"],onData(M){if(!x)return;const k=Es(M.result?.number);n(k,c),c=k},onError(M){i?.(M)}});A=S,x||A()}catch(S){i?.(S)}})(),A})()}function C4(t,{blockTag:e="latest",emitMissed:r=!1,emitOnBegin:n=!1,onBlock:i,onError:a,includeTransactions:s=!1,poll:o,pollingInterval:c=t.pollingInterval}){const f=typeof o<"u"?o:t.transport.type!=="webSocket";let l;return f?(()=>{const S=JSON.stringify(["watchBlocks",t.uid,r,n,s,c]);return qs(S,{onBlock:i,onError:a},M=>_c(async()=>{try{const k=await Jo(t,{blockTag:e,includeTransactions:s});if(k.number&&l?.number){if(k.number===l.number)return;if(k.number-l.number>1&&r)for(let I=l?.number+1n;I<k.number;I++){const C=await Jo(t,{blockNumber:I,includeTransactions:s});M.onBlock(C,l),l=C}}(!l?.number||e==="pending"&&!k?.number||k.number&&k.number>l.number)&&(M.onBlock(k,l),l=k)}catch(k){M.onError?.(k)}},{emitOnBegin:n,interval:c}))})():(()=>{let S=!0,M=()=>S=!1;return(async()=>{try{const{unsubscribe:k}=await t.transport.subscribe({params:["newHeads"],onData(I){if(!S)return;const C=I.result;i(C,l),l=C},onError(I){a?.(I)}});M=k,S||M()}catch(k){a?.(k)}})(),M})()}function H1(t,{abi:e,address:r,args:n,batch:i=!0,eventName:a,onError:s,onLogs:o,pollingInterval:c=t.pollingInterval}){const f=JSON.stringify(["watchContractEvent",r,n,i,t.uid,a,c]);return qs(f,{onLogs:o,onError:s},l=>{let x,A,S=!1;const M=_c(async()=>{if(!S){try{A=await uh(t,{abi:e,address:r,args:n,eventName:a})}catch{}S=!0;return}try{let k;if(A)k=await df(t,{filter:A});else{const I=await wc(t);x&&x!==I?k=await lh(t,{address:r,args:n,fromBlock:x+1n,toBlock:I,event:vc({abi:e,name:a})}):k=[],x=I}if(k.length===0)return;i?l.onLogs(k):k.forEach(I=>l.onLogs([I]))}catch(k){l.onError?.(k)}},{emitOnBegin:!0,interval:c});return async()=>{A&&await lf(t,{filter:A}),M()}})}function N4(t,{address:e,args:r,batch:n=!0,event:i,onError:a,onLogs:s,pollingInterval:o=t.pollingInterval}){const c=JSON.stringify(["watchEvent",e,r,n,t.uid,i,o]);return qs(c,{onLogs:s,onError:a},f=>{let l,x,A=!1;const S=_c(async()=>{if(!A){try{x=await L1(t,{address:e,args:r,event:i})}catch{}A=!0;return}try{let M;if(x)M=await df(t,{filter:x});else{const k=await wc(t);l&&l!==k?M=await lh(t,{address:e,args:r,fromBlock:l+1n,toBlock:k,event:i}):M=[],l=k}if(M.length===0)return;n?f.onLogs(M):M.forEach(k=>f.onLogs([k]))}catch(M){f.onError?.(M)}},{emitOnBegin:!0,interval:o});return async()=>{x&&await lf(t,{filter:x}),S()}})}function R4(t,{batch:e=!0,onError:r,onTransactions:n,poll:i,pollingInterval:a=t.pollingInterval}){return(typeof i<"u"?i:t.transport.type!=="webSocket")?(()=>{const f=JSON.stringify(["watchPendingTransactions",t.uid,e,a]);return qs(f,{onTransactions:n,onError:r},l=>{let x;const A=_c(async()=>{try{if(!x)try{x=await B1(t);return}catch(M){throw A(),M}const S=await df(t,{filter:x});if(S.length===0)return;e?l.onTransactions(S):S.forEach(M=>l.onTransactions([M]))}catch(S){l.onError?.(S)}},{emitOnBegin:!0,interval:a});return async()=>{x&&await lf(t,{filter:x}),A()}})})():(()=>{let f=!0,l=()=>f=!1;return(async()=>{try{const{unsubscribe:x}=await t.transport.subscribe({params:["newPendingTransactions"],onData(A){if(!f)return;const S=A.result;n([S])},onError(A){r?.(A)}});l=x,f||l()}catch(x){r?.(x)}})(),l})()}async function P4(t,{blockNumber:e,blockTag:r,name:n,universalResolverAddress:i}){let a=i;if(!a){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=Hs({blockNumber:e,chain:t.chain,contract:"ensUniversalResolver"})}const s=await Ri(t,{address:a,abi:Hb,functionName:"resolve",args:[Fe(uf(n)),Ui({abi:Sp,functionName:"addr",args:[P1(n)]})],blockNumber:e,blockTag:r});if(s[0]==="0x")return null;const o=$s({abi:Sp,functionName:"addr",data:s[0]});return Pa(o)==="0x0"?null:o}async function z1(t,{blockNumber:e,blockTag:r,name:n,key:i,universalResolverAddress:a}){let s=a;if(!s){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");s=Hs({blockNumber:e,chain:t.chain,contract:"ensUniversalResolver"})}const o=await Ri(t,{address:s,abi:Hb,functionName:"resolve",args:[Fe(uf(n)),Ui({abi:Ip,functionName:"text",args:[P1(n),i]})],blockNumber:e,blockTag:r});if(o[0]==="0x")return null;const c=$s({abi:Ip,functionName:"text",data:o[0]});return c===""?null:c}async function O4(t,{blockNumber:e,blockTag:r,gatewayUrls:n,name:i,universalResolverAddress:a}){const s=await z1(t,{blockNumber:e,blockTag:r,key:"avatar",name:i,universalResolverAddress:a});if(!s)return null;try{return await p4(t,{record:s,gatewayUrls:n})}catch{return null}}async function B4(t,{address:e,blockNumber:r,blockTag:n,universalResolverAddress:i}){let a=i;if(!a){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=Hs({blockNumber:r,chain:t.chain,contract:"ensUniversalResolver"})}const s=`${e.toLowerCase().substring(2)}.addr.reverse`;try{return(await Ri(t,{address:a,abi:[{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],functionName:"reverse",args:[Fe(uf(s))],blockNumber:r,blockTag:n}))[0]}catch(o){if(o instanceof Vb&&o.cause.reason===zb[50])return null;throw o}}async function L4(t,{blockNumber:e,blockTag:r,name:n,universalResolverAddress:i}){let a=i;if(!a){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=Hs({blockNumber:e,chain:t.chain,contract:"ensUniversalResolver"})}const[s]=await Ri(t,{address:a,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[Fe(uf(n))],blockNumber:e,blockTag:r});return s}async function D4(t,{chain:e}){const{id:r,name:n,nativeCurrency:i,rpcUrls:a,blockExplorers:s}=e;await t.request({method:"wallet_addEthereumChain",params:[{chainId:rt(r),chainName:n,nativeCurrency:i,rpcUrls:a.default.http,blockExplorerUrls:s?Object.values(s).map(({url:o})=>o):void 0}]})}function F4(t,{abi:e,args:r,bytecode:n,...i}){const a=R5({abi:e,args:r,bytecode:n});return ph(t,{...i,data:a})}async function U4(t){return(await t.request({method:"eth_accounts"})).map(r=>tf(r))}async function $4(t){return await t.request({method:"wallet_getPermissions"})}async function H4(t){return(await t.request({method:"eth_requestAccounts"})).map(r=>l5(r))}async function z4(t,e){return t.request({method:"wallet_requestPermissions",params:[e]})}async function ph(t,e){const{account:r=t.account,chain:n=t.chain,accessList:i,data:a,gas:s,gasPrice:o,maxFeePerGas:c,maxPriorityFeePerGas:f,nonce:l,to:x,value:A,...S}=e;if(!r)throw new mc({docsPath:"/docs/actions/wallet/sendTransaction"});const M=Jn(r);try{cf(e);const k=await dh(t);if(n!==null&&k!==n?.id)throw n?new kw({chain:n,currentChainId:k}):new Iw;if(M.type==="local"){const R=await j1(t,{account:M,accessList:i,chain:n,data:a,gas:s,gasPrice:o,maxFeePerGas:c,maxPriorityFeePerGas:f,nonce:l,to:x,value:A,...S}),D=await M.signTransaction({chainId:k,...R});return await t.request({method:"eth_sendRawTransaction",params:[D]})}const I=n?.formatters?.transactionRequest,C=zs({accessList:i,data:a,from:M.address,gas:s,gasPrice:o,maxFeePerGas:c,maxPriorityFeePerGas:f,nonce:l,to:x,value:A,...nh(S,{formatter:I})},{formatter:I||ih});return await t.request({method:"eth_sendTransaction",params:[C]})}catch(k){throw Y5(k,{...e,account:M,chain:e.chain||void 0})}}async function q4(t,{account:e=t.account,message:r}){if(!e)throw new mc({docsPath:"/docs/actions/wallet/signMessage"});const n=Jn(e);return n.type==="local"?n.signMessage({message:r}):t.request({method:"personal_sign",params:[Fe(r),n.address]})}async function j4(t,{account:e=t.account,domain:r,message:n,primaryType:i,types:a}){if(!e)throw new mc({docsPath:"/docs/actions/wallet/signTypedData"});const s=Jn(e),o={EIP712Domain:[r?.name&&{name:"name",type:"string"},r?.version&&{name:"version",type:"string"},r?.chainId&&{name:"chainId",type:"uint256"},r?.verifyingContract&&{name:"verifyingContract",type:"address"},r?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean),...a};if(M1({domain:r,message:n,primaryType:i,types:o}),s.type==="local")return s.signTypedData({domain:r,primaryType:i,types:o,message:n});const c=sa({domain:r??{},primaryType:i,types:o,message:n},(f,l)=>bc(l)?l.toLowerCase():l);return t.request({method:"eth_signTypedData_v4",params:[s.address,c]})}async function K4(t,{id:e}){await t.request({method:"wallet_switchEthereumChain",params:[{chainId:rt(e)}]})}async function G4(t,e){return await t.request({method:"wallet_watchAsset",params:e})}async function q1(t,{abi:e,address:r,args:n,functionName:i,...a}){const s=Ui({abi:e,args:n,functionName:i});return await ph(t,{data:s,to:r,...a})}function ss({abi:t,address:e,publicClient:r,walletClient:n}){const i=r!=null,a=n!=null,s={};let o=!1,c=!1,f=!1;for(const l of t)if(l.type==="function"?l.stateMutability==="view"||l.stateMutability==="pure"?o=!0:c=!0:l.type==="event"&&(f=!0),o&&c&&f)break;return i&&(o&&(s.read=new Proxy({},{get(l,x){return(...A)=>{const{args:S,options:M}=Hc(A);return Ri(r,{abi:t,address:e,functionName:x,args:S,...M})}}})),c&&(s.estimateGas=new Proxy({},{get(l,x){return(...A)=>{const{args:S,options:M}=Hc(A);return D1(r,{abi:t,address:e,functionName:x,args:S,...M})}}}),s.simulate=new Proxy({},{get(l,x){return(...A)=>{const{args:S,options:M}=Hc(A);return O1(r,{abi:t,address:e,functionName:x,args:S,...M})}}})),f&&(s.createEventFilter=new Proxy({},{get(l,x){return(...A)=>{const S=t.find(I=>I.type==="event"&&I.name===x),{args:M,options:k}=$p(A,S);return uh(r,{abi:t,address:e,eventName:x,args:M,...k})}}}),s.watchEvent=new Proxy({},{get(l,x){return(...A)=>{const S=t.find(I=>I.type==="event"&&I.name===x),{args:M,options:k}=$p(A,S);return H1(r,{abi:t,address:e,eventName:x,args:M,...k})}}}))),a&&c&&(s.write=new Proxy({},{get(l,x){return(...A)=>{const{args:S,options:M}=Hc(A);return q1(n,{abi:t,address:e,functionName:x,args:S,...M})}}})),s}function Hc(t){const e=t.length&&Array.isArray(t[0]),r=e?t[0]:[],n=(e?t[1]:t[0])??{};return{args:r,options:n}}function $p(t,e){let r=!1;Array.isArray(t[0])?r=!0:t.length===1?r=e.inputs.some(a=>a.indexed):t.length===2&&(r=!0);const n=r?t[0]:void 0,i=(r?t[1]:t[0])??{};return{args:n,options:i}}function V4(t,e){let[r,n="0"]=t.split(".");const i=r.startsWith("-");if(i&&(r=r.slice(1)),n=n.replace(/(0+)$/,""),e===0)r=`${Math.round(+`${r}.${n}`)}`,n="";else if(n.length>e){const[a,s]=[n.slice(0,e),n.slice(e)];n=`${/^0+$/.test(a)?a.slice(0,a.length-1):""}${Math.round(+`${a}.${s}`)}`}else n=n.padEnd(e,"0");return BigInt(`${i?"-":""}${r}${n}`)}function W4(t,e="wei"){return V4(t,qb[e])}const Ad=W4("1.5");async function j1(t,e){const{account:r,gas:n,gasPrice:i,maxFeePerGas:a,maxPriorityFeePerGas:s,nonce:o}=e;if(!r)throw new mc;const c=Jn(r),f=await Jo(t,{blockTag:"latest"}),l={...e,from:c.address};if(typeof o>"u"&&(l.nonce=await U1(t,{address:c.address,blockTag:"pending"})),f.baseFeePerGas){if(typeof i<"u")throw new ne("Chain does not support legacy `gasPrice`.");if(typeof a>"u")l.maxPriorityFeePerGas=s??Ad,l.maxFeePerGas=f.baseFeePerGas*120n/100n+l.maxPriorityFeePerGas;else{if(typeof s>"u"&&a<Ad)throw new ne("`maxFeePerGas` cannot be less than the default `maxPriorityFeePerGas` (1.5 gwei).");l.maxFeePerGas=a,l.maxPriorityFeePerGas=s??Ad}}else{if(typeof a<"u"||typeof s<"u")throw new ne("Chain does not support EIP-1559 fees.");typeof i>"u"&&(l.gasPrice=await F1(t)*120n/100n)}return typeof n>"u"&&(l.gas=await fh(t,{...l,account:{address:c.address,type:"json-rpc"}})),cf(l),l}function J4(t){const{chainId:e,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:i,to:a}=t;if(e<=0)throw new G0({chainId:e});if(a&&!qr(a))throw new Wr({address:a});if(n)throw new ne("`gasPrice` is not a valid EIP-1559 Transaction attribute.");if(i&&i>2n**256n-1n)throw new Ua({maxFeePerGas:i});if(r&&i&&r>i)throw new qo({maxFeePerGas:i,maxPriorityFeePerGas:r})}function Y4(t){const{chainId:e,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:i,to:a}=t;if(e<=0)throw new G0({chainId:e});if(a&&!qr(a))throw new Wr({address:a});if(r||i)throw new ne("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(n&&n>2n**256n-1n)throw new Ua({maxFeePerGas:n})}function Z4(t){const{chainId:e,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:i,to:a,accessList:s}=t;if(a&&!qr(a))throw new Wr({address:a});if(typeof e<"u"&&e<=0)throw new G0({chainId:e});if(r||i)throw new ne("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(n&&n>2n**256n-1n)throw new Ua({maxFeePerGas:n});if(s)throw new ne("`accessList` is not a valid Legacy Transaction attribute.")}function Hp(t,e){const r=a4(t);return r==="eip1559"?Q4(t,e):r==="eip2930"?X4(t,e):e8(t,e)}function Q4(t,e){const{chainId:r,gas:n,nonce:i,to:a,value:s,maxFeePerGas:o,maxPriorityFeePerGas:c,accessList:f,data:l}=t;J4(t);const x=K1(f),A=[Fe(r),i?Fe(i):"0x",c?Fe(c):"0x",o?Fe(o):"0x",n?Fe(n):"0x",a??"0x",s?Fe(s):"0x",l??"0x",x];return e&&A.push(e.v===27n?"0x":Fe(1),e.r,e.s),xc(["0x02",Z0(A)])}function X4(t,e){const{chainId:r,gas:n,data:i,nonce:a,to:s,value:o,accessList:c,gasPrice:f}=t;Y4(t);const l=K1(c),x=[Fe(r),a?Fe(a):"0x",f?Fe(f):"0x",n?Fe(n):"0x",s??"0x",o?Fe(o):"0x",i??"0x",l];return e&&x.push(e.v===27n?"0x":Fe(1),e.r,e.s),xc(["0x01",Z0(x)])}function e8(t,e){const{chainId:r=0,gas:n,data:i,nonce:a,to:s,value:o,gasPrice:c}=t;Z4(t);let f=[a?Fe(a):"0x",c?Fe(c):"0x",n?Fe(n):"0x",s??"0x",o?Fe(o):"0x",i??"0x"];if(e){let l=27n+(e.v===27n?0n:1n);if(r>0)l=BigInt(r*2)+BigInt(35n+e.v-27n);else if(e.v!==l)throw new Ow({v:e.v});f=[...f,Fe(l),e.r,e.s]}else r>0&&(f=[...f,Fe(r),"0x","0x"]);return Z0(f)}function K1(t){if(!t||t.length===0)return[];const e=[];for(let r=0;r<t.length;r++){const{address:n,storageKeys:i}=t[r];for(let a=0;a<i.length;a++)if(i[a].length-2!==64)throw new Lw({storageKey:i[a]});if(!qr(n))throw new Wr({address:n});e.push([n,i])}return e}function G1(t,e){let r=t.toString();const n=r.startsWith("-");n&&(r=r.slice(1)),r=r.padStart(e,"0");let[i,a]=[r.slice(0,r.length-e),r.slice(r.length-e)];return a=a.replace(/(0+)$/,""),`${n?"-":""}${i||"0"}${a?`.${a}`:""}`}function mh(t,e="wei"){return G1(t,Rw[e])}function fn(t,e="wei"){return G1(t,qb[e])}const $a=sw;var va={ENTRY:"0xa6f969045641Cf486a747A2688F3a5A6d43cd0D8",PERIPHERY:"0x96e96b7af62d628ce7eb2016d2c1d2786614ea73",NEWBIE_VILLA:"0xD0c83f0BB2c61D55B3d33950b70C59ba2f131caA",CBT:"0x3D1b588a6Bcd728Bb61570ced6656eA4C05e404f",TIPS:"0x0058be0845952D887D1668B5545de995E12e8783",MIRA:"0xAfB95CC0BD320648B3E8Df6223d9CDD05EbeDC64",LINKLIST:"0xFc8C75bD5c26F50798758f387B698f207a016b6A"},t8=globalThis.process?.env.CROSSBELL_RPC_ADDRESS??"https://rpc.crossbell.io";function r8(){return t8}async function n8(t){return await t.getChainId()===$a.id}var V1=Object.defineProperty,i8=Object.getOwnPropertyDescriptor,W1=(t,e)=>{for(var r in e)V1(t,r,{get:e[r],enumerable:!0})},Ge=(t,e,r,n)=>{for(var i=n>1?void 0:n?i8(e,r):e,a=t.length-1,s;a>=0;a--)(s=t[a])&&(i=(n?s(e,r,i):s(i))||i);return n&&i&&V1(e,r,i),i};function yh({key:t,name:e,request:r,retryCount:n=3,retryDelay:i=150,timeout:a,type:s},o){return{config:{key:t,name:e,request:r,retryCount:n,retryDelay:i,timeout:a,type:s},request:z5(r,{retryCount:n,retryDelay:i}),value:o}}function a8(t,e={}){const{key:r="custom",name:n="Custom Provider",retryDelay:i}=e;return({retryCount:a})=>yh({key:r,name:n,request:t.request.bind(t),retryCount:e.retryCount??a,retryDelay:i,type:"custom"})}function s8(t,e={}){const{fetchOptions:r,key:n="http",name:i="HTTP JSON-RPC",retryDelay:a}=e;return({chain:s,retryCount:o,timeout:c})=>{const f=e.retryCount??o,l=c??e.timeout??1e4,x=t||s?.rpcUrls.default.http[0];if(!x)throw new Qb;return yh({key:n,name:i,async request({method:A,params:S}){const{result:M}=await Lo.http(x,{body:{method:A,params:S},fetchOptions:r,timeout:l});return M},retryCount:f,retryDelay:a,timeout:l,type:"http"},{url:t})}}function o8(t,e={}){const{key:r="webSocket",name:n="WebSocket JSON-RPC",retryDelay:i}=e;return({chain:a,retryCount:s,timeout:o})=>{const c=e.retryCount??s,f=o??e.timeout??1e4,l=t||a?.rpcUrls.default.webSocket?.[0];if(!l)throw new Qb;return yh({key:r,name:n,async request({method:x,params:A}){const S=await wd(l),{result:M}=await Lo.webSocketAsync(S,{body:{method:x,params:A},timeout:f});return M},retryCount:c,retryDelay:i,timeout:f,type:"webSocket"},{getSocket(){return wd(l)},async subscribe({params:x,onData:A,onError:S}){const M=await wd(l),{result:k}=await new Promise((I,C)=>Lo.webSocket(M,{body:{method:"eth_subscribe",params:x},onData:R=>{if(typeof R.id=="number"){I(R);return}R.method==="eth_subscription"&&A(R.params)},onError:R=>{C(R),S?.(R)}}));return{subscriptionId:k,async unsubscribe(){return new Promise((I,C)=>Lo.webSocket(M,{body:{method:"eth_unsubscribe",params:[k]},onData:I,onError:C}))}}}})}}const Bl=256;let zc=Bl,qc;function c8(t=11){if(!qc||zc+t>Bl*2){qc="",zc=0;for(let e=0;e<Bl;e++)qc+=(256+Math.random()*256|0).toString(16).substring(1)}return qc.substring(zc,zc+++t)}function J1({chain:t,key:e="base",name:r="Base Client",pollingInterval:n=4e3,transport:i,type:a="base"}){const{config:s,request:o,value:c}=i({chain:t,pollingInterval:n});return{chain:t,key:e,name:r,pollingInterval:n,request:o,transport:{...s,...c},type:a,uid:c8()}}const u8=t=>({call:e=>ch(t,e),createBlockFilter:()=>x4(t),createContractEventFilter:e=>uh(t,e),createEventFilter:e=>L1(t,e),createPendingTransactionFilter:()=>B1(t),estimateContractGas:e=>D1(t,e),estimateGas:e=>fh(t,e),getBalance:e=>g4(t,e),getBlock:e=>Jo(t,e),getBlockNumber:e=>wc(t,e),getBlockTransactionCount:e=>w4(t,e),getBytecode:e=>_4(t,e),getChainId:()=>dh(t),getEnsAddress:e=>P4(t,e),getEnsAvatar:e=>O4(t,e),getEnsName:e=>B4(t,e),getEnsResolver:e=>L4(t,e),getEnsText:e=>z1(t,e),getFeeHistory:e=>A4(t,e),getFilterChanges:e=>df(t,e),getFilterLogs:e=>E4(t,e),getGasPrice:()=>F1(t),getLogs:e=>lh(t,e),getStorageAt:e=>T4(t,e),getTransaction:e=>hh(t,e),getTransactionConfirmations:e=>M4(t,e),getTransactionCount:e=>U1(t,e),getTransactionReceipt:e=>Ol(t,e),multicall:e=>k4(t,e),readContract:e=>Ri(t,e),simulateContract:e=>O1(t,e),uninstallFilter:e=>lf(t,e),waitForTransactionReceipt:e=>S4(t,e),watchBlocks:e=>C4(t,e),watchBlockNumber:e=>$1(t,e),watchContractEvent:e=>H1(t,e),watchEvent:e=>N4(t,e),watchPendingTransactions:e=>R4(t,e)}),f8=t=>({addChain:e=>D4(t,e),deployContract:e=>F4(t,e),getAddresses:()=>U4(t),getChainId:()=>dh(t),getPermissions:()=>$4(t),requestAddresses:()=>H4(t),requestPermissions:e=>z4(t,e),sendTransaction:e=>ph(t,e),signMessage:e=>q4(t,e),signTypedData:e=>j4(t,e),switchChain:e=>K4(t,e),watchAsset:e=>G4(t,e),writeContract:e=>q1(t,e)});function d8({batch:t,chain:e,key:r="public",name:n="Public Client",transport:i,pollingInterval:a}){const s={batch:t,...J1({chain:e,key:r,name:n,pollingInterval:a,transport:i,type:"publicClient"})};return{...s,...u8(s)}}function Y1({account:t,chain:e,transport:r,key:n="wallet",name:i="Wallet Client",pollingInterval:a}){const s={...J1({chain:e,key:n,name:i,pollingInterval:a,transport:o=>r({...o,retryCount:0}),type:"walletClient"}),account:t?Jn(t):void 0};return{...s,...f8(s)}}class Z1 extends Q0{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,an.hash(e);const n=gc(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,a=new Uint8Array(i);a.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<a.length;s++)a[s]^=54;this.iHash.update(a),this.oHash=e.create();for(let s=0;s<a.length;s++)a[s]^=106;this.oHash.update(a),a.fill(0)}update(e){return an.exists(this),this.iHash.update(e),this}digestInto(e){an.exists(this),an.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:a,blockLen:s,outputLen:o}=this;return e=e,e.finished=i,e.destroyed=a,e.blockLen=s,e.outputLen=o,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Q1=(t,e,r)=>new Z1(t,e).update(r).digest();Q1.create=(t,e)=>new Z1(t,e);function l8(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),a=BigInt(4294967295),s=Number(r>>i&a),o=Number(r&a),c=n?4:0,f=n?0:4;t.setUint32(e+c,s,n),t.setUint32(e+f,o,n)}class h8 extends Q0{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=bd(this.buffer)}update(e){an.exists(this);const{view:r,buffer:n,blockLen:i}=this;e=gc(e);const a=e.length;for(let s=0;s<a;){const o=Math.min(i-this.pos,a-s);if(o===i){const c=bd(e);for(;i<=a-s;s+=i)this.process(c,s);continue}n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){an.exists(this),an.output(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:a}=this;let{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let x=s;x<i;x++)r[x]=0;l8(n,i-8,BigInt(this.length*8),a),this.process(n,0);const o=bd(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=c/4,l=this.get();if(f>l.length)throw new Error("_sha2: outputLen bigger than state");for(let x=0;x<f;x++)o.setUint32(4*x,l[x],a)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:a,destroyed:s,pos:o}=this;return e.length=i,e.pos=o,e.finished=a,e.destroyed=s,i%r&&e.buffer.set(n),e}}const p8=(t,e,r)=>t&e^~t&r,m8=(t,e,r)=>t&e^t&r^e&r,y8=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ki=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Gi=new Uint32Array(64);let X1=class extends h8{constructor(){super(64,32,8,!1),this.A=Ki[0]|0,this.B=Ki[1]|0,this.C=Ki[2]|0,this.D=Ki[3]|0,this.E=Ki[4]|0,this.F=Ki[5]|0,this.G=Ki[6]|0,this.H=Ki[7]|0}get(){const{A:e,B:r,C:n,D:i,E:a,F:s,G:o,H:c}=this;return[e,r,n,i,a,s,o,c]}set(e,r,n,i,a,s,o,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=a|0,this.F=s|0,this.G=o|0,this.H=c|0}process(e,r){for(let x=0;x<16;x++,r+=4)Gi[x]=e.getUint32(r,!1);for(let x=16;x<64;x++){const A=Gi[x-15],S=Gi[x-2],M=Xn(A,7)^Xn(A,18)^A>>>3,k=Xn(S,17)^Xn(S,19)^S>>>10;Gi[x]=k+Gi[x-7]+M+Gi[x-16]|0}let{A:n,B:i,C:a,D:s,E:o,F:c,G:f,H:l}=this;for(let x=0;x<64;x++){const A=Xn(o,6)^Xn(o,11)^Xn(o,25),S=l+A+p8(o,c,f)+y8[x]+Gi[x]|0,k=(Xn(n,2)^Xn(n,13)^Xn(n,22))+m8(n,i,a)|0;l=f,f=c,c=o,o=s+S|0,s=a,a=i,i=n,n=S+k|0}n=n+this.A|0,i=i+this.B|0,a=a+this.C|0,s=s+this.D|0,o=o+this.E|0,c=c+this.F|0,f=f+this.G|0,l=l+this.H|0,this.set(n,i,a,s,o,c,f,l)}roundClean(){Gi.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},b8=class extends X1{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};const wu=X0(()=>new X1);X0(()=>new b8);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const x8=BigInt(0),bh=BigInt(1),g8=BigInt(2),hf=t=>t instanceof Uint8Array,v8=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Ts(t){if(!hf(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=v8[t[r]];return e}function e2(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function xh(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function Ms(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(t.length%2)throw new Error("hex string is invalid: unpadded "+t.length);const e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){const n=r*2,i=t.slice(n,n+2),a=Number.parseInt(i,16);if(Number.isNaN(a)||a<0)throw new Error("invalid byte sequence");e[r]=a}return e}function zr(t){return xh(Ts(t))}function gh(t){if(!hf(t))throw new Error("Uint8Array expected");return xh(Ts(Uint8Array.from(t).reverse()))}const ra=(t,e)=>Ms(t.toString(16).padStart(e*2,"0")),t2=(t,e)=>ra(t,e).reverse(),w8=t=>Ms(e2(t));function pr(t,e,r){let n;if(typeof e=="string")try{n=Ms(e)}catch(a){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${a}`)}else if(hf(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}function sn(...t){const e=new Uint8Array(t.reduce((n,i)=>n+i.length,0));let r=0;return t.forEach(n=>{if(!hf(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}function _8(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function pf(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function A8(t){let e;for(e=0;t>0n;t>>=bh,e+=1);return e}const E8=(t,e)=>t>>BigInt(e)&1n,T8=(t,e,r)=>t|(r?bh:x8)<<BigInt(e),vh=t=>(g8<<BigInt(t-1))-bh,Ed=t=>new Uint8Array(t),zp=t=>Uint8Array.from(t);function r2(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=Ed(t),i=Ed(t),a=0;const s=()=>{n.fill(1),i.fill(0),a=0},o=(...x)=>r(i,n,...x),c=(x=Ed())=>{i=o(zp([0]),x),n=o(),x.length!==0&&(i=o(zp([1]),x),n=o())},f=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let x=0;const A=[];for(;x<e;){n=o();const S=n.slice();A.push(S),x+=n.length}return sn(...A)};return(x,A)=>{s(),c(x);let S;for(;!(S=A(f()));)c();return s(),S}}const M8={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function js(t,e,r={}){const n=(i,a,s)=>{const o=M8[a];if(typeof o!="function")throw new Error(`Invalid validator "${a}", expected function`);const c=t[i];if(!(s&&c===void 0)&&!o(c,t))throw new Error(`Invalid param ${String(i)}=${c} (${typeof c}), expected ${a}`)};for(const[i,a]of Object.entries(e))n(i,a,!1);for(const[i,a]of Object.entries(r))n(i,a,!0);return t}const k8=Object.freeze(Object.defineProperty({__proto__:null,bitGet:E8,bitLen:A8,bitMask:vh,bitSet:T8,bytesToHex:Ts,bytesToNumberBE:zr,bytesToNumberLE:gh,concatBytes:sn,createHmacDrbg:r2,ensureBytes:pr,equalBytes:_8,hexToBytes:Ms,hexToNumber:xh,numberToBytesBE:ra,numberToBytesLE:t2,numberToHexUnpadded:e2,numberToVarBytesBE:w8,utf8ToBytes:pf,validateObject:js},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const cr=BigInt(0),Zt=BigInt(1),Ma=BigInt(2),I8=BigInt(3),Ll=BigInt(4),qp=BigInt(5),jp=BigInt(8);BigInt(9);BigInt(16);function sr(t,e){const r=t%e;return r>=cr?r:e+r}function S8(t,e,r){if(r<=cr||e<cr)throw new Error("Expected power/modulo > 0");if(r===Zt)return cr;let n=Zt;for(;e>cr;)e&Zt&&(n=n*t%r),t=t*t%r,e>>=Zt;return n}function pn(t,e,r){let n=t;for(;e-- >cr;)n*=n,n%=r;return n}function Dl(t,e){if(t===cr||e<=cr)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=sr(t,e),n=e,i=cr,a=Zt;for(;r!==cr;){const o=n/r,c=n%r,f=i-a*o;n=r,r=c,i=a,a=f}if(n!==Zt)throw new Error("invert: does not exist");return sr(i,e)}function C8(t){const e=(t-Zt)/Ma;let r,n,i;for(r=t-Zt,n=0;r%Ma===cr;r/=Ma,n++);for(i=Ma;i<t&&S8(i,e,t)!==t-Zt;i++);if(n===1){const s=(t+Zt)/Ll;return function(c,f){const l=c.pow(f,s);if(!c.eql(c.sqr(l),f))throw new Error("Cannot find square root");return l}}const a=(r+Zt)/Ma;return function(o,c){if(o.pow(c,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let f=n,l=o.pow(o.mul(o.ONE,i),r),x=o.pow(c,a),A=o.pow(c,r);for(;!o.eql(A,o.ONE);){if(o.eql(A,o.ZERO))return o.ZERO;let S=1;for(let k=o.sqr(A);S<f&&!o.eql(k,o.ONE);S++)k=o.sqr(k);const M=o.pow(l,Zt<<BigInt(f-S-1));l=o.sqr(M),x=o.mul(x,M),A=o.mul(A,l),f=S}return x}}function N8(t){if(t%Ll===I8){const e=(t+Zt)/Ll;return function(n,i){const a=n.pow(i,e);if(!n.eql(n.sqr(a),i))throw new Error("Cannot find square root");return a}}if(t%jp===qp){const e=(t-qp)/jp;return function(n,i){const a=n.mul(i,Ma),s=n.pow(a,e),o=n.mul(i,s),c=n.mul(n.mul(o,Ma),s),f=n.mul(o,n.sub(c,n.ONE));if(!n.eql(n.sqr(f),i))throw new Error("Cannot find square root");return f}}return C8(t)}const R8=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function n2(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=R8.reduce((n,i)=>(n[i]="function",n),e);return js(t,r)}function P8(t,e,r){if(r<cr)throw new Error("Expected power > 0");if(r===cr)return t.ONE;if(r===Zt)return e;let n=t.ONE,i=e;for(;r>cr;)r&Zt&&(n=t.mul(n,i)),i=t.sqr(i),r>>=1n;return n}function O8(t,e){const r=new Array(e.length),n=e.reduce((a,s,o)=>t.is0(s)?a:(r[o]=a,t.mul(a,s)),t.ONE),i=t.inv(n);return e.reduceRight((a,s,o)=>t.is0(s)?a:(r[o]=t.mul(a,r[o]),t.mul(a,s)),i),r}function wh(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function B8(t,e,r=!1,n={}){if(t<=cr)throw new Error(`Expected Fp ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:a}=wh(t,e);if(a>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=N8(t),o=Object.freeze({ORDER:t,BITS:i,BYTES:a,MASK:vh(i),ZERO:cr,ONE:Zt,create:c=>sr(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return cr<=c&&c<t},is0:c=>c===cr,isOdd:c=>(c&Zt)===Zt,neg:c=>sr(-c,t),eql:(c,f)=>c===f,sqr:c=>sr(c*c,t),add:(c,f)=>sr(c+f,t),sub:(c,f)=>sr(c-f,t),mul:(c,f)=>sr(c*f,t),pow:(c,f)=>P8(o,c,f),div:(c,f)=>sr(c*Dl(f,t),t),sqrN:c=>c*c,addN:(c,f)=>c+f,subN:(c,f)=>c-f,mulN:(c,f)=>c*f,inv:c=>Dl(c,t),sqrt:n.sqrt||(c=>s(o,c)),invertBatch:c=>O8(o,c),cmov:(c,f,l)=>l?f:c,toBytes:c=>r?t2(c,a):ra(c,a),fromBytes:c=>{if(c.length!==a)throw new Error(`Fp.fromBytes: expected ${a}, got ${c.length}`);return r?gh(c):zr(c)}});return Object.freeze(o)}function L8(t,e,r=!1){t=pr("privateHash",t);const n=t.length,i=wh(e).nByteLength+8;if(i<24||n<i||n>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${n}`);const a=r?gh(t):zr(t);return sr(a,e-Zt)+Zt}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const D8=BigInt(0),Td=BigInt(1);function F8(t,e){const r=(i,a)=>{const s=a.negate();return i?s:a},n=i=>{const a=Math.ceil(e/i)+1,s=2**(i-1);return{windows:a,windowSize:s}};return{constTimeNegate:r,unsafeLadder(i,a){let s=t.ZERO,o=i;for(;a>D8;)a&Td&&(s=s.add(o)),o=o.double(),a>>=Td;return s},precomputeWindow(i,a){const{windows:s,windowSize:o}=n(a),c=[];let f=i,l=f;for(let x=0;x<s;x++){l=f,c.push(l);for(let A=1;A<o;A++)l=l.add(f),c.push(l);f=l.double()}return c},wNAF(i,a,s){const{windows:o,windowSize:c}=n(i);let f=t.ZERO,l=t.BASE;const x=BigInt(2**i-1),A=2**i,S=BigInt(i);for(let M=0;M<o;M++){const k=M*c;let I=Number(s&x);s>>=S,I>c&&(I-=A,s+=Td);const C=k,R=k+Math.abs(I)-1,D=M%2!==0,F=I<0;I===0?l=l.add(r(D,a[C])):f=f.add(r(F,a[R]))}return{p:f,f:l}},wNAFCached(i,a,s,o){const c=i._WINDOW_SIZE||1;let f=a.get(i);return f||(f=this.precomputeWindow(i,c),c!==1&&a.set(i,o(f))),this.wNAF(c,f,s)}}}function i2(t){return n2(t.Fp),js(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...wh(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function U8(t){const e=i2(t);js(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:$8,hexToBytes:H8}=k8,Sa={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=Sa;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]===0&&n[1]<=127)throw new e("Invalid signature integer: trailing length");return{d:$8(n),l:t.subarray(r+2)}},toSig(t){const{Err:e}=Sa,r=typeof t=="string"?H8(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");const{d:i,l:a}=Sa._parseInt(r.subarray(2)),{d:s,l:o}=Sa._parseInt(a);if(o.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s}},hexFromSig(t){const e=f=>Number.parseInt(f[0],16)>=8?"00"+f:f,r=f=>{const l=f.toString(16);return l.length&1?`0${l}`:l},n=e(r(t.s)),i=e(r(t.r)),a=n.length/2,s=i.length/2,o=r(a),c=r(s);return`30${r(s+a+4)}02${c}${i}02${o}${n}`}},Mi=BigInt(0),gn=BigInt(1);function z8(t){const e=U8(t),{Fp:r}=e,n=e.toBytes||((M,k,I)=>{const C=k.toAffine();return sn(Uint8Array.from([4]),r.toBytes(C.x),r.toBytes(C.y))}),i=e.fromBytes||(M=>{const k=M.subarray(1),I=r.fromBytes(k.subarray(0,r.BYTES)),C=r.fromBytes(k.subarray(r.BYTES,2*r.BYTES));return{x:I,y:C}});function a(M){const{a:k,b:I}=e,C=r.sqr(M),R=r.mul(C,M);return r.add(r.add(R,r.mul(M,k)),I)}function s(M){return typeof M=="bigint"&&Mi<M&&M<e.n}function o(M){if(!s(M))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(M){const{allowedPrivateKeyLengths:k,nByteLength:I,wrapPrivateKey:C,n:R}=e;if(k&&typeof M!="bigint"){if(M instanceof Uint8Array&&(M=Ts(M)),typeof M!="string"||!k.includes(M.length))throw new Error("Invalid key");M=M.padStart(I*2,"0")}let D;try{D=typeof M=="bigint"?M:zr(pr("private key",M,I))}catch{throw new Error(`private key must be ${I} bytes, hex or bigint, not ${typeof M}`)}return C&&(D=sr(D,R)),o(D),D}const f=new Map;function l(M){if(!(M instanceof x))throw new Error("ProjectivePoint expected")}class x{constructor(k,I,C){if(this.px=k,this.py=I,this.pz=C,k==null||!r.isValid(k))throw new Error("x required");if(I==null||!r.isValid(I))throw new Error("y required");if(C==null||!r.isValid(C))throw new Error("z required")}static fromAffine(k){const{x:I,y:C}=k||{};if(!k||!r.isValid(I)||!r.isValid(C))throw new Error("invalid affine point");if(k instanceof x)throw new Error("projective point not allowed");const R=D=>r.eql(D,r.ZERO);return R(I)&&R(C)?x.ZERO:new x(I,C,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(k){const I=r.invertBatch(k.map(C=>C.pz));return k.map((C,R)=>C.toAffine(I[R])).map(x.fromAffine)}static fromHex(k){const I=x.fromAffine(i(pr("pointHex",k)));return I.assertValidity(),I}static fromPrivateKey(k){return x.BASE.multiply(c(k))}_setWindowSize(k){this._WINDOW_SIZE=k,f.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint)return;throw new Error("bad point: ZERO")}const{x:k,y:I}=this.toAffine();if(!r.isValid(k)||!r.isValid(I))throw new Error("bad point: x or y not FE");const C=r.sqr(I),R=a(k);if(!r.eql(C,R))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:k}=this.toAffine();if(r.isOdd)return!r.isOdd(k);throw new Error("Field doesn't support isOdd")}equals(k){l(k);const{px:I,py:C,pz:R}=this,{px:D,py:F,pz:H}=k,j=r.eql(r.mul(I,H),r.mul(D,R)),Z=r.eql(r.mul(C,H),r.mul(F,R));return j&&Z}negate(){return new x(this.px,r.neg(this.py),this.pz)}double(){const{a:k,b:I}=e,C=r.mul(I,3n),{px:R,py:D,pz:F}=this;let H=r.ZERO,j=r.ZERO,Z=r.ZERO,G=r.mul(R,R),J=r.mul(D,D),B=r.mul(F,F),m=r.mul(R,D);return m=r.add(m,m),Z=r.mul(R,F),Z=r.add(Z,Z),H=r.mul(k,Z),j=r.mul(C,B),j=r.add(H,j),H=r.sub(J,j),j=r.add(J,j),j=r.mul(H,j),H=r.mul(m,H),Z=r.mul(C,Z),B=r.mul(k,B),m=r.sub(G,B),m=r.mul(k,m),m=r.add(m,Z),Z=r.add(G,G),G=r.add(Z,G),G=r.add(G,B),G=r.mul(G,m),j=r.add(j,G),B=r.mul(D,F),B=r.add(B,B),G=r.mul(B,m),H=r.sub(H,G),Z=r.mul(B,J),Z=r.add(Z,Z),Z=r.add(Z,Z),new x(H,j,Z)}add(k){l(k);const{px:I,py:C,pz:R}=this,{px:D,py:F,pz:H}=k;let j=r.ZERO,Z=r.ZERO,G=r.ZERO;const J=e.a,B=r.mul(e.b,3n);let m=r.mul(I,D),d=r.mul(C,F),h=r.mul(R,H),u=r.add(I,C),p=r.add(D,F);u=r.mul(u,p),p=r.add(m,d),u=r.sub(u,p),p=r.add(I,R);let g=r.add(D,H);return p=r.mul(p,g),g=r.add(m,h),p=r.sub(p,g),g=r.add(C,R),j=r.add(F,H),g=r.mul(g,j),j=r.add(d,h),g=r.sub(g,j),G=r.mul(J,p),j=r.mul(B,h),G=r.add(j,G),j=r.sub(d,G),G=r.add(d,G),Z=r.mul(j,G),d=r.add(m,m),d=r.add(d,m),h=r.mul(J,h),p=r.mul(B,p),d=r.add(d,h),h=r.sub(m,h),h=r.mul(J,h),p=r.add(p,h),m=r.mul(d,p),Z=r.add(Z,m),m=r.mul(g,p),j=r.mul(u,j),j=r.sub(j,m),m=r.mul(u,d),G=r.mul(g,G),G=r.add(G,m),new x(j,Z,G)}subtract(k){return this.add(k.negate())}is0(){return this.equals(x.ZERO)}wNAF(k){return S.wNAFCached(this,f,k,I=>{const C=r.invertBatch(I.map(R=>R.pz));return I.map((R,D)=>R.toAffine(C[D])).map(x.fromAffine)})}multiplyUnsafe(k){const I=x.ZERO;if(k===Mi)return I;if(o(k),k===gn)return this;const{endo:C}=e;if(!C)return S.unsafeLadder(this,k);let{k1neg:R,k1:D,k2neg:F,k2:H}=C.splitScalar(k),j=I,Z=I,G=this;for(;D>Mi||H>Mi;)D&gn&&(j=j.add(G)),H&gn&&(Z=Z.add(G)),G=G.double(),D>>=gn,H>>=gn;return R&&(j=j.negate()),F&&(Z=Z.negate()),Z=new x(r.mul(Z.px,C.beta),Z.py,Z.pz),j.add(Z)}multiply(k){o(k);let I=k,C,R;const{endo:D}=e;if(D){const{k1neg:F,k1:H,k2neg:j,k2:Z}=D.splitScalar(I);let{p:G,f:J}=this.wNAF(H),{p:B,f:m}=this.wNAF(Z);G=S.constTimeNegate(F,G),B=S.constTimeNegate(j,B),B=new x(r.mul(B.px,D.beta),B.py,B.pz),C=G.add(B),R=J.add(m)}else{const{p:F,f:H}=this.wNAF(I);C=F,R=H}return x.normalizeZ([C,R])[0]}multiplyAndAddUnsafe(k,I,C){const R=x.BASE,D=(H,j)=>j===Mi||j===gn||!H.equals(R)?H.multiplyUnsafe(j):H.multiply(j),F=D(this,I).add(D(k,C));return F.is0()?void 0:F}toAffine(k){const{px:I,py:C,pz:R}=this,D=this.is0();k==null&&(k=D?r.ONE:r.inv(R));const F=r.mul(I,k),H=r.mul(C,k),j=r.mul(R,k);if(D)return{x:r.ZERO,y:r.ZERO};if(!r.eql(j,r.ONE))throw new Error("invZ was invalid");return{x:F,y:H}}isTorsionFree(){const{h:k,isTorsionFree:I}=e;if(k===gn)return!0;if(I)return I(x,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:k,clearCofactor:I}=e;return k===gn?this:I?I(x,this):this.multiplyUnsafe(e.h)}toRawBytes(k=!0){return this.assertValidity(),n(x,this,k)}toHex(k=!0){return Ts(this.toRawBytes(k))}}x.BASE=new x(e.Gx,e.Gy,r.ONE),x.ZERO=new x(r.ZERO,r.ONE,r.ZERO);const A=e.nBitLength,S=F8(x,e.endo?Math.ceil(A/2):A);return{CURVE:e,ProjectivePoint:x,normPrivateKeyToScalar:c,weierstrassEquation:a,isWithinCurveOrder:s}}function q8(t){const e=i2(t);return js(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function j8(t){const e=q8(t),{Fp:r,n}=e,i=r.BYTES+1,a=2*r.BYTES+1;function s(p){return Mi<p&&p<r.ORDER}function o(p){return sr(p,n)}function c(p){return Dl(p,n)}const{ProjectivePoint:f,normPrivateKeyToScalar:l,weierstrassEquation:x,isWithinCurveOrder:A}=z8({...e,toBytes(p,g,E){const _=g.toAffine(),y=r.toBytes(_.x),b=sn;return E?b(Uint8Array.from([g.hasEvenY()?2:3]),y):b(Uint8Array.from([4]),y,r.toBytes(_.y))},fromBytes(p){const g=p.length,E=p[0],_=p.subarray(1);if(g===i&&(E===2||E===3)){const y=zr(_);if(!s(y))throw new Error("Point is not on curve");const b=x(y);let w=r.sqrt(b);const v=(w&gn)===gn;return(E&1)===1!==v&&(w=r.neg(w)),{x:y,y:w}}else if(g===a&&E===4){const y=r.fromBytes(_.subarray(0,r.BYTES)),b=r.fromBytes(_.subarray(r.BYTES,2*r.BYTES));return{x:y,y:b}}else throw new Error(`Point of length ${g} was invalid. Expected ${i} compressed bytes or ${a} uncompressed bytes`)}}),S=p=>Ts(ra(p,e.nByteLength));function M(p){const g=n>>gn;return p>g}function k(p){return M(p)?o(-p):p}const I=(p,g,E)=>zr(p.slice(g,E));class C{constructor(g,E,_){this.r=g,this.s=E,this.recovery=_,this.assertValidity()}static fromCompact(g){const E=e.nByteLength;return g=pr("compactSignature",g,E*2),new C(I(g,0,E),I(g,E,2*E))}static fromDER(g){const{r:E,s:_}=Sa.toSig(pr("DER",g));return new C(E,_)}assertValidity(){if(!A(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!A(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(g){return new C(this.r,this.s,g)}recoverPublicKey(g){const{r:E,s:_,recovery:y}=this,b=Z(pr("msgHash",g));if(y==null||![0,1,2,3].includes(y))throw new Error("recovery id invalid");const w=y===2||y===3?E+e.n:E;if(w>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const v=y&1?"03":"02",N=f.fromHex(v+S(w)),$=c(w),T=o(-b*$),P=o(_*$),U=f.BASE.multiplyAndAddUnsafe(N,T,P);if(!U)throw new Error("point at infinify");return U.assertValidity(),U}hasHighS(){return M(this.s)}normalizeS(){return this.hasHighS()?new C(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return Ms(this.toDERHex())}toDERHex(){return Sa.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Ms(this.toCompactHex())}toCompactHex(){return S(this.r)+S(this.s)}}const R={isValidPrivateKey(p){try{return l(p),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const p=e.randomBytes(r.BYTES+8),g=L8(p,n);return ra(g,e.nByteLength)},precompute(p=8,g=f.BASE){return g._setWindowSize(p),g.multiply(BigInt(3)),g}};function D(p,g=!0){return f.fromPrivateKey(p).toRawBytes(g)}function F(p){const g=p instanceof Uint8Array,E=typeof p=="string",_=(g||E)&&p.length;return g?_===i||_===a:E?_===2*i||_===2*a:p instanceof f}function H(p,g,E=!0){if(F(p))throw new Error("first arg must be private key");if(!F(g))throw new Error("second arg must be public key");return f.fromHex(g).multiply(l(p)).toRawBytes(E)}const j=e.bits2int||function(p){const g=zr(p),E=p.length*8-e.nBitLength;return E>0?g>>BigInt(E):g},Z=e.bits2int_modN||function(p){return o(j(p))},G=vh(e.nBitLength);function J(p){if(typeof p!="bigint")throw new Error("bigint expected");if(!(Mi<=p&&p<G))throw new Error(`bigint expected < 2^${e.nBitLength}`);return ra(p,e.nByteLength)}function B(p,g,E=m){if(["recovered","canonical"].some(q=>q in E))throw new Error("sign() legacy options not supported");const{hash:_,randomBytes:y}=e;let{lowS:b,prehash:w,extraEntropy:v}=E;b==null&&(b=!0),p=pr("msgHash",p),w&&(p=pr("prehashed msgHash",_(p)));const N=Z(p),$=l(g),T=[J($),J(N)];if(v!=null){const q=v===!0?y(r.BYTES):v;T.push(pr("extraEntropy",q,r.BYTES))}const P=sn(...T),U=N;function z(q){const Y=j(q);if(!A(Y))return;const L=c(Y),O=f.BASE.multiply(Y).toAffine(),W=o(O.x);if(W===Mi)return;const V=o(L*o(U+W*$));if(V===Mi)return;let ee=(O.x===W?0:2)|Number(O.y&gn),oe=V;return b&&M(V)&&(oe=k(V),ee^=1),new C(W,oe,ee)}return{seed:P,k2sig:z}}const m={lowS:e.lowS,prehash:!1},d={lowS:e.lowS,prehash:!1};function h(p,g,E=m){const{seed:_,k2sig:y}=B(p,g,E);return r2(e.hash.outputLen,e.nByteLength,e.hmac)(_,y)}f.BASE._setWindowSize(8);function u(p,g,E,_=d){const y=p;if(g=pr("msgHash",g),E=pr("publicKey",E),"strict"in _)throw new Error("options.strict was renamed to lowS");const{lowS:b,prehash:w}=_;let v,N;try{if(typeof y=="string"||y instanceof Uint8Array)try{v=C.fromDER(y)}catch(O){if(!(O instanceof Sa.Err))throw O;v=C.fromCompact(y)}else if(typeof y=="object"&&typeof y.r=="bigint"&&typeof y.s=="bigint"){const{r:O,s:W}=y;v=new C(O,W)}else throw new Error("PARSE");N=f.fromHex(E)}catch(O){if(O.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(b&&v.hasHighS())return!1;w&&(g=e.hash(g));const{r:$,s:T}=v,P=Z(g),U=c(T),z=o(P*U),q=o($*U),Y=f.BASE.multiplyAndAddUnsafe(N,z,q)?.toAffine();return Y?o(Y.x)===$:!1}return{CURVE:e,getPublicKey:D,getSharedSecret:H,sign:h,verify:u,ProjectivePoint:f,Signature:C,utils:R}}function K8(t,e){const r=t.ORDER;let n=0n;for(let A=r-1n;A%2n===0n;A/=2n)n+=1n;const i=n,a=(r-1n)/2n**i,s=(a-1n)/2n,o=2n**i-1n,c=2n**(i-1n),f=t.pow(e,a),l=t.pow(e,(a+1n)/2n);let x=(A,S)=>{let M=f,k=t.pow(S,o),I=t.sqr(k);I=t.mul(I,S);let C=t.mul(A,I);C=t.pow(C,s),C=t.mul(C,k),k=t.mul(C,S),I=t.mul(C,A);let R=t.mul(I,k);C=t.pow(R,c);let D=t.eql(C,t.ONE);k=t.mul(I,l),C=t.mul(R,M),I=t.cmov(k,I,D),R=t.cmov(C,R,D);for(let F=i;F>1;F--){let H=2n**(F-2n),j=t.pow(R,H);const Z=t.eql(j,t.ONE);k=t.mul(I,M),M=t.mul(M,M),j=t.mul(R,M),I=t.cmov(k,I,Z),R=t.cmov(j,R,Z)}return{isValid:D,value:I}};if(t.ORDER%4n===3n){const A=(t.ORDER-3n)/4n,S=t.sqrt(t.neg(e));x=(M,k)=>{let I=t.sqr(k);const C=t.mul(M,k);I=t.mul(I,C);let R=t.pow(I,A);R=t.mul(R,C);const D=t.mul(R,S),F=t.mul(t.sqr(R),k),H=t.eql(F,M);let j=t.cmov(D,R,H);return{isValid:H,value:j}}}return x}function G8(t,e){if(n2(t),!t.isValid(e.A)||!t.isValid(e.B)||!t.isValid(e.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const r=K8(t,e.Z);if(!t.isOdd)throw new Error("Fp.isOdd is not implemented!");return n=>{let i,a,s,o,c,f,l,x;i=t.sqr(n),i=t.mul(i,e.Z),a=t.sqr(i),a=t.add(a,i),s=t.add(a,t.ONE),s=t.mul(s,e.B),o=t.cmov(e.Z,t.neg(a),!t.eql(a,t.ZERO)),o=t.mul(o,e.A),a=t.sqr(s),f=t.sqr(o),c=t.mul(f,e.A),a=t.add(a,c),a=t.mul(a,s),f=t.mul(f,o),c=t.mul(f,e.B),a=t.add(a,c),l=t.mul(i,s);const{isValid:A,value:S}=r(a,f);x=t.mul(i,n),x=t.mul(x,S),l=t.cmov(l,s,A),x=t.cmov(x,S,A);const M=t.isOdd(n)===t.isOdd(x);return x=t.cmov(t.neg(x),x,M),l=t.div(l,o),{x:l,y:x}}}function V8(t){if(t instanceof Uint8Array)return t;if(typeof t=="string")return pf(t);throw new Error("DST must be Uint8Array or string")}const W8=zr;function Zi(t,e){if(t<0||t>=1<<8*e)throw new Error(`bad I2OSP call: value=${t} length=${e}`);const r=Array.from({length:e}).fill(0);for(let n=e-1;n>=0;n--)r[n]=t&255,t>>>=8;return new Uint8Array(r)}function J8(t,e){const r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t[n]^e[n];return r}function Yo(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected")}function _h(t){if(!Number.isSafeInteger(t))throw new Error("number expected")}function Y8(t,e,r,n){Yo(t),Yo(e),_h(r),e.length>255&&(e=n(sn(pf("H2C-OVERSIZE-DST-"),e)));const{outputLen:i,blockLen:a}=n,s=Math.ceil(r/i);if(s>255)throw new Error("Invalid xmd length");const o=sn(e,Zi(e.length,1)),c=Zi(0,a),f=Zi(r,2),l=new Array(s),x=n(sn(c,t,f,Zi(0,1),o));l[0]=n(sn(x,Zi(1,1),o));for(let S=1;S<=s;S++){const M=[J8(x,l[S-1]),Zi(S+1,1),o];l[S]=n(sn(...M))}return sn(...l).slice(0,r)}function Z8(t,e,r,n,i){if(Yo(t),Yo(e),_h(r),e.length>255){const a=Math.ceil(2*n/8);e=i.create({dkLen:a}).update(pf("H2C-OVERSIZE-DST-")).update(e).digest()}if(r>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:r}).update(t).update(Zi(r,2)).update(e).update(Zi(e.length,1)).digest()}function Kp(t,e,r){js(r,{DST:"string",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:n,k:i,m:a,hash:s,expand:o,DST:c}=r;Yo(t),_h(e);const f=V8(c),l=n.toString(2).length,x=Math.ceil((l+i)/8),A=e*a*x;let S;if(o==="xmd")S=Y8(t,f,A,s);else if(o==="xof")S=Z8(t,f,A,i,s);else if(o===void 0)S=t;else throw new Error('expand must be "xmd", "xof" or undefined');const M=new Array(e);for(let k=0;k<e;k++){const I=new Array(a);for(let C=0;C<a;C++){const R=x*(C+k*a),D=S.subarray(R,R+x);I[C]=sr(W8(D),n)}M[k]=I}return M}function Q8(t,e){const r=e.map(n=>Array.from(n).reverse());return(n,i)=>{const[a,s,o,c]=r.map(f=>f.reduce((l,x)=>t.add(t.mul(l,n),x)));return n=t.div(a,s),i=t.mul(i,t.div(o,c)),{x:n,y:i}}}function X8(t,e,r){if(typeof e!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(n,i){const a=Kp(n,2,{...r,DST:r.DST,...i}),s=t.fromAffine(e(a[0])),o=t.fromAffine(e(a[1])),c=s.add(o).clearCofactor();return c.assertValidity(),c},encodeToCurve(n,i){const a=Kp(n,1,{...r,DST:r.encodeDST,...i}),s=t.fromAffine(e(a[0])).clearCofactor();return s.assertValidity(),s}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function e7(t){return{hash:t,hmac:(e,...r)=>Q1(t,e,e5(...r)),randomBytes:o1}}function t7(t,e){const r=n=>j8({...t,...e7(n)});return Object.freeze({...r(e),create:r})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const mf=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),_u=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),a2=BigInt(1),Fl=BigInt(2),Gp=(t,e)=>(t+e/Fl)/e;function s2(t){const e=mf,r=BigInt(3),n=BigInt(6),i=BigInt(11),a=BigInt(22),s=BigInt(23),o=BigInt(44),c=BigInt(88),f=t*t*t%e,l=f*f*t%e,x=pn(l,r,e)*l%e,A=pn(x,r,e)*l%e,S=pn(A,Fl,e)*f%e,M=pn(S,i,e)*S%e,k=pn(M,a,e)*M%e,I=pn(k,o,e)*k%e,C=pn(I,c,e)*I%e,R=pn(C,o,e)*k%e,D=pn(R,r,e)*l%e,F=pn(D,s,e)*M%e,H=pn(F,n,e)*f%e,j=pn(H,Fl,e);if(!oa.eql(oa.sqr(j),t))throw new Error("Cannot find square root");return j}const oa=B8(mf,void 0,void 0,{sqrt:s2}),Ja=t7({a:BigInt(0),b:BigInt(7),Fp:oa,n:_u,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=_u,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-a2*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=r,s=BigInt("0x100000000000000000000000000000000"),o=Gp(a*t,e),c=Gp(-n*t,e);let f=sr(t-o*r-c*i,e),l=sr(-o*n-c*a,e);const x=f>s,A=l>s;if(x&&(f=e-f),A&&(l=e-l),f>s||l>s)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:x,k1:f,k2neg:A,k2:l}}}},wu),Ah=BigInt(0),o2=t=>typeof t=="bigint"&&Ah<t&&t<mf,r7=t=>typeof t=="bigint"&&Ah<t&&t<_u,Vp={};function Au(t,...e){let r=Vp[t];if(r===void 0){const n=wu(Uint8Array.from(t,i=>i.charCodeAt(0)));r=sn(n,n),Vp[t]=r}return wu(sn(r,...e))}const Eh=t=>t.toRawBytes(!0).slice(1),Ul=t=>ra(t,32),Md=t=>sr(t,mf),Zo=t=>sr(t,_u),Th=Ja.ProjectivePoint,n7=(t,e,r)=>Th.BASE.multiplyAndAddUnsafe(t,e,r);function $l(t){let e=Ja.utils.normPrivateKeyToScalar(t),r=Th.fromPrivateKey(e);return{scalar:r.hasEvenY()?e:Zo(-e),bytes:Eh(r)}}function c2(t){if(!o2(t))throw new Error("bad x: need 0 < x < p");const e=Md(t*t),r=Md(e*t+BigInt(7));let n=s2(r);n%2n!==0n&&(n=Md(-n));const i=new Th(t,n,a2);return i.assertValidity(),i}function u2(...t){return Zo(zr(Au("BIP0340/challenge",...t)))}function i7(t){return $l(t).bytes}function a7(t,e,r=o1(32)){const n=pr("message",t),{bytes:i,scalar:a}=$l(e),s=pr("auxRand",r,32),o=Ul(a^zr(Au("BIP0340/aux",s))),c=Au("BIP0340/nonce",o,i,n),f=Zo(zr(c));if(f===Ah)throw new Error("sign failed: k is zero");const{bytes:l,scalar:x}=$l(f),A=u2(l,i,n),S=new Uint8Array(64);if(S.set(l,0),S.set(Ul(Zo(x+A*a)),32),!f2(S,n,i))throw new Error("sign: Invalid signature produced");return S}function f2(t,e,r){const n=pr("signature",t,64),i=pr("message",e),a=pr("publicKey",r,32);try{const s=c2(zr(a)),o=zr(n.subarray(0,32));if(!o2(o))return!1;const c=zr(n.subarray(32,64));if(!r7(c))return!1;const f=u2(Ul(o),Eh(s),i),l=n7(s,c,Zo(-f));return!(!l||!l.hasEvenY()||l.toAffine().x!==o)}catch{return!1}}Ja.utils.randomPrivateKey;const s7=Q8(oa,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(t=>t.map(e=>BigInt(e)))),o7=G8(oa,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:oa.create(BigInt("-11"))});X8(Ja.ProjectivePoint,t=>{const{x:e,y:r}=o7(oa.create(t[0]));return s7(e,r)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:oa.ORDER,m:1,k:128,expand:"xmd",hash:wu});async function Mh({hash:t,privateKey:e}){const{r,s:n,recovery:i}=Ja.sign(t.slice(2),e.slice(2));return{r:Fe(r),s:Fe(n),v:i?28n:27n}}function d2({r:t,s:e,v:r}){return`0x${new Ja.Signature(Es(t),Es(e)).toCompactHex()}${Fe(r).slice(2)}`}async function c7({message:t,privateKey:e}){const r=await Mh({hash:e4(t),privateKey:e});return d2(r)}async function u7({privateKey:t,transaction:e}){const r=await Mh({hash:zt(Hp(e)),privateKey:t});return Hp(e,r)}async function f7({privateKey:t,...e}){const r=await Mh({hash:t4(e),privateKey:t});return d2(r)}function d7(t){if(typeof t=="string"){if(!qr(t))throw new Wr({address:t});return{address:t,type:"json-rpc"}}if(!qr(t.address))throw new Wr({address:t.address});return{address:t.address,signMessage:t.signMessage,signTransaction:t.signTransaction,signTypedData:t.signTypedData,source:"custom",type:"local"}}function l7(t){const e=Fe(Ja.getPublicKey(t.slice(2),!1)),r=O5(e);return{...d7({address:r,async signMessage({message:i}){return c7({message:i,privateKey:t})},async signTransaction(i){return u7({privateKey:t,transaction:i})},async signTypedData(i){return f7({...i,privateKey:t})}}),publicKey:e,source:"privateKey"}}class h7{constructor(e){this.value=e,this.next=void 0}}let p7=class{constructor(){this.clear()}enqueue(e){const r=new h7(e);this._head?(this._tail.next=r,this._tail=r):(this._head=r,this._tail=r),this._size++}dequeue(){const e=this._head;if(e)return this._head=this._head.next,this._size--,e.value}clear(){this._head=void 0,this._tail=void 0,this._size=0}get size(){return this._size}*[Symbol.iterator](){let e=this._head;for(;e;)yield e.value,e=e.next}};var m7=p7;const y7=m7,b7=t=>{if(!((Number.isInteger(t)||t===1/0)&&t>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up");const e=new y7;let r=0;const n=()=>{r--,e.size>0&&e.dequeue()()},i=async(o,c,...f)=>{r++;const l=(async()=>o(...f))();c(l);try{await l}catch{}n()},a=(o,c,...f)=>{e.enqueue(i.bind(null,o,c,...f)),(async()=>(await Promise.resolve(),r<t&&e.size>0&&e.dequeue()()))()},s=(o,...c)=>new Promise(f=>{a(o,f,...c)});return Object.defineProperties(s,{activeCount:{get:()=>r},pendingCount:{get:()=>e.size},clearQueue:{value:()=>{e.clear()}}}),s};var x7=b7;const l2=Wn(x7);var g7={};W1(g7,{BaseContract:()=>v2,CbtContract:()=>xf,CharacterContract:()=>xi,CsbContract:()=>kh,LinkContract:()=>Cr,LinkModuleContract:()=>vf,MintModuleContract:()=>Ih,NoteContract:()=>Yn,OperatorContract:()=>bf,RevisionContract:()=>_2,TipsContract:()=>gf});var v7=new Set(["0x8589427373d6d84e98730d7795d8f6f8731fda16","0x722122df12d4e14e13ac3b6895a86e84145b6967","0xdd4c48c0b24039969fc16d1cdf626eab821d3384","0xd90e2f925da726b50c4ed8d0fb90ad053324f31b","0xd96f2b1c14db8458374d9aca76e26c3d18364307","0x4736dcf1b7a3d580672cce6e7c65cd5cc9cfba9d","0xd4b88df4d29f5cedd6857912842cff3b20c8cfa3","0x910cbd523d972eb0a6f4cae4618ad62622b39dbf","0xa160cdab225685da1d56aa342ad8841c3b53f291","0xfd8610d20aa15b7b2e3be39b396a1bc3516c7144","0xf60dd140cff0706bae9cd734ac3ae76ad9ebc32a","0x22aaa7720ddd5388a3c0a3333430953c68f1849b","0xba214c1c1928a32bffe790263e38b4af9bfcd659","0xb1c8094b234dce6e03f10a5b673c1d8c69739a00","0x527653ea119f3e6a1f5bd18fbf4714081d7b31ce","0x58e8dcc13be9780fc42e8723d8ead4cf46943df2","0xd691f27f38b395864ea86cfc7253969b409c362d","0xaeaac358560e11f52454d997aaff2c5731b6f8a6","0x1356c899d8c9467c7f71c195612f8a395abf2f0a","0xa60c772958a3ed56c1f15dd055ba37ac8e523a0d","0x169ad27a470d064dede56a2d3ff727986b15d52b","0x0836222f2b2b24a3f36f98668ed8f0b38d1a872f","0xf67721a2d8f736e75a49fdd7fad2e31d8676542a","0x9ad122c22b14202b4490edaf288fdb3c7cb3ff5e","0x905b63fff465b9ffbf41dea908ceb12478ec7601","0x07687e702b410fa43f4cb4af7fa097918ffd2730","0x94a1b5cdb22c43faab4abeb5c74999895464ddaf","0xb541fc07bc7619fd4062a54d96268525cbc6ffef","0x12d66f87a04a9e220743712ce6d9bb1b5616b8fc","0x47ce0c6ed5b0ce3d3a51fdb1c52dc66a7c3c2936","0x23773e65ed146a459791799d01336db287f25334","0xd21be7248e0197ee08e0c20d4a96debdac3d20af","0x610b717796ad172b316836ac95a2ffad065ceab4","0x178169b423a011fff22b9e3f3abea13414ddd0f1","0xbb93e510bbcd0b7beb5a853875f9ec60275cf498","0x2717c5e28cf931547b621a5dddb772ab6a35b701","0x03893a7c7463ae47d46bc7f091665f1893656003","0xca0840578f57fe71599d29375e16783424023357","0x58e8dcc13be9780fc42e8723d8ead4cf46943df2","0x8589427373d6d84e98730d7795d8f6f8731fda16","0x722122df12d4e14e13ac3b6895a86e84145b6967","0xdd4c48c0b24039969fc16d1cdf626eab821d3384","0xd90e2f925da726b50c4ed8d0fb90ad053324f31b","0xd96f2b1c14db8458374d9aca76e26c3d18364307","0x4736dcf1b7a3d580672cce6e7c65cd5cc9cfba9d"]),w7=t=>v7.has(t.toLowerCase()),_7=t=>{if(w7(t))throw new Error(`This address ${t} is in the U.S. SDN list. All transactions from this address will be rejected. Info: https://home.treasury.gov/policy-issues/financial-sanctions/recent-actions/20220808`)},ri="0x0000000000000000000000000000000000000000";function Gr(t){Array.isArray(t)?t.forEach(e=>Gr(e)):_7(t)}var kd=void 0,Wp=0;async function A7({type:t}={}){const e=Date.now(),r=e-Wp>60*1e3;let n=[];return!kd||r?(n=await fetch("https://raw.githubusercontent.com/Crossbell-Box/Crossbell-Contracts/main/deployments/modules.json").then(i=>i.json()),kd=n,Wp=e):n=kd,t?n.filter(i=>i.type===t):n}async function E7(t){return(await A7()).find(r=>b1(r.address,t))}async function vn(t){if(!t)return{address:ri,initData:ri};const e=await E7(t.address);if(!e)throw new Error(`Invalid module address ${t.address}`);const r=aa(e.initDataStructure.map(n=>({type:n.type})),t.data);return{address:t.address,initData:r}}var T7={};W1(T7,{cbt:()=>p2,entry:()=>yf,linklist:()=>x2,mira:()=>b2,newbieVilla:()=>m2,periphery:()=>h2,tips:()=>y2});var yf=[{inputs:[{name:"characterId",type:"uint256"}],name:"ErrCharacterNotExists",type:"error"},{inputs:[],name:"ErrHandleContainsInvalidCharacters",type:"error"},{inputs:[],name:"ErrHandleExists",type:"error"},{inputs:[],name:"ErrHandleLengthInvalid",type:"error"},{inputs:[],name:"ErrNotAddressOwner",type:"error"},{inputs:[],name:"ErrNotCharacterOwner",type:"error"},{inputs:[],name:"ErrNotEnoughPermission",type:"error"},{inputs:[],name:"ErrNotEnoughPermissionForThisNote",type:"error"},{inputs:[],name:"ErrNoteIsDeleted",type:"error"},{inputs:[],name:"ErrNoteLocked",type:"error"},{inputs:[],name:"ErrNoteNotExists",type:"error"},{inputs:[],name:"ErrSocialTokenExists",type:"error"},{inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"approved",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"operator",type:"address"},{indexed:!1,name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{inputs:[{indexed:!1,name:"version",type:"uint8"}],name:"Initialized",type:"event"},{inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{name:"to",type:"address"},{name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"owner",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"to",type:"address"},{name:"handle",type:"string"},{name:"uri",type:"string"},{name:"linkModule",type:"address"},{name:"linkModuleInitData",type:"bytes"}],name:"vars",type:"tuple"}],name:"createCharacter",outputs:[{name:"characterId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"fromCharacterId",type:"uint256"},{name:"to",type:"address"},{name:"linkType",type:"bytes32"}],name:"vars",type:"tuple"}],name:"createThenLinkCharacter",outputs:[{name:"characterId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"noteId",type:"uint256"}],name:"deleteNote",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"}],name:"getCharacter",outputs:[{components:[{name:"characterId",type:"uint256"},{name:"handle",type:"string"},{name:"uri",type:"string"},{name:"noteCount",type:"uint256"},{name:"socialToken",type:"address"},{name:"linkModule",type:"address"}],name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{name:"handle",type:"string"}],name:"getCharacterByHandle",outputs:[{components:[{name:"characterId",type:"uint256"},{name:"handle",type:"string"},{name:"uri",type:"string"},{name:"noteCount",type:"uint256"},{name:"socialToken",type:"address"},{name:"linkModule",type:"address"}],name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"}],name:"getCharacterUri",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"}],name:"getHandle",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"}],name:"getLinkModule4Address",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenAddress",type:"address"},{name:"tokenId",type:"uint256"}],name:"getLinkModule4ERC721",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkModule4Linklist",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getLinklistContract",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"linkType",type:"bytes32"}],name:"getLinklistId",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"linkListId",type:"uint256"}],name:"getLinklistType",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinklistUri",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"noteId",type:"uint256"}],name:"getNote",outputs:[{components:[{name:"linkItemType",type:"bytes32"},{name:"linkKey",type:"bytes32"},{name:"contentUri",type:"string"},{name:"linkModule",type:"address"},{name:"mintModule",type:"address"},{name:"mintNFT",type:"address"},{name:"deleted",type:"bool"},{name:"locked",type:"bool"}],name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"operator",type:"address"}],name:"getOperatorPermissions",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"}],name:"getOperators",outputs:[{name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"noteId",type:"uint256"}],name:"getOperators4Note",outputs:[{name:"blocklist",type:"address[]"},{name:"allowlist",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"}],name:"getPrimaryCharacterId",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getRevision",outputs:[{name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"operator",type:"address"},{name:"permissionBitMap",type:"uint256"}],name:"grantOperatorPermissions",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"noteId",type:"uint256"},{name:"blocklist",type:"address[]"},{name:"allowlist",type:"address[]"}],name:"grantOperators4Note",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"name_",type:"string"},{name:"symbol_",type:"string"},{name:"linklist_",type:"address"},{name:"mintNFTImpl_",type:"address"},{name:"periphery_",type:"address"},{name:"newbieVilla_",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"owner",type:"address"},{name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"noteId",type:"uint256"},{name:"operator",type:"address"}],name:"isOperatorAllowedForNote",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"}],name:"isPrimaryCharacter",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{components:[{name:"fromCharacterId",type:"uint256"},{name:"ethAddress",type:"address"},{name:"linkType",type:"bytes32"},{name:"data",type:"bytes"}],name:"vars",type:"tuple"}],name:"linkAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"fromCharacterId",type:"uint256"},{name:"toUri",type:"string"},{name:"linkType",type:"bytes32"},{name:"data",type:"bytes"}],name:"vars",type:"tuple"}],name:"linkAnyUri",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"fromCharacterId",type:"uint256"},{name:"toCharacterId",type:"uint256"},{name:"linkType",type:"bytes32"},{name:"data",type:"bytes"}],name:"vars",type:"tuple"}],name:"linkCharacter",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"fromCharacterId",type:"uint256"},{name:"tokenAddress",type:"address"},{name:"tokenId",type:"uint256"},{name:"linkType",type:"bytes32"},{name:"data",type:"bytes"}],name:"vars",type:"tuple"}],name:"linkERC721",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"fromCharacterId",type:"uint256"},{name:"toLinkListId",type:"uint256"},{name:"linkType",type:"bytes32"},{name:"data",type:"bytes"}],name:"vars",type:"tuple"}],name:"linkLinklist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"fromCharacterId",type:"uint256"},{name:"toCharacterId",type:"uint256"},{name:"toNoteId",type:"uint256"},{name:"linkType",type:"bytes32"},{name:"data",type:"bytes"}],name:"vars",type:"tuple"}],name:"linkNote",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"noteId",type:"uint256"}],name:"lockNote",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"characterId",type:"uint256"},{name:"noteId",type:"uint256"},{name:"to",type:"address"},{name:"mintModuleData",type:"bytes"}],name:"vars",type:"tuple"}],name:"mintNote",outputs:[{name:"tokenId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"data",type:"bytes[]"}],name:"multicall",outputs:[{name:"results",type:"bytes[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{name:"characterId",type:"uint256"},{name:"contentUri",type:"string"},{name:"linkModule",type:"address"},{name:"linkModuleInitData",type:"bytes"},{name:"mintModule",type:"address"},{name:"mintModuleInitData",type:"bytes"},{name:"locked",type:"bool"}],name:"vars",type:"tuple"}],name:"postNote",outputs:[{name:"noteId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"characterId",type:"uint256"},{name:"contentUri",type:"string"},{name:"linkModule",type:"address"},{name:"linkModuleInitData",type:"bytes"},{name:"mintModule",type:"address"},{name:"mintModuleInitData",type:"bytes"},{name:"locked",type:"bool"}],name:"vars",type:"tuple"},{name:"ethAddress",type:"address"}],name:"postNote4Address",outputs:[{name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"characterId",type:"uint256"},{name:"contentUri",type:"string"},{name:"linkModule",type:"address"},{name:"linkModuleInitData",type:"bytes"},{name:"mintModule",type:"address"},{name:"mintModuleInitData",type:"bytes"},{name:"locked",type:"bool"}],name:"vars",type:"tuple"},{name:"uri",type:"string"}],name:"postNote4AnyUri",outputs:[{name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"characterId",type:"uint256"},{name:"contentUri",type:"string"},{name:"linkModule",type:"address"},{name:"linkModuleInitData",type:"bytes"},{name:"mintModule",type:"address"},{name:"mintModuleInitData",type:"bytes"},{name:"locked",type:"bool"}],name:"vars",type:"tuple"},{name:"toCharacterId",type:"uint256"}],name:"postNote4Character",outputs:[{name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"characterId",type:"uint256"},{name:"contentUri",type:"string"},{name:"linkModule",type:"address"},{name:"linkModuleInitData",type:"bytes"},{name:"mintModule",type:"address"},{name:"mintModuleInitData",type:"bytes"},{name:"locked",type:"bool"}],name:"vars",type:"tuple"},{components:[{name:"tokenAddress",type:"address"},{name:"erc721TokenId",type:"uint256"}],name:"erc721",type:"tuple"}],name:"postNote4ERC721",outputs:[{name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"characterId",type:"uint256"},{name:"contentUri",type:"string"},{name:"linkModule",type:"address"},{name:"linkModuleInitData",type:"bytes"},{name:"mintModule",type:"address"},{name:"mintModuleInitData",type:"bytes"},{name:"locked",type:"bool"}],name:"vars",type:"tuple"},{name:"toLinklistId",type:"uint256"}],name:"postNote4Linklist",outputs:[{name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"characterId",type:"uint256"},{name:"contentUri",type:"string"},{name:"linkModule",type:"address"},{name:"linkModuleInitData",type:"bytes"},{name:"mintModule",type:"address"},{name:"mintModuleInitData",type:"bytes"},{name:"locked",type:"bool"}],name:"vars",type:"tuple"},{components:[{name:"characterId",type:"uint256"},{name:"noteId",type:"uint256"}],name:"note",type:"tuple"}],name:"postNote4Note",outputs:[{name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"resolver",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"tokenId",type:"uint256"},{name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"operator",type:"address"},{name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"newUri",type:"string"}],name:"setCharacterUri",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"newHandle",type:"string"}],name:"setHandle",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"account",type:"address"},{name:"linkModule",type:"address"},{name:"linkModuleInitData",type:"bytes"}],name:"vars",type:"tuple"}],name:"setLinkModule4Address",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"linklistId",type:"uint256"},{name:"linkModule",type:"address"},{name:"linkModuleInitData",type:"bytes"}],name:"vars",type:"tuple"}],name:"setLinkModule4Linklist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"linklistId",type:"uint256"},{name:"uri",type:"string"}],name:"setLinklistUri",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"characterId",type:"uint256"},{name:"noteId",type:"uint256"},{name:"mintModule",type:"address"},{name:"mintModuleInitData",type:"bytes"}],name:"vars",type:"tuple"}],name:"setMintModule4Note",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"noteId",type:"uint256"},{name:"newUri",type:"string"}],name:"setNoteUri",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"characterId",type:"uint256"}],name:"setPrimaryCharacterId",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"tokenAddress",type:"address"}],name:"setSocialToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"owner",type:"address"},{name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"}],name:"tokenURI",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"fromCharacterId",type:"uint256"},{name:"ethAddress",type:"address"},{name:"linkType",type:"bytes32"}],name:"vars",type:"tuple"}],name:"unlinkAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"fromCharacterId",type:"uint256"},{name:"toUri",type:"string"},{name:"linkType",type:"bytes32"}],name:"vars",type:"tuple"}],name:"unlinkAnyUri",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"fromCharacterId",type:"uint256"},{name:"toCharacterId",type:"uint256"},{name:"linkType",type:"bytes32"}],name:"vars",type:"tuple"}],name:"unlinkCharacter",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"fromCharacterId",type:"uint256"},{name:"tokenAddress",type:"address"},{name:"tokenId",type:"uint256"},{name:"linkType",type:"bytes32"}],name:"vars",type:"tuple"}],name:"unlinkERC721",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"fromCharacterId",type:"uint256"},{name:"toLinkListId",type:"uint256"},{name:"linkType",type:"bytes32"}],name:"vars",type:"tuple"}],name:"unlinkLinklist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"fromCharacterId",type:"uint256"},{name:"toCharacterId",type:"uint256"},{name:"toNoteId",type:"uint256"},{name:"linkType",type:"bytes32"}],name:"vars",type:"tuple"}],name:"unlinkNote",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{indexed:!0,name:"linklistId",type:"uint256"},{indexed:!0,name:"characterId",type:"uint256"},{indexed:!0,name:"linkType",type:"bytes32"}],name:"AttachLinklist",type:"event"},{inputs:[{indexed:!1,name:"name",type:"string"},{indexed:!1,name:"symbol",type:"string"},{indexed:!1,name:"timestamp",type:"uint256"}],name:"BaseInitialized",type:"event"},{inputs:[{indexed:!0,name:"characterId",type:"uint256"},{indexed:!0,name:"creator",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"handle",type:"string"},{indexed:!1,name:"timestamp",type:"uint256"}],name:"CharacterCreated",type:"event"},{inputs:[{indexed:!0,name:"characterId",type:"uint256"},{indexed:!1,name:"noteId",type:"uint256"}],name:"DeleteNote",type:"event"},{inputs:[{indexed:!0,name:"linklistId",type:"uint256"},{indexed:!0,name:"characterId",type:"uint256"},{indexed:!0,name:"linkType",type:"bytes32"}],name:"DetachLinklist",type:"event"},{inputs:[{indexed:!0,name:"characterId",type:"uint256"},{indexed:!0,name:"operator",type:"address"},{indexed:!1,name:"permissionBitMap",type:"uint256"}],name:"GrantOperatorPermissions",type:"event"},{inputs:[{indexed:!0,name:"characterId",type:"uint256"},{indexed:!0,name:"noteId",type:"uint256"},{indexed:!1,name:"blocklist",type:"address[]"},{indexed:!1,name:"allowlist",type:"address[]"}],name:"GrantOperators4Note",type:"event"},{inputs:[{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"ethAddress",type:"address"},{indexed:!1,name:"linkType",type:"bytes32"},{indexed:!1,name:"linklistId",type:"uint256"}],name:"LinkAddress",type:"event"},{inputs:[{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!1,name:"toUri",type:"string"},{indexed:!1,name:"linkType",type:"bytes32"},{indexed:!1,name:"linklistId",type:"uint256"}],name:"LinkAnyUri",type:"event"},{inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"toCharacterId",type:"uint256"},{indexed:!1,name:"linkType",type:"bytes32"},{indexed:!1,name:"linklistId",type:"uint256"}],name:"LinkCharacter",type:"event"},{inputs:[{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"linkType",type:"bytes32"},{indexed:!1,name:"clFromCharacterId",type:"uint256"},{indexed:!1,name:"clToCharacterId",type:"uint256"},{indexed:!1,name:"clLinkType",type:"bytes32"}],name:"LinkCharacterLink",type:"event"},{inputs:[{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"tokenAddress",type:"address"},{indexed:!0,name:"toNoteId",type:"uint256"},{indexed:!1,name:"linkType",type:"bytes32"},{indexed:!1,name:"linklistId",type:"uint256"}],name:"LinkERC721",type:"event"},{inputs:[{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"toLinklistId",type:"uint256"},{indexed:!1,name:"linkType",type:"bytes32"},{indexed:!0,name:"linklistId",type:"uint256"}],name:"LinkLinklist",type:"event"},{inputs:[{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"toCharacterId",type:"uint256"},{indexed:!0,name:"toNoteId",type:"uint256"},{indexed:!1,name:"linkType",type:"bytes32"},{indexed:!1,name:"linklistId",type:"uint256"}],name:"LinkNote",type:"event"},{inputs:[{indexed:!1,name:"timestamp",type:"uint256"}],name:"LinklistNFTInitialized",type:"event"},{inputs:[{indexed:!0,name:"characterId",type:"uint256"},{indexed:!1,name:"noteId",type:"uint256"}],name:"LockNote",type:"event"},{inputs:[{indexed:!1,name:"characterId",type:"uint256"},{indexed:!1,name:"noteId",type:"uint256"},{indexed:!1,name:"timestamp",type:"uint256"}],name:"MintNFTInitialized",type:"event"},{inputs:[{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"characterId",type:"uint256"},{indexed:!0,name:"noteId",type:"uint256"},{indexed:!1,name:"tokenAddress",type:"address"},{indexed:!1,name:"tokenId",type:"uint256"}],name:"MintNote",type:"event"},{inputs:[{indexed:!0,name:"characterId",type:"uint256"},{indexed:!0,name:"noteId",type:"uint256"},{indexed:!0,name:"linkKey",type:"bytes32"},{indexed:!1,name:"linkItemType",type:"bytes32"},{indexed:!1,name:"data",type:"bytes"}],name:"PostNote",type:"event"},{inputs:[{indexed:!0,name:"characterId",type:"uint256"},{indexed:!0,name:"noteId",type:"uint256"},{indexed:!0,name:"amount",type:"uint256"},{indexed:!1,name:"approvedAddresses",type:"address[]"}],name:"SetApprovedMintAmount4Addresses",type:"event"},{inputs:[{indexed:!0,name:"characterId",type:"uint256"},{indexed:!1,name:"newUri",type:"string"}],name:"SetCharacterUri",type:"event"},{inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!0,name:"characterId",type:"uint256"},{indexed:!1,name:"newHandle",type:"string"}],name:"SetHandle",type:"event"},{inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!0,name:"linkModule",type:"address"},{indexed:!1,name:"linkModuleInitData",type:"bytes"},{indexed:!1,name:"returnData",type:"bytes"}],name:"SetLinkModule4Address",type:"event"},{inputs:[{indexed:!0,name:"characterId",type:"uint256"},{indexed:!0,name:"linkModule",type:"address"},{indexed:!1,name:"linkModuleInitData",type:"bytes"},{indexed:!1,name:"returnData",type:"bytes"}],name:"SetLinkModule4Character",type:"event"},{inputs:[{indexed:!0,name:"tokenAddress",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"},{indexed:!0,name:"linkModule",type:"address"},{indexed:!1,name:"linkModuleInitData",type:"bytes"},{indexed:!1,name:"returnData",type:"bytes"}],name:"SetLinkModule4ERC721",type:"event"},{inputs:[{indexed:!0,name:"linklistId",type:"uint256"},{indexed:!0,name:"linkModule",type:"address"},{indexed:!1,name:"linkModuleInitData",type:"bytes"},{indexed:!1,name:"returnData",type:"bytes"}],name:"SetLinkModule4Linklist",type:"event"},{inputs:[{indexed:!0,name:"characterId",type:"uint256"},{indexed:!0,name:"noteId",type:"uint256"},{indexed:!0,name:"linkModule",type:"address"},{indexed:!1,name:"linkModuleInitData",type:"bytes"},{indexed:!1,name:"returnData",type:"bytes"}],name:"SetLinkModule4Note",type:"event"},{inputs:[{indexed:!0,name:"characterId",type:"uint256"},{indexed:!0,name:"noteId",type:"uint256"},{indexed:!0,name:"mintModule",type:"address"},{indexed:!1,name:"mintModuleInitData",type:"bytes"},{indexed:!1,name:"returnData",type:"bytes"}],name:"SetMintModule4Note",type:"event"},{inputs:[{indexed:!0,name:"characterId",type:"uint256"},{indexed:!1,name:"noteId",type:"uint256"},{indexed:!1,name:"newUri",type:"string"}],name:"SetNoteUri",type:"event"},{inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!0,name:"characterId",type:"uint256"},{indexed:!0,name:"oldCharacterId",type:"uint256"}],name:"SetPrimaryCharacterId",type:"event"},{inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!0,name:"characterId",type:"uint256"},{indexed:!0,name:"tokenAddress",type:"address"}],name:"SetSocialToken",type:"event"},{inputs:[{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"ethAddress",type:"address"},{indexed:!1,name:"linkType",type:"bytes32"}],name:"UnlinkAddress",type:"event"},{inputs:[{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!1,name:"toUri",type:"string"},{indexed:!1,name:"linkType",type:"bytes32"}],name:"UnlinkAnyUri",type:"event"},{inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"toCharacterId",type:"uint256"},{indexed:!1,name:"linkType",type:"bytes32"}],name:"UnlinkCharacter",type:"event"},{inputs:[{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"linkType",type:"bytes32"},{indexed:!1,name:"clFromCharactereId",type:"uint256"},{indexed:!1,name:"clToCharacterId",type:"uint256"},{indexed:!1,name:"clLinkType",type:"bytes32"}],name:"UnlinkCharacterLink",type:"event"},{inputs:[{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"tokenAddress",type:"address"},{indexed:!0,name:"toNoteId",type:"uint256"},{indexed:!1,name:"linkType",type:"bytes32"},{indexed:!1,name:"linklistId",type:"uint256"}],name:"UnlinkERC721",type:"event"},{inputs:[{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"toLinklistId",type:"uint256"},{indexed:!1,name:"linkType",type:"bytes32"},{indexed:!0,name:"linklistId",type:"uint256"}],name:"UnlinkLinklist",type:"event"},{inputs:[{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"toCharacterId",type:"uint256"},{indexed:!0,name:"toNoteId",type:"uint256"},{indexed:!1,name:"linkType",type:"bytes32"},{indexed:!1,name:"linklistId",type:"uint256"}],name:"UnlinkNote",type:"event"},{inputs:[{indexed:!1,name:"timestamp",type:"uint256"}],name:"Web3EntryInitialized",type:"event"}],h2=[{inputs:[{name:"linkKey",type:"bytes32"}],name:"getLinkingAddress",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"fromCharacterId",type:"uint256"},{name:"linkType",type:"bytes32"}],name:"getLinkingAddresses",outputs:[{name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"linkKey",type:"bytes32"}],name:"getLinkingAnyUri",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{name:"fromCharacterId",type:"uint256"},{name:"linkType",type:"bytes32"}],name:"getLinkingAnyUris",outputs:[{name:"results",type:"string[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"linkKey",type:"bytes32"}],name:"getLinkingCharacterId",outputs:[{name:"characterId",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"fromCharacterId",type:"uint256"},{name:"linkType",type:"bytes32"}],name:"getLinkingCharacterIds",outputs:[{name:"results",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"linkKey",type:"bytes32"}],name:"getLinkingERC721",outputs:[{components:[{name:"tokenAddress",type:"address"},{name:"erc721TokenId",type:"uint256"}],name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{name:"fromCharacterId",type:"uint256"},{name:"linkType",type:"bytes32"}],name:"getLinkingERC721s",outputs:[{components:[{name:"tokenAddress",type:"address"},{name:"erc721TokenId",type:"uint256"}],name:"results",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"linkKey",type:"bytes32"}],name:"getLinkingLinklistId",outputs:[{name:"linklistId",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"fromCharacterId",type:"uint256"},{name:"linkType",type:"bytes32"}],name:"getLinkingLinklistIds",outputs:[{name:"linklistIds",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"linkKey",type:"bytes32"}],name:"getLinkingNote",outputs:[{components:[{name:"characterId",type:"uint256"},{name:"noteId",type:"uint256"}],name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{name:"fromCharacterId",type:"uint256"},{name:"linkType",type:"bytes32"}],name:"getLinkingNotes",outputs:[{components:[{name:"linkItemType",type:"bytes32"},{name:"linkKey",type:"bytes32"},{name:"contentUri",type:"string"},{name:"linkModule",type:"address"},{name:"mintModule",type:"address"},{name:"mintNFT",type:"address"},{name:"deleted",type:"bool"},{name:"locked",type:"bool"}],name:"results",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"offset",type:"uint256"},{name:"limit",type:"uint256"}],name:"getNotesByCharacterId",outputs:[{components:[{name:"linkItemType",type:"bytes32"},{name:"linkKey",type:"bytes32"},{name:"contentUri",type:"string"},{name:"linkModule",type:"address"},{name:"mintModule",type:"address"},{name:"mintNFT",type:"address"},{name:"deleted",type:"bool"},{name:"locked",type:"bool"}],name:"results",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"_web3Entry",type:"address"},{name:"_linklist",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"fromCharacterId",type:"uint256"},{name:"toCharacterIds",type:"uint256[]"},{name:"data",type:"bytes[]"},{name:"toAddresses",type:"address[]"},{name:"linkType",type:"bytes32"}],name:"vars",type:"tuple"}],name:"linkCharactersInBatch",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"linklist",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{name:"account",type:"address"},{name:"handle",type:"string"},{name:"uri",type:"string"},{name:"toAddresses",type:"address[]"},{name:"linkType",type:"bytes32"}],name:"vars",type:"tuple"}],name:"migrate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"web3Entry",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"}],p2=[{inputs:[{name:"web3Entry",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!0,name:"operator",type:"address"},{indexed:!1,name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{inputs:[{indexed:!0,name:"from",type:"uint256"},{indexed:!0,name:"tokenId",type:"uint256"},{indexed:!0,name:"amount",type:"uint256"}],name:"Burn",type:"event"},{inputs:[{indexed:!0,name:"to",type:"uint256"},{indexed:!0,name:"tokenId",type:"uint256"},{indexed:!0,name:"tokenNumber",type:"uint256"}],name:"Mint",type:"event"},{inputs:[{indexed:!0,name:"role",type:"bytes32"},{indexed:!0,name:"previousAdminRole",type:"bytes32"},{indexed:!0,name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{inputs:[{indexed:!0,name:"role",type:"bytes32"},{indexed:!0,name:"account",type:"address"},{indexed:!0,name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{inputs:[{indexed:!0,name:"role",type:"bytes32"},{indexed:!0,name:"account",type:"address"},{indexed:!0,name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{inputs:[{indexed:!0,name:"operator",type:"address"},{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"ids",type:"uint256[]"},{indexed:!1,name:"values",type:"uint256[]"}],name:"TransferBatch",type:"event"},{inputs:[{indexed:!0,name:"operator",type:"address"},{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"id",type:"uint256"},{indexed:!1,name:"value",type:"uint256"}],name:"TransferSingle",type:"event"},{inputs:[{indexed:!1,name:"value",type:"string"},{indexed:!0,name:"id",type:"uint256"}],name:"URI",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MINTER_ROLE",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"_web3Entry",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"},{name:"tokenId",type:"uint256"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"tokenId",type:"uint256"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"accounts",type:"address[]"},{name:"tokenIds",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"tokenId",type:"uint256"},{name:"amount",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{name:"role",type:"bytes32"},{name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"role",type:"bytes32"},{name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"role",type:"bytes32"},{name:"account",type:"address"}],name:"hasRole",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"},{name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"tokenId",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"role",type:"bytes32"},{name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"role",type:"bytes32"},{name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"",type:"address"},{name:"",type:"address"},{name:"",type:"uint256[]"},{name:"",type:"uint256[]"},{name:"",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"",type:"address"},{name:"",type:"address"},{name:"",type:"uint256"},{name:"",type:"uint256"},{name:"",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"operator",type:"address"},{name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"tokenURI",type:"string"}],name:"setTokenURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"uri",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"}],m2=[{inputs:[{indexed:!1,name:"version",type:"uint8"}],name:"Initialized",type:"event"},{inputs:[{indexed:!0,name:"role",type:"bytes32"},{indexed:!0,name:"previousAdminRole",type:"bytes32"},{indexed:!0,name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{inputs:[{indexed:!0,name:"role",type:"bytes32"},{indexed:!0,name:"account",type:"address"},{indexed:!0,name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{inputs:[{indexed:!0,name:"role",type:"bytes32"},{indexed:!0,name:"account",type:"address"},{indexed:!0,name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{inputs:[{indexed:!1,name:"to",type:"address"},{indexed:!1,name:"characterId",type:"uint256"},{indexed:!1,name:"token",type:"address"},{indexed:!1,name:"amount",type:"uint256"}],name:"Withdraw",type:"event"},{inputs:[],name:"ADMIN_ROLE",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"ERC1820_REGISTRY",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"TOKENS_RECIPIENT_INTERFACE_HASH",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{name:"role",type:"bytes32"},{name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getToken",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"role",type:"bytes32"},{name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"role",type:"bytes32"},{name:"account",type:"address"}],name:"hasRole",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{name:"web3Entry_",type:"address"},{name:"xsyncOperator_",type:"address"},{name:"token_",type:"address"},{name:"admin_",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"operator",type:"address"},{name:"",type:"address"},{name:"tokenId",type:"uint256"},{name:"data",type:"bytes"}],name:"onERC721Received",outputs:[{name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"role",type:"bytes32"},{name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"role",type:"bytes32"},{name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{name:"",type:"address"},{name:"",type:"address"},{name:"to",type:"address"},{name:"amount",type:"uint256"},{name:"userData",type:"bytes"},{name:"operatorData",type:"bytes"}],name:"tokensReceived",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"web3Entry",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"to",type:"address"},{name:"characterId",type:"uint256"},{name:"nonce",type:"uint256"},{name:"expires",type:"uint256"},{name:"proof",type:"bytes"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"xsyncOperator",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"}],y2=[{inputs:[],name:"ErrCallerNotCharacterOwner",type:"error"},{inputs:[{indexed:!1,name:"version",type:"uint8"}],name:"Initialized",type:"event"},{inputs:[{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"toCharacterId",type:"uint256"},{indexed:!1,name:"token",type:"address"},{indexed:!1,name:"amount",type:"uint256"}],name:"TipCharacter",type:"event"},{inputs:[{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"toCharacterId",type:"uint256"},{indexed:!0,name:"toNoteId",type:"uint256"},{indexed:!1,name:"token",type:"address"},{indexed:!1,name:"amount",type:"uint256"}],name:"TipCharacterForNote",type:"event"},{inputs:[],name:"ERC1820_REGISTRY",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"TOKENS_RECIPIENT_INTERFACE_HASH",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getToken",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getWeb3Entry",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"web3Entry_",type:"address"},{name:"token_",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"",type:"address"},{name:"from",type:"address"},{name:"to",type:"address"},{name:"amount",type:"uint256"},{name:"userData",type:"bytes"},{name:"operatorData",type:"bytes"}],name:"tokensReceived",outputs:[],stateMutability:"nonpayable",type:"function"}],b2=[{inputs:[{name:"name_",type:"string"},{name:"symbol_",type:"string"},{name:"admin",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{inputs:[{indexed:!0,name:"operator",type:"address"},{indexed:!0,name:"tokenHolder",type:"address"}],name:"AuthorizedOperator",type:"event"},{inputs:[{indexed:!0,name:"operator",type:"address"},{indexed:!0,name:"from",type:"address"},{indexed:!1,name:"amount",type:"uint256"},{indexed:!1,name:"data",type:"bytes"},{indexed:!1,name:"operatorData",type:"bytes"}],name:"Burned",type:"event"},{inputs:[{indexed:!0,name:"operator",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"amount",type:"uint256"},{indexed:!1,name:"data",type:"bytes"},{indexed:!1,name:"operatorData",type:"bytes"}],name:"Minted",type:"event"},{inputs:[{indexed:!0,name:"operator",type:"address"},{indexed:!0,name:"tokenHolder",type:"address"}],name:"RevokedOperator",type:"event"},{inputs:[{indexed:!0,name:"role",type:"bytes32"},{indexed:!0,name:"previousAdminRole",type:"bytes32"},{indexed:!0,name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{inputs:[{indexed:!0,name:"role",type:"bytes32"},{indexed:!0,name:"account",type:"address"},{indexed:!0,name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{inputs:[{indexed:!0,name:"role",type:"bytes32"},{indexed:!0,name:"account",type:"address"},{indexed:!0,name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{inputs:[{indexed:!0,name:"operator",type:"address"},{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"amount",type:"uint256"},{indexed:!1,name:"data",type:"bytes"},{indexed:!1,name:"operatorData",type:"bytes"}],name:"Sent",type:"event"},{inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"BLOCK_ROLE",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{name:"holder",type:"address"},{name:"spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"spender",type:"address"},{name:"value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"operator",type:"address"}],name:"authorizeOperator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenHolder",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"amount",type:"uint256"},{name:"data",type:"bytes"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],stateMutability:"pure",type:"function"},{inputs:[],name:"defaultOperators",outputs:[{name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{name:"role",type:"bytes32"},{name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"role",type:"bytes32"},{name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"granularity",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"role",type:"bytes32"},{name:"account",type:"address"}],name:"hasRole",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{name:"operator",type:"address"},{name:"tokenHolder",type:"address"}],name:"isOperatorFor",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{name:"to",type:"address"},{name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"},{name:"amount",type:"uint256"},{name:"data",type:"bytes"},{name:"operatorData",type:"bytes"}],name:"operatorBurn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"},{name:"data",type:"bytes"},{name:"operatorData",type:"bytes"}],name:"operatorSend",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"role",type:"bytes32"},{name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"operator",type:"address"}],name:"revokeOperator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"role",type:"bytes32"},{name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"},{name:"data",type:"bytes"}],name:"send",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"holder",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}],x2=[{inputs:[],name:"ErrCallerNotWeb3Entry",type:"error"},{inputs:[],name:"ErrCallerNotWeb3EntryOrNotOwner",type:"error"},{inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"approved",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"operator",type:"address"},{indexed:!1,name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{inputs:[{indexed:!1,name:"version",type:"uint8"}],name:"Initialized",type:"event"},{inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"characterId",type:"uint256"},{indexed:!0,name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{name:"tokenId",type:"uint256"}],name:"Uri",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"Web3Entry",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"ethAddress",type:"address"}],name:"addLinkingAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"toUri",type:"string"}],name:"addLinkingAnyUri",outputs:[{name:"",type:"bytes32"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"toCharacterId",type:"uint256"}],name:"addLinkingCharacterId",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{components:[{name:"fromCharacterId",type:"uint256"},{name:"toCharacterId",type:"uint256"},{name:"linkType",type:"bytes32"}],name:"linkData",type:"tuple"}],name:"addLinkingCharacterLink",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"tokenAddress",type:"address"},{name:"erc721TokenId",type:"uint256"}],name:"addLinkingERC721",outputs:[{name:"",type:"bytes32"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"linklistId",type:"uint256"}],name:"addLinkingLinklistId",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"toCharacterId",type:"uint256"},{name:"toNoteId",type:"uint256"}],name:"addLinkingNote",outputs:[{name:"",type:"bytes32"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"to",type:"address"},{name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"characterOwnerOf",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getCurrentTakeOver",outputs:[{name:"characterId",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkType",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkingAddressListLength",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkingAddresses",outputs:[{name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkingAnyListLength",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"linkKey",type:"bytes32"}],name:"getLinkingAnyUri",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkingAnyUriKeys",outputs:[{name:"",type:"bytes32[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkingAnyUris",outputs:[{name:"results",type:"string[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkingCharacterIds",outputs:[{name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"linkKey",type:"bytes32"}],name:"getLinkingCharacterLink",outputs:[{components:[{name:"fromCharacterId",type:"uint256"},{name:"toCharacterId",type:"uint256"},{name:"linkType",type:"bytes32"}],name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkingCharacterLinkListLength",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkingCharacterLinks",outputs:[{components:[{name:"fromCharacterId",type:"uint256"},{name:"toCharacterId",type:"uint256"},{name:"linkType",type:"bytes32"}],name:"results",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkingCharacterListLength",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"linkKey",type:"bytes32"}],name:"getLinkingERC721",outputs:[{components:[{name:"tokenAddress",type:"address"},{name:"erc721TokenId",type:"uint256"}],name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkingERC721ListLength",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkingERC721s",outputs:[{components:[{name:"tokenAddress",type:"address"},{name:"erc721TokenId",type:"uint256"}],name:"results",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkingLinklistIds",outputs:[{name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkingLinklistLength",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"linkKey",type:"bytes32"}],name:"getLinkingNote",outputs:[{components:[{name:"characterId",type:"uint256"},{name:"noteId",type:"uint256"}],name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkingNoteListLength",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkingNotes",outputs:[{components:[{name:"characterId",type:"uint256"},{name:"noteId",type:"uint256"}],name:"results",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getOwnerCharacterId",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"name_",type:"string"},{name:"symbol_",type:"string"},{name:"web3Entry_",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"owner",type:"address"},{name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"linkType",type:"bytes32"}],name:"mint",outputs:[{name:"tokenId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"ethAddress",type:"address"}],name:"removeLinkingAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"toUri",type:"string"}],name:"removeLinkingAnyUri",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"toCharacterId",type:"uint256"}],name:"removeLinkingCharacterId",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{components:[{name:"fromCharacterId",type:"uint256"},{name:"toCharacterId",type:"uint256"},{name:"linkType",type:"bytes32"}],name:"linkData",type:"tuple"}],name:"removeLinkingCharacterLink",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"tokenAddress",type:"address"},{name:"erc721TokenId",type:"uint256"}],name:"removeLinkingERC721",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"linklistId",type:"uint256"}],name:"removeLinkingLinklistId",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"toCharacterId",type:"uint256"},{name:"toNoteId",type:"uint256"}],name:"removeLinkingNote",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"tokenId",type:"uint256"},{name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"operator",type:"address"},{name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"newUri",type:"string"}],name:"setUri",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"owner",type:"address"},{name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"}];function g2(t=r8()){return t.startsWith("ws://")||t.startsWith("wss://")?o8(t,{timeout:3e4,key:$a.network,name:$a.network,retryCount:5,retryDelay:5e3}):s8(t)}function M7(){const t=g2();return d8({transport:t,chain:$a,pollingInterval:100})}function k7(t){const e=g2();return Y1({transport:e,chain:$a,account:t,pollingInterval:100})}function I7(t){if("selectedAddress"in t&&t.selectedAddress)return Eu(t.selectedAddress);if("send"in t&&typeof t.send=="function"){const e=t.send({method:"eth_accounts"});if(e?.result?.[0])return Eu(e.result[0])}}function S7(t,e){return Y1({transport:a8(t),chain:$a,account:e,pollingInterval:100})}function ar(t,e,{throwOnMultipleLogsFound:r,returnMultipleLogs:n}={}){const i=t.map(a=>sf({abi:[...yf,...x2],...a})).filter(a=>a.eventName===e);if(i.length===0)throw new Error(`Log with topic ${e} not found`);if(r&&i.length>1)throw new Error(`More than one log with topic ${i} found`);return n?i:i[0]}function Eu(t){return typeof t=="string"?{type:"json-rpc",address:t}:t}var v2=class{publicClient=M7();#e;#t;get account(){return this.#t}set account(e){this.#t=typeof e=="string"?Eu(e):e,this.#e&&(this.#e.account=this.#t)}get walletClient(){return this.#e}options;contract;newbieVillaContract;peripheryContract;cbtContract;miraContract;tipsContract;constructor(e,r){if(typeof e=="string"){const n=l7(e);this.#t=n,this.#e=k7(n)}else if(e){const n=e;this.#t=r?.account?Eu(r.account):I7(n),r?.account||n.on("accountsChanged",i=>{this.account=i[0]}),this.#e=S7(n,this.account)}this.options=this.#r(r),this.#n()}#r(e){return{account:this.account,gasPrice:e?.gasPrice??10n**9n,address:{entryContract:va.ENTRY,peripheryContract:va.PERIPHERY,cbtContract:va.CBT,tipsContract:va.TIPS,miraContract:va.MIRA,newbieVillaContract:va.NEWBIE_VILLA,linklistContract:va.LINKLIST,...e?.address}}}#n(){this.contract=this.proxyContract(ss({address:this.options.address.entryContract,abi:yf,publicClient:this.publicClient,walletClient:this.#e})),this.newbieVillaContract=this.proxyContract(ss({address:this.options.address.newbieVillaContract,abi:m2,publicClient:this.publicClient,walletClient:this.#e})),this.peripheryContract=this.proxyContract(ss({address:this.options.address.peripheryContract,abi:h2,publicClient:this.publicClient,walletClient:this.#e})),this.cbtContract=this.proxyContract(ss({address:this.options.address.cbtContract,abi:p2,publicClient:this.publicClient,walletClient:this.#e})),this.miraContract=this.proxyContract(ss({address:this.options.address.miraContract,abi:b2,publicClient:this.publicClient,walletClient:this.#e})),this.tipsContract=this.proxyContract(ss({address:this.options.address.tipsContract,abi:y2,publicClient:this.publicClient,walletClient:this.#e}))}proxyContract(e){return e.write&&(e.write=new Proxy(e.write,{get:(...r)=>new Proxy(Reflect.get(...r),{apply:(n,i,a)=>{const s=a.length>0&&Array.isArray(a[0]),o={...(s?a[1]:a[0])??{}};return typeof this.options.gasPrice=="bigint"&&(o.gasPrice=this.options.gasPrice),a.length>0?s?a[1]=o:a[0]=o:a.push(o),Reflect.apply(n,i,a)}})})),e}},C7="[crossbell.js]";globalThis?.process?.env?.NODE_ENV;function w2(...t){console.warn(C7,...t)}function Ve(){return(t,e,r)=>{const n=r.value;return r.value=async function(...i){const a=async()=>{const{walletClient:s}=this.base;if(!s)return;await n8(s)||(w2("You're not on the mainnet. Switching to mainnet."),await s.switchChain({id:$a.id}))};try{await a()}catch{await a()}return n.apply(this,i)},r}}var kh=class{constructor(t){this.base=t}async getBalance(t){return Gr(t),{data:await this.base.publicClient.getBalance({address:t})}}async transfer(t,e){Gr(t);const r=await this.base.walletClient.sendTransaction({account:this.base.account,to:t,value:BigInt(e)}),n=await this.base.publicClient.waitForTransactionReceipt({hash:r});return{data:{},transactionHash:n.transactionHash}}};Ge([Ve()],kh.prototype,"transfer",1);var Cr=class{constructor(t){this.base=t}async linkCharacter(t,e,r,n,i={}){const a=await this.base.contract.write.linkCharacter([{fromCharacterId:BigInt(t),toCharacterId:BigInt(e),linkType:Ct(Fe(r),{dir:"right"}),data:n??ri}],i),s=await this.base.publicClient.waitForTransactionReceipt({hash:a});return{data:ar(s.logs,"LinkCharacter").args.linklistId,transactionHash:s.transactionHash}}async linkCharactersInBatch(t,e,r,n,i,a={}){r.forEach(f=>{Gr(f)});const s=await this.base.peripheryContract.write.linkCharactersInBatch([{fromCharacterId:BigInt(t),toCharacterIds:e.map(f=>BigInt(f)),toAddresses:r,linkType:Ct(Fe(n),{dir:"right"}),data:i??e.map(()=>ri)}],a),o=await this.base.publicClient.waitForTransactionReceipt({hash:s});return{data:ar(o.logs,"LinkCharacter",{throwOnMultipleLogsFound:!1}).args.linklistId,transactionHash:o.transactionHash}}async getLinklistIdByTransaction(t){const e=await this.base.publicClient.getTransactionReceipt({hash:t});return{data:ar(e.logs,"LinkCharacter").args.linklistId}}async createThenLinkCharacter(t,e,r,n={}){Gr(e);const i=await this.base.contract.write.createThenLinkCharacter([{fromCharacterId:BigInt(t),to:e,linkType:Ct(Fe(r),{dir:"right"})}],n),a=await this.base.publicClient.waitForTransactionReceipt({hash:i}),s=ar(a.logs,"CharacterCreated"),o=ar(a.logs,"LinkCharacter");return{data:{toCharacterId:s.args.characterId,linklistId:o.args.linklistId},transactionHash:a.transactionHash}}async unlinkCharacter(t,e,r,n={}){const i=await this.base.contract.write.unlinkCharacter([{fromCharacterId:BigInt(t),toCharacterId:BigInt(e),linkType:Ct(Fe(r),{dir:"right"})}],n);return{data:void 0,transactionHash:(await this.base.publicClient.waitForTransactionReceipt({hash:i})).transactionHash}}async getLinkingCharacterIds(t,e,r={}){return{data:(await this.base.peripheryContract.read.getLinkingCharacterIds([BigInt(t),Ct(Fe(e),{dir:"right"})],r)).map(i=>i)}}async getLinkingCharacters(t,e,r={}){const n=await this.base.peripheryContract.read.getLinkingCharacterIds([BigInt(t),Ct(Fe(e),{dir:"right"})],r);return{data:(await Promise.all(n.map(a=>this.base.character.get(a)))).map(a=>a.data)}}async linkAddress(t,e,r,n=ri,i={}){const a=await this.base.contract.write.linkAddress([{fromCharacterId:BigInt(t),ethAddress:e,linkType:Ct(Fe(r),{dir:"right"}),data:n}],i),s=await this.base.publicClient.waitForTransactionReceipt({hash:a});return{data:ar(s.logs,"LinkAddress").args.linklistId,transactionHash:s.transactionHash}}async unlinkAddress(t,e,r,n={}){const i=await this.base.contract.write.unlinkAddress([{fromCharacterId:BigInt(t),ethAddress:e,linkType:Ct(Fe(r),{dir:"right"})}],n);return{data:void 0,transactionHash:(await this.base.publicClient.waitForTransactionReceipt({hash:i})).transactionHash}}async linkAnyUri(t,e,r,n=ri,i={}){const a=await this.base.contract.write.linkAnyUri([{fromCharacterId:BigInt(t),toUri:e,linkType:Ct(Fe(r),{dir:"right"}),data:n}],i),s=await this.base.publicClient.waitForTransactionReceipt({hash:a});return{data:ar(s.logs,"LinkAnyUri").args.linklistId,transactionHash:s.transactionHash}}async unlinkAnyUri(t,e,r,n={}){const i=await this.base.contract.write.unlinkAnyUri([{fromCharacterId:BigInt(t),toUri:e,linkType:Ct(Fe(r),{dir:"right"})}],n);return{data:void 0,transactionHash:(await this.base.publicClient.waitForTransactionReceipt({hash:i})).transactionHash}}async linkErc721(t,e,r,n,i=ri,a={}){const s=await this.base.contract.write.linkERC721([{fromCharacterId:BigInt(t),tokenAddress:e,tokenId:BigInt(r),linkType:Ct(Fe(n),{dir:"right"}),data:i}],a),o=await this.base.publicClient.waitForTransactionReceipt({hash:s});return{data:ar(o.logs,"LinkAnyUri").args.linklistId,transactionHash:o.transactionHash}}async unlinkErc721(t,e,r,n,i={}){const a=await this.base.contract.write.unlinkERC721([{fromCharacterId:BigInt(t),tokenAddress:e,tokenId:BigInt(r),linkType:Ct(Fe(n),{dir:"right"})}],i);return{data:void 0,transactionHash:(await this.base.publicClient.waitForTransactionReceipt({hash:a})).transactionHash}}async linkNote(t,e,r,n,i,a={}){const s=await this.base.contract.write.linkNote([{fromCharacterId:BigInt(t),toCharacterId:BigInt(e),toNoteId:BigInt(r),linkType:Ct(Fe(n),{dir:"right"}),data:i??ri}],a),o=await this.base.publicClient.waitForTransactionReceipt({hash:s});return{data:ar(o.logs,"LinkNote").args.linklistId,transactionHash:o.transactionHash}}async unlinkNote(t,e,r,n,i={}){const a=await this.base.contract.write.unlinkNote([{fromCharacterId:BigInt(t),toCharacterId:BigInt(e),toNoteId:BigInt(r),linkType:Ct(Fe(n),{dir:"right"})}],i);return{data:void 0,transactionHash:(await this.base.publicClient.waitForTransactionReceipt({hash:a})).transactionHash}}async linkLinklist(t,e,r,n=ri,i={}){const a=await this.base.contract.write.linkLinklist([{fromCharacterId:BigInt(t),toLinkListId:BigInt(e),linkType:Ct(Fe(r),{dir:"right"}),data:n}],i),s=await this.base.publicClient.waitForTransactionReceipt({hash:a});return{data:ar(s.logs,"LinkNote").args.linklistId,transactionHash:s.transactionHash}}async unlinkLinklist(t,e,r,n={}){const i=await this.base.contract.write.unlinkLinklist([{fromCharacterId:BigInt(t),toLinkListId:BigInt(e),linkType:Ct(Fe(r),{dir:"right"})}],n);return{data:void 0,transactionHash:(await this.base.publicClient.waitForTransactionReceipt({hash:i})).transactionHash}}};Ge([Ve()],Cr.prototype,"linkCharacter",1);Ge([Ve()],Cr.prototype,"linkCharactersInBatch",1);Ge([Ve()],Cr.prototype,"createThenLinkCharacter",1);Ge([Ve()],Cr.prototype,"unlinkCharacter",1);Ge([Ve()],Cr.prototype,"linkAddress",1);Ge([Ve()],Cr.prototype,"unlinkAddress",1);Ge([Ve()],Cr.prototype,"linkAnyUri",1);Ge([Ve()],Cr.prototype,"unlinkAnyUri",1);Ge([Ve()],Cr.prototype,"linkErc721",1);Ge([Ve()],Cr.prototype,"unlinkErc721",1);Ge([Ve()],Cr.prototype,"linkNote",1);Ge([Ve()],Cr.prototype,"unlinkNote",1);Ge([Ve()],Cr.prototype,"linkLinklist",1);Ge([Ve()],Cr.prototype,"unlinkLinklist",1);var Yn=class{constructor(t){this.base=t}async post(t,e,{locked:r=!1,linkModule:n,mintModule:i}={},a={}){const{uri:s}=await Qi("note",e),o=await vn(n),c=await vn(i),f=await this.base.contract.write.postNote([{characterId:BigInt(t),contentUri:s,linkModule:o.address,linkModuleInitData:o.initData,mintModule:c.address,mintModuleInitData:c.initData,locked:r}],a),l=await this.base.publicClient.waitForTransactionReceipt({hash:f});return{data:{noteId:ar(l.logs,"PostNote").args.noteId},transactionHash:l.transactionHash}}async postMany(t,e={}){const r=l2(10),n=await Promise.all(t.map(c=>r(async()=>{const{uri:f}=await Qi("note",c.metadataOrUri),l=await vn(c.options?.linkModule),x=await vn(c.options?.mintModule);return Ui({abi:yf,functionName:"postNote",args:[{characterId:BigInt(c.characterId),contentUri:f,linkModule:l.address,linkModuleInitData:l.initData,mintModule:x.address,mintModuleInitData:x.initData,locked:c.options?.locked??!1}]})}))),i=await this.base.contract.write.multicall([n],e),a=await this.base.publicClient.waitForTransactionReceipt({hash:i});return{data:{noteIds:ar(a.logs,"PostNote",{throwOnMultipleLogsFound:!1,returnMultipleLogs:!0}).map(c=>c.args.noteId)},transactionHash:a.transactionHash}}async postForAnyUri(t,e,r,{locked:n=!1,linkModule:i,mintModule:a}={},s={}){const{uri:o}=await Qi("note",e),c=await vn(i),f=await vn(a),l=await this.base.contract.write.postNote4AnyUri([{characterId:BigInt(t),contentUri:o,linkModule:c.address,linkModuleInitData:c.initData,mintModule:f.address,mintModuleInitData:f.initData,locked:n},r],s),x=await this.base.publicClient.waitForTransactionReceipt({hash:l});return{data:{noteId:ar(x.logs,"PostNote").args.noteId},transactionHash:x.transactionHash}}async postForNote(t,e,r,n,{locked:i=!1,linkModule:a,mintModule:s}={},o={}){const{uri:c}=await Qi("note",e),f=await vn(a),l=await vn(s),x=await this.base.contract.write.postNote4Note([{characterId:BigInt(t),contentUri:c,linkModule:f.address,linkModuleInitData:f.initData,mintModule:l.address,mintModuleInitData:l.initData,locked:i},{characterId:BigInt(r),noteId:BigInt(n)}],o),A=await this.base.publicClient.waitForTransactionReceipt({hash:x});return{data:{noteId:ar(A.logs,"PostNote").args.noteId},transactionHash:A.transactionHash}}async setUri(t,e,r,n={}){const{uri:i,metadata:a}=await Qi("note",r,!0),s=await this.base.contract.write.setNoteUri([BigInt(t),BigInt(e),i],n),o=await this.base.publicClient.waitForTransactionReceipt({hash:s});return{data:{uri:i,metadata:a},transactionHash:o.transactionHash}}async changeMetadata(t,e,r,n={}){const i=await this.get(t,e),a=r(i.data.metadata);if(typeof a>"u")throw new TypeError("The modified metadata is undefined. Did you return it?");return a.type||(a.type="note"),this.setMetadata(t,e,a,n)}setMetadata(t,e,r,n={}){return this.setUri(t,e,r,n)}async get(t,e,r,n={}){const i=await this.base.contract.read.getNote([BigInt(t),BigInt(e)],n),a=y3(Pa(i.linkItemType,{dir:"right"}),"string")||void 0,s=i.contentUri?await K0(i.contentUri):void 0;let o;const c=this.base.peripheryContract.read;if(r==="AnyUri")o={uri:await c.getLinkingAnyUri([i.linkKey])};else if(r==="ERC721"){const f=await c.getLinkingERC721([i.linkKey]);o={contractAddress:f.tokenAddress,tokenId:f.erc721TokenId.toString()}}else if(r==="Address")o={address:await c.getLinkingAddress([i.linkKey])};else if(r==="Character")o={characterId:await c.getLinkingCharacterId([i.linkKey])};else if(r==="Note"){const f=await c.getLinkingNote([i.linkKey]);o={characterId:f.characterId,noteId:f.noteId}}else r==="Linklist"?o={linklistId:await c.getLinkingLinklistId([i.linkKey])}:o=void 0;return{data:{characterId:BigInt(t),noteId:BigInt(e),contentUri:i.contentUri,metadata:s,linkItemType:i.linkItemType,linkItemTypeString:a,linkItem:o,linkKey:i.linkKey,linkModule:i.linkModule,contractAddress:i.mintNFT,mintModule:i.mintModule,deleted:i.deleted,locked:i.locked}}}async delete(t,e,r={}){const n=await this.base.contract.write.deleteNote([BigInt(t),BigInt(e)],r);return{data:void 0,transactionHash:(await this.base.publicClient.waitForTransactionReceipt({hash:n})).transactionHash}}async lock(t,e,r={}){const n=await this.base.contract.write.lockNote([BigInt(t),BigInt(e)],r);return{data:void 0,transactionHash:(await this.base.publicClient.waitForTransactionReceipt({hash:n})).transactionHash}}async mint(t,e,r,n={}){Gr(r);const i=await this.base.contract.write.mintNote([{characterId:BigInt(t),noteId:BigInt(e),to:r,mintModuleData:ri}],n),a=await this.base.publicClient.waitForTransactionReceipt({hash:i}),s=ar(a.logs,"MintNote");return{data:{contractAddress:s.args.tokenAddress,tokenId:s.args.tokenId},transactionHash:a.transactionHash}}getLinkKeyForCharacter(t){return zt(as(["string","uint"],["Character",BigInt(t)]))}getLinkKeyForAddress(t){return Gr(t),zt(as(["string","address"],["Address",t]))}getLinkKeyForNote(t,e){return zt(as(["string","uint","uint"],["Note",BigInt(t),BigInt(e)]))}getLinkKeyForERC721(t,e){return zt(as(["string","address","uint"],["ERC721",t,BigInt(e)]))}getLinkKeyForLinklist(t){return zt(as(["string","uint"],["Linklist",BigInt(t)]))}getLinkKeyForAnyUri(t){return zt(as(["string","string"],["AnyUri",t]))}};Ge([Ve()],Yn.prototype,"post",1);Ge([Ve()],Yn.prototype,"postMany",1);Ge([Ve()],Yn.prototype,"postForAnyUri",1);Ge([Ve()],Yn.prototype,"postForNote",1);Ge([Ve()],Yn.prototype,"setUri",1);Ge([Ve()],Yn.prototype,"changeMetadata",1);Ge([Ve()],Yn.prototype,"delete",1);Ge([Ve()],Yn.prototype,"lock",1);Ge([Ve()],Yn.prototype,"mint",1);var xi=class{constructor(t){this.base=t}async create(t,e,r,{linkModule:n}={},i={}){Gr(t),this.#e(e);const{uri:a}=await Qi("character",r),s=await vn(n),o=await this.base.contract.write.createCharacter([{to:t,handle:e,uri:a,linkModule:s.address,linkModuleInitData:s.initData}],i),c=await this.base.publicClient.waitForTransactionReceipt({hash:o});return{data:ar(c.logs,"CharacterCreated").args.characterId,transactionHash:c.transactionHash}}async setHandle(t,e,r={}){this.#e(e);const n=await this.base.contract.write.setHandle([BigInt(t),e],r);return{data:void 0,transactionHash:(await this.base.publicClient.waitForTransactionReceipt({hash:n})).transactionHash}}async setUri(t,e,r={}){const{uri:n,metadata:i}=await Qi("character",e,!0),a=await this.base.contract.write.setCharacterUri([BigInt(t),n],r),s=await this.base.publicClient.waitForTransactionReceipt({hash:a});return{data:{uri:n,metadata:i},transactionHash:s.transactionHash}}setMetadata(t,e,r={}){return this.setUri(t,e,r)}async changeMetadata(t,e,r={}){const n=await this.get(t),i=e(n.data.metadata);if(typeof i>"u")throw new TypeError("The modified metadata is undefined. Did you return it?");return i.type||(i.type="character"),this.setMetadata(t,i,r)}async setSocialToken(t,e,r={}){const n=await this.base.contract.write.setSocialToken([BigInt(t),e],r);return{data:void 0,transactionHash:(await this.base.publicClient.waitForTransactionReceipt({hash:n})).transactionHash}}async setPrimaryId(t,e={}){const r=await this.base.contract.write.setPrimaryCharacterId([BigInt(t)],e);return{data:void 0,transactionHash:(await this.base.publicClient.waitForTransactionReceipt({hash:r})).transactionHash}}async burn(t,e={}){const r=await this.base.contract.write.burn([BigInt(t)],e);return{data:void 0,transactionHash:(await this.base.publicClient.waitForTransactionReceipt({hash:r})).transactionHash}}async getPrimaryId(t,e={}){return Gr(t),{data:await this.base.contract.read.getPrimaryCharacterId([t],e)}}async isPrimaryId(t,e={}){return{data:await this.base.contract.read.isPrimaryCharacter([BigInt(t)],e)}}async getByHandle(t,e={}){t=t.toLowerCase();const r=await this.base.contract.read.getCharacterByHandle([t],e),n=r.uri?await K0(r.uri):void 0;return{data:{characterId:r.characterId,handle:r.handle,uri:r.uri,metadata:n,socialToken:r.socialToken,noteCount:r.noteCount}}}async get(t,e={}){const r=await this.base.contract.read.getCharacter([BigInt(t)],e),{metadata:n}=await Qi("character",r.uri,!0);return{data:{characterId:r.characterId,handle:r.handle,uri:r.uri,socialToken:r.socialToken,noteCount:r.noteCount,metadata:n}}}async getHandle(t,e={}){return{data:await this.base.contract.read.getHandle([BigInt(t)],e)}}async getUri(t,e={}){return{data:await this.base.contract.read.getCharacterUri([BigInt(t)],e)}}async getByTransaction(t,e={}){const r=await this.base.publicClient.waitForTransactionReceipt({hash:t}),n=ar(r.logs,"CharacterCreated");return await this.get(n.args.characterId,e)}async existsForAddress(t,e={}){return Gr(t),{data:await this.base.contract.read.getPrimaryCharacterId([t],e)!==0n}}async existsForHandle(t,e={}){return{data:(await this.base.contract.read.getCharacterByHandle([t],e)).handle!==""}}async withdrawFromNewbieVilla(t,e,r,n,i,a={}){Gr(t);const s=await this.base.newbieVillaContract.write.withdraw([t,BigInt(e),BigInt(r),BigInt(n),i],a);return{data:void 0,transactionHash:(await this.base.publicClient.waitForTransactionReceipt({hash:s})).transactionHash}}#e(t){if(t.length>=32||t.length<=2)throw new Error("Invalid handle: handle must be between 3 and 31 characters.");if(!/^[\d_a-z-]+$/.test(t))throw new Error("Invalid handle: handle must only contain [a-z0-9-_].")}};Ge([Ve()],xi.prototype,"create",1);Ge([Ve()],xi.prototype,"setHandle",1);Ge([Ve()],xi.prototype,"setUri",1);Ge([Ve()],xi.prototype,"changeMetadata",1);Ge([Ve()],xi.prototype,"setSocialToken",1);Ge([Ve()],xi.prototype,"setPrimaryId",1);Ge([Ve()],xi.prototype,"burn",1);Ge([Ve()],xi.prototype,"withdrawFromNewbieVilla",1);var bf=class{constructor(t){this.base=t}async grantForCharacter(t,e,r,n={}){Gr(e);const i=this.convertPermissionsToUint256ForCharacter(r),a=await this.base.contract.write.grantOperatorPermissions([BigInt(t),e,i],n),s=await this.base.publicClient.waitForTransactionReceipt({hash:a});return{data:{bitmapUint256:ar(s.logs,"GrantOperatorPermissions").args.permissionBitMap},transactionHash:s.transactionHash}}async grantForNote(t,e,r,n=[],i={}){Gr(r),Gr(n);const a=await this.base.contract.write.grantOperators4Note([BigInt(t),BigInt(e),n,r],i),s=await this.base.publicClient.waitForTransactionReceipt({hash:a});return{data:{},transactionHash:s.transactionHash}}async getForCharacter(t,e={}){return{data:await this.base.contract.read.getOperators([BigInt(t)],e)}}async getForNote(t,e,r={}){const[n,i]=await this.base.contract.read.getOperators4Note([BigInt(t),BigInt(e)],r);return{data:{allowlist:n,blocklist:i}}}async isAllowedForNote(t,e,r,n={}){return{data:await this.base.contract.read.isOperatorAllowedForNote([BigInt(t),BigInt(e),r],n)}}async getPermissionsForCharacter(t,e,r={}){const n=await this.base.contract.read.getOperatorPermissions([BigInt(t),e],r);return{data:this.convertUint256ToPermissionsForCharacter(n)}}convertPermissionsToUint256ForCharacter(t){const e=t.map(i=>{const a=Object.entries(Id).find(([,s])=>s===i)[0];return Number.parseInt(a)}),r=Array.from({length:256}).fill(0);return e.forEach(i=>{r[i]=1}),r.reverse(),this.convertBinaryBitsToUint256(r)}convertUint256ToPermissionsForCharacter(t){return this.#e(t).reverse().map((n,i)=>{if(n===1){if(this.#t(i))return Id[i];w2("Found invalid permission bit.",i)}}).filter(Boolean)}convertBinaryBitsToUint256(t){return t.join("").replace(/^0+/,"").split("").reverse().reduce((r,n,i)=>n==="1"?r+2n**BigInt(i):r,0n)}#e(t){return t.toString(2).padStart(256,"0").split("").map(e=>Number.parseInt(e))}#t(t){return Object.keys(Id).includes(t.toString())}};Ge([Ve()],bf.prototype,"grantForCharacter",1);Ge([Ve()],bf.prototype,"grantForNote",1);var Id={0:"SET_HANDLE",1:"SET_SOCIAL_TOKEN",2:"GRANT_OPERATOR_PERMISSIONS",3:"GRANT_OPERATORS_FOR_NOTE",176:"SET_CHARACTER_URI",177:"SET_LINKLIST_URI",178:"LINK_CHARACTER",179:"UNLINK_CHARACTER",180:"CREATE_THEN_LINK_CHARACTER",181:"LINK_NOTE",182:"UNLINK_NOTE",183:"LINK_ERC721",184:"UNLINK_ERC721",185:"LINK_ADDRESS",186:"UNLINK_ADDRESS",187:"LINK_ANY_URI",188:"UNLINK_ANY_URI",189:"LINK_LINKLIST",190:"UNLINK_LINKLIST",191:"SET_LINK_MODULE_FOR_CHARACTER",192:"SET_LINK_MODULE_FOR_NOTE",193:"SET_LINK_MODULE_FOR_LINKLIST",194:"SET_MINT_MODULE_FOR_NOTE",195:"SET_NOTE_URI",196:"LOCK_NOTE",197:"DELETE_NOTE",198:"POST_NOTE_FOR_CHARACTER",199:"POST_NOTE_FOR_ADDRESS",200:"POST_NOTE_FOR_LINKLIST",201:"POST_NOTE_FOR_NOTE",202:"POST_NOTE_FOR_ERC721",203:"POST_NOTE_FOR_ANY_URI",236:"POST_NOTE"},xf=class{constructor(t){this.base=t}async mint(t,e,r={}){const n=await this.base.cbtContract.write.mint([BigInt(t),BigInt(e)],r);return{data:void 0,transactionHash:(await this.base.publicClient.waitForTransactionReceipt({hash:n})).transactionHash}}async setTokenUri(t,e,r={}){const n=await this.base.cbtContract.write.setTokenURI([BigInt(t),e],r);return{data:void 0,transactionHash:(await this.base.publicClient.waitForTransactionReceipt({hash:n})).transactionHash}}async getTokenUri(t,e={}){return{data:await this.base.cbtContract.read.uri([BigInt(t)],e)}}};Ge([Ve()],xf.prototype,"mint",1);Ge([Ve()],xf.prototype,"setTokenUri",1);var gf=class{constructor(t){this.base=t}async tipCharacter(t,e,r,n={}){const i=aa([{type:"uint256"},{type:"uint256"}],[BigInt(t),BigInt(e)]),a=await this.base.miraContract.write.send([this.base.options.address.tipsContract,BigInt(r),i],n);return{data:void 0,transactionHash:(await this.base.publicClient.waitForTransactionReceipt({hash:a})).transactionHash}}async tipCharacterForNote(t,e,r,n,i={}){const a=aa([{type:"uint256"},{type:"uint256"},{type:"uint256"}],[BigInt(t),BigInt(e),BigInt(r)]),s=await this.base.miraContract.write.send([this.base.options.address.tipsContract,BigInt(n),a],i);return{data:void 0,transactionHash:(await this.base.publicClient.waitForTransactionReceipt({hash:s})).transactionHash}}async getBalanceOfCharacter(t,e={}){const r=await this.base.contract.read.ownerOf([BigInt(t)],e);return{data:b1(r,this.base.options.address.newbieVillaContract)?await this.base.newbieVillaContract.read.balanceOf([BigInt(t)],e):await this.base.miraContract.read.balanceOf([r],e)}}async getBalance(t,e={}){return{data:await this.base.miraContract.read.balanceOf([t],e)}}async getTokenAddress(t={}){return{data:await this.base.tipsContract.read.getToken(t)}}async getTokenDecimals(t={}){return{data:await this.base.miraContract.read.decimals(t)}}};Ge([Ve()],gf.prototype,"tipCharacter",1);Ge([Ve()],gf.prototype,"tipCharacterForNote",1);var Jp=4n,_2=class{constructor(t){this.base=t}async getLatest(t={}){return{data:await this.base.contract.read.getRevision(t)}}getCurrent(){return{data:Jp}}async check(){const{data:t}=await this.getLatest(),e=Jp;return{data:{isUpToDate:t===e,currentRevision:e,latestRevision:t}}}},vf=class{constructor(t){this.base=t}async setForAddress(t,e,r={}){const n=await vn(e),i=await this.base.contract.write.setLinkModule4Address([{account:t,linkModule:n.address,linkModuleInitData:n.initData}],r);return{data:void 0,transactionHash:(await this.base.publicClient.waitForTransactionReceipt({hash:i})).transactionHash}}async setForLinklist(t,e,r={}){const n=await vn(e),i=await this.base.contract.write.setLinkModule4Linklist([{linklistId:BigInt(t),linkModule:n.address,linkModuleInitData:n.initData}],r);return{data:void 0,transactionHash:(await this.base.publicClient.waitForTransactionReceipt({hash:i})).transactionHash}}};Ge([Ve()],vf.prototype,"setForAddress",1);Ge([Ve()],vf.prototype,"setForLinklist",1);var Ih=class{constructor(t){this.base=t}async setForNote(t,e,r,n={}){const i=await vn(r),a=await this.base.contract.write.setMintModule4Note([{characterId:BigInt(t),noteId:BigInt(e),mintModule:i.address,mintModuleInitData:i.initData}],n);return{data:void 0,transactionHash:(await this.base.publicClient.waitForTransactionReceipt({hash:a})).transactionHash}}};Ge([Ve()],Ih.prototype,"setForNote",1);var N7=class extends v2{csb=new kh(this);character=new xi(this);link=new Cr(this);cbt=new xf(this);note=new Yn(this);operator=new bf(this);tips=new gf(this);revision=new _2(this);linkModule=new vf(this);mintModule=new Ih(this)};function R7(t,e){return new N7(t,e)}var Sh={exports:{}};Sh.exports;(function(t){(function(e,r){function n(h,u){if(!h)throw new Error(u||"Assertion failed")}function i(h,u){h.super_=u;var p=function(){};p.prototype=u.prototype,h.prototype=new p,h.prototype.constructor=h}function a(h,u,p){if(a.isBN(h))return h;this.negative=0,this.words=null,this.length=0,this.red=null,h!==null&&((u==="le"||u==="be")&&(p=u,u=10),this._init(h||0,u||10,p||"be"))}typeof e=="object"?e.exports=a:r.BN=a,a.BN=a,a.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=rr.Buffer}catch{}a.isBN=function(u){return u instanceof a?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===a.wordSize&&Array.isArray(u.words)},a.max=function(u,p){return u.cmp(p)>0?u:p},a.min=function(u,p){return u.cmp(p)<0?u:p},a.prototype._init=function(u,p,g){if(typeof u=="number")return this._initNumber(u,p,g);if(typeof u=="object")return this._initArray(u,p,g);p==="hex"&&(p=16),n(p===(p|0)&&p>=2&&p<=36),u=u.toString().replace(/\s+/g,"");var E=0;u[0]==="-"&&(E++,this.negative=1),E<u.length&&(p===16?this._parseHex(u,E,g):(this._parseBase(u,p,E),g==="le"&&this._initArray(this.toArray(),p,g)))},a.prototype._initNumber=function(u,p,g){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(n(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),g==="le"&&this._initArray(this.toArray(),p,g)},a.prototype._initArray=function(u,p,g){if(n(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var E=0;E<this.length;E++)this.words[E]=0;var _,y,b=0;if(g==="be")for(E=u.length-1,_=0;E>=0;E-=3)y=u[E]|u[E-1]<<8|u[E-2]<<16,this.words[_]|=y<<b&67108863,this.words[_+1]=y>>>26-b&67108863,b+=24,b>=26&&(b-=26,_++);else if(g==="le")for(E=0,_=0;E<u.length;E+=3)y=u[E]|u[E+1]<<8|u[E+2]<<16,this.words[_]|=y<<b&67108863,this.words[_+1]=y>>>26-b&67108863,b+=24,b>=26&&(b-=26,_++);return this._strip()};function o(h,u){var p=h.charCodeAt(u);if(p>=48&&p<=57)return p-48;if(p>=65&&p<=70)return p-55;if(p>=97&&p<=102)return p-87;n(!1,"Invalid character in "+h)}function c(h,u,p){var g=o(h,p);return p-1>=u&&(g|=o(h,p-1)<<4),g}a.prototype._parseHex=function(u,p,g){this.length=Math.ceil((u.length-p)/6),this.words=new Array(this.length);for(var E=0;E<this.length;E++)this.words[E]=0;var _=0,y=0,b;if(g==="be")for(E=u.length-1;E>=p;E-=2)b=c(u,p,E)<<_,this.words[y]|=b&67108863,_>=18?(_-=18,y+=1,this.words[y]|=b>>>26):_+=8;else{var w=u.length-p;for(E=w%2===0?p+1:p;E<u.length;E+=2)b=c(u,p,E)<<_,this.words[y]|=b&67108863,_>=18?(_-=18,y+=1,this.words[y]|=b>>>26):_+=8}this._strip()};function f(h,u,p,g){for(var E=0,_=0,y=Math.min(h.length,p),b=u;b<y;b++){var w=h.charCodeAt(b)-48;E*=g,w>=49?_=w-49+10:w>=17?_=w-17+10:_=w,n(w>=0&&_<g,"Invalid character"),E+=_}return E}a.prototype._parseBase=function(u,p,g){this.words=[0],this.length=1;for(var E=0,_=1;_<=67108863;_*=p)E++;E--,_=_/p|0;for(var y=u.length-g,b=y%E,w=Math.min(y,y-b)+g,v=0,N=g;N<w;N+=E)v=f(u,N,N+E,p),this.imuln(_),this.words[0]+v<67108864?this.words[0]+=v:this._iaddn(v);if(b!==0){var $=1;for(v=f(u,N,u.length,p),N=0;N<b;N++)$*=p;this.imuln($),this.words[0]+v<67108864?this.words[0]+=v:this._iaddn(v)}this._strip()},a.prototype.copy=function(u){u.words=new Array(this.length);for(var p=0;p<this.length;p++)u.words[p]=this.words[p];u.length=this.length,u.negative=this.negative,u.red=this.red};function l(h,u){h.words=u.words,h.length=u.length,h.negative=u.negative,h.red=u.red}if(a.prototype._move=function(u){l(u,this)},a.prototype.clone=function(){var u=new a(null);return this.copy(u),u},a.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},a.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{a.prototype[Symbol.for("nodejs.util.inspect.custom")]=x}catch{a.prototype.inspect=x}else a.prototype.inspect=x;function x(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var A=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],S=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],M=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(u,p){u=u||10,p=p|0||1;var g;if(u===16||u==="hex"){g="";for(var E=0,_=0,y=0;y<this.length;y++){var b=this.words[y],w=((b<<E|_)&16777215).toString(16);_=b>>>24-E&16777215,E+=2,E>=26&&(E-=26,y--),_!==0||y!==this.length-1?g=A[6-w.length]+w+g:g=w+g}for(_!==0&&(g=_.toString(16)+g);g.length%p!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}if(u===(u|0)&&u>=2&&u<=36){var v=S[u],N=M[u];g="";var $=this.clone();for($.negative=0;!$.isZero();){var T=$.modrn(N).toString(u);$=$.idivn(N),$.isZero()?g=T+g:g=A[v-T.length]+T+g}for(this.isZero()&&(g="0"+g);g.length%p!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}n(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},a.prototype.toJSON=function(){return this.toString(16,2)},s&&(a.prototype.toBuffer=function(u,p){return this.toArrayLike(s,u,p)}),a.prototype.toArray=function(u,p){return this.toArrayLike(Array,u,p)};var k=function(u,p){return u.allocUnsafe?u.allocUnsafe(p):new u(p)};a.prototype.toArrayLike=function(u,p,g){this._strip();var E=this.byteLength(),_=g||Math.max(1,E);n(E<=_,"byte array longer than desired length"),n(_>0,"Requested array length <= 0");var y=k(u,_),b=p==="le"?"LE":"BE";return this["_toArrayLike"+b](y,E),y},a.prototype._toArrayLikeLE=function(u,p){for(var g=0,E=0,_=0,y=0;_<this.length;_++){var b=this.words[_]<<y|E;u[g++]=b&255,g<u.length&&(u[g++]=b>>8&255),g<u.length&&(u[g++]=b>>16&255),y===6?(g<u.length&&(u[g++]=b>>24&255),E=0,y=0):(E=b>>>24,y+=2)}if(g<u.length)for(u[g++]=E;g<u.length;)u[g++]=0},a.prototype._toArrayLikeBE=function(u,p){for(var g=u.length-1,E=0,_=0,y=0;_<this.length;_++){var b=this.words[_]<<y|E;u[g--]=b&255,g>=0&&(u[g--]=b>>8&255),g>=0&&(u[g--]=b>>16&255),y===6?(g>=0&&(u[g--]=b>>24&255),E=0,y=0):(E=b>>>24,y+=2)}if(g>=0)for(u[g--]=E;g>=0;)u[g--]=0},Math.clz32?a.prototype._countBits=function(u){return 32-Math.clz32(u)}:a.prototype._countBits=function(u){var p=u,g=0;return p>=4096&&(g+=13,p>>>=13),p>=64&&(g+=7,p>>>=7),p>=8&&(g+=4,p>>>=4),p>=2&&(g+=2,p>>>=2),g+p},a.prototype._zeroBits=function(u){if(u===0)return 26;var p=u,g=0;return p&8191||(g+=13,p>>>=13),p&127||(g+=7,p>>>=7),p&15||(g+=4,p>>>=4),p&3||(g+=2,p>>>=2),p&1||g++,g},a.prototype.bitLength=function(){var u=this.words[this.length-1],p=this._countBits(u);return(this.length-1)*26+p};function I(h){for(var u=new Array(h.bitLength()),p=0;p<u.length;p++){var g=p/26|0,E=p%26;u[p]=h.words[g]>>>E&1}return u}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,p=0;p<this.length;p++){var g=this._zeroBits(this.words[p]);if(u+=g,g!==26)break}return u},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},a.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var p=0;p<u.length;p++)this.words[p]=this.words[p]|u.words[p];return this._strip()},a.prototype.ior=function(u){return n((this.negative|u.negative)===0),this.iuor(u)},a.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},a.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},a.prototype.iuand=function(u){var p;this.length>u.length?p=u:p=this;for(var g=0;g<p.length;g++)this.words[g]=this.words[g]&u.words[g];return this.length=p.length,this._strip()},a.prototype.iand=function(u){return n((this.negative|u.negative)===0),this.iuand(u)},a.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},a.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},a.prototype.iuxor=function(u){var p,g;this.length>u.length?(p=this,g=u):(p=u,g=this);for(var E=0;E<g.length;E++)this.words[E]=p.words[E]^g.words[E];if(this!==p)for(;E<p.length;E++)this.words[E]=p.words[E];return this.length=p.length,this._strip()},a.prototype.ixor=function(u){return n((this.negative|u.negative)===0),this.iuxor(u)},a.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},a.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},a.prototype.inotn=function(u){n(typeof u=="number"&&u>=0);var p=Math.ceil(u/26)|0,g=u%26;this._expand(p),g>0&&p--;for(var E=0;E<p;E++)this.words[E]=~this.words[E]&67108863;return g>0&&(this.words[E]=~this.words[E]&67108863>>26-g),this._strip()},a.prototype.notn=function(u){return this.clone().inotn(u)},a.prototype.setn=function(u,p){n(typeof u=="number"&&u>=0);var g=u/26|0,E=u%26;return this._expand(g+1),p?this.words[g]=this.words[g]|1<<E:this.words[g]=this.words[g]&~(1<<E),this._strip()},a.prototype.iadd=function(u){var p;if(this.negative!==0&&u.negative===0)return this.negative=0,p=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,p=this.isub(u),u.negative=1,p._normSign();var g,E;this.length>u.length?(g=this,E=u):(g=u,E=this);for(var _=0,y=0;y<E.length;y++)p=(g.words[y]|0)+(E.words[y]|0)+_,this.words[y]=p&67108863,_=p>>>26;for(;_!==0&&y<g.length;y++)p=(g.words[y]|0)+_,this.words[y]=p&67108863,_=p>>>26;if(this.length=g.length,_!==0)this.words[this.length]=_,this.length++;else if(g!==this)for(;y<g.length;y++)this.words[y]=g.words[y];return this},a.prototype.add=function(u){var p;return u.negative!==0&&this.negative===0?(u.negative=0,p=this.sub(u),u.negative^=1,p):u.negative===0&&this.negative!==0?(this.negative=0,p=u.sub(this),this.negative=1,p):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},a.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var p=this.iadd(u);return u.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var g=this.cmp(u);if(g===0)return this.negative=0,this.length=1,this.words[0]=0,this;var E,_;g>0?(E=this,_=u):(E=u,_=this);for(var y=0,b=0;b<_.length;b++)p=(E.words[b]|0)-(_.words[b]|0)+y,y=p>>26,this.words[b]=p&67108863;for(;y!==0&&b<E.length;b++)p=(E.words[b]|0)+y,y=p>>26,this.words[b]=p&67108863;if(y===0&&b<E.length&&E!==this)for(;b<E.length;b++)this.words[b]=E.words[b];return this.length=Math.max(this.length,b),E!==this&&(this.negative=1),this._strip()},a.prototype.sub=function(u){return this.clone().isub(u)};function C(h,u,p){p.negative=u.negative^h.negative;var g=h.length+u.length|0;p.length=g,g=g-1|0;var E=h.words[0]|0,_=u.words[0]|0,y=E*_,b=y&67108863,w=y/67108864|0;p.words[0]=b;for(var v=1;v<g;v++){for(var N=w>>>26,$=w&67108863,T=Math.min(v,u.length-1),P=Math.max(0,v-h.length+1);P<=T;P++){var U=v-P|0;E=h.words[U]|0,_=u.words[P]|0,y=E*_+$,N+=y/67108864|0,$=y&67108863}p.words[v]=$|0,w=N|0}return w!==0?p.words[v]=w|0:p.length--,p._strip()}var R=function(u,p,g){var E=u.words,_=p.words,y=g.words,b=0,w,v,N,$=E[0]|0,T=$&8191,P=$>>>13,U=E[1]|0,z=U&8191,q=U>>>13,Y=E[2]|0,L=Y&8191,O=Y>>>13,W=E[3]|0,V=W&8191,ee=W>>>13,oe=E[4]|0,ie=oe&8191,ae=oe>>>13,Je=E[5]|0,Te=Je&8191,fe=Je>>>13,Qe=E[6]|0,Ee=Qe&8191,ce=Qe>>>13,Ye=E[7]|0,Ae=Ye&8191,se=Ye>>>13,ze=E[8]|0,Me=ze&8191,de=ze>>>13,st=E[9]|0,ke=st&8191,le=st>>>13,ot=_[0]|0,Ie=ot&8191,he=ot>>>13,ct=_[1]|0,Se=ct&8191,pe=ct>>>13,ut=_[2]|0,Ce=ut&8191,me=ut>>>13,ft=_[3]|0,Ne=ft&8191,ye=ft>>>13,dt=_[4]|0,Re=dt&8191,be=dt>>>13,lt=_[5]|0,Pe=lt&8191,xe=lt>>>13,ht=_[6]|0,Oe=ht&8191,ge=ht>>>13,pt=_[7]|0,Be=pt&8191,ve=pt>>>13,mt=_[8]|0,Le=mt&8191,we=mt>>>13,nt=_[9]|0,Xe=nt&8191,et=nt>>>13;g.negative=u.negative^p.negative,g.length=19,w=Math.imul(T,Ie),v=Math.imul(T,he),v=v+Math.imul(P,Ie)|0,N=Math.imul(P,he);var Kt=(b+w|0)+((v&8191)<<13)|0;b=(N+(v>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,w=Math.imul(z,Ie),v=Math.imul(z,he),v=v+Math.imul(q,Ie)|0,N=Math.imul(q,he),w=w+Math.imul(T,Se)|0,v=v+Math.imul(T,pe)|0,v=v+Math.imul(P,Se)|0,N=N+Math.imul(P,pe)|0;var Gt=(b+w|0)+((v&8191)<<13)|0;b=(N+(v>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,w=Math.imul(L,Ie),v=Math.imul(L,he),v=v+Math.imul(O,Ie)|0,N=Math.imul(O,he),w=w+Math.imul(z,Se)|0,v=v+Math.imul(z,pe)|0,v=v+Math.imul(q,Se)|0,N=N+Math.imul(q,pe)|0,w=w+Math.imul(T,Ce)|0,v=v+Math.imul(T,me)|0,v=v+Math.imul(P,Ce)|0,N=N+Math.imul(P,me)|0;var Vt=(b+w|0)+((v&8191)<<13)|0;b=(N+(v>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,w=Math.imul(V,Ie),v=Math.imul(V,he),v=v+Math.imul(ee,Ie)|0,N=Math.imul(ee,he),w=w+Math.imul(L,Se)|0,v=v+Math.imul(L,pe)|0,v=v+Math.imul(O,Se)|0,N=N+Math.imul(O,pe)|0,w=w+Math.imul(z,Ce)|0,v=v+Math.imul(z,me)|0,v=v+Math.imul(q,Ce)|0,N=N+Math.imul(q,me)|0,w=w+Math.imul(T,Ne)|0,v=v+Math.imul(T,ye)|0,v=v+Math.imul(P,Ne)|0,N=N+Math.imul(P,ye)|0;var Wt=(b+w|0)+((v&8191)<<13)|0;b=(N+(v>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,w=Math.imul(ie,Ie),v=Math.imul(ie,he),v=v+Math.imul(ae,Ie)|0,N=Math.imul(ae,he),w=w+Math.imul(V,Se)|0,v=v+Math.imul(V,pe)|0,v=v+Math.imul(ee,Se)|0,N=N+Math.imul(ee,pe)|0,w=w+Math.imul(L,Ce)|0,v=v+Math.imul(L,me)|0,v=v+Math.imul(O,Ce)|0,N=N+Math.imul(O,me)|0,w=w+Math.imul(z,Ne)|0,v=v+Math.imul(z,ye)|0,v=v+Math.imul(q,Ne)|0,N=N+Math.imul(q,ye)|0,w=w+Math.imul(T,Re)|0,v=v+Math.imul(T,be)|0,v=v+Math.imul(P,Re)|0,N=N+Math.imul(P,be)|0;var Jt=(b+w|0)+((v&8191)<<13)|0;b=(N+(v>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,w=Math.imul(Te,Ie),v=Math.imul(Te,he),v=v+Math.imul(fe,Ie)|0,N=Math.imul(fe,he),w=w+Math.imul(ie,Se)|0,v=v+Math.imul(ie,pe)|0,v=v+Math.imul(ae,Se)|0,N=N+Math.imul(ae,pe)|0,w=w+Math.imul(V,Ce)|0,v=v+Math.imul(V,me)|0,v=v+Math.imul(ee,Ce)|0,N=N+Math.imul(ee,me)|0,w=w+Math.imul(L,Ne)|0,v=v+Math.imul(L,ye)|0,v=v+Math.imul(O,Ne)|0,N=N+Math.imul(O,ye)|0,w=w+Math.imul(z,Re)|0,v=v+Math.imul(z,be)|0,v=v+Math.imul(q,Re)|0,N=N+Math.imul(q,be)|0,w=w+Math.imul(T,Pe)|0,v=v+Math.imul(T,xe)|0,v=v+Math.imul(P,Pe)|0,N=N+Math.imul(P,xe)|0;var Nr=(b+w|0)+((v&8191)<<13)|0;b=(N+(v>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,w=Math.imul(Ee,Ie),v=Math.imul(Ee,he),v=v+Math.imul(ce,Ie)|0,N=Math.imul(ce,he),w=w+Math.imul(Te,Se)|0,v=v+Math.imul(Te,pe)|0,v=v+Math.imul(fe,Se)|0,N=N+Math.imul(fe,pe)|0,w=w+Math.imul(ie,Ce)|0,v=v+Math.imul(ie,me)|0,v=v+Math.imul(ae,Ce)|0,N=N+Math.imul(ae,me)|0,w=w+Math.imul(V,Ne)|0,v=v+Math.imul(V,ye)|0,v=v+Math.imul(ee,Ne)|0,N=N+Math.imul(ee,ye)|0,w=w+Math.imul(L,Re)|0,v=v+Math.imul(L,be)|0,v=v+Math.imul(O,Re)|0,N=N+Math.imul(O,be)|0,w=w+Math.imul(z,Pe)|0,v=v+Math.imul(z,xe)|0,v=v+Math.imul(q,Pe)|0,N=N+Math.imul(q,xe)|0,w=w+Math.imul(T,Oe)|0,v=v+Math.imul(T,ge)|0,v=v+Math.imul(P,Oe)|0,N=N+Math.imul(P,ge)|0;var Rr=(b+w|0)+((v&8191)<<13)|0;b=(N+(v>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,w=Math.imul(Ae,Ie),v=Math.imul(Ae,he),v=v+Math.imul(se,Ie)|0,N=Math.imul(se,he),w=w+Math.imul(Ee,Se)|0,v=v+Math.imul(Ee,pe)|0,v=v+Math.imul(ce,Se)|0,N=N+Math.imul(ce,pe)|0,w=w+Math.imul(Te,Ce)|0,v=v+Math.imul(Te,me)|0,v=v+Math.imul(fe,Ce)|0,N=N+Math.imul(fe,me)|0,w=w+Math.imul(ie,Ne)|0,v=v+Math.imul(ie,ye)|0,v=v+Math.imul(ae,Ne)|0,N=N+Math.imul(ae,ye)|0,w=w+Math.imul(V,Re)|0,v=v+Math.imul(V,be)|0,v=v+Math.imul(ee,Re)|0,N=N+Math.imul(ee,be)|0,w=w+Math.imul(L,Pe)|0,v=v+Math.imul(L,xe)|0,v=v+Math.imul(O,Pe)|0,N=N+Math.imul(O,xe)|0,w=w+Math.imul(z,Oe)|0,v=v+Math.imul(z,ge)|0,v=v+Math.imul(q,Oe)|0,N=N+Math.imul(q,ge)|0,w=w+Math.imul(T,Be)|0,v=v+Math.imul(T,ve)|0,v=v+Math.imul(P,Be)|0,N=N+Math.imul(P,ve)|0;var Pr=(b+w|0)+((v&8191)<<13)|0;b=(N+(v>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,w=Math.imul(Me,Ie),v=Math.imul(Me,he),v=v+Math.imul(de,Ie)|0,N=Math.imul(de,he),w=w+Math.imul(Ae,Se)|0,v=v+Math.imul(Ae,pe)|0,v=v+Math.imul(se,Se)|0,N=N+Math.imul(se,pe)|0,w=w+Math.imul(Ee,Ce)|0,v=v+Math.imul(Ee,me)|0,v=v+Math.imul(ce,Ce)|0,N=N+Math.imul(ce,me)|0,w=w+Math.imul(Te,Ne)|0,v=v+Math.imul(Te,ye)|0,v=v+Math.imul(fe,Ne)|0,N=N+Math.imul(fe,ye)|0,w=w+Math.imul(ie,Re)|0,v=v+Math.imul(ie,be)|0,v=v+Math.imul(ae,Re)|0,N=N+Math.imul(ae,be)|0,w=w+Math.imul(V,Pe)|0,v=v+Math.imul(V,xe)|0,v=v+Math.imul(ee,Pe)|0,N=N+Math.imul(ee,xe)|0,w=w+Math.imul(L,Oe)|0,v=v+Math.imul(L,ge)|0,v=v+Math.imul(O,Oe)|0,N=N+Math.imul(O,ge)|0,w=w+Math.imul(z,Be)|0,v=v+Math.imul(z,ve)|0,v=v+Math.imul(q,Be)|0,N=N+Math.imul(q,ve)|0,w=w+Math.imul(T,Le)|0,v=v+Math.imul(T,we)|0,v=v+Math.imul(P,Le)|0,N=N+Math.imul(P,we)|0;var Or=(b+w|0)+((v&8191)<<13)|0;b=(N+(v>>>13)|0)+(Or>>>26)|0,Or&=67108863,w=Math.imul(ke,Ie),v=Math.imul(ke,he),v=v+Math.imul(le,Ie)|0,N=Math.imul(le,he),w=w+Math.imul(Me,Se)|0,v=v+Math.imul(Me,pe)|0,v=v+Math.imul(de,Se)|0,N=N+Math.imul(de,pe)|0,w=w+Math.imul(Ae,Ce)|0,v=v+Math.imul(Ae,me)|0,v=v+Math.imul(se,Ce)|0,N=N+Math.imul(se,me)|0,w=w+Math.imul(Ee,Ne)|0,v=v+Math.imul(Ee,ye)|0,v=v+Math.imul(ce,Ne)|0,N=N+Math.imul(ce,ye)|0,w=w+Math.imul(Te,Re)|0,v=v+Math.imul(Te,be)|0,v=v+Math.imul(fe,Re)|0,N=N+Math.imul(fe,be)|0,w=w+Math.imul(ie,Pe)|0,v=v+Math.imul(ie,xe)|0,v=v+Math.imul(ae,Pe)|0,N=N+Math.imul(ae,xe)|0,w=w+Math.imul(V,Oe)|0,v=v+Math.imul(V,ge)|0,v=v+Math.imul(ee,Oe)|0,N=N+Math.imul(ee,ge)|0,w=w+Math.imul(L,Be)|0,v=v+Math.imul(L,ve)|0,v=v+Math.imul(O,Be)|0,N=N+Math.imul(O,ve)|0,w=w+Math.imul(z,Le)|0,v=v+Math.imul(z,we)|0,v=v+Math.imul(q,Le)|0,N=N+Math.imul(q,we)|0,w=w+Math.imul(T,Xe)|0,v=v+Math.imul(T,et)|0,v=v+Math.imul(P,Xe)|0,N=N+Math.imul(P,et)|0;var Br=(b+w|0)+((v&8191)<<13)|0;b=(N+(v>>>13)|0)+(Br>>>26)|0,Br&=67108863,w=Math.imul(ke,Se),v=Math.imul(ke,pe),v=v+Math.imul(le,Se)|0,N=Math.imul(le,pe),w=w+Math.imul(Me,Ce)|0,v=v+Math.imul(Me,me)|0,v=v+Math.imul(de,Ce)|0,N=N+Math.imul(de,me)|0,w=w+Math.imul(Ae,Ne)|0,v=v+Math.imul(Ae,ye)|0,v=v+Math.imul(se,Ne)|0,N=N+Math.imul(se,ye)|0,w=w+Math.imul(Ee,Re)|0,v=v+Math.imul(Ee,be)|0,v=v+Math.imul(ce,Re)|0,N=N+Math.imul(ce,be)|0,w=w+Math.imul(Te,Pe)|0,v=v+Math.imul(Te,xe)|0,v=v+Math.imul(fe,Pe)|0,N=N+Math.imul(fe,xe)|0,w=w+Math.imul(ie,Oe)|0,v=v+Math.imul(ie,ge)|0,v=v+Math.imul(ae,Oe)|0,N=N+Math.imul(ae,ge)|0,w=w+Math.imul(V,Be)|0,v=v+Math.imul(V,ve)|0,v=v+Math.imul(ee,Be)|0,N=N+Math.imul(ee,ve)|0,w=w+Math.imul(L,Le)|0,v=v+Math.imul(L,we)|0,v=v+Math.imul(O,Le)|0,N=N+Math.imul(O,we)|0,w=w+Math.imul(z,Xe)|0,v=v+Math.imul(z,et)|0,v=v+Math.imul(q,Xe)|0,N=N+Math.imul(q,et)|0;var Lr=(b+w|0)+((v&8191)<<13)|0;b=(N+(v>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,w=Math.imul(ke,Ce),v=Math.imul(ke,me),v=v+Math.imul(le,Ce)|0,N=Math.imul(le,me),w=w+Math.imul(Me,Ne)|0,v=v+Math.imul(Me,ye)|0,v=v+Math.imul(de,Ne)|0,N=N+Math.imul(de,ye)|0,w=w+Math.imul(Ae,Re)|0,v=v+Math.imul(Ae,be)|0,v=v+Math.imul(se,Re)|0,N=N+Math.imul(se,be)|0,w=w+Math.imul(Ee,Pe)|0,v=v+Math.imul(Ee,xe)|0,v=v+Math.imul(ce,Pe)|0,N=N+Math.imul(ce,xe)|0,w=w+Math.imul(Te,Oe)|0,v=v+Math.imul(Te,ge)|0,v=v+Math.imul(fe,Oe)|0,N=N+Math.imul(fe,ge)|0,w=w+Math.imul(ie,Be)|0,v=v+Math.imul(ie,ve)|0,v=v+Math.imul(ae,Be)|0,N=N+Math.imul(ae,ve)|0,w=w+Math.imul(V,Le)|0,v=v+Math.imul(V,we)|0,v=v+Math.imul(ee,Le)|0,N=N+Math.imul(ee,we)|0,w=w+Math.imul(L,Xe)|0,v=v+Math.imul(L,et)|0,v=v+Math.imul(O,Xe)|0,N=N+Math.imul(O,et)|0;var Dr=(b+w|0)+((v&8191)<<13)|0;b=(N+(v>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,w=Math.imul(ke,Ne),v=Math.imul(ke,ye),v=v+Math.imul(le,Ne)|0,N=Math.imul(le,ye),w=w+Math.imul(Me,Re)|0,v=v+Math.imul(Me,be)|0,v=v+Math.imul(de,Re)|0,N=N+Math.imul(de,be)|0,w=w+Math.imul(Ae,Pe)|0,v=v+Math.imul(Ae,xe)|0,v=v+Math.imul(se,Pe)|0,N=N+Math.imul(se,xe)|0,w=w+Math.imul(Ee,Oe)|0,v=v+Math.imul(Ee,ge)|0,v=v+Math.imul(ce,Oe)|0,N=N+Math.imul(ce,ge)|0,w=w+Math.imul(Te,Be)|0,v=v+Math.imul(Te,ve)|0,v=v+Math.imul(fe,Be)|0,N=N+Math.imul(fe,ve)|0,w=w+Math.imul(ie,Le)|0,v=v+Math.imul(ie,we)|0,v=v+Math.imul(ae,Le)|0,N=N+Math.imul(ae,we)|0,w=w+Math.imul(V,Xe)|0,v=v+Math.imul(V,et)|0,v=v+Math.imul(ee,Xe)|0,N=N+Math.imul(ee,et)|0;var Fr=(b+w|0)+((v&8191)<<13)|0;b=(N+(v>>>13)|0)+(Fr>>>26)|0,Fr&=67108863,w=Math.imul(ke,Re),v=Math.imul(ke,be),v=v+Math.imul(le,Re)|0,N=Math.imul(le,be),w=w+Math.imul(Me,Pe)|0,v=v+Math.imul(Me,xe)|0,v=v+Math.imul(de,Pe)|0,N=N+Math.imul(de,xe)|0,w=w+Math.imul(Ae,Oe)|0,v=v+Math.imul(Ae,ge)|0,v=v+Math.imul(se,Oe)|0,N=N+Math.imul(se,ge)|0,w=w+Math.imul(Ee,Be)|0,v=v+Math.imul(Ee,ve)|0,v=v+Math.imul(ce,Be)|0,N=N+Math.imul(ce,ve)|0,w=w+Math.imul(Te,Le)|0,v=v+Math.imul(Te,we)|0,v=v+Math.imul(fe,Le)|0,N=N+Math.imul(fe,we)|0,w=w+Math.imul(ie,Xe)|0,v=v+Math.imul(ie,et)|0,v=v+Math.imul(ae,Xe)|0,N=N+Math.imul(ae,et)|0;var Ur=(b+w|0)+((v&8191)<<13)|0;b=(N+(v>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,w=Math.imul(ke,Pe),v=Math.imul(ke,xe),v=v+Math.imul(le,Pe)|0,N=Math.imul(le,xe),w=w+Math.imul(Me,Oe)|0,v=v+Math.imul(Me,ge)|0,v=v+Math.imul(de,Oe)|0,N=N+Math.imul(de,ge)|0,w=w+Math.imul(Ae,Be)|0,v=v+Math.imul(Ae,ve)|0,v=v+Math.imul(se,Be)|0,N=N+Math.imul(se,ve)|0,w=w+Math.imul(Ee,Le)|0,v=v+Math.imul(Ee,we)|0,v=v+Math.imul(ce,Le)|0,N=N+Math.imul(ce,we)|0,w=w+Math.imul(Te,Xe)|0,v=v+Math.imul(Te,et)|0,v=v+Math.imul(fe,Xe)|0,N=N+Math.imul(fe,et)|0;var Bn=(b+w|0)+((v&8191)<<13)|0;b=(N+(v>>>13)|0)+(Bn>>>26)|0,Bn&=67108863,w=Math.imul(ke,Oe),v=Math.imul(ke,ge),v=v+Math.imul(le,Oe)|0,N=Math.imul(le,ge),w=w+Math.imul(Me,Be)|0,v=v+Math.imul(Me,ve)|0,v=v+Math.imul(de,Be)|0,N=N+Math.imul(de,ve)|0,w=w+Math.imul(Ae,Le)|0,v=v+Math.imul(Ae,we)|0,v=v+Math.imul(se,Le)|0,N=N+Math.imul(se,we)|0,w=w+Math.imul(Ee,Xe)|0,v=v+Math.imul(Ee,et)|0,v=v+Math.imul(ce,Xe)|0,N=N+Math.imul(ce,et)|0;var Ln=(b+w|0)+((v&8191)<<13)|0;b=(N+(v>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,w=Math.imul(ke,Be),v=Math.imul(ke,ve),v=v+Math.imul(le,Be)|0,N=Math.imul(le,ve),w=w+Math.imul(Me,Le)|0,v=v+Math.imul(Me,we)|0,v=v+Math.imul(de,Le)|0,N=N+Math.imul(de,we)|0,w=w+Math.imul(Ae,Xe)|0,v=v+Math.imul(Ae,et)|0,v=v+Math.imul(se,Xe)|0,N=N+Math.imul(se,et)|0;var ga=(b+w|0)+((v&8191)<<13)|0;b=(N+(v>>>13)|0)+(ga>>>26)|0,ga&=67108863,w=Math.imul(ke,Le),v=Math.imul(ke,we),v=v+Math.imul(le,Le)|0,N=Math.imul(le,we),w=w+Math.imul(Me,Xe)|0,v=v+Math.imul(Me,et)|0,v=v+Math.imul(de,Xe)|0,N=N+Math.imul(de,et)|0;var hd=(b+w|0)+((v&8191)<<13)|0;b=(N+(v>>>13)|0)+(hd>>>26)|0,hd&=67108863,w=Math.imul(ke,Xe),v=Math.imul(ke,et),v=v+Math.imul(le,Xe)|0,N=Math.imul(le,et);var pd=(b+w|0)+((v&8191)<<13)|0;return b=(N+(v>>>13)|0)+(pd>>>26)|0,pd&=67108863,y[0]=Kt,y[1]=Gt,y[2]=Vt,y[3]=Wt,y[4]=Jt,y[5]=Nr,y[6]=Rr,y[7]=Pr,y[8]=Or,y[9]=Br,y[10]=Lr,y[11]=Dr,y[12]=Fr,y[13]=Ur,y[14]=Bn,y[15]=Ln,y[16]=ga,y[17]=hd,y[18]=pd,b!==0&&(y[19]=b,g.length++),g};Math.imul||(R=C);function D(h,u,p){p.negative=u.negative^h.negative,p.length=h.length+u.length;for(var g=0,E=0,_=0;_<p.length-1;_++){var y=E;E=0;for(var b=g&67108863,w=Math.min(_,u.length-1),v=Math.max(0,_-h.length+1);v<=w;v++){var N=_-v,$=h.words[N]|0,T=u.words[v]|0,P=$*T,U=P&67108863;y=y+(P/67108864|0)|0,U=U+b|0,b=U&67108863,y=y+(U>>>26)|0,E+=y>>>26,y&=67108863}p.words[_]=b,g=y,y=E}return g!==0?p.words[_]=g:p.length--,p._strip()}function F(h,u,p){return D(h,u,p)}a.prototype.mulTo=function(u,p){var g,E=this.length+u.length;return this.length===10&&u.length===10?g=R(this,u,p):E<63?g=C(this,u,p):E<1024?g=D(this,u,p):g=F(this,u,p),g},a.prototype.mul=function(u){var p=new a(null);return p.words=new Array(this.length+u.length),this.mulTo(u,p)},a.prototype.mulf=function(u){var p=new a(null);return p.words=new Array(this.length+u.length),F(this,u,p)},a.prototype.imul=function(u){return this.clone().mulTo(u,this)},a.prototype.imuln=function(u){var p=u<0;p&&(u=-u),n(typeof u=="number"),n(u<67108864);for(var g=0,E=0;E<this.length;E++){var _=(this.words[E]|0)*u,y=(_&67108863)+(g&67108863);g>>=26,g+=_/67108864|0,g+=y>>>26,this.words[E]=y&67108863}return g!==0&&(this.words[E]=g,this.length++),p?this.ineg():this},a.prototype.muln=function(u){return this.clone().imuln(u)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(u){var p=I(u);if(p.length===0)return new a(1);for(var g=this,E=0;E<p.length&&p[E]===0;E++,g=g.sqr());if(++E<p.length)for(var _=g.sqr();E<p.length;E++,_=_.sqr())p[E]!==0&&(g=g.mul(_));return g},a.prototype.iushln=function(u){n(typeof u=="number"&&u>=0);var p=u%26,g=(u-p)/26,E=67108863>>>26-p<<26-p,_;if(p!==0){var y=0;for(_=0;_<this.length;_++){var b=this.words[_]&E,w=(this.words[_]|0)-b<<p;this.words[_]=w|y,y=b>>>26-p}y&&(this.words[_]=y,this.length++)}if(g!==0){for(_=this.length-1;_>=0;_--)this.words[_+g]=this.words[_];for(_=0;_<g;_++)this.words[_]=0;this.length+=g}return this._strip()},a.prototype.ishln=function(u){return n(this.negative===0),this.iushln(u)},a.prototype.iushrn=function(u,p,g){n(typeof u=="number"&&u>=0);var E;p?E=(p-p%26)/26:E=0;var _=u%26,y=Math.min((u-_)/26,this.length),b=67108863^67108863>>>_<<_,w=g;if(E-=y,E=Math.max(0,E),w){for(var v=0;v<y;v++)w.words[v]=this.words[v];w.length=y}if(y!==0)if(this.length>y)for(this.length-=y,v=0;v<this.length;v++)this.words[v]=this.words[v+y];else this.words[0]=0,this.length=1;var N=0;for(v=this.length-1;v>=0&&(N!==0||v>=E);v--){var $=this.words[v]|0;this.words[v]=N<<26-_|$>>>_,N=$&b}return w&&N!==0&&(w.words[w.length++]=N),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},a.prototype.ishrn=function(u,p,g){return n(this.negative===0),this.iushrn(u,p,g)},a.prototype.shln=function(u){return this.clone().ishln(u)},a.prototype.ushln=function(u){return this.clone().iushln(u)},a.prototype.shrn=function(u){return this.clone().ishrn(u)},a.prototype.ushrn=function(u){return this.clone().iushrn(u)},a.prototype.testn=function(u){n(typeof u=="number"&&u>=0);var p=u%26,g=(u-p)/26,E=1<<p;if(this.length<=g)return!1;var _=this.words[g];return!!(_&E)},a.prototype.imaskn=function(u){n(typeof u=="number"&&u>=0);var p=u%26,g=(u-p)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=g)return this;if(p!==0&&g++,this.length=Math.min(g,this.length),p!==0){var E=67108863^67108863>>>p<<p;this.words[this.length-1]&=E}return this._strip()},a.prototype.maskn=function(u){return this.clone().imaskn(u)},a.prototype.iaddn=function(u){return n(typeof u=="number"),n(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<=u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},a.prototype._iaddn=function(u){this.words[0]+=u;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},a.prototype.isubn=function(u){if(n(typeof u=="number"),n(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this._strip()},a.prototype.addn=function(u){return this.clone().iaddn(u)},a.prototype.subn=function(u){return this.clone().isubn(u)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(u,p,g){var E=u.length+g,_;this._expand(E);var y,b=0;for(_=0;_<u.length;_++){y=(this.words[_+g]|0)+b;var w=(u.words[_]|0)*p;y-=w&67108863,b=(y>>26)-(w/67108864|0),this.words[_+g]=y&67108863}for(;_<this.length-g;_++)y=(this.words[_+g]|0)+b,b=y>>26,this.words[_+g]=y&67108863;if(b===0)return this._strip();for(n(b===-1),b=0,_=0;_<this.length;_++)y=-(this.words[_]|0)+b,b=y>>26,this.words[_]=y&67108863;return this.negative=1,this._strip()},a.prototype._wordDiv=function(u,p){var g=this.length-u.length,E=this.clone(),_=u,y=_.words[_.length-1]|0,b=this._countBits(y);g=26-b,g!==0&&(_=_.ushln(g),E.iushln(g),y=_.words[_.length-1]|0);var w=E.length-_.length,v;if(p!=="mod"){v=new a(null),v.length=w+1,v.words=new Array(v.length);for(var N=0;N<v.length;N++)v.words[N]=0}var $=E.clone()._ishlnsubmul(_,1,w);$.negative===0&&(E=$,v&&(v.words[w]=1));for(var T=w-1;T>=0;T--){var P=(E.words[_.length+T]|0)*67108864+(E.words[_.length+T-1]|0);for(P=Math.min(P/y|0,67108863),E._ishlnsubmul(_,P,T);E.negative!==0;)P--,E.negative=0,E._ishlnsubmul(_,1,T),E.isZero()||(E.negative^=1);v&&(v.words[T]=P)}return v&&v._strip(),E._strip(),p!=="div"&&g!==0&&E.iushrn(g),{div:v||null,mod:E}},a.prototype.divmod=function(u,p,g){if(n(!u.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var E,_,y;return this.negative!==0&&u.negative===0?(y=this.neg().divmod(u,p),p!=="mod"&&(E=y.div.neg()),p!=="div"&&(_=y.mod.neg(),g&&_.negative!==0&&_.iadd(u)),{div:E,mod:_}):this.negative===0&&u.negative!==0?(y=this.divmod(u.neg(),p),p!=="mod"&&(E=y.div.neg()),{div:E,mod:y.mod}):this.negative&u.negative?(y=this.neg().divmod(u.neg(),p),p!=="div"&&(_=y.mod.neg(),g&&_.negative!==0&&_.isub(u)),{div:y.div,mod:_}):u.length>this.length||this.cmp(u)<0?{div:new a(0),mod:this}:u.length===1?p==="div"?{div:this.divn(u.words[0]),mod:null}:p==="mod"?{div:null,mod:new a(this.modrn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new a(this.modrn(u.words[0]))}:this._wordDiv(u,p)},a.prototype.div=function(u){return this.divmod(u,"div",!1).div},a.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},a.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},a.prototype.divRound=function(u){var p=this.divmod(u);if(p.mod.isZero())return p.div;var g=p.div.negative!==0?p.mod.isub(u):p.mod,E=u.ushrn(1),_=u.andln(1),y=g.cmp(E);return y<0||_===1&&y===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},a.prototype.modrn=function(u){var p=u<0;p&&(u=-u),n(u<=67108863);for(var g=(1<<26)%u,E=0,_=this.length-1;_>=0;_--)E=(g*E+(this.words[_]|0))%u;return p?-E:E},a.prototype.modn=function(u){return this.modrn(u)},a.prototype.idivn=function(u){var p=u<0;p&&(u=-u),n(u<=67108863);for(var g=0,E=this.length-1;E>=0;E--){var _=(this.words[E]|0)+g*67108864;this.words[E]=_/u|0,g=_%u}return this._strip(),p?this.ineg():this},a.prototype.divn=function(u){return this.clone().idivn(u)},a.prototype.egcd=function(u){n(u.negative===0),n(!u.isZero());var p=this,g=u.clone();p.negative!==0?p=p.umod(u):p=p.clone();for(var E=new a(1),_=new a(0),y=new a(0),b=new a(1),w=0;p.isEven()&&g.isEven();)p.iushrn(1),g.iushrn(1),++w;for(var v=g.clone(),N=p.clone();!p.isZero();){for(var $=0,T=1;!(p.words[0]&T)&&$<26;++$,T<<=1);if($>0)for(p.iushrn($);$-- >0;)(E.isOdd()||_.isOdd())&&(E.iadd(v),_.isub(N)),E.iushrn(1),_.iushrn(1);for(var P=0,U=1;!(g.words[0]&U)&&P<26;++P,U<<=1);if(P>0)for(g.iushrn(P);P-- >0;)(y.isOdd()||b.isOdd())&&(y.iadd(v),b.isub(N)),y.iushrn(1),b.iushrn(1);p.cmp(g)>=0?(p.isub(g),E.isub(y),_.isub(b)):(g.isub(p),y.isub(E),b.isub(_))}return{a:y,b,gcd:g.iushln(w)}},a.prototype._invmp=function(u){n(u.negative===0),n(!u.isZero());var p=this,g=u.clone();p.negative!==0?p=p.umod(u):p=p.clone();for(var E=new a(1),_=new a(0),y=g.clone();p.cmpn(1)>0&&g.cmpn(1)>0;){for(var b=0,w=1;!(p.words[0]&w)&&b<26;++b,w<<=1);if(b>0)for(p.iushrn(b);b-- >0;)E.isOdd()&&E.iadd(y),E.iushrn(1);for(var v=0,N=1;!(g.words[0]&N)&&v<26;++v,N<<=1);if(v>0)for(g.iushrn(v);v-- >0;)_.isOdd()&&_.iadd(y),_.iushrn(1);p.cmp(g)>=0?(p.isub(g),E.isub(_)):(g.isub(p),_.isub(E))}var $;return p.cmpn(1)===0?$=E:$=_,$.cmpn(0)<0&&$.iadd(u),$},a.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var p=this.clone(),g=u.clone();p.negative=0,g.negative=0;for(var E=0;p.isEven()&&g.isEven();E++)p.iushrn(1),g.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;g.isEven();)g.iushrn(1);var _=p.cmp(g);if(_<0){var y=p;p=g,g=y}else if(_===0||g.cmpn(1)===0)break;p.isub(g)}while(!0);return g.iushln(E)},a.prototype.invm=function(u){return this.egcd(u).a.umod(u)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(u){return this.words[0]&u},a.prototype.bincn=function(u){n(typeof u=="number");var p=u%26,g=(u-p)/26,E=1<<p;if(this.length<=g)return this._expand(g+1),this.words[g]|=E,this;for(var _=E,y=g;_!==0&&y<this.length;y++){var b=this.words[y]|0;b+=_,_=b>>>26,b&=67108863,this.words[y]=b}return _!==0&&(this.words[y]=_,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(u){var p=u<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this._strip();var g;if(this.length>1)g=1;else{p&&(u=-u),n(u<=67108863,"Number is too big");var E=this.words[0]|0;g=E===u?0:E<u?-1:1}return this.negative!==0?-g|0:g},a.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var p=this.ucmp(u);return this.negative!==0?-p|0:p},a.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var p=0,g=this.length-1;g>=0;g--){var E=this.words[g]|0,_=u.words[g]|0;if(E!==_){E<_?p=-1:E>_&&(p=1);break}}return p},a.prototype.gtn=function(u){return this.cmpn(u)===1},a.prototype.gt=function(u){return this.cmp(u)===1},a.prototype.gten=function(u){return this.cmpn(u)>=0},a.prototype.gte=function(u){return this.cmp(u)>=0},a.prototype.ltn=function(u){return this.cmpn(u)===-1},a.prototype.lt=function(u){return this.cmp(u)===-1},a.prototype.lten=function(u){return this.cmpn(u)<=0},a.prototype.lte=function(u){return this.cmp(u)<=0},a.prototype.eqn=function(u){return this.cmpn(u)===0},a.prototype.eq=function(u){return this.cmp(u)===0},a.red=function(u){return new m(u)},a.prototype.toRed=function(u){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},a.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(u){return this.red=u,this},a.prototype.forceRed=function(u){return n(!this.red,"Already a number in reduction context"),this._forceRed(u)},a.prototype.redAdd=function(u){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},a.prototype.redIAdd=function(u){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},a.prototype.redSub=function(u){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},a.prototype.redISub=function(u){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},a.prototype.redShl=function(u){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},a.prototype.redMul=function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},a.prototype.redIMul=function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},a.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(u){return n(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var H={k256:null,p224:null,p192:null,p25519:null};function j(h,u){this.name=h,this.p=new a(u,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}j.prototype._tmp=function(){var u=new a(null);return u.words=new Array(Math.ceil(this.n/13)),u},j.prototype.ireduce=function(u){var p=u,g;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),g=p.bitLength();while(g>this.n);var E=g<this.n?-1:p.ucmp(this.p);return E===0?(p.words[0]=0,p.length=1):E>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},j.prototype.split=function(u,p){u.iushrn(this.n,0,p)},j.prototype.imulK=function(u){return u.imul(this.k)};function Z(){j.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(Z,j),Z.prototype.split=function(u,p){for(var g=4194303,E=Math.min(u.length,9),_=0;_<E;_++)p.words[_]=u.words[_];if(p.length=E,u.length<=9){u.words[0]=0,u.length=1;return}var y=u.words[9];for(p.words[p.length++]=y&g,_=10;_<u.length;_++){var b=u.words[_]|0;u.words[_-10]=(b&g)<<4|y>>>22,y=b}y>>>=22,u.words[_-10]=y,y===0&&u.length>10?u.length-=10:u.length-=9},Z.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var p=0,g=0;g<u.length;g++){var E=u.words[g]|0;p+=E*977,u.words[g]=p&67108863,p=E*64+(p/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function G(){j.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(G,j);function J(){j.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(J,j);function B(){j.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(B,j),B.prototype.imulK=function(u){for(var p=0,g=0;g<u.length;g++){var E=(u.words[g]|0)*19+p,_=E&67108863;E>>>=26,u.words[g]=_,p=E}return p!==0&&(u.words[u.length++]=p),u},a._prime=function(u){if(H[u])return H[u];var p;if(u==="k256")p=new Z;else if(u==="p224")p=new G;else if(u==="p192")p=new J;else if(u==="p25519")p=new B;else throw new Error("Unknown prime "+u);return H[u]=p,p};function m(h){if(typeof h=="string"){var u=a._prime(h);this.m=u.p,this.prime=u}else n(h.gtn(1),"modulus must be greater than 1"),this.m=h,this.prime=null}m.prototype._verify1=function(u){n(u.negative===0,"red works only with positives"),n(u.red,"red works only with red numbers")},m.prototype._verify2=function(u,p){n((u.negative|p.negative)===0,"red works only with positives"),n(u.red&&u.red===p.red,"red works only with red numbers")},m.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):(l(u,u.umod(this.m)._forceRed(this)),u)},m.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},m.prototype.add=function(u,p){this._verify2(u,p);var g=u.add(p);return g.cmp(this.m)>=0&&g.isub(this.m),g._forceRed(this)},m.prototype.iadd=function(u,p){this._verify2(u,p);var g=u.iadd(p);return g.cmp(this.m)>=0&&g.isub(this.m),g},m.prototype.sub=function(u,p){this._verify2(u,p);var g=u.sub(p);return g.cmpn(0)<0&&g.iadd(this.m),g._forceRed(this)},m.prototype.isub=function(u,p){this._verify2(u,p);var g=u.isub(p);return g.cmpn(0)<0&&g.iadd(this.m),g},m.prototype.shl=function(u,p){return this._verify1(u),this.imod(u.ushln(p))},m.prototype.imul=function(u,p){return this._verify2(u,p),this.imod(u.imul(p))},m.prototype.mul=function(u,p){return this._verify2(u,p),this.imod(u.mul(p))},m.prototype.isqr=function(u){return this.imul(u,u.clone())},m.prototype.sqr=function(u){return this.mul(u,u)},m.prototype.sqrt=function(u){if(u.isZero())return u.clone();var p=this.m.andln(3);if(n(p%2===1),p===3){var g=this.m.add(new a(1)).iushrn(2);return this.pow(u,g)}for(var E=this.m.subn(1),_=0;!E.isZero()&&E.andln(1)===0;)_++,E.iushrn(1);n(!E.isZero());var y=new a(1).toRed(this),b=y.redNeg(),w=this.m.subn(1).iushrn(1),v=this.m.bitLength();for(v=new a(2*v*v).toRed(this);this.pow(v,w).cmp(b)!==0;)v.redIAdd(b);for(var N=this.pow(v,E),$=this.pow(u,E.addn(1).iushrn(1)),T=this.pow(u,E),P=_;T.cmp(y)!==0;){for(var U=T,z=0;U.cmp(y)!==0;z++)U=U.redSqr();n(z<P);var q=this.pow(N,new a(1).iushln(P-z-1));$=$.redMul(q),N=q.redSqr(),T=T.redMul(N),P=z}return $},m.prototype.invm=function(u){var p=u._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},m.prototype.pow=function(u,p){if(p.isZero())return new a(1).toRed(this);if(p.cmpn(1)===0)return u.clone();var g=4,E=new Array(1<<g);E[0]=new a(1).toRed(this),E[1]=u;for(var _=2;_<E.length;_++)E[_]=this.mul(E[_-1],u);var y=E[0],b=0,w=0,v=p.bitLength()%26;for(v===0&&(v=26),_=p.length-1;_>=0;_--){for(var N=p.words[_],$=v-1;$>=0;$--){var T=N>>$&1;if(y!==E[0]&&(y=this.sqr(y)),T===0&&b===0){w=0;continue}b<<=1,b|=T,w++,!(w!==g&&(_!==0||$!==0))&&(y=this.mul(y,E[b]),w=0,b=0)}v=26}return y},m.prototype.convertTo=function(u){var p=u.umod(this.m);return p===u?p.clone():p},m.prototype.convertFrom=function(u){var p=u.clone();return p.red=null,p},a.mont=function(u){return new d(u)};function d(h){m.call(this,h),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(d,m),d.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},d.prototype.convertFrom=function(u){var p=this.imod(u.mul(this.rinv));return p.red=null,p},d.prototype.imul=function(u,p){if(u.isZero()||p.isZero())return u.words[0]=0,u.length=1,u;var g=u.imul(p),E=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=g.isub(E).iushrn(this.shift),y=_;return _.cmp(this.m)>=0?y=_.isub(this.m):_.cmpn(0)<0&&(y=_.iadd(this.m)),y._forceRed(this)},d.prototype.mul=function(u,p){if(u.isZero()||p.isZero())return new a(0)._forceRed(this);var g=u.mul(p),E=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=g.isub(E).iushrn(this.shift),y=_;return _.cmp(this.m)>=0?y=_.isub(this.m):_.cmpn(0)<0&&(y=_.iadd(this.m)),y._forceRed(this)},d.prototype.invm=function(u){var p=this.imod(u._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(t,Ke)})(Sh);var Ya=Sh.exports;const He=Wn(Ya),P7="logger/5.7.0";let Yp=!1,Zp=!1;const tu={debug:1,default:2,info:2,warning:3,error:4,off:5};let Qp=tu.default,Sd=null;function O7(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const Xp=O7();var Hl;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(Hl||(Hl={}));var qn;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(qn||(qn={}));const em="0123456789abcdef";class K{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();tu[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(Qp>tu[n])&&console.log.apply(console,r)}debug(...e){this._log(K.levels.DEBUG,e)}info(...e){this._log(K.levels.INFO,e)}warn(...e){this._log(K.levels.WARNING,e)}makeError(e,r,n){if(Zp)return this.makeError("censored error",r,{});r||(r=K.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const f=n[c];try{if(f instanceof Uint8Array){let l="";for(let x=0;x<f.length;x++)l+=em[f[x]>>4],l+=em[f[x]&15];i.push(c+"=Uint8Array(0x"+l+")")}else i.push(c+"="+JSON.stringify(f))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const a=e;let s="";switch(r){case qn.NUMERIC_FAULT:{s="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":s+="-"+c;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result";break}break}case qn.CALL_EXCEPTION:case qn.INSUFFICIENT_FUNDS:case qn.MISSING_NEW:case qn.NONCE_EXPIRED:case qn.REPLACEMENT_UNDERPRICED:case qn.TRANSACTION_REPLACED:case qn.UNPREDICTABLE_GAS_LIMIT:s=r;break}s&&(e+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const o=new Error(e);return o.reason=a,o.code=r,Object.keys(n).forEach(function(c){o[c]=n[c]}),o}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,K.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){Xp&&this.throwError("platform missing String.prototype.normalize",K.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Xp})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,K.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,K.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,K.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,K.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",K.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",K.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",K.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return Sd||(Sd=new K(P7)),Sd}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",K.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Yp){if(!e)return;this.globalLogger().throwError("error censorship permanent",K.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Zp=!!e,Yp=!!r}static setLogLevel(e){const r=tu[e.toLowerCase()];if(r==null){K.globalLogger().warn("invalid log level - "+e);return}Qp=r}static from(e){return new K(e)}}K.errors=qn;K.levels=Hl;const B7="bytes/5.7.0",Dt=new K(B7);function A2(t){return!!t.toHexString}function vs(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return vs(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function wf(t){return _t(t)&&!(t.length%2)||_f(t)}function tm(t){return typeof t=="number"&&t==t&&t%1===0}function _f(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!tm(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!tm(r)||r<0||r>=256)return!1}return!0}function te(t,e){if(e||(e={}),typeof t=="number"){Dt.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),vs(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),A2(t)&&(t=t.toHexString()),_t(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":Dt.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return vs(new Uint8Array(n))}return _f(t)?vs(new Uint8Array(t)):Dt.throwArgumentError("invalid arrayify value","value",t)}function Rt(t){const e=t.map(i=>te(i)),r=e.reduce((i,a)=>i+a.length,0),n=new Uint8Array(r);return e.reduce((i,a)=>(n.set(a,i),i+a.length),0),vs(n)}function Ci(t){let e=te(t);if(e.length===0)return e;let r=0;for(;r<e.length&&e[r]===0;)r++;return r&&(e=e.slice(r)),e}function ru(t,e){t=te(t),t.length>e&&Dt.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),vs(r)}function _t(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const Cd="0123456789abcdef";function re(t,e){if(e||(e={}),typeof t=="number"){Dt.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=Cd[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),A2(t))return t.toHexString();if(_t(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":Dt.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(_f(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=Cd[(i&240)>>4]+Cd[i&15]}return r}return Dt.throwArgumentError("invalid hexlify value","value",t)}function Ha(t){if(typeof t!="string")t=re(t);else if(!_t(t)||t.length%2)return null;return(t.length-2)/2}function er(t,e,r){return typeof t!="string"?t=re(t):(!_t(t)||t.length%2)&&Dt.throwArgumentError("invalid hexData","value",t),e=2+2*e,r!=null?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function Kr(t){let e="0x";return t.forEach(r=>{e+=re(r).substring(2)}),e}function Ch(t){const e=L7(re(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function L7(t){typeof t!="string"&&(t=re(t)),_t(t)||Dt.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function Pt(t,e){for(typeof t!="string"?t=re(t):_t(t)||Dt.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&Dt.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function Ks(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(wf(t)){let r=te(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=re(r.slice(0,32)),e.s=re(r.slice(32,64))):r.length===65?(e.r=re(r.slice(0,32)),e.s=re(r.slice(32,64)),e.v=r[64]):Dt.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:Dt.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=re(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=ru(te(e._vs),32);e._vs=re(i);const a=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=a:e.recoveryParam!==a&&Dt.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const s=re(i);e.s==null?e.s=s:e.s!==s&&Dt.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?Dt.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&Dt.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!_t(e.r)?Dt.throwArgumentError("signature missing or invalid r","signature",t):e.r=Pt(e.r,32),e.s==null||!_t(e.s)?Dt.throwArgumentError("signature missing or invalid s","signature",t):e.s=Pt(e.s,32);const r=te(e.s);r[0]>=128&&Dt.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=re(r);e._vs&&(_t(e._vs)||Dt.throwArgumentError("signature invalid _vs","signature",t),e._vs=Pt(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&Dt.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function rm(t){return t=Ks(t),re(Rt([t.r,t.s,t.recoveryParam?"0x1c":"0x1b"]))}const D7="bignumber/5.7.0";var Tu=He.BN;const Ai=new K(D7),Nd={},nm=9007199254740991;let im=!1,ue=class Hn{constructor(e,r){e!==Nd&&Ai.throwError("cannot call constructor directly; use BigNumber.from",K.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return jr(it(this).fromTwos(e))}toTwos(e){return jr(it(this).toTwos(e))}abs(){return this._hex[0]==="-"?Hn.from(this._hex.substring(1)):this}add(e){return jr(it(this).add(it(e)))}sub(e){return jr(it(this).sub(it(e)))}div(e){return Hn.from(e).isZero()&&mn("division-by-zero","div"),jr(it(this).div(it(e)))}mul(e){return jr(it(this).mul(it(e)))}mod(e){const r=it(e);return r.isNeg()&&mn("division-by-zero","mod"),jr(it(this).umod(r))}pow(e){const r=it(e);return r.isNeg()&&mn("negative-power","pow"),jr(it(this).pow(r))}and(e){const r=it(e);return(this.isNegative()||r.isNeg())&&mn("unbound-bitwise-result","and"),jr(it(this).and(r))}or(e){const r=it(e);return(this.isNegative()||r.isNeg())&&mn("unbound-bitwise-result","or"),jr(it(this).or(r))}xor(e){const r=it(e);return(this.isNegative()||r.isNeg())&&mn("unbound-bitwise-result","xor"),jr(it(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&mn("negative-width","mask"),jr(it(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&mn("negative-width","shl"),jr(it(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&mn("negative-width","shr"),jr(it(this).shrn(e))}eq(e){return it(this).eq(it(e))}lt(e){return it(this).lt(it(e))}lte(e){return it(this).lte(it(e))}gt(e){return it(this).gt(it(e))}gte(e){return it(this).gte(it(e))}isNegative(){return this._hex[0]==="-"}isZero(){return it(this).isZero()}toNumber(){try{return it(this).toNumber()}catch{mn("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Ai.throwError("this platform does not support BigInt",K.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?im||(im=!0,Ai.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Ai.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",K.errors.UNEXPECTED_ARGUMENT,{}):Ai.throwError("BigNumber.toString does not accept parameters",K.errors.UNEXPECTED_ARGUMENT,{})),it(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof Hn)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new Hn(Nd,Qo(e)):e.match(/^-?[0-9]+$/)?new Hn(Nd,Qo(new Tu(e))):Ai.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&mn("underflow","BigNumber.from",e),(e>=nm||e<=-nm)&&mn("overflow","BigNumber.from",e),Hn.from(String(e));const r=e;if(typeof r=="bigint")return Hn.from(r.toString());if(_f(r))return Hn.from(re(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return Hn.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(_t(n)||n[0]==="-"&&_t(n.substring(1))))return Hn.from(n)}return Ai.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}};function Qo(t){if(typeof t!="string")return Qo(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&Ai.throwArgumentError("invalid hex","value",t),t=Qo(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function jr(t){return ue.from(Qo(t))}function it(t){const e=ue.from(t).toHexString();return e[0]==="-"?new Tu("-"+e.substring(3),16):new Tu(e.substring(2),16)}function mn(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),Ai.throwError(t,K.errors.NUMERIC_FAULT,n)}function F7(t){return new Tu(t,36).toString(16)}const U7="properties/5.7.0";var $7=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(l){try{f(n.next(l))}catch(x){s(x)}}function c(l){try{f(n.throw(l))}catch(x){s(x)}}function f(l){l.done?a(l.value):i(l.value).then(o,c)}f((n=n.apply(t,e||[])).next())})};const Mu=new K(U7);function Q(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function cn(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function Ut(t){return $7(this,void 0,void 0,function*(){const e=Object.keys(t).map(n=>{const i=t[n];return Promise.resolve(i).then(a=>({key:n,value:a}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}function E2(t,e){(!t||typeof t!="object")&&Mu.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(r=>{e[r]||Mu.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)})}function tr(t){const e={};for(const r in t)e[r]=t[r];return e}const H7={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function T2(t){if(t==null||H7[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch{continue}if(!T2(n))return!1}return!0}return Mu.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function z7(t){if(T2(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>Pi(e)));if(typeof t=="object"){const e={};for(const r in t){const n=t[r];n!==void 0&&Q(e,r,Pi(n))}return e}return Mu.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function Pi(t){return z7(t)}class Za{constructor(e){for(const r in e)this[r]=Pi(e[r])}}const Ac="abi/5.7.0",bt=new K(Ac),za={};let am={calldata:!0,memory:!0,storage:!0},q7={calldata:!0,memory:!0};function jc(t,e){if(t==="bytes"||t==="string"){if(am[e])return!0}else if(t==="address"){if(e==="payable")return!0}else if((t.indexOf("[")>=0||t==="tuple")&&q7[e])return!0;return(am[e]||e==="payable")&&bt.throwArgumentError("invalid modifier","name",e),!1}function j7(t,e){let r=t;function n(o){bt.throwArgumentError(`unexpected character at position ${o}`,"param",t)}t=t.replace(/\s/g," ");function i(o){let c={type:"",name:"",parent:o,state:{allowType:!0}};return e&&(c.indexed=!1),c}let a={type:"",name:"",state:{allowType:!0}},s=a;for(let o=0;o<t.length;o++){let c=t[o];switch(c){case"(":s.state.allowType&&s.type===""?s.type="tuple":s.state.allowParams||n(o),s.state.allowType=!1,s.type=ds(s.type),s.components=[i(s)],s=s.components[0];break;case")":delete s.state,s.name==="indexed"&&(e||n(o),s.indexed=!0,s.name=""),jc(s.type,s.name)&&(s.name=""),s.type=ds(s.type);let f=s;s=s.parent,s||n(o),delete f.parent,s.state.allowParams=!1,s.state.allowName=!0,s.state.allowArray=!0;break;case",":delete s.state,s.name==="indexed"&&(e||n(o),s.indexed=!0,s.name=""),jc(s.type,s.name)&&(s.name=""),s.type=ds(s.type);let l=i(s.parent);s.parent.components.push(l),delete s.parent,s=l;break;case" ":s.state.allowType&&s.type!==""&&(s.type=ds(s.type),delete s.state.allowType,s.state.allowName=!0,s.state.allowParams=!0),s.state.allowName&&s.name!==""&&(s.name==="indexed"?(e||n(o),s.indexed&&n(o),s.indexed=!0,s.name=""):jc(s.type,s.name)?s.name="":s.state.allowName=!1);break;case"[":s.state.allowArray||n(o),s.type+=c,s.state.allowArray=!1,s.state.allowName=!1,s.state.readArray=!0;break;case"]":s.state.readArray||n(o),s.type+=c,s.state.readArray=!1,s.state.allowArray=!0,s.state.allowName=!0;break;default:s.state.allowType?(s.type+=c,s.state.allowParams=!0,s.state.allowArray=!0):s.state.allowName?(s.name+=c,delete s.state.allowArray):s.state.readArray?s.type+=c:n(o)}}return s.parent&&bt.throwArgumentError("unexpected eof","param",t),delete a.state,s.name==="indexed"?(e||n(r.length-7),s.indexed&&n(r.length-7),s.indexed=!0,s.name=""):jc(s.type,s.name)&&(s.name=""),a.type=ds(a.type),a}function nu(t,e){for(let r in e)Q(t,r,e[r])}const wt=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),K7=new RegExp(/^(.*)\[([0-9]*)\]$/);class or{constructor(e,r){e!==za&&bt.throwError("use fromString",K.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),nu(this,r);let n=this.type.match(K7);n?nu(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:or.fromObject({type:n[1],components:this.components}),baseType:"array"}):nu(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=wt.sighash),wt[e]||bt.throwArgumentError("invalid format type","format",e),e===wt.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(n)}let r="";return this.baseType==="array"?(r+=this.arrayChildren.format(e),r+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==wt.sighash&&(r+=this.type),r+="("+this.components.map(n=>n.format(e)).join(e===wt.full?", ":",")+")"):r+=this.type,e!==wt.sighash&&(this.indexed===!0&&(r+=" indexed"),e===wt.full&&this.name&&(r+=" "+this.name)),r}static from(e,r){return typeof e=="string"?or.fromString(e,r):or.fromObject(e)}static fromObject(e){return or.isParamType(e)?e:new or(za,{name:e.name||null,type:ds(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(or.fromObject):null})}static fromString(e,r){function n(i){return or.fromObject({name:i.name,type:i.type,indexed:i.indexed,components:i.components})}return n(j7(e,!!r))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function Xo(t,e){return V7(t).map(r=>or.fromString(r,e))}class Ii{constructor(e,r){e!==za&&bt.throwError("use a static from method",K.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),nu(this,r),this._isFragment=!0,Object.freeze(this)}static from(e){return Ii.isFragment(e)?e:typeof e=="string"?Ii.fromString(e):Ii.fromObject(e)}static fromObject(e){if(Ii.isFragment(e))return e;switch(e.type){case"function":return ci.fromObject(e);case"event":return ki.fromObject(e);case"constructor":return oi.fromObject(e);case"error":return Xi.fromObject(e);case"fallback":case"receive":return null}return bt.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?ki.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?ci.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?oi.fromString(e.trim()):e.split(" ")[0]==="error"?Xi.fromString(e.substring(5).trim()):bt.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class ki extends Ii{format(e){if(e||(e=wt.sighash),wt[e]||bt.throwArgumentError("invalid format type","format",e),e===wt.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==wt.sighash&&(r+="event "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===wt.full?", ":",")+") ",e!==wt.sighash&&this.anonymous&&(r+="anonymous "),r.trim()}static from(e){return typeof e=="string"?ki.fromString(e):ki.fromObject(e)}static fromObject(e){if(ki.isEventFragment(e))return e;e.type!=="event"&&bt.throwArgumentError("invalid event object","value",e);const r={name:ec(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(or.fromObject):[],type:"event"};return new ki(za,r)}static fromString(e){let r=e.match(tc);r||bt.throwArgumentError("invalid event string","value",e);let n=!1;return r[3].split(" ").forEach(i=>{switch(i.trim()){case"anonymous":n=!0;break;case"":break;default:bt.warn("unknown modifier: "+i)}}),ki.fromObject({name:r[1].trim(),anonymous:n,inputs:Xo(r[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function M2(t,e){e.gas=null;let r=t.split("@");return r.length!==1?(r.length>2&&bt.throwArgumentError("invalid human-readable ABI signature","value",t),r[1].match(/^[0-9]+$/)||bt.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=ue.from(r[1]),r[0]):t}function k2(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach(r=>{switch(r.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+r)}})}function I2(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return t.stateMutability!=null?(e.stateMutability=t.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",t.constant!=null&&!!t.constant!==e.constant&&bt.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable=e.stateMutability==="payable",t.payable!=null&&!!t.payable!==e.payable&&bt.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):t.payable!=null?(e.payable=!!t.payable,t.constant==null&&!e.payable&&t.type!=="constructor"&&bt.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&bt.throwArgumentError("cannot have constant payable function","value",t)):t.constant!=null?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):t.type!=="constructor"&&bt.throwArgumentError("unable to determine stateMutability","value",t),e}class oi extends Ii{format(e){if(e||(e=wt.sighash),wt[e]||bt.throwArgumentError("invalid format type","format",e),e===wt.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});e===wt.sighash&&bt.throwError("cannot format a constructor for sighash",K.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let r="constructor("+this.inputs.map(n=>n.format(e)).join(e===wt.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "),r.trim()}static from(e){return typeof e=="string"?oi.fromString(e):oi.fromObject(e)}static fromObject(e){if(oi.isConstructorFragment(e))return e;e.type!=="constructor"&&bt.throwArgumentError("invalid constructor object","value",e);let r=I2(e);r.constant&&bt.throwArgumentError("constructor cannot be constant","value",e);const n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(or.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?ue.from(e.gas):null};return new oi(za,n)}static fromString(e){let r={type:"constructor"};e=M2(e,r);let n=e.match(tc);return(!n||n[1].trim()!=="constructor")&&bt.throwArgumentError("invalid constructor string","value",e),r.inputs=Xo(n[2].trim(),!1),k2(n[3].trim(),r),oi.fromObject(r)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class ci extends oi{format(e){if(e||(e=wt.sighash),wt[e]||bt.throwArgumentError("invalid format type","format",e),e===wt.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==wt.sighash&&(r+="function "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===wt.full?", ":",")+") ",e!==wt.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "):this.constant&&(r+="view "),this.outputs&&this.outputs.length&&(r+="returns ("+this.outputs.map(n=>n.format(e)).join(", ")+") "),this.gas!=null&&(r+="@"+this.gas.toString()+" ")),r.trim()}static from(e){return typeof e=="string"?ci.fromString(e):ci.fromObject(e)}static fromObject(e){if(ci.isFunctionFragment(e))return e;e.type!=="function"&&bt.throwArgumentError("invalid function object","value",e);let r=I2(e);const n={type:e.type,name:ec(e.name),constant:r.constant,inputs:e.inputs?e.inputs.map(or.fromObject):[],outputs:e.outputs?e.outputs.map(or.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?ue.from(e.gas):null};return new ci(za,n)}static fromString(e){let r={type:"function"};e=M2(e,r);let n=e.split(" returns ");n.length>2&&bt.throwArgumentError("invalid function string","value",e);let i=n[0].match(tc);if(i||bt.throwArgumentError("invalid function signature","value",e),r.name=i[1].trim(),r.name&&ec(r.name),r.inputs=Xo(i[2],!1),k2(i[3].trim(),r),n.length>1){let a=n[1].match(tc);(a[1].trim()!=""||a[3].trim()!="")&&bt.throwArgumentError("unexpected tokens","value",e),r.outputs=Xo(a[2],!1)}else r.outputs=[];return ci.fromObject(r)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function sm(t){const e=t.format();return(e==="Error(string)"||e==="Panic(uint256)")&&bt.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",t),t}class Xi extends Ii{format(e){if(e||(e=wt.sighash),wt[e]||bt.throwArgumentError("invalid format type","format",e),e===wt.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==wt.sighash&&(r+="error "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===wt.full?", ":",")+") ",r.trim()}static from(e){return typeof e=="string"?Xi.fromString(e):Xi.fromObject(e)}static fromObject(e){if(Xi.isErrorFragment(e))return e;e.type!=="error"&&bt.throwArgumentError("invalid error object","value",e);const r={type:e.type,name:ec(e.name),inputs:e.inputs?e.inputs.map(or.fromObject):[]};return sm(new Xi(za,r))}static fromString(e){let r={type:"error"},n=e.match(tc);return n||bt.throwArgumentError("invalid error signature","value",e),r.name=n[1].trim(),r.name&&ec(r.name),r.inputs=Xo(n[2],!1),sm(Xi.fromObject(r))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}function ds(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}const G7=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function ec(t){return(!t||!t.match(G7))&&bt.throwArgumentError(`invalid identifier "${t}"`,"value",t),t}const tc=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function V7(t){t=t.trim();let e=[],r="",n=0;for(let i=0;i<t.length;i++){let a=t[i];a===","&&n===0?(e.push(r),r=""):(r+=a,a==="("?n++:a===")"&&(n--,n===-1&&bt.throwArgumentError("unbalanced parenthesis","value",t)))}return r&&e.push(r),e}const Nh=new K(Ac);function W7(t){const e=[],r=function(n,i){if(Array.isArray(i))for(let a in i){const s=n.slice();s.push(a);try{r(s,i[a])}catch(o){e.push({path:s,error:o})}}};return r([],t),e}class $i{constructor(e,r,n,i){this.name=e,this.type=r,this.localName=n,this.dynamic=i}_throwError(e,r){Nh.throwArgumentError(e,this.localName,r)}}class zl{constructor(e){Q(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return Kr(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(Rt(e._data))}writeBytes(e){let r=te(e);const n=r.length%this.wordSize;return n&&(r=Rt([r,this._padding.slice(n)])),this._writeData(r)}_getValue(e){let r=te(ue.from(e));return r.length>this.wordSize&&Nh.throwError("value out-of-bounds",K.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:r.length}),r.length%this.wordSize&&(r=Rt([this._padding.slice(r.length%this.wordSize),r])),r}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,r=>{this._data[e]=this._getValue(r)}}}class ku{constructor(e,r,n,i){Q(this,"_data",te(e)),Q(this,"wordSize",r||32),Q(this,"_coerceFunc",n),Q(this,"allowLoose",i),this._offset=0}get data(){return re(this._data)}get consumed(){return this._offset}static coerce(e,r){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(r=r.toNumber()),r}coerce(e,r){return this._coerceFunc?this._coerceFunc(e,r):ku.coerce(e,r)}_peekBytes(e,r,n){let i=Math.ceil(r/this.wordSize)*this.wordSize;return this._offset+i>this._data.length&&(this.allowLoose&&n&&this._offset+r<=this._data.length?i=r:Nh.throwError("data out-of-bounds",K.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+i})),this._data.slice(this._offset,this._offset+i)}subReader(e){return new ku(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,r){let n=this._peekBytes(0,e,!!r);return this._offset+=n.length,n.slice(0,e)}readValue(){return ue.from(this.readBytes(this.wordSize))}}var S2={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(t){(function(){var e="input is invalid type",r="finalize already called",n=typeof window=="object",i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var a=!n&&typeof self=="object",s=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;s?i=Ke:a&&(i=self);var o=!i.JS_SHA3_NO_COMMON_JS&&!0&&t.exports,c=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",f="0123456789abcdef".split(""),l=[31,7936,2031616,520093696],x=[4,1024,262144,67108864],A=[1,256,65536,16777216],S=[6,1536,393216,100663296],M=[0,8,16,24],k=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],I=[224,256,384,512],C=[128,256],R=["hex","buffer","arrayBuffer","array","digest"],D={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(T){return Object.prototype.toString.call(T)==="[object Array]"}),c&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(T){return typeof T=="object"&&T.buffer&&T.buffer.constructor===ArrayBuffer});for(var F=function(T,P,U){return function(z){return new v(T,P,T).update(z)[U]()}},H=function(T,P,U){return function(z,q){return new v(T,P,q).update(z)[U]()}},j=function(T,P,U){return function(z,q,Y,L){return u["cshake"+T].update(z,q,Y,L)[U]()}},Z=function(T,P,U){return function(z,q,Y,L){return u["kmac"+T].update(z,q,Y,L)[U]()}},G=function(T,P,U,z){for(var q=0;q<R.length;++q){var Y=R[q];T[Y]=P(U,z,Y)}return T},J=function(T,P){var U=F(T,P,"hex");return U.create=function(){return new v(T,P,T)},U.update=function(z){return U.create().update(z)},G(U,F,T,P)},B=function(T,P){var U=H(T,P,"hex");return U.create=function(z){return new v(T,P,z)},U.update=function(z,q){return U.create(q).update(z)},G(U,H,T,P)},m=function(T,P){var U=D[T],z=j(T,P,"hex");return z.create=function(q,Y,L){return!Y&&!L?u["shake"+T].create(q):new v(T,P,q).bytepad([Y,L],U)},z.update=function(q,Y,L,O){return z.create(Y,L,O).update(q)},G(z,j,T,P)},d=function(T,P){var U=D[T],z=Z(T,P,"hex");return z.create=function(q,Y,L){return new N(T,P,Y).bytepad(["KMAC",L],U).bytepad([q],U)},z.update=function(q,Y,L,O){return z.create(q,L,O).update(Y)},G(z,Z,T,P)},h=[{name:"keccak",padding:A,bits:I,createMethod:J},{name:"sha3",padding:S,bits:I,createMethod:J},{name:"shake",padding:l,bits:C,createMethod:B},{name:"cshake",padding:x,bits:C,createMethod:m},{name:"kmac",padding:x,bits:C,createMethod:d}],u={},p=[],g=0;g<h.length;++g)for(var E=h[g],_=E.bits,y=0;y<_.length;++y){var b=E.name+"_"+_[y];if(p.push(b),u[b]=E.createMethod(_[y],E.padding),E.name!=="sha3"){var w=E.name+_[y];p.push(w),u[w]=u[b]}}function v(T,P,U){this.blocks=[],this.s=[],this.padding=P,this.outputBits=U,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(T<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=U>>5,this.extraBytes=(U&31)>>3;for(var z=0;z<50;++z)this.s[z]=0}v.prototype.update=function(T){if(this.finalized)throw new Error(r);var P,U=typeof T;if(U!=="string"){if(U==="object"){if(T===null)throw new Error(e);if(c&&T.constructor===ArrayBuffer)T=new Uint8Array(T);else if(!Array.isArray(T)&&(!c||!ArrayBuffer.isView(T)))throw new Error(e)}else throw new Error(e);P=!0}for(var z=this.blocks,q=this.byteCount,Y=T.length,L=this.blockCount,O=0,W=this.s,V,ee;O<Y;){if(this.reset)for(this.reset=!1,z[0]=this.block,V=1;V<L+1;++V)z[V]=0;if(P)for(V=this.start;O<Y&&V<q;++O)z[V>>2]|=T[O]<<M[V++&3];else for(V=this.start;O<Y&&V<q;++O)ee=T.charCodeAt(O),ee<128?z[V>>2]|=ee<<M[V++&3]:ee<2048?(z[V>>2]|=(192|ee>>6)<<M[V++&3],z[V>>2]|=(128|ee&63)<<M[V++&3]):ee<55296||ee>=57344?(z[V>>2]|=(224|ee>>12)<<M[V++&3],z[V>>2]|=(128|ee>>6&63)<<M[V++&3],z[V>>2]|=(128|ee&63)<<M[V++&3]):(ee=65536+((ee&1023)<<10|T.charCodeAt(++O)&1023),z[V>>2]|=(240|ee>>18)<<M[V++&3],z[V>>2]|=(128|ee>>12&63)<<M[V++&3],z[V>>2]|=(128|ee>>6&63)<<M[V++&3],z[V>>2]|=(128|ee&63)<<M[V++&3]);if(this.lastByteIndex=V,V>=q){for(this.start=V-q,this.block=z[L],V=0;V<L;++V)W[V]^=z[V];$(W),this.reset=!0}else this.start=V}return this},v.prototype.encode=function(T,P){var U=T&255,z=1,q=[U];for(T=T>>8,U=T&255;U>0;)q.unshift(U),T=T>>8,U=T&255,++z;return P?q.push(z):q.unshift(z),this.update(q),q.length},v.prototype.encodeString=function(T){var P,U=typeof T;if(U!=="string"){if(U==="object"){if(T===null)throw new Error(e);if(c&&T.constructor===ArrayBuffer)T=new Uint8Array(T);else if(!Array.isArray(T)&&(!c||!ArrayBuffer.isView(T)))throw new Error(e)}else throw new Error(e);P=!0}var z=0,q=T.length;if(P)z=q;else for(var Y=0;Y<T.length;++Y){var L=T.charCodeAt(Y);L<128?z+=1:L<2048?z+=2:L<55296||L>=57344?z+=3:(L=65536+((L&1023)<<10|T.charCodeAt(++Y)&1023),z+=4)}return z+=this.encode(z*8),this.update(T),z},v.prototype.bytepad=function(T,P){for(var U=this.encode(P),z=0;z<T.length;++z)U+=this.encodeString(T[z]);var q=P-U%P,Y=[];return Y.length=q,this.update(Y),this},v.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var T=this.blocks,P=this.lastByteIndex,U=this.blockCount,z=this.s;if(T[P>>2]|=this.padding[P&3],this.lastByteIndex===this.byteCount)for(T[0]=T[U],P=1;P<U+1;++P)T[P]=0;for(T[U-1]|=2147483648,P=0;P<U;++P)z[P]^=T[P];$(z)}},v.prototype.toString=v.prototype.hex=function(){this.finalize();for(var T=this.blockCount,P=this.s,U=this.outputBlocks,z=this.extraBytes,q=0,Y=0,L="",O;Y<U;){for(q=0;q<T&&Y<U;++q,++Y)O=P[q],L+=f[O>>4&15]+f[O&15]+f[O>>12&15]+f[O>>8&15]+f[O>>20&15]+f[O>>16&15]+f[O>>28&15]+f[O>>24&15];Y%T===0&&($(P),q=0)}return z&&(O=P[q],L+=f[O>>4&15]+f[O&15],z>1&&(L+=f[O>>12&15]+f[O>>8&15]),z>2&&(L+=f[O>>20&15]+f[O>>16&15])),L},v.prototype.arrayBuffer=function(){this.finalize();var T=this.blockCount,P=this.s,U=this.outputBlocks,z=this.extraBytes,q=0,Y=0,L=this.outputBits>>3,O;z?O=new ArrayBuffer(U+1<<2):O=new ArrayBuffer(L);for(var W=new Uint32Array(O);Y<U;){for(q=0;q<T&&Y<U;++q,++Y)W[Y]=P[q];Y%T===0&&$(P)}return z&&(W[q]=P[q],O=O.slice(0,L)),O},v.prototype.buffer=v.prototype.arrayBuffer,v.prototype.digest=v.prototype.array=function(){this.finalize();for(var T=this.blockCount,P=this.s,U=this.outputBlocks,z=this.extraBytes,q=0,Y=0,L=[],O,W;Y<U;){for(q=0;q<T&&Y<U;++q,++Y)O=Y<<2,W=P[q],L[O]=W&255,L[O+1]=W>>8&255,L[O+2]=W>>16&255,L[O+3]=W>>24&255;Y%T===0&&$(P)}return z&&(O=Y<<2,W=P[q],L[O]=W&255,z>1&&(L[O+1]=W>>8&255),z>2&&(L[O+2]=W>>16&255)),L};function N(T,P,U){v.call(this,T,P,U)}N.prototype=new v,N.prototype.finalize=function(){return this.encode(this.outputBits,!0),v.prototype.finalize.call(this)};var $=function(T){var P,U,z,q,Y,L,O,W,V,ee,oe,ie,ae,Je,Te,fe,Qe,Ee,ce,Ye,Ae,se,ze,Me,de,st,ke,le,ot,Ie,he,ct,Se,pe,ut,Ce,me,ft,Ne,ye,dt,Re,be,lt,Pe,xe,ht,Oe,ge,pt,Be,ve,mt,Le,we,nt,Xe,et,Kt,Gt,Vt,Wt,Jt;for(z=0;z<48;z+=2)q=T[0]^T[10]^T[20]^T[30]^T[40],Y=T[1]^T[11]^T[21]^T[31]^T[41],L=T[2]^T[12]^T[22]^T[32]^T[42],O=T[3]^T[13]^T[23]^T[33]^T[43],W=T[4]^T[14]^T[24]^T[34]^T[44],V=T[5]^T[15]^T[25]^T[35]^T[45],ee=T[6]^T[16]^T[26]^T[36]^T[46],oe=T[7]^T[17]^T[27]^T[37]^T[47],ie=T[8]^T[18]^T[28]^T[38]^T[48],ae=T[9]^T[19]^T[29]^T[39]^T[49],P=ie^(L<<1|O>>>31),U=ae^(O<<1|L>>>31),T[0]^=P,T[1]^=U,T[10]^=P,T[11]^=U,T[20]^=P,T[21]^=U,T[30]^=P,T[31]^=U,T[40]^=P,T[41]^=U,P=q^(W<<1|V>>>31),U=Y^(V<<1|W>>>31),T[2]^=P,T[3]^=U,T[12]^=P,T[13]^=U,T[22]^=P,T[23]^=U,T[32]^=P,T[33]^=U,T[42]^=P,T[43]^=U,P=L^(ee<<1|oe>>>31),U=O^(oe<<1|ee>>>31),T[4]^=P,T[5]^=U,T[14]^=P,T[15]^=U,T[24]^=P,T[25]^=U,T[34]^=P,T[35]^=U,T[44]^=P,T[45]^=U,P=W^(ie<<1|ae>>>31),U=V^(ae<<1|ie>>>31),T[6]^=P,T[7]^=U,T[16]^=P,T[17]^=U,T[26]^=P,T[27]^=U,T[36]^=P,T[37]^=U,T[46]^=P,T[47]^=U,P=ee^(q<<1|Y>>>31),U=oe^(Y<<1|q>>>31),T[8]^=P,T[9]^=U,T[18]^=P,T[19]^=U,T[28]^=P,T[29]^=U,T[38]^=P,T[39]^=U,T[48]^=P,T[49]^=U,Je=T[0],Te=T[1],xe=T[11]<<4|T[10]>>>28,ht=T[10]<<4|T[11]>>>28,le=T[20]<<3|T[21]>>>29,ot=T[21]<<3|T[20]>>>29,Gt=T[31]<<9|T[30]>>>23,Vt=T[30]<<9|T[31]>>>23,Re=T[40]<<18|T[41]>>>14,be=T[41]<<18|T[40]>>>14,pe=T[2]<<1|T[3]>>>31,ut=T[3]<<1|T[2]>>>31,fe=T[13]<<12|T[12]>>>20,Qe=T[12]<<12|T[13]>>>20,Oe=T[22]<<10|T[23]>>>22,ge=T[23]<<10|T[22]>>>22,Ie=T[33]<<13|T[32]>>>19,he=T[32]<<13|T[33]>>>19,Wt=T[42]<<2|T[43]>>>30,Jt=T[43]<<2|T[42]>>>30,Le=T[5]<<30|T[4]>>>2,we=T[4]<<30|T[5]>>>2,Ce=T[14]<<6|T[15]>>>26,me=T[15]<<6|T[14]>>>26,Ee=T[25]<<11|T[24]>>>21,ce=T[24]<<11|T[25]>>>21,pt=T[34]<<15|T[35]>>>17,Be=T[35]<<15|T[34]>>>17,ct=T[45]<<29|T[44]>>>3,Se=T[44]<<29|T[45]>>>3,Me=T[6]<<28|T[7]>>>4,de=T[7]<<28|T[6]>>>4,nt=T[17]<<23|T[16]>>>9,Xe=T[16]<<23|T[17]>>>9,ft=T[26]<<25|T[27]>>>7,Ne=T[27]<<25|T[26]>>>7,Ye=T[36]<<21|T[37]>>>11,Ae=T[37]<<21|T[36]>>>11,ve=T[47]<<24|T[46]>>>8,mt=T[46]<<24|T[47]>>>8,lt=T[8]<<27|T[9]>>>5,Pe=T[9]<<27|T[8]>>>5,st=T[18]<<20|T[19]>>>12,ke=T[19]<<20|T[18]>>>12,et=T[29]<<7|T[28]>>>25,Kt=T[28]<<7|T[29]>>>25,ye=T[38]<<8|T[39]>>>24,dt=T[39]<<8|T[38]>>>24,se=T[48]<<14|T[49]>>>18,ze=T[49]<<14|T[48]>>>18,T[0]=Je^~fe&Ee,T[1]=Te^~Qe&ce,T[10]=Me^~st&le,T[11]=de^~ke&ot,T[20]=pe^~Ce&ft,T[21]=ut^~me&Ne,T[30]=lt^~xe&Oe,T[31]=Pe^~ht&ge,T[40]=Le^~nt&et,T[41]=we^~Xe&Kt,T[2]=fe^~Ee&Ye,T[3]=Qe^~ce&Ae,T[12]=st^~le&Ie,T[13]=ke^~ot&he,T[22]=Ce^~ft&ye,T[23]=me^~Ne&dt,T[32]=xe^~Oe&pt,T[33]=ht^~ge&Be,T[42]=nt^~et&Gt,T[43]=Xe^~Kt&Vt,T[4]=Ee^~Ye&se,T[5]=ce^~Ae&ze,T[14]=le^~Ie&ct,T[15]=ot^~he&Se,T[24]=ft^~ye&Re,T[25]=Ne^~dt&be,T[34]=Oe^~pt&ve,T[35]=ge^~Be&mt,T[44]=et^~Gt&Wt,T[45]=Kt^~Vt&Jt,T[6]=Ye^~se&Je,T[7]=Ae^~ze&Te,T[16]=Ie^~ct&Me,T[17]=he^~Se&de,T[26]=ye^~Re&pe,T[27]=dt^~be&ut,T[36]=pt^~ve&lt,T[37]=Be^~mt&Pe,T[46]=Gt^~Wt&Le,T[47]=Vt^~Jt&we,T[8]=se^~Je&fe,T[9]=ze^~Te&Qe,T[18]=ct^~Me&st,T[19]=Se^~de&ke,T[28]=Re^~pe&Ce,T[29]=be^~ut&me,T[38]=ve^~lt&xe,T[39]=mt^~Pe&ht,T[48]=Wt^~Le&nt,T[49]=Jt^~we&Xe,T[0]^=k[z],T[1]^=k[z+1]};if(o)t.exports=u;else for(g=0;g<p.length;++g)i[p[g]]=u[p[g]]})()})(S2);var C2=S2.exports;const J7=Wn(C2);function kt(t){return"0x"+J7.keccak_256(te(t))}const Y7="rlp/5.7.0",ni=new K(Y7);function om(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function cm(t,e,r){let n=0;for(let i=0;i<r;i++)n=n*256+t[e+i];return n}function N2(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(a){n=n.concat(N2(a))}),n.length<=55)return n.unshift(192+n.length),n;const i=om(n.length);return i.unshift(247+i.length),i.concat(n)}wf(t)||ni.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(te(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=om(e.length);return r.unshift(183+r.length),r.concat(e)}function ks(t){return re(N2(t))}function um(t,e,r,n){const i=[];for(;r<e+1+n;){const a=R2(t,r);i.push(a.result),r+=a.consumed,r>e+1+n&&ni.throwError("child data too short",K.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function R2(t,e){if(t.length===0&&ni.throwError("data too short",K.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&ni.throwError("data short segment too short",K.errors.BUFFER_OVERRUN,{});const n=cm(t,e+1,r);return e+1+r+n>t.length&&ni.throwError("data long segment too short",K.errors.BUFFER_OVERRUN,{}),um(t,e,e+1+r,r+n)}else if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&ni.throwError("data array too short",K.errors.BUFFER_OVERRUN,{}),um(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&ni.throwError("data array too short",K.errors.BUFFER_OVERRUN,{});const n=cm(t,e+1,r);e+1+r+n>t.length&&ni.throwError("data array too short",K.errors.BUFFER_OVERRUN,{});const i=re(t.slice(e+1+r,e+1+r+n));return{consumed:1+r+n,result:i}}else if(t[e]>=128){const r=t[e]-128;e+1+r>t.length&&ni.throwError("data too short",K.errors.BUFFER_OVERRUN,{});const n=re(t.slice(e+1,e+1+r));return{consumed:1+r,result:n}}return{consumed:1,result:re(t[e])}}function Rh(t){const e=te(t),r=R2(e,0);return r.consumed!==e.length&&ni.throwArgumentError("invalid rlp data","data",t),r.result}const Z7="address/5.7.0",ms=new K(Z7);function fm(t){_t(t,20)||ms.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=te(kt(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const Q7=9007199254740991;function X7(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const Ph={};for(let t=0;t<10;t++)Ph[String(t)]=String(t);for(let t=0;t<26;t++)Ph[String.fromCharCode(65+t)]=String(10+t);const dm=Math.floor(X7(Q7));function e9(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>Ph[n]).join("");for(;e.length>=dm;){let n=e.substring(0,dm);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function At(t){let e=null;if(typeof t!="string"&&ms.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=fm(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&ms.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==e9(t)&&ms.throwArgumentError("bad icap checksum","address",t),e=F7(t.substring(4));e.length<40;)e="0"+e;e=fm("0x"+e)}else ms.throwArgumentError("invalid address","address",t);return e}function P2(t){let e=null;try{e=At(t.from)}catch{ms.throwArgumentError("missing from address","transaction",t)}const r=Ci(te(ue.from(t.nonce).toHexString()));return At(er(kt(ks([e,r])),12))}class t9 extends $i{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){try{r=At(r)}catch(n){this._throwError(n.message,r)}return e.writeValue(r)}decode(e){return At(Pt(e.readValue().toHexString(),20))}}class r9 extends $i{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,r){return this.coder.encode(e,r)}decode(e){return this.coder.decode(e)}}const ys=new K(Ac);function O2(t,e,r){let n=null;if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let c={};n=e.map(f=>{const l=f.localName;return l||ys.throwError("cannot encode object for signature with missing names",K.errors.INVALID_ARGUMENT,{argument:"values",coder:f,value:r}),c[l]&&ys.throwError("cannot encode object for signature with duplicate names",K.errors.INVALID_ARGUMENT,{argument:"values",coder:f,value:r}),c[l]=!0,r[l]})}else ys.throwArgumentError("invalid tuple value","tuple",r);e.length!==n.length&&ys.throwArgumentError("types/value length mismatch","tuple",r);let i=new zl(t.wordSize),a=new zl(t.wordSize),s=[];e.forEach((c,f)=>{let l=n[f];if(c.dynamic){let x=a.length;c.encode(a,l);let A=i.writeUpdatableValue();s.push(S=>{A(S+x)})}else c.encode(i,l)}),s.forEach(c=>{c(i.length)});let o=t.appendWriter(i);return o+=t.appendWriter(a),o}function B2(t,e){let r=[],n=t.subReader(0);e.forEach(a=>{let s=null;if(a.dynamic){let o=t.readValue(),c=n.subReader(o.toNumber());try{s=a.decode(c)}catch(f){if(f.code===K.errors.BUFFER_OVERRUN)throw f;s=f,s.baseType=a.name,s.name=a.localName,s.type=a.type}}else try{s=a.decode(t)}catch(o){if(o.code===K.errors.BUFFER_OVERRUN)throw o;s=o,s.baseType=a.name,s.name=a.localName,s.type=a.type}s!=null&&r.push(s)});const i=e.reduce((a,s)=>{const o=s.localName;return o&&(a[o]||(a[o]=0),a[o]++),a},{});e.forEach((a,s)=>{let o=a.localName;if(!o||i[o]!==1||(o==="length"&&(o="_length"),r[o]!=null))return;const c=r[s];c instanceof Error?Object.defineProperty(r,o,{enumerable:!0,get:()=>{throw c}}):r[o]=c});for(let a=0;a<r.length;a++){const s=r[a];s instanceof Error&&Object.defineProperty(r,a,{enumerable:!0,get:()=>{throw s}})}return Object.freeze(r)}class n9 extends $i{constructor(e,r,n){const i=e.type+"["+(r>=0?r:"")+"]",a=r===-1||e.dynamic;super("array",i,n,a),this.coder=e,this.length=r}defaultValue(){const e=this.coder.defaultValue(),r=[];for(let n=0;n<this.length;n++)r.push(e);return r}encode(e,r){Array.isArray(r)||this._throwError("expected array value",r);let n=this.length;n===-1&&(n=r.length,e.writeValue(r.length)),ys.checkArgumentCount(r.length,n,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let a=0;a<r.length;a++)i.push(this.coder);return O2(e,i,r)}decode(e){let r=this.length;r===-1&&(r=e.readValue().toNumber(),r*32>e._data.length&&ys.throwError("insufficient data length",K.errors.BUFFER_OVERRUN,{length:e._data.length,count:r}));let n=[];for(let i=0;i<r;i++)n.push(new r9(this.coder));return e.coerce(this.name,B2(e,n))}}class i9 extends $i{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){return e.writeValue(r?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class L2 extends $i{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=te(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class a9 extends L2{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,re(super.decode(e)))}}class s9 extends $i{constructor(e,r){let n="bytes"+String(e);super(n,n,r,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,r){let n=te(r);return n.length!==this.size&&this._throwError("incorrect data length",r),e.writeBytes(n)}decode(e){return e.coerce(this.name,re(e.readBytes(this.size)))}}class o9 extends $i{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}const c9="0x0000000000000000000000000000000000000000",u9=ue.from(-1),D2=ue.from(0),f9=ue.from(1),d9=ue.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),F2="0x0000000000000000000000000000000000000000000000000000000000000000";class l9 extends $i{constructor(e,r,n){const i=(r?"int":"uint")+e*8;super(i,i,n,!1),this.size=e,this.signed=r}defaultValue(){return 0}encode(e,r){let n=ue.from(r),i=d9.mask(e.wordSize*8);if(this.signed){let a=i.mask(this.size*8-1);(n.gt(a)||n.lt(a.add(f9).mul(u9)))&&this._throwError("value out-of-bounds",r)}else(n.lt(D2)||n.gt(i.mask(this.size*8)))&&this._throwError("value out-of-bounds",r);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let r=e.readValue().mask(this.size*8);return this.signed&&(r=r.fromTwos(this.size*8)),e.coerce(this.name,r)}}const h9="strings/5.7.0",U2=new K(h9);var ca;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(ca||(ca={}));var tn;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(tn||(tn={}));function p9(t,e,r,n,i){return U2.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function $2(t,e,r,n,i){if(t===tn.BAD_PREFIX||t===tn.UNEXPECTED_CONTINUE){let a=0;for(let s=e+1;s<r.length&&r[s]>>6===2;s++)a++;return a}return t===tn.OVERRUN?r.length-e-1:0}function m9(t,e,r,n,i){return t===tn.OVERLONG?(n.push(i),0):(n.push(65533),$2(t,e,r))}const y9=Object.freeze({error:p9,ignore:$2,replace:m9});function H2(t,e){e==null&&(e=y9.error),t=te(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(!(i>>7)){r.push(i);continue}let a=null,s=null;if((i&224)===192)a=1,s=127;else if((i&240)===224)a=2,s=2047;else if((i&248)===240)a=3,s=65535;else{(i&192)===128?n+=e(tn.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(tn.BAD_PREFIX,n-1,t,r);continue}if(n-1+a>=t.length){n+=e(tn.OVERRUN,n-1,t,r);continue}let o=i&(1<<8-a-1)-1;for(let c=0;c<a;c++){let f=t[n];if((f&192)!=128){n+=e(tn.MISSING_CONTINUE,n,t,r),o=null;break}o=o<<6|f&63,n++}if(o!==null){if(o>1114111){n+=e(tn.OUT_OF_RANGE,n-1-a,t,r,o);continue}if(o>=55296&&o<=57343){n+=e(tn.UTF16_SURROGATE,n-1-a,t,r,o);continue}if(o<=s){n+=e(tn.OVERLONG,n-1-a,t,r,o);continue}r.push(o)}}return r}function jt(t,e=ca.current){e!=ca.current&&(U2.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const a=t.charCodeAt(n);if(n>=t.length||(a&64512)!==56320)throw new Error("invalid utf-8 string");const s=65536+((i&1023)<<10)+(a&1023);r.push(s>>18|240),r.push(s>>12&63|128),r.push(s>>6&63|128),r.push(s&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return te(r)}function b9(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Gs(t,e){return b9(H2(t,e))}function x9(t,e=ca.current){return H2(jt(t,e))}function xr(t){const e=jt(t);if(e.length>31)throw new Error("bytes32 string must be less than 32 bytes");return re(Rt([e,F2]).slice(0,32))}function g9(t){const e=te(t);if(e.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(e[31]!==0)throw new Error("invalid bytes32 string - no null terminator");let r=31;for(;e[r-1]===0;)r--;return Gs(e.slice(0,r))}class v9 extends L2{constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,jt(r))}decode(e){return Gs(super.decode(e))}}class Kc extends $i{constructor(e,r){let n=!1;const i=[];e.forEach(s=>{s.dynamic&&(n=!0),i.push(s.type)});const a="tuple("+i.join(",")+")";super("tuple",a,r,n),this.coders=e}defaultValue(){const e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});const r=this.coders.reduce((n,i)=>{const a=i.localName;return a&&(n[a]||(n[a]=0),n[a]++),n},{});return this.coders.forEach((n,i)=>{let a=n.localName;!a||r[a]!==1||(a==="length"&&(a="_length"),e[a]==null&&(e[a]=e[i]))}),Object.freeze(e)}encode(e,r){return O2(e,this.coders,r)}decode(e){return e.coerce(this.name,B2(e,this.coders))}}const Gc=new K(Ac),w9=new RegExp(/^bytes([0-9]*)$/),_9=new RegExp(/^(u?int)([0-9]*)$/);class A9{constructor(e){Q(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new t9(e.name);case"bool":return new i9(e.name);case"string":return new v9(e.name);case"bytes":return new a9(e.name);case"array":return new n9(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new Kc((e.components||[]).map(n=>this._getCoder(n)),e.name);case"":return new o9(e.name)}let r=e.type.match(_9);if(r){let n=parseInt(r[2]||"256");return(n===0||n>256||n%8!==0)&&Gc.throwArgumentError("invalid "+r[1]+" bit length","param",e),new l9(n/8,r[1]==="int",e.name)}if(r=e.type.match(w9),r){let n=parseInt(r[1]);return(n===0||n>32)&&Gc.throwArgumentError("invalid bytes length","param",e),new s9(n,e.name)}return Gc.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,r){return new ku(e,this._getWordSize(),this.coerceFunc,r)}_getWriter(){return new zl(this._getWordSize())}getDefaultValue(e){const r=e.map(i=>this._getCoder(or.from(i)));return new Kc(r,"_").defaultValue()}encode(e,r){e.length!==r.length&&Gc.throwError("types/values length mismatch",K.errors.INVALID_ARGUMENT,{count:{types:e.length,values:r.length},value:{types:e,values:r}});const n=e.map(s=>this._getCoder(or.from(s))),i=new Kc(n,"_"),a=this._getWriter();return i.encode(a,r),a.data}decode(e,r,n){const i=e.map(s=>this._getCoder(or.from(s)));return new Kc(i,"_").decode(this._getReader(te(r),n))}}const E9=new A9;function Ca(t){return kt(jt(t))}const z2="hash/5.7.0";function q2(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return te(e)}function j2(t){t=te(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}function K2(t,e){e==null&&(e=1);const r=[],n=r.forEach,i=function(a,s){n.call(a,function(o){s>0&&Array.isArray(o)?i(o,s-1):r.push(o)})};return i(t,e),r}function T9(t){const e={};for(let r=0;r<t.length;r++){const n=t[r];e[n[0]]=n[1]}return e}function M9(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,a=[0,1];for(let H=1;H<n;H++)a.push(i+=r());let s=r(),o=e;e+=s;let c=0,f=0;function l(){return c==0&&(f=f<<8|t[e++],c=8),f>>--c&1}const x=31,A=Math.pow(2,x),S=A>>>1,M=S>>1,k=A-1;let I=0;for(let H=0;H<x;H++)I=I<<1|l();let C=[],R=0,D=A;for(;;){let H=Math.floor(((I-R+1)*i-1)/D),j=0,Z=n;for(;Z-j>1;){let B=j+Z>>>1;H<a[B]?Z=B:j=B}if(j==0)break;C.push(j);let G=R+Math.floor(D*a[j]/i),J=R+Math.floor(D*a[j+1]/i)-1;for(;!((G^J)&S);)I=I<<1&k|l(),G=G<<1&k,J=J<<1&k|1;for(;G&~J&M;)I=I&S|I<<1&k>>>1|l(),G=G<<1^S,J=(J^S)<<1|S|1;R=G,D=1+J-G}let F=n-4;return C.map(H=>{switch(H-F){case 3:return F+65792+(t[o++]<<16|t[o++]<<8|t[o++]);case 2:return F+256+(t[o++]<<8|t[o++]);case 1:return F+t[o++];default:return H-1}})}function k9(t){let e=0;return()=>t[e++]}function I9(t){return k9(M9(t))}function S9(t){return t&1?~t>>1:t>>1}function C9(t,e){let r=Array(t);for(let n=0;n<t;n++)r[n]=1+e();return r}function lm(t,e){let r=Array(t);for(let n=0,i=-1;n<t;n++)r[n]=i+=1+e();return r}function N9(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=S9(e());return r}function Iu(t,e){let r=lm(t(),t),n=t(),i=lm(n,t),a=C9(n,t);for(let s=0;s<n;s++)for(let o=0;o<a[s];o++)r.push(i[s]+o);return e?r.map(s=>e[s]):r}function R9(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(O9(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(B9(r,t))}return T9(K2(e))}function P9(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(r)}return e}function G2(t,e,r){let n=Array(t).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)N9(t,r).forEach((a,s)=>n[s].push(a));return n}function O9(t,e){let r=1+e(),n=e(),i=P9(e),a=G2(i.length,1+t,e);return K2(a.map((s,o)=>{const c=s[0],f=s.slice(1);return Array(i[o]).fill(void 0).map((l,x)=>{let A=x*n;return[c+x*r,f.map(S=>S+A)]})}))}function B9(t,e){let r=1+e();return G2(r,1+t,e).map(i=>[i[0],i.slice(1)])}function L9(t){let e=Iu(t).sort((n,i)=>n-i);return r();function r(){let n=[];for(;;){let f=Iu(t,e);if(f.length==0)break;n.push({set:new Set(f),node:r()})}n.sort((f,l)=>l.set.size-f.set.size);let i=t(),a=i%3;i=i/3|0;let s=!!(i&1);i>>=1;let o=i==1,c=i==2;return{branches:n,valid:a,fe0f:s,save:o,check:c}}}function D9(){return I9(q2("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const Af=D9(),F9=new Set(Iu(Af)),U9=new Set(Iu(Af)),$9=R9(Af),H9=L9(Af),hm=45,pm=95;function V2(t){return x9(t)}function z9(t){return t.filter(e=>e!=65039)}function W2(t){for(let e of t.split(".")){let r=V2(e);try{for(let n=r.lastIndexOf(pm)-1;n>=0;n--)if(r[n]!==pm)throw new Error("underscore only allowed at start");if(r.length>=4&&r.every(n=>n<128)&&r[2]===hm&&r[3]===hm)throw new Error("invalid label extension")}catch(n){throw new Error(`Invalid label "${e}": ${n.message}`)}}return t}function q9(t){return W2(j9(t,z9))}function j9(t,e){let r=V2(t).reverse(),n=[];for(;r.length;){let i=G9(r);if(i){n.push(...e(i));continue}let a=r.pop();if(F9.has(a)){n.push(a);continue}if(U9.has(a))continue;let s=$9[a];if(s){n.push(...s);continue}throw new Error(`Disallowed codepoint: 0x${a.toString(16).toUpperCase()}`)}return W2(K9(String.fromCodePoint(...n)))}function K9(t){return t.normalize("NFC")}function G9(t,e){var r;let n=H9,i,a,s=[],o=t.length;for(e&&(e.length=0);o;){let c=t[--o];if(n=(r=n.branches.find(f=>f.set.has(c)))===null||r===void 0?void 0:r.node,!n)break;if(n.save)a=c;else if(n.check&&c===a)break;s.push(c),n.fe0f&&(s.push(65039),o>0&&t[o-1]==65039&&o--),n.valid&&(i=s.slice(),n.valid==2&&i.splice(1,1),e&&e.push(...t.slice(o).reverse()),t.length=o)}return i}const V9=new K(z2),J2=new Uint8Array(32);J2.fill(0);function mm(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}function Y2(t){const e=jt(q9(t)),r=[];if(t.length===0)return r;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(r.push(mm(e.slice(n,i))),n=i+1);if(n>=e.length)throw new Error("invalid ENS name; empty component");return r.push(mm(e.slice(n))),r}function iu(t){typeof t!="string"&&V9.throwArgumentError("invalid ENS name; not a string","name",t);let e=J2;const r=Y2(t);for(;r.length;)e=kt(Rt([e,kt(r.pop())]));return re(e)}function W9(t){return re(Rt(Y2(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const r=new Uint8Array(e.length+1);return r.set(e,1),r[0]=r.length-1,r})))+"00"}const J9=`Ethereum Signed Message:
`;function Y9(t){return typeof t=="string"&&(t=jt(t)),kt(Rt([jt(J9),jt(String(t.length)),t]))}var Z9=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(l){try{f(n.next(l))}catch(x){s(x)}}function c(l){try{f(n.throw(l))}catch(x){s(x)}}function f(l){l.done?a(l.value):i(l.value).then(o,c)}f((n=n.apply(t,e||[])).next())})};const Bt=new K(z2),Z2=new Uint8Array(32);Z2.fill(0);const Q9=ue.from(-1),Q2=ue.from(0),X2=ue.from(1),X9=ue.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function e_(t){const e=te(t),r=e.length%32;return r?Kr([e,Z2.slice(r)]):re(e)}const t_=Pt(X2.toHexString(),32),r_=Pt(Q2.toHexString(),32),ym={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Rd=["name","version","chainId","verifyingContract","salt"];function bm(t){return function(e){return typeof e!="string"&&Bt.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const n_={name:bm("name"),version:bm("version"),chainId:function(t){try{return ue.from(t).toString()}catch{}return Bt.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return At(t).toLowerCase()}catch{}return Bt.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=te(t);if(e.length!==32)throw new Error("bad length");return re(e)}catch{}return Bt.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function Pd(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&Bt.throwArgumentError("invalid numeric width","type",t);const i=X9.mask(r?n-1:n),a=r?i.add(X2).mul(Q9):Q2;return function(s){const o=ue.from(s);return(o.lt(a)||o.gt(i))&&Bt.throwArgumentError(`value out-of-bounds for ${t}`,"value",s),Pt(o.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return(r===0||r>32||e[1]!==String(r))&&Bt.throwArgumentError("invalid bytes width","type",t),function(n){return te(n).length!==r&&Bt.throwArgumentError(`invalid length for ${t}`,"value",n),e_(n)}}}switch(t){case"address":return function(e){return Pt(At(e),32)};case"bool":return function(e){return e?t_:r_};case"bytes":return function(e){return kt(e)};case"string":return function(e){return Ca(e)}}return null}function xm(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}class Hr{constructor(e){Q(this,"types",Object.freeze(Pi(e))),Q(this,"_encoderCache",{}),Q(this,"_types",{});const r={},n={},i={};Object.keys(e).forEach(o=>{r[o]={},n[o]=[],i[o]={}});for(const o in e){const c={};e[o].forEach(f=>{c[f.name]&&Bt.throwArgumentError(`duplicate variable name ${JSON.stringify(f.name)} in ${JSON.stringify(o)}`,"types",e),c[f.name]=!0;const l=f.type.match(/^([^\x5b]*)(\x5b|$)/)[1];l===o&&Bt.throwArgumentError(`circular type reference to ${JSON.stringify(l)}`,"types",e),!Pd(l)&&(n[l]||Bt.throwArgumentError(`unknown type ${JSON.stringify(l)}`,"types",e),n[l].push(o),r[o][l]=!0)})}const a=Object.keys(n).filter(o=>n[o].length===0);a.length===0?Bt.throwArgumentError("missing primary type","types",e):a.length>1&&Bt.throwArgumentError(`ambiguous primary types or unused types: ${a.map(o=>JSON.stringify(o)).join(", ")}`,"types",e),Q(this,"primaryType",a[0]);function s(o,c){c[o]&&Bt.throwArgumentError(`circular type reference to ${JSON.stringify(o)}`,"types",e),c[o]=!0,Object.keys(r[o]).forEach(f=>{n[f]&&(s(f,c),Object.keys(c).forEach(l=>{i[l][f]=!0}))}),delete c[o]}s(this.primaryType,{});for(const o in i){const c=Object.keys(i[o]);c.sort(),this._types[o]=xm(o,e[o])+c.map(f=>xm(f,e[f])).join("")}}getEncoder(e){let r=this._encoderCache[e];return r||(r=this._encoderCache[e]=this._getEncoder(e)),r}_getEncoder(e){{const i=Pd(e);if(i)return i}const r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){const i=r[1],a=this.getEncoder(i),s=parseInt(r[3]);return o=>{s>=0&&o.length!==s&&Bt.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",o);let c=o.map(a);return this._types[i]&&(c=c.map(kt)),kt(Kr(c))}}const n=this.types[e];if(n){const i=Ca(this._types[e]);return a=>{const s=n.map(({name:o,type:c})=>{const f=this.getEncoder(c)(a[o]);return this._types[c]?kt(f):f});return s.unshift(i),Kr(s)}}return Bt.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const r=this._types[e];return r||Bt.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return kt(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(Pd(e))return n(e,r);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const s=i[1],o=parseInt(i[3]);return o>=0&&r.length!==o&&Bt.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",r),r.map(c=>this._visit(s,c,n))}const a=this.types[e];return a?a.reduce((s,{name:o,type:c})=>(s[o]=this._visit(c,r[o],n),s),{}):Bt.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new Hr(e)}static getPrimaryType(e){return Hr.from(e).primaryType}static hashStruct(e,r,n){return Hr.from(r).hashStruct(e,n)}static hashDomain(e){const r=[];for(const n in e){const i=ym[n];i||Bt.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:i})}return r.sort((n,i)=>Rd.indexOf(n.name)-Rd.indexOf(i.name)),Hr.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return Kr(["0x1901",Hr.hashDomain(e),Hr.from(r).hash(n)])}static hash(e,r,n){return kt(Hr.encode(e,r,n))}static resolveNames(e,r,n,i){return Z9(this,void 0,void 0,function*(){e=tr(e);const a={};e.verifyingContract&&!_t(e.verifyingContract,20)&&(a[e.verifyingContract]="0x");const s=Hr.from(r);s.visit(n,(o,c)=>(o==="address"&&!_t(c,20)&&(a[c]="0x"),c));for(const o in a)a[o]=yield i(o);return e.verifyingContract&&a[e.verifyingContract]&&(e.verifyingContract=a[e.verifyingContract]),n=s.visit(n,(o,c)=>o==="address"&&a[c]?a[c]:c),{domain:e,value:n}})}static getPayload(e,r,n){Hr.hashDomain(e);const i={},a=[];Rd.forEach(c=>{const f=e[c];f!=null&&(i[c]=n_[c](f),a.push({name:c,type:ym[c]}))});const s=Hr.from(r),o=tr(r);return o.EIP712Domain?Bt.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):o.EIP712Domain=a,s.encode(n),{types:o,domain:i,primaryType:s.primaryType,message:s.visit(n,(c,f)=>{if(c.match(/^bytes(\d*)/))return re(te(f));if(c.match(/^u?int/))return ue.from(f).toString();switch(c){case"address":return f.toLowerCase();case"bool":return!!f;case"string":return typeof f!="string"&&Bt.throwArgumentError("invalid string","value",f),f}return Bt.throwArgumentError("unsupported type","type",c)})}}}const Ot=new K(Ac);class i_ extends Za{}class a_ extends Za{}class s_ extends Za{}class ql extends Za{static isIndexed(e){return!!(e&&e._isIndexed)}}const o_={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function gm(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);return r.error=e,r}class Oi{constructor(e){let r=[];typeof e=="string"?r=JSON.parse(e):r=e,Q(this,"fragments",r.map(n=>Ii.from(n)).filter(n=>n!=null)),Q(this,"_abiCoder",cn(new.target,"getAbiCoder")()),Q(this,"functions",{}),Q(this,"errors",{}),Q(this,"events",{}),Q(this,"structs",{}),this.fragments.forEach(n=>{let i=null;switch(n.type){case"constructor":if(this.deploy){Ot.warn("duplicate definition - constructor");return}Q(this,"deploy",n);return;case"function":i=this.functions;break;case"event":i=this.events;break;case"error":i=this.errors;break;default:return}let a=n.format();if(i[a]){Ot.warn("duplicate definition - "+a);return}i[a]=n}),this.deploy||Q(this,"deploy",oi.from({payable:!1,type:"constructor"})),Q(this,"_isInterface",!0)}format(e){e||(e=wt.full),e===wt.sighash&&Ot.throwArgumentError("interface does not support formatting sighash","format",e);const r=this.fragments.map(n=>n.format(e));return e===wt.json?JSON.stringify(r.map(n=>JSON.parse(n))):r}static getAbiCoder(){return E9}static getAddress(e){return At(e)}static getSighash(e){return er(Ca(e.format()),0,4)}static getEventTopic(e){return Ca(e.format())}getFunction(e){if(_t(e)){for(const n in this.functions)if(e===this.getSighash(n))return this.functions[n];Ot.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.functions).filter(a=>a.split("(")[0]===n);return i.length===0?Ot.throwArgumentError("no matching function","name",n):i.length>1&&Ot.throwArgumentError("multiple matching functions","name",n),this.functions[i[0]]}const r=this.functions[ci.fromString(e).format()];return r||Ot.throwArgumentError("no matching function","signature",e),r}getEvent(e){if(_t(e)){const n=e.toLowerCase();for(const i in this.events)if(n===this.getEventTopic(i))return this.events[i];Ot.throwArgumentError("no matching event","topichash",n)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.events).filter(a=>a.split("(")[0]===n);return i.length===0?Ot.throwArgumentError("no matching event","name",n):i.length>1&&Ot.throwArgumentError("multiple matching events","name",n),this.events[i[0]]}const r=this.events[ki.fromString(e).format()];return r||Ot.throwArgumentError("no matching event","signature",e),r}getError(e){if(_t(e)){const n=cn(this.constructor,"getSighash");for(const i in this.errors){const a=this.errors[i];if(e===n(a))return this.errors[i]}Ot.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.errors).filter(a=>a.split("(")[0]===n);return i.length===0?Ot.throwArgumentError("no matching error","name",n):i.length>1&&Ot.throwArgumentError("multiple matching errors","name",n),this.errors[i[0]]}const r=this.errors[ci.fromString(e).format()];return r||Ot.throwArgumentError("no matching error","signature",e),r}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(r){try{e=this.getError(e)}catch{throw r}}return cn(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),cn(this.constructor,"getEventTopic")(e)}_decodeParams(e,r){return this._abiCoder.decode(e,r)}_encodeParams(e,r){return this._abiCoder.encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){typeof e=="string"&&(e=this.getError(e));const n=te(r);return re(n.slice(0,4))!==this.getSighash(e)&&Ot.throwArgumentError(`data signature does not match error ${e.name}.`,"data",re(n)),this._decodeParams(e.inputs,n.slice(4))}encodeErrorResult(e,r){return typeof e=="string"&&(e=this.getError(e)),re(Rt([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionData(e,r){typeof e=="string"&&(e=this.getFunction(e));const n=te(r);return re(n.slice(0,4))!==this.getSighash(e)&&Ot.throwArgumentError(`data signature does not match function ${e.name}.`,"data",re(n)),this._decodeParams(e.inputs,n.slice(4))}encodeFunctionData(e,r){return typeof e=="string"&&(e=this.getFunction(e)),re(Rt([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionResult(e,r){typeof e=="string"&&(e=this.getFunction(e));let n=te(r),i=null,a="",s=null,o=null,c=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch{}break;case 4:{const f=re(n.slice(0,4)),l=o_[f];if(l)s=this._abiCoder.decode(l.inputs,n.slice(4)),o=l.name,c=l.signature,l.reason&&(i=s[0]),o==="Error"?a=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(s[0])}`:o==="Panic"&&(a=`; VM Exception while processing transaction: reverted with panic code ${s[0]}`);else try{const x=this.getError(f);s=this._abiCoder.decode(x.inputs,n.slice(4)),o=x.name,c=x.format()}catch{}break}}return Ot.throwError("call revert exception"+a,K.errors.CALL_EXCEPTION,{method:e.format(),data:re(r),errorArgs:s,errorName:o,errorSignature:c,reason:i})}encodeFunctionResult(e,r){return typeof e=="string"&&(e=this.getFunction(e)),re(this._abiCoder.encode(e.outputs,r||[]))}encodeFilterTopics(e,r){typeof e=="string"&&(e=this.getEvent(e)),r.length>e.inputs.length&&Ot.throwError("too many arguments for "+e.format(),K.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:r});let n=[];e.anonymous||n.push(this.getEventTopic(e));const i=(a,s)=>a.type==="string"?Ca(s):a.type==="bytes"?kt(re(s)):(a.type==="bool"&&typeof s=="boolean"&&(s=s?"0x01":"0x00"),a.type.match(/^u?int/)&&(s=ue.from(s).toHexString()),a.type==="address"&&this._abiCoder.encode(["address"],[s]),Pt(re(s),32));for(r.forEach((a,s)=>{let o=e.inputs[s];if(!o.indexed){a!=null&&Ot.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+o.name,a);return}a==null?n.push(null):o.baseType==="array"||o.baseType==="tuple"?Ot.throwArgumentError("filtering with tuples or arrays not supported","contract."+o.name,a):Array.isArray(a)?n.push(a.map(c=>i(o,c))):n.push(i(o,a))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){typeof e=="string"&&(e=this.getEvent(e));const n=[],i=[],a=[];return e.anonymous||n.push(this.getEventTopic(e)),r.length!==e.inputs.length&&Ot.throwArgumentError("event arguments/values mismatch","values",r),e.inputs.forEach((s,o)=>{const c=r[o];if(s.indexed)if(s.type==="string")n.push(Ca(c));else if(s.type==="bytes")n.push(kt(c));else{if(s.baseType==="tuple"||s.baseType==="array")throw new Error("not implemented");n.push(this._abiCoder.encode([s.type],[c]))}else i.push(s),a.push(c)}),{data:this._abiCoder.encode(i,a),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"&&(e=this.getEvent(e)),n!=null&&!e.anonymous){let A=this.getEventTopic(e);(!_t(n[0],32)||n[0].toLowerCase()!==A)&&Ot.throwError("fragment/topic mismatch",K.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:A,value:n[0]}),n=n.slice(1)}let i=[],a=[],s=[];e.inputs.forEach((A,S)=>{A.indexed?A.type==="string"||A.type==="bytes"||A.baseType==="tuple"||A.baseType==="array"?(i.push(or.fromObject({type:"bytes32",name:A.name})),s.push(!0)):(i.push(A),s.push(!1)):(a.push(A),s.push(!1))});let o=n!=null?this._abiCoder.decode(i,Rt(n)):null,c=this._abiCoder.decode(a,r,!0),f=[],l=0,x=0;e.inputs.forEach((A,S)=>{if(A.indexed)if(o==null)f[S]=new ql({_isIndexed:!0,hash:null});else if(s[S])f[S]=new ql({_isIndexed:!0,hash:o[x++]});else try{f[S]=o[x++]}catch(M){f[S]=M}else try{f[S]=c[l++]}catch(M){f[S]=M}if(A.name&&f[A.name]==null){const M=f[S];M instanceof Error?Object.defineProperty(f,A.name,{enumerable:!0,get:()=>{throw gm(`property ${JSON.stringify(A.name)}`,M)}}):f[A.name]=M}});for(let A=0;A<f.length;A++){const S=f[A];S instanceof Error&&Object.defineProperty(f,A,{enumerable:!0,get:()=>{throw gm(`index ${A}`,S)}})}return Object.freeze(f)}parseTransaction(e){let r=this.getFunction(e.data.substring(0,10).toLowerCase());return r?new a_({args:this._abiCoder.decode(r.inputs,"0x"+e.data.substring(10)),functionFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r),value:ue.from(e.value||"0")}):null}parseLog(e){let r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new i_({eventFragment:r,name:r.name,signature:r.format(),topic:this.getEventTopic(r),args:this.decodeEventLog(r,e.data,e.topics)})}parseError(e){const r=re(e);let n=this.getError(r.substring(0,10).toLowerCase());return n?new s_({args:this._abiCoder.decode(n.inputs,"0x"+r.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(e){return!!(e&&e._isInterface)}}const c_="abstract-provider/5.7.0";var u_=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(l){try{f(n.next(l))}catch(x){s(x)}}function c(l){try{f(n.throw(l))}catch(x){s(x)}}function f(l){l.done?a(l.value):i(l.value).then(o,c)}f((n=n.apply(t,e||[])).next())})};const f_=new K(c_);class d_ extends Za{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class Vs{constructor(){f_.checkAbstract(new.target,Vs),Q(this,"_isProvider",!0)}getFeeData(){return u_(this,void 0,void 0,function*(){const{block:e,gasPrice:r}=yield Ut({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(s=>null)});let n=null,i=null,a=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,a=ue.from("1500000000"),i=e.baseFeePerGas.mul(2).add(a)),{lastBaseFeePerGas:n,maxFeePerGas:i,maxPriorityFeePerGas:a,gasPrice:r}})}addListener(e,r){return this.on(e,r)}removeListener(e,r){return this.off(e,r)}static isProvider(e){return!!(e&&e._isProvider)}}const l_="abstract-signer/5.7.0";var Dn=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(l){try{f(n.next(l))}catch(x){s(x)}}function c(l){try{f(n.throw(l))}catch(x){s(x)}}function f(l){l.done?a(l.value):i(l.value).then(o,c)}f((n=n.apply(t,e||[])).next())})};const bn=new K(l_),h_=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],p_=[K.errors.INSUFFICIENT_FUNDS,K.errors.NONCE_EXPIRED,K.errors.REPLACEMENT_UNDERPRICED];class Ws{constructor(){bn.checkAbstract(new.target,Ws),Q(this,"_isSigner",!0)}getBalance(e){return Dn(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return Dn(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return Dn(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const r=yield Ut(this.checkTransaction(e));return yield this.provider.estimateGas(r)})}call(e,r){return Dn(this,void 0,void 0,function*(){this._checkProvider("call");const n=yield Ut(this.checkTransaction(e));return yield this.provider.call(n,r)})}sendTransaction(e){return Dn(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const r=yield this.populateTransaction(e),n=yield this.signTransaction(r);return yield this.provider.sendTransaction(n)})}getChainId(){return Dn(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return Dn(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return Dn(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return Dn(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const n in e)h_.indexOf(n)===-1&&bn.throwArgumentError("invalid transaction key: "+n,"transaction",e);const r=tr(e);return r.from==null?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&bn.throwArgumentError("from address mismatch","transaction",e),n[0])),r}populateTransaction(e){return Dn(this,void 0,void 0,function*(){const r=yield Ut(this.checkTransaction(e));r.to!=null&&(r.to=Promise.resolve(r.to).then(i=>Dn(this,void 0,void 0,function*(){if(i==null)return null;const a=yield this.resolveName(i);return a==null&&bn.throwArgumentError("provided ENS name resolves to null","tx.to",i),a})),r.to.catch(i=>{}));const n=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||n)?bn.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(r.type===0||r.type===1)&&n&&bn.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1)r.gasPrice==null&&(r.gasPrice=this.getGasPrice());else{const i=yield this.getFeeData();if(r.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){const a=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=a,r.maxPriorityFeePerGas=a}else r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(n&&bn.throwError("network does not support EIP-1559",K.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=i.gasPrice),r.type=0):bn.throwError("failed to get consistent fee data",K.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else r.type===2&&(r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return r.nonce==null&&(r.nonce=this.getTransactionCount("pending")),r.gasLimit==null&&(r.gasLimit=this.estimateGas(r).catch(i=>{if(p_.indexOf(i.code)>=0)throw i;return bn.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",K.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:r})})),r.chainId==null?r.chainId=this.getChainId():r.chainId=Promise.all([Promise.resolve(r.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&bn.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield Ut(r)})}_checkProvider(e){this.provider||bn.throwError("missing provider",K.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class Oh extends Ws{constructor(e,r){super(),Q(this,"address",e),Q(this,"provider",r||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,r){return Promise.resolve().then(()=>{bn.throwError(e,K.errors.UNSUPPORTED_OPERATION,{operation:r})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,r,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new Oh(this.address,e)}}var Ec={},at={},Qa=ex;function ex(t,e){if(!t)throw new Error(e||"Assertion failed")}ex.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var jl={exports:{}};typeof Object.create=="function"?jl.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:jl.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}};var Xt=jl.exports,m_=Qa,y_=Xt;at.inherits=y_;function b_(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function x_(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var a=t.charCodeAt(i);a<128?r[n++]=a:a<2048?(r[n++]=a>>6|192,r[n++]=a&63|128):b_(t,i)?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),r[n++]=a>>18|240,r[n++]=a>>12&63|128,r[n++]=a>>6&63|128,r[n++]=a&63|128):(r[n++]=a>>12|224,r[n++]=a>>6&63|128,r[n++]=a&63|128)}else for(i=0;i<t.length;i++)r[i]=t[i]|0;return r}at.toArray=x_;function g_(t){for(var e="",r=0;r<t.length;r++)e+=rx(t[r].toString(16));return e}at.toHex=g_;function tx(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}at.htonl=tx;function v_(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];e==="little"&&(i=tx(i)),r+=nx(i.toString(16))}return r}at.toHex32=v_;function rx(t){return t.length===1?"0"+t:t}at.zero2=rx;function nx(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}at.zero8=nx;function w_(t,e,r,n){var i=r-e;m_(i%4===0);for(var a=new Array(i/4),s=0,o=e;s<a.length;s++,o+=4){var c;n==="big"?c=t[o]<<24|t[o+1]<<16|t[o+2]<<8|t[o+3]:c=t[o+3]<<24|t[o+2]<<16|t[o+1]<<8|t[o],a[s]=c>>>0}return a}at.join32=w_;function __(t,e){for(var r=new Array(t.length*4),n=0,i=0;n<t.length;n++,i+=4){var a=t[n];e==="big"?(r[i]=a>>>24,r[i+1]=a>>>16&255,r[i+2]=a>>>8&255,r[i+3]=a&255):(r[i+3]=a>>>24,r[i+2]=a>>>16&255,r[i+1]=a>>>8&255,r[i]=a&255)}return r}at.split32=__;function A_(t,e){return t>>>e|t<<32-e}at.rotr32=A_;function E_(t,e){return t<<e|t>>>32-e}at.rotl32=E_;function T_(t,e){return t+e>>>0}at.sum32=T_;function M_(t,e,r){return t+e+r>>>0}at.sum32_3=M_;function k_(t,e,r,n){return t+e+r+n>>>0}at.sum32_4=k_;function I_(t,e,r,n,i){return t+e+r+n+i>>>0}at.sum32_5=I_;function S_(t,e,r,n){var i=t[e],a=t[e+1],s=n+a>>>0,o=(s<n?1:0)+r+i;t[e]=o>>>0,t[e+1]=s}at.sum64=S_;function C_(t,e,r,n){var i=e+n>>>0,a=(i<e?1:0)+t+r;return a>>>0}at.sum64_hi=C_;function N_(t,e,r,n){var i=e+n;return i>>>0}at.sum64_lo=N_;function R_(t,e,r,n,i,a,s,o){var c=0,f=e;f=f+n>>>0,c+=f<e?1:0,f=f+a>>>0,c+=f<a?1:0,f=f+o>>>0,c+=f<o?1:0;var l=t+r+i+s+c;return l>>>0}at.sum64_4_hi=R_;function P_(t,e,r,n,i,a,s,o){var c=e+n+a+o;return c>>>0}at.sum64_4_lo=P_;function O_(t,e,r,n,i,a,s,o,c,f){var l=0,x=e;x=x+n>>>0,l+=x<e?1:0,x=x+a>>>0,l+=x<a?1:0,x=x+o>>>0,l+=x<o?1:0,x=x+f>>>0,l+=x<f?1:0;var A=t+r+i+s+c+l;return A>>>0}at.sum64_5_hi=O_;function B_(t,e,r,n,i,a,s,o,c,f){var l=e+n+a+o+f;return l>>>0}at.sum64_5_lo=B_;function L_(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}at.rotr64_hi=L_;function D_(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}at.rotr64_lo=D_;function F_(t,e,r){return t>>>r}at.shr64_hi=F_;function U_(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}at.shr64_lo=U_;var Js={},vm=at,$_=Qa;function Ef(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Js.BlockHash=Ef;Ef.prototype.update=function(e,r){if(e=vm.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=vm.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};Ef.prototype.digest=function(e){return this.update(this._pad()),$_(this.pending===null),this._digest(e)};Ef.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,i=new Array(n+this.padLength);i[0]=128;for(var a=1;a<n;a++)i[a]=0;if(e<<=3,this.endian==="big"){for(var s=8;s<this.padLength;s++)i[a++]=0;i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=e>>>24&255,i[a++]=e>>>16&255,i[a++]=e>>>8&255,i[a++]=e&255}else for(i[a++]=e&255,i[a++]=e>>>8&255,i[a++]=e>>>16&255,i[a++]=e>>>24&255,i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=0,s=8;s<this.padLength;s++)i[a++]=0;return i};var Ys={},gi={},H_=at,di=H_.rotr32;function z_(t,e,r,n){if(t===0)return ix(e,r,n);if(t===1||t===3)return sx(e,r,n);if(t===2)return ax(e,r,n)}gi.ft_1=z_;function ix(t,e,r){return t&e^~t&r}gi.ch32=ix;function ax(t,e,r){return t&e^t&r^e&r}gi.maj32=ax;function sx(t,e,r){return t^e^r}gi.p32=sx;function q_(t){return di(t,2)^di(t,13)^di(t,22)}gi.s0_256=q_;function j_(t){return di(t,6)^di(t,11)^di(t,25)}gi.s1_256=j_;function K_(t){return di(t,7)^di(t,18)^t>>>3}gi.g0_256=K_;function G_(t){return di(t,17)^di(t,19)^t>>>10}gi.g1_256=G_;var Is=at,V_=Js,W_=gi,Od=Is.rotl32,lo=Is.sum32,J_=Is.sum32_5,Y_=W_.ft_1,ox=V_.BlockHash,Z_=[1518500249,1859775393,2400959708,3395469782];function pi(){if(!(this instanceof pi))return new pi;ox.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Is.inherits(pi,ox);var Q_=pi;pi.blockSize=512;pi.outSize=160;pi.hmacStrength=80;pi.padLength=64;pi.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=Od(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var a=this.h[0],s=this.h[1],o=this.h[2],c=this.h[3],f=this.h[4];for(i=0;i<n.length;i++){var l=~~(i/20),x=J_(Od(a,5),Y_(l,s,o,c),f,n[i],Z_[l]);f=c,c=o,o=Od(s,30),s=a,a=x}this.h[0]=lo(this.h[0],a),this.h[1]=lo(this.h[1],s),this.h[2]=lo(this.h[2],o),this.h[3]=lo(this.h[3],c),this.h[4]=lo(this.h[4],f)};pi.prototype._digest=function(e){return e==="hex"?Is.toHex32(this.h,"big"):Is.split32(this.h,"big")};var Ss=at,X_=Js,Zs=gi,eA=Qa,Fn=Ss.sum32,tA=Ss.sum32_4,rA=Ss.sum32_5,nA=Zs.ch32,iA=Zs.maj32,aA=Zs.s0_256,sA=Zs.s1_256,oA=Zs.g0_256,cA=Zs.g1_256,cx=X_.BlockHash,uA=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function mi(){if(!(this instanceof mi))return new mi;cx.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=uA,this.W=new Array(64)}Ss.inherits(mi,cx);var ux=mi;mi.blockSize=512;mi.outSize=256;mi.hmacStrength=192;mi.padLength=64;mi.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=tA(cA(n[i-2]),n[i-7],oA(n[i-15]),n[i-16]);var a=this.h[0],s=this.h[1],o=this.h[2],c=this.h[3],f=this.h[4],l=this.h[5],x=this.h[6],A=this.h[7];for(eA(this.k.length===n.length),i=0;i<n.length;i++){var S=rA(A,sA(f),nA(f,l,x),this.k[i],n[i]),M=Fn(aA(a),iA(a,s,o));A=x,x=l,l=f,f=Fn(c,S),c=o,o=s,s=a,a=Fn(S,M)}this.h[0]=Fn(this.h[0],a),this.h[1]=Fn(this.h[1],s),this.h[2]=Fn(this.h[2],o),this.h[3]=Fn(this.h[3],c),this.h[4]=Fn(this.h[4],f),this.h[5]=Fn(this.h[5],l),this.h[6]=Fn(this.h[6],x),this.h[7]=Fn(this.h[7],A)};mi.prototype._digest=function(e){return e==="hex"?Ss.toHex32(this.h,"big"):Ss.split32(this.h,"big")};var Kl=at,fx=ux;function Bi(){if(!(this instanceof Bi))return new Bi;fx.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Kl.inherits(Bi,fx);var fA=Bi;Bi.blockSize=512;Bi.outSize=224;Bi.hmacStrength=192;Bi.padLength=64;Bi.prototype._digest=function(e){return e==="hex"?Kl.toHex32(this.h.slice(0,7),"big"):Kl.split32(this.h.slice(0,7),"big")};var Jr=at,dA=Js,lA=Qa,li=Jr.rotr64_hi,hi=Jr.rotr64_lo,dx=Jr.shr64_hi,lx=Jr.shr64_lo,Vi=Jr.sum64,Bd=Jr.sum64_hi,Ld=Jr.sum64_lo,hA=Jr.sum64_4_hi,pA=Jr.sum64_4_lo,mA=Jr.sum64_5_hi,yA=Jr.sum64_5_lo,hx=dA.BlockHash,bA=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Vn(){if(!(this instanceof Vn))return new Vn;hx.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=bA,this.W=new Array(160)}Jr.inherits(Vn,hx);var px=Vn;Vn.blockSize=1024;Vn.outSize=512;Vn.hmacStrength=192;Vn.padLength=128;Vn.prototype._prepareBlock=function(e,r){for(var n=this.W,i=0;i<32;i++)n[i]=e[r+i];for(;i<n.length;i+=2){var a=IA(n[i-4],n[i-3]),s=SA(n[i-4],n[i-3]),o=n[i-14],c=n[i-13],f=MA(n[i-30],n[i-29]),l=kA(n[i-30],n[i-29]),x=n[i-32],A=n[i-31];n[i]=hA(a,s,o,c,f,l,x,A),n[i+1]=pA(a,s,o,c,f,l,x,A)}};Vn.prototype._update=function(e,r){this._prepareBlock(e,r);var n=this.W,i=this.h[0],a=this.h[1],s=this.h[2],o=this.h[3],c=this.h[4],f=this.h[5],l=this.h[6],x=this.h[7],A=this.h[8],S=this.h[9],M=this.h[10],k=this.h[11],I=this.h[12],C=this.h[13],R=this.h[14],D=this.h[15];lA(this.k.length===n.length);for(var F=0;F<n.length;F+=2){var H=R,j=D,Z=EA(A,S),G=TA(A,S),J=xA(A,S,M,k,I),B=gA(A,S,M,k,I,C),m=this.k[F],d=this.k[F+1],h=n[F],u=n[F+1],p=mA(H,j,Z,G,J,B,m,d,h,u),g=yA(H,j,Z,G,J,B,m,d,h,u);H=_A(i,a),j=AA(i,a),Z=vA(i,a,s,o,c),G=wA(i,a,s,o,c,f);var E=Bd(H,j,Z,G),_=Ld(H,j,Z,G);R=I,D=C,I=M,C=k,M=A,k=S,A=Bd(l,x,p,g),S=Ld(x,x,p,g),l=c,x=f,c=s,f=o,s=i,o=a,i=Bd(p,g,E,_),a=Ld(p,g,E,_)}Vi(this.h,0,i,a),Vi(this.h,2,s,o),Vi(this.h,4,c,f),Vi(this.h,6,l,x),Vi(this.h,8,A,S),Vi(this.h,10,M,k),Vi(this.h,12,I,C),Vi(this.h,14,R,D)};Vn.prototype._digest=function(e){return e==="hex"?Jr.toHex32(this.h,"big"):Jr.split32(this.h,"big")};function xA(t,e,r,n,i){var a=t&r^~t&i;return a<0&&(a+=4294967296),a}function gA(t,e,r,n,i,a){var s=e&n^~e&a;return s<0&&(s+=4294967296),s}function vA(t,e,r,n,i){var a=t&r^t&i^r&i;return a<0&&(a+=4294967296),a}function wA(t,e,r,n,i,a){var s=e&n^e&a^n&a;return s<0&&(s+=4294967296),s}function _A(t,e){var r=li(t,e,28),n=li(e,t,2),i=li(e,t,7),a=r^n^i;return a<0&&(a+=4294967296),a}function AA(t,e){var r=hi(t,e,28),n=hi(e,t,2),i=hi(e,t,7),a=r^n^i;return a<0&&(a+=4294967296),a}function EA(t,e){var r=li(t,e,14),n=li(t,e,18),i=li(e,t,9),a=r^n^i;return a<0&&(a+=4294967296),a}function TA(t,e){var r=hi(t,e,14),n=hi(t,e,18),i=hi(e,t,9),a=r^n^i;return a<0&&(a+=4294967296),a}function MA(t,e){var r=li(t,e,1),n=li(t,e,8),i=dx(t,e,7),a=r^n^i;return a<0&&(a+=4294967296),a}function kA(t,e){var r=hi(t,e,1),n=hi(t,e,8),i=lx(t,e,7),a=r^n^i;return a<0&&(a+=4294967296),a}function IA(t,e){var r=li(t,e,19),n=li(e,t,29),i=dx(t,e,6),a=r^n^i;return a<0&&(a+=4294967296),a}function SA(t,e){var r=hi(t,e,19),n=hi(e,t,29),i=lx(t,e,6),a=r^n^i;return a<0&&(a+=4294967296),a}var Gl=at,mx=px;function Li(){if(!(this instanceof Li))return new Li;mx.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Gl.inherits(Li,mx);var CA=Li;Li.blockSize=1024;Li.outSize=384;Li.hmacStrength=192;Li.padLength=128;Li.prototype._digest=function(e){return e==="hex"?Gl.toHex32(this.h.slice(0,12),"big"):Gl.split32(this.h.slice(0,12),"big")};Ys.sha1=Q_;Ys.sha224=fA;Ys.sha256=ux;Ys.sha384=CA;Ys.sha512=px;var yx={},qa=at,NA=Js,Vc=qa.rotl32,wm=qa.sum32,ho=qa.sum32_3,_m=qa.sum32_4,bx=NA.BlockHash;function yi(){if(!(this instanceof yi))return new yi;bx.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}qa.inherits(yi,bx);yx.ripemd160=yi;yi.blockSize=512;yi.outSize=160;yi.hmacStrength=192;yi.padLength=64;yi.prototype._update=function(e,r){for(var n=this.h[0],i=this.h[1],a=this.h[2],s=this.h[3],o=this.h[4],c=n,f=i,l=a,x=s,A=o,S=0;S<80;S++){var M=wm(Vc(_m(n,Am(S,i,a,s),e[OA[S]+r],RA(S)),LA[S]),o);n=o,o=s,s=Vc(a,10),a=i,i=M,M=wm(Vc(_m(c,Am(79-S,f,l,x),e[BA[S]+r],PA(S)),DA[S]),A),c=A,A=x,x=Vc(l,10),l=f,f=M}M=ho(this.h[1],a,x),this.h[1]=ho(this.h[2],s,A),this.h[2]=ho(this.h[3],o,c),this.h[3]=ho(this.h[4],n,f),this.h[4]=ho(this.h[0],i,l),this.h[0]=M};yi.prototype._digest=function(e){return e==="hex"?qa.toHex32(this.h,"little"):qa.split32(this.h,"little")};function Am(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function RA(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function PA(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var OA=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],BA=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],LA=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],DA=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],FA=at,UA=Qa;function Cs(t,e,r){if(!(this instanceof Cs))return new Cs(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(FA.toArray(e,r))}var $A=Cs;Cs.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),UA(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};Cs.prototype.update=function(e,r){return this.inner.update(e,r),this};Cs.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(t){var e=t;e.utils=at,e.common=Js,e.sha=Ys,e.ripemd=yx,e.hmac=$A,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(Ec);const en=Wn(Ec);function Qs(t,e,r){return r={path:e,exports:{},require:function(n,i){return HA(n,i??r.path)}},t(r,r.exports),r.exports}function HA(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var Bh=xx;function xx(t,e){if(!t)throw new Error(e||"Assertion failed")}xx.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var Kn=Qs(function(t,e){var r=e;function n(s,o){if(Array.isArray(s))return s.slice();if(!s)return[];var c=[];if(typeof s!="string"){for(var f=0;f<s.length;f++)c[f]=s[f]|0;return c}if(o==="hex"){s=s.replace(/[^a-z0-9]+/ig,""),s.length%2!==0&&(s="0"+s);for(var f=0;f<s.length;f+=2)c.push(parseInt(s[f]+s[f+1],16))}else for(var f=0;f<s.length;f++){var l=s.charCodeAt(f),x=l>>8,A=l&255;x?c.push(x,A):c.push(A)}return c}r.toArray=n;function i(s){return s.length===1?"0"+s:s}r.zero2=i;function a(s){for(var o="",c=0;c<s.length;c++)o+=i(s[c].toString(16));return o}r.toHex=a,r.encode=function(o,c){return c==="hex"?a(o):o}}),ln=Qs(function(t,e){var r=e;r.assert=Bh,r.toArray=Kn.toArray,r.zero2=Kn.zero2,r.toHex=Kn.toHex,r.encode=Kn.encode;function n(c,f,l){var x=new Array(Math.max(c.bitLength(),l)+1);x.fill(0);for(var A=1<<f+1,S=c.clone(),M=0;M<x.length;M++){var k,I=S.andln(A-1);S.isOdd()?(I>(A>>1)-1?k=(A>>1)-I:k=I,S.isubn(k)):k=0,x[M]=k,S.iushrn(1)}return x}r.getNAF=n;function i(c,f){var l=[[],[]];c=c.clone(),f=f.clone();for(var x=0,A=0,S;c.cmpn(-x)>0||f.cmpn(-A)>0;){var M=c.andln(3)+x&3,k=f.andln(3)+A&3;M===3&&(M=-1),k===3&&(k=-1);var I;M&1?(S=c.andln(7)+x&7,(S===3||S===5)&&k===2?I=-M:I=M):I=0,l[0].push(I);var C;k&1?(S=f.andln(7)+A&7,(S===3||S===5)&&M===2?C=-k:C=k):C=0,l[1].push(C),2*x===I+1&&(x=1-x),2*A===C+1&&(A=1-A),c.iushrn(1),f.iushrn(1)}return l}r.getJSF=i;function a(c,f,l){var x="_"+f;c.prototype[f]=function(){return this[x]!==void 0?this[x]:this[x]=l.call(this)}}r.cachedProperty=a;function s(c){return typeof c=="string"?r.toArray(c,"hex"):c}r.parseBytes=s;function o(c){return new He(c,"hex","le")}r.intFromLE=o}),Su=ln.getNAF,zA=ln.getJSF,Cu=ln.assert;function pa(t,e){this.type=t,this.p=new He(e.p,16),this.red=e.prime?He.red(e.prime):He.mont(this.p),this.zero=new He(0).toRed(this.red),this.one=new He(1).toRed(this.red),this.two=new He(2).toRed(this.red),this.n=e.n&&new He(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Xa=pa;pa.prototype.point=function(){throw new Error("Not implemented")};pa.prototype.validate=function(){throw new Error("Not implemented")};pa.prototype._fixedNafMul=function(e,r){Cu(e.precomputed);var n=e._getDoubles(),i=Su(r,1,this._bitLength),a=(1<<n.step+1)-(n.step%2===0?2:1);a/=3;var s=[],o,c;for(o=0;o<i.length;o+=n.step){c=0;for(var f=o+n.step-1;f>=o;f--)c=(c<<1)+i[f];s.push(c)}for(var l=this.jpoint(null,null,null),x=this.jpoint(null,null,null),A=a;A>0;A--){for(o=0;o<s.length;o++)c=s[o],c===A?x=x.mixedAdd(n.points[o]):c===-A&&(x=x.mixedAdd(n.points[o].neg()));l=l.add(x)}return l.toP()};pa.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var a=i.points,s=Su(r,n,this._bitLength),o=this.jpoint(null,null,null),c=s.length-1;c>=0;c--){for(var f=0;c>=0&&s[c]===0;c--)f++;if(c>=0&&f++,o=o.dblp(f),c<0)break;var l=s[c];Cu(l!==0),e.type==="affine"?l>0?o=o.mixedAdd(a[l-1>>1]):o=o.mixedAdd(a[-l-1>>1].neg()):l>0?o=o.add(a[l-1>>1]):o=o.add(a[-l-1>>1].neg())}return e.type==="affine"?o.toP():o};pa.prototype._wnafMulAdd=function(e,r,n,i,a){var s=this._wnafT1,o=this._wnafT2,c=this._wnafT3,f=0,l,x,A;for(l=0;l<i;l++){A=r[l];var S=A._getNAFPoints(e);s[l]=S.wnd,o[l]=S.points}for(l=i-1;l>=1;l-=2){var M=l-1,k=l;if(s[M]!==1||s[k]!==1){c[M]=Su(n[M],s[M],this._bitLength),c[k]=Su(n[k],s[k],this._bitLength),f=Math.max(c[M].length,f),f=Math.max(c[k].length,f);continue}var I=[r[M],null,null,r[k]];r[M].y.cmp(r[k].y)===0?(I[1]=r[M].add(r[k]),I[2]=r[M].toJ().mixedAdd(r[k].neg())):r[M].y.cmp(r[k].y.redNeg())===0?(I[1]=r[M].toJ().mixedAdd(r[k]),I[2]=r[M].add(r[k].neg())):(I[1]=r[M].toJ().mixedAdd(r[k]),I[2]=r[M].toJ().mixedAdd(r[k].neg()));var C=[-3,-1,-5,-7,0,7,5,1,3],R=zA(n[M],n[k]);for(f=Math.max(R[0].length,f),c[M]=new Array(f),c[k]=new Array(f),x=0;x<f;x++){var D=R[0][x]|0,F=R[1][x]|0;c[M][x]=C[(D+1)*3+(F+1)],c[k][x]=0,o[M]=I}}var H=this.jpoint(null,null,null),j=this._wnafT4;for(l=f;l>=0;l--){for(var Z=0;l>=0;){var G=!0;for(x=0;x<i;x++)j[x]=c[x][l]|0,j[x]!==0&&(G=!1);if(!G)break;Z++,l--}if(l>=0&&Z++,H=H.dblp(Z),l<0)break;for(x=0;x<i;x++){var J=j[x];J!==0&&(J>0?A=o[x][J-1>>1]:J<0&&(A=o[x][-J-1>>1].neg()),A.type==="affine"?H=H.mixedAdd(A):H=H.add(A))}}for(l=0;l<i;l++)o[l]=null;return a?H:H.toP()};function Sn(t,e){this.curve=t,this.type=e,this.precomputed=null}pa.BasePoint=Sn;Sn.prototype.eq=function(){throw new Error("Not implemented")};Sn.prototype.validate=function(){return this.curve.validate(this)};pa.prototype.decodePoint=function(e,r){e=ln.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?Cu(e[e.length-1]%2===0):e[0]===7&&Cu(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Sn.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Sn.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Sn.prototype.encode=function(e,r){return ln.encode(this._encode(r),e)};Sn.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Sn.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Sn.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,a=0;a<r;a+=e){for(var s=0;s<e;s++)i=i.dbl();n.push(i)}return{step:e,points:n}};Sn.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),a=1;a<n;a++)r[a]=r[a-1].add(i);return{wnd:e,points:r}};Sn.prototype._getBeta=function(){return null};Sn.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var Lh=Qs(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),qA=ln.assert;function Cn(t){Xa.call(this,"short",t),this.a=new He(t.a,16).toRed(this.red),this.b=new He(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Lh(Cn,Xa);var jA=Cn;Cn.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new He(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new He(e.lambda,16);else{var a=this._getEndoRoots(this.n);this.g.mul(a[0]).x.cmp(this.g.x.redMul(r))===0?n=a[0]:(n=a[1],qA(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var s;return e.basis?s=e.basis.map(function(o){return{a:new He(o.a,16),b:new He(o.b,16)}}):s=this._getEndoBasis(n),{beta:r,lambda:n,basis:s}}};Cn.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:He.mont(e),n=new He(2).toRed(r).redInvm(),i=n.redNeg(),a=new He(3).toRed(r).redNeg().redSqrt().redMul(n),s=i.redAdd(a).fromRed(),o=i.redSub(a).fromRed();return[s,o]};Cn.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),a=new He(1),s=new He(0),o=new He(0),c=new He(1),f,l,x,A,S,M,k,I=0,C,R;n.cmpn(0)!==0;){var D=i.div(n);C=i.sub(D.mul(n)),R=o.sub(D.mul(a));var F=c.sub(D.mul(s));if(!x&&C.cmp(r)<0)f=k.neg(),l=a,x=C.neg(),A=R;else if(x&&++I===2)break;k=C,i=n,n=C,o=a,a=R,c=s,s=F}S=C.neg(),M=R;var H=x.sqr().add(A.sqr()),j=S.sqr().add(M.sqr());return j.cmp(H)>=0&&(S=f,M=l),x.negative&&(x=x.neg(),A=A.neg()),S.negative&&(S=S.neg(),M=M.neg()),[{a:x,b:A},{a:S,b:M}]};Cn.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],a=i.b.mul(e).divRound(this.n),s=n.b.neg().mul(e).divRound(this.n),o=a.mul(n.a),c=s.mul(i.a),f=a.mul(n.b),l=s.mul(i.b),x=e.sub(o).sub(c),A=f.add(l).neg();return{k1:x,k2:A}};Cn.prototype.pointFromX=function(e,r){e=new He(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var a=i.fromRed().isOdd();return(r&&!a||!r&&a)&&(i=i.redNeg()),this.point(e,i)};Cn.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),a=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(a).cmpn(0)===0};Cn.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,a=this._endoWnafT2,s=0;s<e.length;s++){var o=this._endoSplit(r[s]),c=e[s],f=c._getBeta();o.k1.negative&&(o.k1.ineg(),c=c.neg(!0)),o.k2.negative&&(o.k2.ineg(),f=f.neg(!0)),i[s*2]=c,i[s*2+1]=f,a[s*2]=o.k1,a[s*2+1]=o.k2}for(var l=this._wnafMulAdd(1,i,a,s*2,n),x=0;x<s*2;x++)i[x]=null,a[x]=null;return l};function lr(t,e,r,n){Xa.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new He(e,16),this.y=new He(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}Lh(lr,Xa.BasePoint);Cn.prototype.point=function(e,r,n){return new lr(this,e,r,n)};Cn.prototype.pointFromJSON=function(e,r){return lr.fromJSON(this,e,r)};lr.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(a){return n.point(a.x.redMul(n.endo.beta),a.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};lr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};lr.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function a(o){return e.point(o[0],o[1],n)}var s=r[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(a))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(a))}},i};lr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};lr.prototype.isInfinity=function(){return this.inf};lr.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};lr.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),a=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),s=a.redSqr().redISub(this.x.redAdd(this.x)),o=a.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)};lr.prototype.getX=function(){return this.x.fromRed()};lr.prototype.getY=function(){return this.y.fromRed()};lr.prototype.mul=function(e){return e=new He(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};lr.prototype.mulAdd=function(e,r,n){var i=[this,r],a=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,a):this.curve._wnafMulAdd(1,i,a,2)};lr.prototype.jmulAdd=function(e,r,n){var i=[this,r],a=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,a,!0):this.curve._wnafMulAdd(1,i,a,2,!0)};lr.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};lr.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(a){return a.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};lr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function yr(t,e,r,n){Xa.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new He(0)):(this.x=new He(e,16),this.y=new He(r,16),this.z=new He(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Lh(yr,Xa.BasePoint);Cn.prototype.jpoint=function(e,r,n){return new yr(this,e,r,n)};yr.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};yr.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};yr.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),a=e.x.redMul(n),s=this.y.redMul(r.redMul(e.z)),o=e.y.redMul(n.redMul(this.z)),c=i.redSub(a),f=s.redSub(o);if(c.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=c.redSqr(),x=l.redMul(c),A=i.redMul(l),S=f.redSqr().redIAdd(x).redISub(A).redISub(A),M=f.redMul(A.redISub(S)).redISub(s.redMul(x)),k=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(S,M,k)};yr.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),a=this.y,s=e.y.redMul(r).redMul(this.z),o=n.redSub(i),c=a.redSub(s);if(o.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var f=o.redSqr(),l=f.redMul(o),x=n.redMul(f),A=c.redSqr().redIAdd(l).redISub(x).redISub(x),S=c.redMul(x.redISub(A)).redISub(a.redMul(l)),M=this.z.redMul(o);return this.curve.jpoint(A,S,M)};yr.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,a=this.curve.tinv,s=this.x,o=this.y,c=this.z,f=c.redSqr().redSqr(),l=o.redAdd(o);for(r=0;r<e;r++){var x=s.redSqr(),A=l.redSqr(),S=A.redSqr(),M=x.redAdd(x).redIAdd(x).redIAdd(i.redMul(f)),k=s.redMul(A),I=M.redSqr().redISub(k.redAdd(k)),C=k.redISub(I),R=M.redMul(C);R=R.redIAdd(R).redISub(S);var D=l.redMul(c);r+1<e&&(f=f.redMul(S)),s=I,c=D,l=R}return this.curve.jpoint(s,l.redMul(a),c)};yr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};yr.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),s=a.redSqr(),o=this.x.redAdd(a).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var c=i.redAdd(i).redIAdd(i),f=c.redSqr().redISub(o).redISub(o),l=s.redIAdd(s);l=l.redIAdd(l),l=l.redIAdd(l),e=f,r=c.redMul(o.redISub(f)).redISub(l),n=this.y.redAdd(this.y)}else{var x=this.x.redSqr(),A=this.y.redSqr(),S=A.redSqr(),M=this.x.redAdd(A).redSqr().redISub(x).redISub(S);M=M.redIAdd(M);var k=x.redAdd(x).redIAdd(x),I=k.redSqr(),C=S.redIAdd(S);C=C.redIAdd(C),C=C.redIAdd(C),e=I.redISub(M).redISub(M),r=k.redMul(M.redISub(e)).redISub(C),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};yr.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),s=a.redSqr(),o=this.x.redAdd(a).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var c=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),f=c.redSqr().redISub(o).redISub(o);e=f;var l=s.redIAdd(s);l=l.redIAdd(l),l=l.redIAdd(l),r=c.redMul(o.redISub(f)).redISub(l),n=this.y.redAdd(this.y)}else{var x=this.z.redSqr(),A=this.y.redSqr(),S=this.x.redMul(A),M=this.x.redSub(x).redMul(this.x.redAdd(x));M=M.redAdd(M).redIAdd(M);var k=S.redIAdd(S);k=k.redIAdd(k);var I=k.redAdd(k);e=M.redSqr().redISub(I),n=this.y.redAdd(this.z).redSqr().redISub(A).redISub(x);var C=A.redSqr();C=C.redIAdd(C),C=C.redIAdd(C),C=C.redIAdd(C),r=M.redMul(k.redISub(e)).redISub(C)}return this.curve.jpoint(e,r,n)};yr.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,a=i.redSqr().redSqr(),s=r.redSqr(),o=n.redSqr(),c=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(a)),f=r.redAdd(r);f=f.redIAdd(f);var l=f.redMul(o),x=c.redSqr().redISub(l.redAdd(l)),A=l.redISub(x),S=o.redSqr();S=S.redIAdd(S),S=S.redIAdd(S),S=S.redIAdd(S);var M=c.redMul(A).redISub(S),k=n.redAdd(n).redMul(i);return this.curve.jpoint(x,M,k)};yr.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),a=e.redAdd(e).redIAdd(e),s=a.redSqr(),o=this.x.redAdd(r).redSqr().redISub(e).redISub(i);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(s);var c=o.redSqr(),f=i.redIAdd(i);f=f.redIAdd(f),f=f.redIAdd(f),f=f.redIAdd(f);var l=a.redIAdd(o).redSqr().redISub(s).redISub(c).redISub(f),x=r.redMul(l);x=x.redIAdd(x),x=x.redIAdd(x);var A=this.x.redMul(c).redISub(x);A=A.redIAdd(A),A=A.redIAdd(A);var S=this.y.redMul(l.redMul(f.redISub(l)).redISub(o.redMul(c)));S=S.redIAdd(S),S=S.redIAdd(S),S=S.redIAdd(S);var M=this.z.redAdd(o).redSqr().redISub(n).redISub(c);return this.curve.jpoint(A,S,M)};yr.prototype.mul=function(e,r){return e=new He(e,r),this.curve._wnafMul(this,e)};yr.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),a=n.redMul(e.z);return this.y.redMul(a).redISub(e.y.redMul(i)).cmpn(0)===0};yr.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),a=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(a),this.x.cmp(n)===0)return!0}};yr.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};yr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var au=Qs(function(t,e){var r=e;r.base=Xa,r.short=jA,r.mont=null,r.edwards=null}),su=Qs(function(t,e){var r=e,n=ln.assert;function i(o){o.type==="short"?this.curve=new au.short(o):o.type==="edwards"?this.curve=new au.edwards(o):this.curve=new au.mont(o),this.g=this.curve.g,this.n=this.curve.n,this.hash=o.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function a(o,c){Object.defineProperty(r,o,{configurable:!0,enumerable:!0,get:function(){var f=new i(c);return Object.defineProperty(r,o,{configurable:!0,enumerable:!0,value:f}),f}})}a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:en.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:en.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:en.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:en.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:en.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:en.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:en.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var s;try{s=null.crash()}catch{s=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:en.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",s]})});function ua(t){if(!(this instanceof ua))return new ua(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Kn.toArray(t.entropy,t.entropyEnc||"hex"),r=Kn.toArray(t.nonce,t.nonceEnc||"hex"),n=Kn.toArray(t.pers,t.persEnc||"hex");Bh(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var gx=ua;ua.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var a=0;a<this.V.length;a++)this.K[a]=0,this.V[a]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};ua.prototype._hmac=function(){return new en.hmac(this.hash,this.K)};ua.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};ua.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=Kn.toArray(e,r),n=Kn.toArray(n,i),Bh(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};ua.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=Kn.toArray(n,i||"hex"),this._update(n));for(var a=[];a.length<e;)this.V=this._hmac().update(this.V).digest(),a=a.concat(this.V);var s=a.slice(0,e);return this._update(n),this._reseed++,Kn.encode(s,r)};var Vl=ln.assert;function Ir(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var Dh=Ir;Ir.fromPublic=function(e,r,n){return r instanceof Ir?r:new Ir(e,{pub:r,pubEnc:n})};Ir.fromPrivate=function(e,r,n){return r instanceof Ir?r:new Ir(e,{priv:r,privEnc:n})};Ir.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Ir.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Ir.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Ir.prototype._importPrivate=function(e,r){this.priv=new He(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Ir.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?Vl(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Vl(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Ir.prototype.derive=function(e){return e.validate()||Vl(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Ir.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};Ir.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};Ir.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var KA=ln.assert;function Tf(t,e){if(t instanceof Tf)return t;this._importDER(t,e)||(KA(t.r&&t.s,"Signature without r or s"),this.r=new He(t.r,16),this.s=new He(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var Mf=Tf;function GA(){this.place=0}function Dd(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,a=0,s=e.place;a<n;a++,s++)i<<=8,i|=t[s],i>>>=0;return i<=127?!1:(e.place=s,i)}function Em(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}Tf.prototype._importDER=function(e,r){e=ln.toArray(e,r);var n=new GA;if(e[n.place++]!==48)return!1;var i=Dd(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var a=Dd(e,n);if(a===!1)return!1;var s=e.slice(n.place,a+n.place);if(n.place+=a,e[n.place++]!==2)return!1;var o=Dd(e,n);if(o===!1||e.length!==o+n.place)return!1;var c=e.slice(n.place,o+n.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new He(s),this.s=new He(c),this.recoveryParam=null,!0};function Fd(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}Tf.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=Em(r),n=Em(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];Fd(i,r.length),i=i.concat(r),i.push(2),Fd(i,n.length);var a=i.concat(n),s=[48];return Fd(s,a.length),s=s.concat(a),ln.encode(s,e)};var VA=function(){throw new Error("unsupported")},vx=ln.assert;function kn(t){if(!(this instanceof kn))return new kn(t);typeof t=="string"&&(vx(Object.prototype.hasOwnProperty.call(su,t),"Unknown curve "+t),t=su[t]),t instanceof su.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var WA=kn;kn.prototype.keyPair=function(e){return new Dh(this,e)};kn.prototype.keyFromPrivate=function(e,r){return Dh.fromPrivate(this,e,r)};kn.prototype.keyFromPublic=function(e,r){return Dh.fromPublic(this,e,r)};kn.prototype.genKeyPair=function(e){e||(e={});for(var r=new gx({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||VA(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new He(2));;){var a=new He(r.generate(n));if(!(a.cmp(i)>0))return a.iaddn(1),this.keyFromPrivate(a)}};kn.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};kn.prototype.sign=function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new He(e,16));for(var a=this.n.byteLength(),s=r.getPrivate().toArray("be",a),o=e.toArray("be",a),c=new gx({hash:this.hash,entropy:s,nonce:o,pers:i.pers,persEnc:i.persEnc||"utf8"}),f=this.n.sub(new He(1)),l=0;;l++){var x=i.k?i.k(l):new He(c.generate(this.n.byteLength()));if(x=this._truncateToN(x,!0),!(x.cmpn(1)<=0||x.cmp(f)>=0)){var A=this.g.mul(x);if(!A.isInfinity()){var S=A.getX(),M=S.umod(this.n);if(M.cmpn(0)!==0){var k=x.invm(this.n).mul(M.mul(r.getPrivate()).iadd(e));if(k=k.umod(this.n),k.cmpn(0)!==0){var I=(A.getY().isOdd()?1:0)|(S.cmp(M)!==0?2:0);return i.canonical&&k.cmp(this.nh)>0&&(k=this.n.sub(k),I^=1),new Mf({r:M,s:k,recoveryParam:I})}}}}}};kn.prototype.verify=function(e,r,n,i){e=this._truncateToN(new He(e,16)),n=this.keyFromPublic(n,i),r=new Mf(r,"hex");var a=r.r,s=r.s;if(a.cmpn(1)<0||a.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var o=s.invm(this.n),c=o.mul(e).umod(this.n),f=o.mul(a).umod(this.n),l;return this.curve._maxwellTrick?(l=this.g.jmulAdd(c,n.getPublic(),f),l.isInfinity()?!1:l.eqXToP(a)):(l=this.g.mulAdd(c,n.getPublic(),f),l.isInfinity()?!1:l.getX().umod(this.n).cmp(a)===0)};kn.prototype.recoverPubKey=function(t,e,r,n){vx((3&r)===r,"The recovery param is more than two bits"),e=new Mf(e,n);var i=this.n,a=new He(t),s=e.r,o=e.s,c=r&1,f=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&f)throw new Error("Unable to find sencond key candinate");f?s=this.curve.pointFromX(s.add(this.curve.n),c):s=this.curve.pointFromX(s,c);var l=e.r.invm(i),x=i.sub(a).mul(l).umod(i),A=o.mul(l).umod(i);return this.g.mulAdd(x,s,A)};kn.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new Mf(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var a;try{a=this.recoverPubKey(t,e,i)}catch{continue}if(a.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var JA=Qs(function(t,e){var r=e;r.version="6.5.4",r.utils=ln,r.rand=function(){throw new Error("unsupported")},r.curve=au,r.curves=su,r.ec=WA,r.eddsa=null}),YA=JA.ec;const ZA="signing-key/5.7.0",Wl=new K(ZA);let Ud=null;function ai(){return Ud||(Ud=new YA("secp256k1")),Ud}class ws{constructor(e){Q(this,"curve","secp256k1"),Q(this,"privateKey",re(e)),Ha(this.privateKey)!==32&&Wl.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=ai().keyFromPrivate(te(this.privateKey));Q(this,"publicKey","0x"+r.getPublic(!1,"hex")),Q(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),Q(this,"_isSigningKey",!0)}_addPoint(e){const r=ai().keyFromPublic(te(this.publicKey)),n=ai().keyFromPublic(te(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const r=ai().keyFromPrivate(te(this.privateKey)),n=te(e);n.length!==32&&Wl.throwArgumentError("bad digest length","digest",e);const i=r.sign(n,{canonical:!0});return Ks({recoveryParam:i.recoveryParam,r:Pt("0x"+i.r.toString(16),32),s:Pt("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const r=ai().keyFromPrivate(te(this.privateKey)),n=ai().keyFromPublic(te(wx(e)));return Pt("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function QA(t,e){const r=Ks(e),n={r:te(r.r),s:te(r.s)};return"0x"+ai().recoverPubKey(te(t),n,r.recoveryParam).encode("hex",!1)}function wx(t,e){const r=te(t);if(r.length===32){const n=new ws(r);return e?"0x"+ai().keyFromPrivate(r).getPublic(!0,"hex"):n.publicKey}else{if(r.length===33)return e?re(r):"0x"+ai().keyFromPublic(r).getPublic(!1,"hex");if(r.length===65)return e?"0x"+ai().keyFromPublic(r).getPublic(!0,"hex"):re(r)}return Wl.throwArgumentError("invalid public or private key","key","[REDACTED]")}const XA="transactions/5.7.0",Mr=new K(XA);var Tm;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(Tm||(Tm={}));function Fh(t){return t==="0x"?null:At(t)}function Tr(t){return t==="0x"?D2:ue.from(t)}const eE=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],tE={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function Oa(t){const e=wx(t);return At(er(kt(er(e,1)),12))}function _x(t,e){return Oa(QA(te(t),e))}function rn(t,e){const r=Ci(ue.from(t).toHexString());return r.length>32&&Mr.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function $d(t,e){return{address:At(t),storageKeys:(e||[]).map((r,n)=>(Ha(r)!==32&&Mr.throwArgumentError("invalid access list storageKey",`accessList[${t}:${n}]`,r),r.toLowerCase()))}}function Xs(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(r.length>2&&Mr.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,r),$d(r[0],r[1])):$d(r.address,r.storageKeys));const e=Object.keys(t).map(r=>{const n=t[r].reduce((i,a)=>(i[a]=!0,i),{});return $d(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function Ax(t){return Xs(t).map(e=>[e.address,e.storageKeys])}function Ex(t,e){if(t.gasPrice!=null){const n=ue.from(t.gasPrice),i=ue.from(t.maxFeePerGas||0);n.eq(i)||Mr.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}const r=[rn(t.chainId||0,"chainId"),rn(t.nonce||0,"nonce"),rn(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),rn(t.maxFeePerGas||0,"maxFeePerGas"),rn(t.gasLimit||0,"gasLimit"),t.to!=null?At(t.to):"0x",rn(t.value||0,"value"),t.data||"0x",Ax(t.accessList||[])];if(e){const n=Ks(e);r.push(rn(n.recoveryParam,"recoveryParam")),r.push(Ci(n.r)),r.push(Ci(n.s))}return Kr(["0x02",ks(r)])}function Tx(t,e){const r=[rn(t.chainId||0,"chainId"),rn(t.nonce||0,"nonce"),rn(t.gasPrice||0,"gasPrice"),rn(t.gasLimit||0,"gasLimit"),t.to!=null?At(t.to):"0x",rn(t.value||0,"value"),t.data||"0x",Ax(t.accessList||[])];if(e){const n=Ks(e);r.push(rn(n.recoveryParam,"recoveryParam")),r.push(Ci(n.r)),r.push(Ci(n.s))}return Kr(["0x01",ks(r)])}function rE(t,e){E2(t,tE);const r=[];eE.forEach(function(s){let o=t[s.name]||[];const c={};s.numeric&&(c.hexPad="left"),o=te(re(o,c)),s.length&&o.length!==s.length&&o.length>0&&Mr.throwArgumentError("invalid length for "+s.name,"transaction:"+s.name,o),s.maxLength&&(o=Ci(o),o.length>s.maxLength&&Mr.throwArgumentError("invalid length for "+s.name,"transaction:"+s.name,o)),r.push(re(o))});let n=0;if(t.chainId!=null?(n=t.chainId,typeof n!="number"&&Mr.throwArgumentError("invalid transaction.chainId","transaction",t)):e&&!wf(e)&&e.v>28&&(n=Math.floor((e.v-35)/2)),n!==0&&(r.push(re(n)),r.push("0x"),r.push("0x")),!e)return ks(r);const i=Ks(e);let a=27+i.recoveryParam;return n!==0?(r.pop(),r.pop(),r.pop(),a+=n*2+8,i.v>28&&i.v!==a&&Mr.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):i.v!==a&&Mr.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),r.push(re(a)),r.push(Ci(te(i.r))),r.push(Ci(te(i.s))),ks(r)}function Mm(t,e){if(t.type==null||t.type===0)return t.accessList!=null&&Mr.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",t),rE(t,e);switch(t.type){case 1:return Tx(t,e);case 2:return Ex(t,e)}return Mr.throwError(`unsupported transaction type: ${t.type}`,K.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:t.type})}function Mx(t,e,r){try{const n=Tr(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");t.v=n}catch{Mr.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=Pt(e[1],32),t.s=Pt(e[2],32);try{const n=kt(r(t));t.from=_x(n,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function nE(t){const e=Rh(t.slice(1));e.length!==9&&e.length!==12&&Mr.throwArgumentError("invalid component count for transaction type: 2","payload",re(t));const r=Tr(e[2]),n=Tr(e[3]),i={type:2,chainId:Tr(e[0]).toNumber(),nonce:Tr(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:Tr(e[4]),to:Fh(e[5]),value:Tr(e[6]),data:e[7],accessList:Xs(e[8])};return e.length===9||(i.hash=kt(t),Mx(i,e.slice(9),Ex)),i}function iE(t){const e=Rh(t.slice(1));e.length!==8&&e.length!==11&&Mr.throwArgumentError("invalid component count for transaction type: 1","payload",re(t));const r={type:1,chainId:Tr(e[0]).toNumber(),nonce:Tr(e[1]).toNumber(),gasPrice:Tr(e[2]),gasLimit:Tr(e[3]),to:Fh(e[4]),value:Tr(e[5]),data:e[6],accessList:Xs(e[7])};return e.length===8||(r.hash=kt(t),Mx(r,e.slice(8),Tx)),r}function aE(t){const e=Rh(t);e.length!==9&&e.length!==6&&Mr.throwArgumentError("invalid raw transaction","rawTransaction",t);const r={nonce:Tr(e[0]).toNumber(),gasPrice:Tr(e[1]),gasLimit:Tr(e[2]),to:Fh(e[3]),value:Tr(e[4]),data:e[5],chainId:0};if(e.length===6)return r;try{r.v=ue.from(e[6]).toNumber()}catch{return r}if(r.r=Pt(e[7],32),r.s=Pt(e[8],32),ue.from(r.r).isZero()&&ue.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const i=e.slice(0,6);r.chainId!==0&&(i.push(re(r.chainId)),i.push("0x"),i.push("0x"),n-=r.chainId*2+8);const a=kt(ks(i));try{r.from=_x(a,{r:re(r.r),s:re(r.s),recoveryParam:n})}catch{}r.hash=kt(t)}return r.type=null,r}function sE(t){const e=te(t);if(e[0]>127)return aE(e);switch(e[0]){case 1:return iE(e);case 2:return nE(e)}return Mr.throwError(`unsupported transaction type: ${e[0]}`,K.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const oE="contracts/5.7.0";var ja=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(l){try{f(n.next(l))}catch(x){s(x)}}function c(l){try{f(n.throw(l))}catch(x){s(x)}}function f(l){l.done?a(l.value):i(l.value).then(o,c)}f((n=n.apply(t,e||[])).next())})};const $t=new K(oE);function Nu(t,e){return ja(this,void 0,void 0,function*(){const r=yield e;typeof r!="string"&&$t.throwArgumentError("invalid address or ENS name","name",r);try{return At(r)}catch{}t||$t.throwError("a provider or signer is needed to resolve ENS names",K.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield t.resolveName(r);return n==null&&$t.throwArgumentError("resolver or addr is not configured for ENS name","name",r),n})}function ou(t,e,r){return ja(this,void 0,void 0,function*(){return Array.isArray(r)?yield Promise.all(r.map((n,i)=>ou(t,Array.isArray(e)?e[i]:e[n.name],n))):r.type==="address"?yield Nu(t,e):r.type==="tuple"?yield ou(t,e,r.components):r.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(n=>ou(t,n,r.arrayChildren))):Promise.reject($t.makeError("invalid value for array",K.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function kf(t,e,r){return ja(this,void 0,void 0,function*(){let n={};r.length===e.inputs.length+1&&typeof r[r.length-1]=="object"&&(n=tr(r.pop())),$t.checkArgumentCount(r.length,e.inputs.length,"passed to contract"),t.signer?n.from?n.from=Ut({override:Nu(t.signer,n.from),signer:t.signer.getAddress()}).then(f=>ja(this,void 0,void 0,function*(){return At(f.signer)!==f.override&&$t.throwError("Contract with a Signer cannot override from",K.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),f.override})):n.from=t.signer.getAddress():n.from&&(n.from=Nu(t.provider,n.from));const i=yield Ut({args:ou(t.signer||t.provider,r,e.inputs),address:t.resolvedAddress,overrides:Ut(n)||{}}),a=t.interface.encodeFunctionData(e,i.args),s={data:a,to:i.address},o=i.overrides;if(o.nonce!=null&&(s.nonce=ue.from(o.nonce).toNumber()),o.gasLimit!=null&&(s.gasLimit=ue.from(o.gasLimit)),o.gasPrice!=null&&(s.gasPrice=ue.from(o.gasPrice)),o.maxFeePerGas!=null&&(s.maxFeePerGas=ue.from(o.maxFeePerGas)),o.maxPriorityFeePerGas!=null&&(s.maxPriorityFeePerGas=ue.from(o.maxPriorityFeePerGas)),o.from!=null&&(s.from=o.from),o.type!=null&&(s.type=o.type),o.accessList!=null&&(s.accessList=Xs(o.accessList)),s.gasLimit==null&&e.gas!=null){let f=21e3;const l=te(a);for(let x=0;x<l.length;x++)f+=4,l[x]&&(f+=64);s.gasLimit=ue.from(e.gas).add(f)}if(o.value){const f=ue.from(o.value);!f.isZero()&&!e.payable&&$t.throwError("non-payable method cannot override value",K.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),s.value=f}o.customData&&(s.customData=tr(o.customData)),o.ccipReadEnabled&&(s.ccipReadEnabled=!!o.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;const c=Object.keys(n).filter(f=>n[f]!=null);return c.length&&$t.throwError(`cannot override ${c.map(f=>JSON.stringify(f)).join(",")}`,K.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:c}),s})}function cE(t,e){return function(...r){return kf(t,e,r)}}function uE(t,e){const r=t.signer||t.provider;return function(...n){return ja(this,void 0,void 0,function*(){r||$t.throwError("estimate require a provider or signer",K.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const i=yield kf(t,e,n);return yield r.estimateGas(i)})}}function fE(t,e){const r=e.wait.bind(e);e.wait=n=>r(n).then(i=>(i.events=i.logs.map(a=>{let s=Pi(a),o=null;try{o=t.interface.parseLog(a)}catch{}return o&&(s.args=o.args,s.decode=(c,f)=>t.interface.decodeEventLog(o.eventFragment,c,f),s.event=o.name,s.eventSignature=o.signature),s.removeListener=()=>t.provider,s.getBlock=()=>t.provider.getBlock(i.blockHash),s.getTransaction=()=>t.provider.getTransaction(i.transactionHash),s.getTransactionReceipt=()=>Promise.resolve(i),s}),i))}function kx(t,e,r){const n=t.signer||t.provider;return function(...i){return ja(this,void 0,void 0,function*(){let a;if(i.length===e.inputs.length+1&&typeof i[i.length-1]=="object"){const c=tr(i.pop());c.blockTag!=null&&(a=yield c.blockTag),delete c.blockTag,i.push(c)}t.deployTransaction!=null&&(yield t._deployed(a));const s=yield kf(t,e,i),o=yield n.call(s,a);try{let c=t.interface.decodeFunctionResult(e,o);return r&&e.outputs.length===1&&(c=c[0]),c}catch(c){throw c.code===K.errors.CALL_EXCEPTION&&(c.address=t.address,c.args=i,c.transaction=s),c}})}}function dE(t,e){return function(...r){return ja(this,void 0,void 0,function*(){t.signer||$t.throwError("sending a transaction requires a signer",K.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),t.deployTransaction!=null&&(yield t._deployed());const n=yield kf(t,e,r),i=yield t.signer.sendTransaction(n);return fE(t,i),i})}}function km(t,e,r){return e.constant?kx(t,e,r):dE(t,e)}function Ix(t){return t.address&&(t.topics==null||t.topics.length===0)?"*":(t.address||"*")+"@"+(t.topics?t.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class rc{constructor(e,r){Q(this,"tag",e),Q(this,"filter",r),this._listeners=[]}addListener(e,r){this._listeners.push({listener:e,once:r})}removeListener(e){let r=!1;this._listeners=this._listeners.filter(n=>r||n.listener!==e?!0:(r=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const r=this.listenerCount();return this._listeners=this._listeners.filter(n=>{const i=e.slice();return setTimeout(()=>{n.listener.apply(this,i)},0),!n.once}),r}prepareEvent(e){}getEmit(e){return[e]}}class lE extends rc{constructor(){super("error",null)}}class Im extends rc{constructor(e,r,n,i){const a={address:e};let s=r.getEventTopic(n);i?(s!==i[0]&&$t.throwArgumentError("topic mismatch","topics",i),a.topics=i.slice()):a.topics=[s],super(Ix(a),a),Q(this,"address",e),Q(this,"interface",r),Q(this,"fragment",n)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(r,n)=>this.interface.decodeEventLog(this.fragment,r,n);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(r){e.args=null,e.decodeError=r}}getEmit(e){const r=W7(e.args);if(r.length)throw r[0].error;const n=(e.args||[]).slice();return n.push(e),n}}class Sm extends rc{constructor(e,r){super("*",{address:e}),Q(this,"address",e),Q(this,"interface",r)}prepareEvent(e){super.prepareEvent(e);try{const r=this.interface.parseLog(e);e.event=r.name,e.eventSignature=r.signature,e.decode=(n,i)=>this.interface.decodeEventLog(r.eventFragment,n,i),e.args=r.args}catch{}}}class hE{constructor(e,r,n){Q(this,"interface",cn(new.target,"getInterface")(r)),n==null?(Q(this,"provider",null),Q(this,"signer",null)):Ws.isSigner(n)?(Q(this,"provider",n.provider||null),Q(this,"signer",n)):Vs.isProvider(n)?(Q(this,"provider",n),Q(this,"signer",null)):$t.throwArgumentError("invalid signer or provider","signerOrProvider",n),Q(this,"callStatic",{}),Q(this,"estimateGas",{}),Q(this,"functions",{}),Q(this,"populateTransaction",{}),Q(this,"filters",{});{const s={};Object.keys(this.interface.events).forEach(o=>{const c=this.interface.events[o];Q(this.filters,o,(...f)=>({address:this.address,topics:this.interface.encodeFilterTopics(c,f)})),s[c.name]||(s[c.name]=[]),s[c.name].push(o)}),Object.keys(s).forEach(o=>{const c=s[o];c.length===1?Q(this.filters,o,this.filters[c[0]]):$t.warn(`Duplicate definition of ${o} (${c.join(", ")})`)})}if(Q(this,"_runningEvents",{}),Q(this,"_wrappedEmits",{}),e==null&&$t.throwArgumentError("invalid contract address or ENS name","addressOrName",e),Q(this,"address",e),this.provider)Q(this,"resolvedAddress",Nu(this.provider,e));else try{Q(this,"resolvedAddress",Promise.resolve(At(e)))}catch{$t.throwError("provider is required to use ENS name as contract address",K.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(s=>{});const i={},a={};Object.keys(this.interface.functions).forEach(s=>{const o=this.interface.functions[s];if(a[s]){$t.warn(`Duplicate ABI entry for ${JSON.stringify(s)}`);return}a[s]=!0;{const c=o.name;i[`%${c}`]||(i[`%${c}`]=[]),i[`%${c}`].push(s)}this[s]==null&&Q(this,s,km(this,o,!0)),this.functions[s]==null&&Q(this.functions,s,km(this,o,!1)),this.callStatic[s]==null&&Q(this.callStatic,s,kx(this,o,!0)),this.populateTransaction[s]==null&&Q(this.populateTransaction,s,cE(this,o)),this.estimateGas[s]==null&&Q(this.estimateGas,s,uE(this,o))}),Object.keys(i).forEach(s=>{const o=i[s];if(o.length>1)return;s=s.substring(1);const c=o[0];try{this[s]==null&&Q(this,s,this[c])}catch{}this.functions[s]==null&&Q(this.functions,s,this.functions[c]),this.callStatic[s]==null&&Q(this.callStatic,s,this.callStatic[c]),this.populateTransaction[s]==null&&Q(this.populateTransaction,s,this.populateTransaction[c]),this.estimateGas[s]==null&&Q(this.estimateGas,s,this.estimateGas[c])})}static getContractAddress(e){return P2(e)}static getInterface(e){return Oi.isInterface(e)?e:new Oi(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(r=>(r==="0x"&&$t.throwError("contract not deployed",K.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||$t.throwError("sending a transactions require a signer",K.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const r=tr(e||{});return["from","to"].forEach(function(n){r[n]!=null&&$t.throwError("cannot override "+n,K.errors.UNSUPPORTED_OPERATION,{operation:n})}),r.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(r))}connect(e){typeof e=="string"&&(e=new Oh(e,this.provider));const r=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&Q(r,"deployTransaction",this.deployTransaction),r}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return ql.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new lE);if(e==="event")return this._normalizeRunningEvent(new rc("event",null));if(e==="*")return this._normalizeRunningEvent(new Sm(this.address,this.interface));const r=this.interface.getEvent(e);return this._normalizeRunningEvent(new Im(this.address,this.interface,r))}if(e.topics&&e.topics.length>0){try{const n=e.topics[0];if(typeof n!="string")throw new Error("invalid topic");const i=this.interface.getEvent(n);return this._normalizeRunningEvent(new Im(this.address,this.interface,i,e.topics))}catch{}const r={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new rc(Ix(r),r))}return this._normalizeRunningEvent(new Sm(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const r=this._wrappedEmits[e.tag];r&&e.filter&&(this.provider.off(e.filter,r),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,r,n){const i=Pi(r);return i.removeListener=()=>{n&&(e.removeListener(n),this._checkRunningEvents(e))},i.getBlock=()=>this.provider.getBlock(r.blockHash),i.getTransaction=()=>this.provider.getTransaction(r.transactionHash),i.getTransactionReceipt=()=>this.provider.getTransactionReceipt(r.transactionHash),e.prepareEvent(i),i}_addEventListener(e,r,n){if(this.provider||$t.throwError("events require a provider or a signer with a provider",K.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(r,n),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const i=a=>{let s=this._wrapEvent(e,a,r);if(s.decodeError==null)try{const o=e.getEmit(s);this.emit(e.filter,...o)}catch(o){s.decodeError=o.error}e.filter!=null&&this.emit("event",s),s.decodeError!=null&&this.emit("error",s.decodeError,s)};this._wrappedEmits[e.tag]=i,e.filter!=null&&this.provider.on(e.filter,i)}}queryFilter(e,r,n){const i=this._getRunningEvent(e),a=tr(i.filter);return typeof r=="string"&&_t(r,32)?(n!=null&&$t.throwArgumentError("cannot specify toBlock with blockhash","toBlock",n),a.blockHash=r):(a.fromBlock=r??0,a.toBlock=n??"latest"),this.provider.getLogs(a).then(s=>s.map(o=>this._wrapEvent(i,o,null)))}on(e,r){return this._addEventListener(this._getRunningEvent(e),r,!1),this}once(e,r){return this._addEventListener(this._getRunningEvent(e),r,!0),this}emit(e,...r){if(!this.provider)return!1;const n=this._getRunningEvent(e),i=n.run(r)>0;return this._checkRunningEvents(n),i}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((r,n)=>r+this._runningEvents[n].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const r=[];for(let n in this._runningEvents)this._runningEvents[n].listeners().forEach(i=>{r.push(i)});return r}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const n in this._runningEvents){const i=this._runningEvents[n];i.removeAllListeners(),this._checkRunningEvents(i)}return this}const r=this._getRunningEvent(e);return r.removeAllListeners(),this._checkRunningEvents(r),this}off(e,r){if(!this.provider)return this;const n=this._getRunningEvent(e);return n.removeListener(r),this._checkRunningEvents(n),this}removeListener(e,r){return this.off(e,r)}}class es extends hE{}class Sx{constructor(e){Q(this,"alphabet",e),Q(this,"base",e.length),Q(this,"_alphabetMap",{}),Q(this,"_leader",e.charAt(0));for(let r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}encode(e){let r=te(e);if(r.length===0)return"";let n=[0];for(let a=0;a<r.length;++a){let s=r[a];for(let o=0;o<n.length;++o)s+=n[o]<<8,n[o]=s%this.base,s=s/this.base|0;for(;s>0;)n.push(s%this.base),s=s/this.base|0}let i="";for(let a=0;r[a]===0&&a<r.length-1;++a)i+=this._leader;for(let a=n.length-1;a>=0;--a)i+=this.alphabet[n[a]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let r=[];if(e.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let a=i;for(let s=0;s<r.length;++s)a+=r[s]*this.base,r[s]=a&255,a>>=8;for(;a>0;)r.push(a&255),a>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)r.push(0);return te(new Uint8Array(r.reverse()))}}new Sx("abcdefghijklmnopqrstuvwxyz234567");const nc=new Sx("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var ic;(function(t){t.sha256="sha256",t.sha512="sha512"})(ic||(ic={}));const pE="sha2/5.7.0",mE=new K(pE);function yE(t){return"0x"+en.ripemd160().update(te(t)).digest("hex")}function Ka(t){return"0x"+en.sha256().update(te(t)).digest("hex")}function Ru(t,e,r){return ic[t]||mE.throwError("unsupported algorithm "+t,K.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:t}),"0x"+en.hmac(en[t],te(e)).update(te(r)).digest("hex")}function Uh(t,e,r,n,i){t=te(t),e=te(e);let a,s=1;const o=new Uint8Array(n),c=new Uint8Array(e.length+4);c.set(e);let f,l;for(let x=1;x<=s;x++){c[e.length]=x>>24&255,c[e.length+1]=x>>16&255,c[e.length+2]=x>>8&255,c[e.length+3]=x&255;let A=te(Ru(i,t,c));a||(a=A.length,l=new Uint8Array(a),s=Math.ceil(n/a),f=n-(s-1)*a),l.set(A);for(let k=1;k<r;k++){A=te(Ru(i,t,A));for(let I=0;I<a;I++)l[I]^=A[I]}const S=(x-1)*a,M=x===s?f:a;o.set(te(l).slice(0,M),S)}return re(o)}const bE="wordlists/5.7.0",xE=new K(bE);class Tc{constructor(e){xE.checkAbstract(new.target,Tc),Q(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){const r=[];for(let n=0;n<2048;n++){const i=e.getWord(n);if(n!==e.getWordIndex(i))return"0x";r.push(i)}return Ca(r.join(`
`)+`
`)}static register(e,r){r||(r=e.locale)}}const gE="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo";let Do=null;function Cm(t){if(Do==null&&(Do=gE.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),Tc.check(t)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw Do=null,new Error("BIP39 Wordlist for en (English) FAILED")}class vE extends Tc{constructor(){super("en")}getWord(e){return Cm(this),Do[e]}getWordIndex(e){return Cm(this),Do.indexOf(e)}}const Cx=new vE;Tc.register(Cx);const Nm={en:Cx},wE="hdnode/5.7.0",Pu=new K(wE),_E=ue.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),AE=jt("Bitcoin seed"),po=2147483648;function Nx(t){return(1<<t)-1<<8-t}function EE(t){return(1<<t)-1}function Wc(t){return Pt(re(t),32)}function Rm(t){return nc.encode(Rt([t,er(Ka(Ka(t)),0,4)]))}function $h(t){if(t==null)return Nm.en;if(typeof t=="string"){const e=Nm[t];return e==null&&Pu.throwArgumentError("unknown locale","wordlist",t),e}return t}const os={},ac="m/44'/60'/0'/0/0";class _n{constructor(e,r,n,i,a,s,o,c){if(e!==os)throw new Error("HDNode constructor cannot be called directly");if(r){const f=new ws(r);Q(this,"privateKey",f.privateKey),Q(this,"publicKey",f.compressedPublicKey)}else Q(this,"privateKey",null),Q(this,"publicKey",re(n));Q(this,"parentFingerprint",i),Q(this,"fingerprint",er(yE(Ka(this.publicKey)),0,4)),Q(this,"address",Oa(this.publicKey)),Q(this,"chainCode",a),Q(this,"index",s),Q(this,"depth",o),c==null?(Q(this,"mnemonic",null),Q(this,"path",null)):typeof c=="string"?(Q(this,"mnemonic",null),Q(this,"path",c)):(Q(this,"mnemonic",c),Q(this,"path",c.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return Rm(Rt([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",re(this.depth),this.parentFingerprint,Pt(re(this.index),4),this.chainCode,this.privateKey!=null?Rt(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new _n(os,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let r=this.path;r&&(r+="/"+(e&~po));const n=new Uint8Array(37);if(e&po){if(!this.privateKey)throw new Error("cannot derive child of neutered node");n.set(te(this.privateKey),1),r&&(r+="'")}else n.set(te(this.publicKey));for(let x=24;x>=0;x-=8)n[33+(x>>3)]=e>>24-x&255;const i=te(Ru(ic.sha512,this.chainCode,n)),a=i.slice(0,32),s=i.slice(32);let o=null,c=null;this.privateKey?o=Wc(ue.from(a).add(this.privateKey).mod(_E)):c=new ws(re(a))._addPoint(this.publicKey);let f=r;const l=this.mnemonic;return l&&(f=Object.freeze({phrase:l.phrase,path:r,locale:l.locale||"en"})),new _n(os,o,c,this.fingerprint,Wc(s),e,this.depth+1,f)}derivePath(e){const r=e.split("/");if(r.length===0||r[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+e);r[0]==="m"&&r.shift();let n=this;for(let i=0;i<r.length;i++){const a=r[i];if(a.match(/^[0-9]+'$/)){const s=parseInt(a.substring(0,a.length-1));if(s>=po)throw new Error("invalid path index - "+a);n=n._derive(po+s)}else if(a.match(/^[0-9]+$/)){const s=parseInt(a);if(s>=po)throw new Error("invalid path index - "+a);n=n._derive(s)}else throw new Error("invalid path component - "+a)}return n}static _fromSeed(e,r){const n=te(e);if(n.length<16||n.length>64)throw new Error("invalid seed");const i=te(Ru(ic.sha512,AE,n));return new _n(os,Wc(i.slice(0,32)),null,"0x00000000",Wc(i.slice(32)),0,0,r)}static fromMnemonic(e,r,n){return n=$h(n),e=Hh(Rx(e,n),n),_n._fromSeed(TE(e,r),{phrase:e,path:"m",locale:n.locale})}static fromSeed(e){return _n._fromSeed(e,null)}static fromExtendedKey(e){const r=nc.decode(e);(r.length!==82||Rm(r.slice(0,78))!==e)&&Pu.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const n=r[4],i=re(r.slice(5,9)),a=parseInt(re(r.slice(9,13)).substring(2),16),s=re(r.slice(13,45)),o=r.slice(45,78);switch(re(r.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new _n(os,null,re(o),i,s,a,n,null);case"0x0488ade4":case"0x04358394 ":if(o[0]!==0)break;return new _n(os,re(o.slice(1)),null,i,s,a,n,null)}return Pu.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function TE(t,e){e||(e="");const r=jt("mnemonic"+e,ca.NFKD);return Uh(jt(t,ca.NFKD),r,2048,64,"sha512")}function Rx(t,e){e=$h(e),Pu.checkNormalize();const r=e.split(t);if(r.length%3!==0)throw new Error("invalid mnemonic");const n=te(new Uint8Array(Math.ceil(11*r.length/8)));let i=0;for(let f=0;f<r.length;f++){let l=e.getWordIndex(r[f].normalize("NFKD"));if(l===-1)throw new Error("invalid mnemonic");for(let x=0;x<11;x++)l&1<<10-x&&(n[i>>3]|=1<<7-i%8),i++}const a=32*r.length/3,s=r.length/3,o=Nx(s);if((te(Ka(n.slice(0,a/8)))[0]&o)!==(n[n.length-1]&o))throw new Error("invalid checksum");return re(n.slice(0,a/8))}function Hh(t,e){if(e=$h(e),t=te(t),t.length%4!==0||t.length<16||t.length>32)throw new Error("invalid entropy");const r=[0];let n=11;for(let s=0;s<t.length;s++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=t[s],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=t[s]>>8-n,r.push(t[s]&EE(8-n)),n+=3);const i=t.length/4,a=te(Ka(t))[0]&Nx(i);return r[r.length-1]<<=i,r[r.length-1]|=a>>8-i,e.join(r.map(s=>e.getWord(s)))}const ME="random/5.7.0",Jl=new K(ME);function kE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const Pm=kE();let cu=Pm.crypto||Pm.msCrypto;(!cu||!cu.getRandomValues)&&(Jl.warn("WARNING: Missing strong random number source"),cu={getRandomValues:function(t){return Jl.throwError("no secure random source avaialble",K.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function Io(t){(t<=0||t>1024||t%1||t!=t)&&Jl.throwArgumentError("invalid length","length",t);const e=new Uint8Array(t);return cu.getRandomValues(e),te(e)}var Px={exports:{}};(function(t,e){(function(r){function n(w){return parseInt(w)===w}function i(w){if(!n(w.length))return!1;for(var v=0;v<w.length;v++)if(!n(w[v])||w[v]<0||w[v]>255)return!1;return!0}function a(w,v){if(w.buffer&&ArrayBuffer.isView(w)&&w.name==="Uint8Array")return v&&(w.slice?w=w.slice():w=Array.prototype.slice.call(w)),w;if(Array.isArray(w)){if(!i(w))throw new Error("Array contains invalid value: "+w);return new Uint8Array(w)}if(n(w.length)&&i(w))return new Uint8Array(w);throw new Error("unsupported array-like object")}function s(w){return new Uint8Array(w)}function o(w,v,N,$,T){($!=null||T!=null)&&(w.slice?w=w.slice($,T):w=Array.prototype.slice.call(w,$,T)),v.set(w,N)}var c=function(){function w(N){var $=[],T=0;for(N=encodeURI(N);T<N.length;){var P=N.charCodeAt(T++);P===37?($.push(parseInt(N.substr(T,2),16)),T+=2):$.push(P)}return a($)}function v(N){for(var $=[],T=0;T<N.length;){var P=N[T];P<128?($.push(String.fromCharCode(P)),T++):P>191&&P<224?($.push(String.fromCharCode((P&31)<<6|N[T+1]&63)),T+=2):($.push(String.fromCharCode((P&15)<<12|(N[T+1]&63)<<6|N[T+2]&63)),T+=3)}return $.join("")}return{toBytes:w,fromBytes:v}}(),f=function(){function w($){for(var T=[],P=0;P<$.length;P+=2)T.push(parseInt($.substr(P,2),16));return T}var v="0123456789abcdef";function N($){for(var T=[],P=0;P<$.length;P++){var U=$[P];T.push(v[(U&240)>>4]+v[U&15])}return T.join("")}return{toBytes:w,fromBytes:N}}(),l={16:10,24:12,32:14},x=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],A=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],S=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],M=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],k=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],I=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],C=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],R=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],D=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],F=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],H=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],j=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],Z=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],G=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],J=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function B(w){for(var v=[],N=0;N<w.length;N+=4)v.push(w[N]<<24|w[N+1]<<16|w[N+2]<<8|w[N+3]);return v}var m=function(w){if(!(this instanceof m))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:a(w,!0)}),this._prepare()};m.prototype._prepare=function(){var w=l[this.key.length];if(w==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var v=0;v<=w;v++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var N=(w+1)*4,$=this.key.length/4,T=B(this.key),P,v=0;v<$;v++)P=v>>2,this._Ke[P][v%4]=T[v],this._Kd[w-P][v%4]=T[v];for(var U=0,z=$,q;z<N;){if(q=T[$-1],T[0]^=A[q>>16&255]<<24^A[q>>8&255]<<16^A[q&255]<<8^A[q>>24&255]^x[U]<<24,U+=1,$!=8)for(var v=1;v<$;v++)T[v]^=T[v-1];else{for(var v=1;v<$/2;v++)T[v]^=T[v-1];q=T[$/2-1],T[$/2]^=A[q&255]^A[q>>8&255]<<8^A[q>>16&255]<<16^A[q>>24&255]<<24;for(var v=$/2+1;v<$;v++)T[v]^=T[v-1]}for(var v=0,Y,L;v<$&&z<N;)Y=z>>2,L=z%4,this._Ke[Y][L]=T[v],this._Kd[w-Y][L]=T[v++],z++}for(var Y=1;Y<w;Y++)for(var L=0;L<4;L++)q=this._Kd[Y][L],this._Kd[Y][L]=j[q>>24&255]^Z[q>>16&255]^G[q>>8&255]^J[q&255]},m.prototype.encrypt=function(w){if(w.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var v=this._Ke.length-1,N=[0,0,0,0],$=B(w),T=0;T<4;T++)$[T]^=this._Ke[0][T];for(var P=1;P<v;P++){for(var T=0;T<4;T++)N[T]=M[$[T]>>24&255]^k[$[(T+1)%4]>>16&255]^I[$[(T+2)%4]>>8&255]^C[$[(T+3)%4]&255]^this._Ke[P][T];$=N.slice()}for(var U=s(16),z,T=0;T<4;T++)z=this._Ke[v][T],U[4*T]=(A[$[T]>>24&255]^z>>24)&255,U[4*T+1]=(A[$[(T+1)%4]>>16&255]^z>>16)&255,U[4*T+2]=(A[$[(T+2)%4]>>8&255]^z>>8)&255,U[4*T+3]=(A[$[(T+3)%4]&255]^z)&255;return U},m.prototype.decrypt=function(w){if(w.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var v=this._Kd.length-1,N=[0,0,0,0],$=B(w),T=0;T<4;T++)$[T]^=this._Kd[0][T];for(var P=1;P<v;P++){for(var T=0;T<4;T++)N[T]=R[$[T]>>24&255]^D[$[(T+3)%4]>>16&255]^F[$[(T+2)%4]>>8&255]^H[$[(T+1)%4]&255]^this._Kd[P][T];$=N.slice()}for(var U=s(16),z,T=0;T<4;T++)z=this._Kd[v][T],U[4*T]=(S[$[T]>>24&255]^z>>24)&255,U[4*T+1]=(S[$[(T+3)%4]>>16&255]^z>>16)&255,U[4*T+2]=(S[$[(T+2)%4]>>8&255]^z>>8)&255,U[4*T+3]=(S[$[(T+1)%4]&255]^z)&255;return U};var d=function(w){if(!(this instanceof d))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new m(w)};d.prototype.encrypt=function(w){if(w=a(w),w.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var v=s(w.length),N=s(16),$=0;$<w.length;$+=16)o(w,N,0,$,$+16),N=this._aes.encrypt(N),o(N,v,$);return v},d.prototype.decrypt=function(w){if(w=a(w),w.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var v=s(w.length),N=s(16),$=0;$<w.length;$+=16)o(w,N,0,$,$+16),N=this._aes.decrypt(N),o(N,v,$);return v};var h=function(w,v){if(!(this instanceof h))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!v)v=s(16);else if(v.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=a(v,!0),this._aes=new m(w)};h.prototype.encrypt=function(w){if(w=a(w),w.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var v=s(w.length),N=s(16),$=0;$<w.length;$+=16){o(w,N,0,$,$+16);for(var T=0;T<16;T++)N[T]^=this._lastCipherblock[T];this._lastCipherblock=this._aes.encrypt(N),o(this._lastCipherblock,v,$)}return v},h.prototype.decrypt=function(w){if(w=a(w),w.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var v=s(w.length),N=s(16),$=0;$<w.length;$+=16){o(w,N,0,$,$+16),N=this._aes.decrypt(N);for(var T=0;T<16;T++)v[$+T]=N[T]^this._lastCipherblock[T];o(w,this._lastCipherblock,0,$,$+16)}return v};var u=function(w,v,N){if(!(this instanceof u))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!v)v=s(16);else if(v.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");N||(N=1),this.segmentSize=N,this._shiftRegister=a(v,!0),this._aes=new m(w)};u.prototype.encrypt=function(w){if(w.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var v=a(w,!0),N,$=0;$<v.length;$+=this.segmentSize){N=this._aes.encrypt(this._shiftRegister);for(var T=0;T<this.segmentSize;T++)v[$+T]^=N[T];o(this._shiftRegister,this._shiftRegister,0,this.segmentSize),o(v,this._shiftRegister,16-this.segmentSize,$,$+this.segmentSize)}return v},u.prototype.decrypt=function(w){if(w.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var v=a(w,!0),N,$=0;$<v.length;$+=this.segmentSize){N=this._aes.encrypt(this._shiftRegister);for(var T=0;T<this.segmentSize;T++)v[$+T]^=N[T];o(this._shiftRegister,this._shiftRegister,0,this.segmentSize),o(w,this._shiftRegister,16-this.segmentSize,$,$+this.segmentSize)}return v};var p=function(w,v){if(!(this instanceof p))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!v)v=s(16);else if(v.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=a(v,!0),this._lastPrecipherIndex=16,this._aes=new m(w)};p.prototype.encrypt=function(w){for(var v=a(w,!0),N=0;N<v.length;N++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),v[N]^=this._lastPrecipher[this._lastPrecipherIndex++];return v},p.prototype.decrypt=p.prototype.encrypt;var g=function(w){if(!(this instanceof g))throw Error("Counter must be instanitated with `new`");w!==0&&!w&&(w=1),typeof w=="number"?(this._counter=s(16),this.setValue(w)):this.setBytes(w)};g.prototype.setValue=function(w){if(typeof w!="number"||parseInt(w)!=w)throw new Error("invalid counter value (must be an integer)");for(var v=15;v>=0;--v)this._counter[v]=w%256,w=w>>8},g.prototype.setBytes=function(w){if(w=a(w,!0),w.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=w},g.prototype.increment=function(){for(var w=15;w>=0;w--)if(this._counter[w]===255)this._counter[w]=0;else{this._counter[w]++;break}};var E=function(w,v){if(!(this instanceof E))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",v instanceof g||(v=new g(v)),this._counter=v,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new m(w)};E.prototype.encrypt=function(w){for(var v=a(w,!0),N=0;N<v.length;N++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),v[N]^=this._remainingCounter[this._remainingCounterIndex++];return v},E.prototype.decrypt=E.prototype.encrypt;function _(w){w=a(w,!0);var v=16-w.length%16,N=s(w.length+v);o(w,N);for(var $=w.length;$<N.length;$++)N[$]=v;return N}function y(w){if(w=a(w,!0),w.length<16)throw new Error("PKCS#7 invalid length");var v=w[w.length-1];if(v>16)throw new Error("PKCS#7 padding byte out of range");for(var N=w.length-v,$=0;$<v;$++)if(w[N+$]!==v)throw new Error("PKCS#7 invalid padding byte");var T=s(N);return o(w,T,0,0,N),T}var b={AES:m,Counter:g,ModeOfOperation:{ecb:d,cbc:h,cfb:u,ofb:p,ctr:E},utils:{hex:f,utf8:c},padding:{pkcs7:{pad:_,strip:y}},_arrayTest:{coerceArray:a,createArray:s,copyArray:o}};t.exports=b})()})(Px);var IE=Px.exports;const ui=Wn(IE),Ox="json-wallets/5.7.0";function Ba(t){return typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),te(t)}function mo(t,e){for(t=String(t);t.length<e;)t="0"+t;return t}function zh(t){return typeof t=="string"?jt(t,ca.NFKC):te(t)}function Ht(t,e){let r=t;const n=e.toLowerCase().split("/");for(let i=0;i<n.length;i++){let a=null;for(const s in r)if(s.toLowerCase()===n[i]){a=r[s];break}if(a===null)return null;r=a}return r}function SE(t){const e=te(t);e[6]=e[6]&15|64,e[8]=e[8]&63|128;const r=re(e);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}const CE=new K(Ox);class NE extends Za{isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}}function Bx(t,e){const r=JSON.parse(t);e=zh(e);const n=At(Ht(r,"ethaddr")),i=Ba(Ht(r,"encseed"));(!i||i.length%16!==0)&&CE.throwArgumentError("invalid encseed","json",t);const a=te(Uh(e,e,2e3,32,"sha256")).slice(0,16),s=i.slice(0,16),o=i.slice(16),c=new ui.ModeOfOperation.cbc(a,s),f=ui.padding.pkcs7.strip(te(c.decrypt(o)));let l="";for(let S=0;S<f.length;S++)l+=String.fromCharCode(f[S]);const x=jt(l),A=kt(x);return new NE({_isCrowdsaleAccount:!0,address:n,privateKey:A})}function Lx(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return e.encseed&&e.ethaddr}function Dx(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return!(!e.version||parseInt(e.version)!==e.version||parseInt(e.version)!==3)}var Fx={exports:{}};(function(t,e){(function(r){function i(k){const I=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let C=1779033703,R=3144134277,D=1013904242,F=2773480762,H=1359893119,j=2600822924,Z=528734635,G=1541459225;const J=new Uint32Array(64);function B(E){let _=0,y=E.length;for(;y>=64;){let b=C,w=R,v=D,N=F,$=H,T=j,P=Z,U=G,z,q,Y,L,O;for(q=0;q<16;q++)Y=_+q*4,J[q]=(E[Y]&255)<<24|(E[Y+1]&255)<<16|(E[Y+2]&255)<<8|E[Y+3]&255;for(q=16;q<64;q++)z=J[q-2],L=(z>>>17|z<<32-17)^(z>>>19|z<<32-19)^z>>>10,z=J[q-15],O=(z>>>7|z<<32-7)^(z>>>18|z<<32-18)^z>>>3,J[q]=(L+J[q-7]|0)+(O+J[q-16]|0)|0;for(q=0;q<64;q++)L=((($>>>6|$<<32-6)^($>>>11|$<<32-11)^($>>>25|$<<32-25))+($&T^~$&P)|0)+(U+(I[q]+J[q]|0)|0)|0,O=((b>>>2|b<<32-2)^(b>>>13|b<<32-13)^(b>>>22|b<<32-22))+(b&w^b&v^w&v)|0,U=P,P=T,T=$,$=N+L|0,N=v,v=w,w=b,b=L+O|0;C=C+b|0,R=R+w|0,D=D+v|0,F=F+N|0,H=H+$|0,j=j+T|0,Z=Z+P|0,G=G+U|0,_+=64,y-=64}}B(k);let m,d=k.length%64,h=k.length/536870912|0,u=k.length<<3,p=d<56?56:120,g=k.slice(k.length-d,k.length);for(g.push(128),m=d+1;m<p;m++)g.push(0);return g.push(h>>>24&255),g.push(h>>>16&255),g.push(h>>>8&255),g.push(h>>>0&255),g.push(u>>>24&255),g.push(u>>>16&255),g.push(u>>>8&255),g.push(u>>>0&255),B(g),[C>>>24&255,C>>>16&255,C>>>8&255,C>>>0&255,R>>>24&255,R>>>16&255,R>>>8&255,R>>>0&255,D>>>24&255,D>>>16&255,D>>>8&255,D>>>0&255,F>>>24&255,F>>>16&255,F>>>8&255,F>>>0&255,H>>>24&255,H>>>16&255,H>>>8&255,H>>>0&255,j>>>24&255,j>>>16&255,j>>>8&255,j>>>0&255,Z>>>24&255,Z>>>16&255,Z>>>8&255,Z>>>0&255,G>>>24&255,G>>>16&255,G>>>8&255,G>>>0&255]}function a(k,I,C){k=k.length<=64?k:i(k);const R=64+I.length+4,D=new Array(R),F=new Array(64);let H,j=[];for(H=0;H<64;H++)D[H]=54;for(H=0;H<k.length;H++)D[H]^=k[H];for(H=0;H<I.length;H++)D[64+H]=I[H];for(H=R-4;H<R;H++)D[H]=0;for(H=0;H<64;H++)F[H]=92;for(H=0;H<k.length;H++)F[H]^=k[H];function Z(){for(let G=R-1;G>=R-4;G--){if(D[G]++,D[G]<=255)return;D[G]=0}}for(;C>=32;)Z(),j=j.concat(i(F.concat(i(D)))),C-=32;return C>0&&(Z(),j=j.concat(i(F.concat(i(D))).slice(0,C))),j}function s(k,I,C,R,D){let F;for(l(k,(2*C-1)*16,D,0,16),F=0;F<2*C;F++)f(k,F*16,D,16),c(D,R),l(D,0,k,I+F*16,16);for(F=0;F<C;F++)l(k,I+F*2*16,k,F*16,16);for(F=0;F<C;F++)l(k,I+(F*2+1)*16,k,(F+C)*16,16)}function o(k,I){return k<<I|k>>>32-I}function c(k,I){l(k,0,I,0,16);for(let C=8;C>0;C-=2)I[4]^=o(I[0]+I[12],7),I[8]^=o(I[4]+I[0],9),I[12]^=o(I[8]+I[4],13),I[0]^=o(I[12]+I[8],18),I[9]^=o(I[5]+I[1],7),I[13]^=o(I[9]+I[5],9),I[1]^=o(I[13]+I[9],13),I[5]^=o(I[1]+I[13],18),I[14]^=o(I[10]+I[6],7),I[2]^=o(I[14]+I[10],9),I[6]^=o(I[2]+I[14],13),I[10]^=o(I[6]+I[2],18),I[3]^=o(I[15]+I[11],7),I[7]^=o(I[3]+I[15],9),I[11]^=o(I[7]+I[3],13),I[15]^=o(I[11]+I[7],18),I[1]^=o(I[0]+I[3],7),I[2]^=o(I[1]+I[0],9),I[3]^=o(I[2]+I[1],13),I[0]^=o(I[3]+I[2],18),I[6]^=o(I[5]+I[4],7),I[7]^=o(I[6]+I[5],9),I[4]^=o(I[7]+I[6],13),I[5]^=o(I[4]+I[7],18),I[11]^=o(I[10]+I[9],7),I[8]^=o(I[11]+I[10],9),I[9]^=o(I[8]+I[11],13),I[10]^=o(I[9]+I[8],18),I[12]^=o(I[15]+I[14],7),I[13]^=o(I[12]+I[15],9),I[14]^=o(I[13]+I[12],13),I[15]^=o(I[14]+I[13],18);for(let C=0;C<16;++C)k[C]+=I[C]}function f(k,I,C,R){for(let D=0;D<R;D++)C[D]^=k[I+D]}function l(k,I,C,R,D){for(;D--;)C[R++]=k[I++]}function x(k){if(!k||typeof k.length!="number")return!1;for(let I=0;I<k.length;I++){const C=k[I];if(typeof C!="number"||C%1||C<0||C>=256)return!1}return!0}function A(k,I){if(typeof k!="number"||k%1)throw new Error("invalid "+I);return k}function S(k,I,C,R,D,F,H){if(C=A(C,"N"),R=A(R,"r"),D=A(D,"p"),F=A(F,"dkLen"),C===0||C&C-1)throw new Error("N must be power of 2");if(C>2147483647/128/R)throw new Error("N too large");if(R>2147483647/128/D)throw new Error("r too large");if(!x(k))throw new Error("password must be an array or buffer");if(k=Array.prototype.slice.call(k),!x(I))throw new Error("salt must be an array or buffer");I=Array.prototype.slice.call(I);let j=a(k,I,D*128*R);const Z=new Uint32Array(D*32*R);for(let $=0;$<Z.length;$++){const T=$*4;Z[$]=(j[T+3]&255)<<24|(j[T+2]&255)<<16|(j[T+1]&255)<<8|(j[T+0]&255)<<0}const G=new Uint32Array(64*R),J=new Uint32Array(32*R*C),B=32*R,m=new Uint32Array(16),d=new Uint32Array(16),h=D*C*2;let u=0,p=null,g=!1,E=0,_=0,y,b;const w=H?parseInt(1e3/R):4294967295,v=typeof setImmediate<"u"?setImmediate:setTimeout,N=function(){if(g)return H(new Error("cancelled"),u/h);let $;switch(E){case 0:b=_*32*R,l(Z,b,G,0,B),E=1,y=0;case 1:$=C-y,$>w&&($=w);for(let P=0;P<$;P++)l(G,0,J,(y+P)*B,B),s(G,B,R,m,d);if(y+=$,u+=$,H){const P=parseInt(1e3*u/h);if(P!==p){if(g=H(null,u/h),g)break;p=P}}if(y<C)break;y=0,E=2;case 2:$=C-y,$>w&&($=w);for(let P=0;P<$;P++){const U=(2*R-1)*16,z=G[U]&C-1;f(J,z*B,G,B),s(G,B,R,m,d)}if(y+=$,u+=$,H){const P=parseInt(1e3*u/h);if(P!==p){if(g=H(null,u/h),g)break;p=P}}if(y<C)break;if(l(G,0,Z,b,B),_++,_<D){E=0;break}j=[];for(let P=0;P<Z.length;P++)j.push(Z[P]>>0&255),j.push(Z[P]>>8&255),j.push(Z[P]>>16&255),j.push(Z[P]>>24&255);const T=a(k,j,F);return H&&H(null,1,T),T}H&&v(N)};if(!H)for(;;){const $=N();if($!=null)return $}N()}const M={scrypt:function(k,I,C,R,D,F,H){return new Promise(function(j,Z){let G=0;H&&H(0),S(k,I,C,R,D,F,function(J,B,m){if(J)Z(J);else if(m)H&&G!==1&&H(1),j(new Uint8Array(m));else if(H&&B!==G)return G=B,H(B)})})},syncScrypt:function(k,I,C,R,D,F){return new Uint8Array(S(k,I,C,R,D,F))}};t.exports=M})()})(Fx);var RE=Fx.exports;const qh=Wn(RE);var PE=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(l){try{f(n.next(l))}catch(x){s(x)}}function c(l){try{f(n.throw(l))}catch(x){s(x)}}function f(l){l.done?a(l.value):i(l.value).then(o,c)}f((n=n.apply(t,e||[])).next())})};const Yl=new K(Ox);function Om(t){return t!=null&&t.mnemonic&&t.mnemonic.phrase}class OE extends Za{isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}}function BE(t,e,r){if(Ht(t,"crypto/cipher")==="aes-128-ctr"){const i=Ba(Ht(t,"crypto/cipherparams/iv")),a=new ui.Counter(i),s=new ui.ModeOfOperation.ctr(e,a);return te(s.decrypt(r))}return null}function Ux(t,e){const r=Ba(Ht(t,"crypto/ciphertext"));if(re(kt(Rt([e.slice(16,32),r]))).substring(2)!==Ht(t,"crypto/mac").toLowerCase())throw new Error("invalid password");const i=BE(t,e.slice(0,16),r);i||Yl.throwError("unsupported cipher",K.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const a=e.slice(32,64),s=Oa(i);if(t.address){let c=t.address.toLowerCase();if(c.substring(0,2)!=="0x"&&(c="0x"+c),At(c)!==s)throw new Error("address mismatch")}const o={_isKeystoreAccount:!0,address:s,privateKey:re(i)};if(Ht(t,"x-ethers/version")==="0.1"){const c=Ba(Ht(t,"x-ethers/mnemonicCiphertext")),f=Ba(Ht(t,"x-ethers/mnemonicCounter")),l=new ui.Counter(f),x=new ui.ModeOfOperation.ctr(a,l),A=Ht(t,"x-ethers/path")||ac,S=Ht(t,"x-ethers/locale")||"en",M=te(x.decrypt(c));try{const k=Hh(M,S),I=_n.fromMnemonic(k,null,S).derivePath(A);if(I.privateKey!=o.privateKey)throw new Error("mnemonic mismatch");o.mnemonic=I.mnemonic}catch(k){if(k.code!==K.errors.INVALID_ARGUMENT||k.argument!=="wordlist")throw k}}return new OE(o)}function $x(t,e,r,n,i){return te(Uh(t,e,r,n,i))}function LE(t,e,r,n,i){return Promise.resolve($x(t,e,r,n,i))}function Hx(t,e,r,n,i){const a=zh(e),s=Ht(t,"crypto/kdf");if(s&&typeof s=="string"){const o=function(c,f){return Yl.throwArgumentError("invalid key-derivation function parameters",c,f)};if(s.toLowerCase()==="scrypt"){const c=Ba(Ht(t,"crypto/kdfparams/salt")),f=parseInt(Ht(t,"crypto/kdfparams/n")),l=parseInt(Ht(t,"crypto/kdfparams/r")),x=parseInt(Ht(t,"crypto/kdfparams/p"));(!f||!l||!x)&&o("kdf",s),f&f-1&&o("N",f);const A=parseInt(Ht(t,"crypto/kdfparams/dklen"));return A!==32&&o("dklen",A),n(a,c,f,l,x,64,i)}else if(s.toLowerCase()==="pbkdf2"){const c=Ba(Ht(t,"crypto/kdfparams/salt"));let f=null;const l=Ht(t,"crypto/kdfparams/prf");l==="hmac-sha256"?f="sha256":l==="hmac-sha512"?f="sha512":o("prf",l);const x=parseInt(Ht(t,"crypto/kdfparams/c")),A=parseInt(Ht(t,"crypto/kdfparams/dklen"));return A!==32&&o("dklen",A),r(a,c,x,A,f)}}return Yl.throwArgumentError("unsupported key-derivation function","kdf",s)}function DE(t,e){const r=JSON.parse(t),n=Hx(r,e,$x,qh.syncScrypt);return Ux(r,n)}function FE(t,e,r){return PE(this,void 0,void 0,function*(){const n=JSON.parse(t),i=yield Hx(n,e,LE,qh.scrypt,r);return Ux(n,i)})}function UE(t,e,r,n){try{if(At(t.address)!==Oa(t.privateKey))throw new Error("address/privateKey mismatch");if(Om(t)){const I=t.mnemonic;if(_n.fromMnemonic(I.phrase,null,I.locale).derivePath(I.path||ac).privateKey!=t.privateKey)throw new Error("mnemonic mismatch")}}catch(I){return Promise.reject(I)}typeof r=="function"&&!n&&(n=r,r={}),r||(r={});const i=te(t.privateKey),a=zh(e);let s=null,o=null,c=null;if(Om(t)){const I=t.mnemonic;s=te(Rx(I.phrase,I.locale||"en")),o=I.path||ac,c=I.locale||"en"}let f=r.client;f||(f="ethers.js");let l=null;r.salt?l=te(r.salt):l=Io(32);let x=null;if(r.iv){if(x=te(r.iv),x.length!==16)throw new Error("invalid iv")}else x=Io(16);let A=null;if(r.uuid){if(A=te(r.uuid),A.length!==16)throw new Error("invalid uuid")}else A=Io(16);let S=1<<17,M=8,k=1;return r.scrypt&&(r.scrypt.N&&(S=r.scrypt.N),r.scrypt.r&&(M=r.scrypt.r),r.scrypt.p&&(k=r.scrypt.p)),qh.scrypt(a,l,S,M,k,64,n).then(I=>{I=te(I);const C=I.slice(0,16),R=I.slice(16,32),D=I.slice(32,64),F=new ui.Counter(x),H=new ui.ModeOfOperation.ctr(C,F),j=te(H.encrypt(i)),Z=kt(Rt([R,j])),G={address:t.address.substring(2).toLowerCase(),id:SE(A),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:re(x).substring(2)},ciphertext:re(j).substring(2),kdf:"scrypt",kdfparams:{salt:re(l).substring(2),n:S,dklen:32,p:k,r:M},mac:Z.substring(2)}};if(s){const J=Io(16),B=new ui.Counter(J),m=new ui.ModeOfOperation.ctr(D,B),d=te(m.encrypt(s)),h=new Date,u=h.getUTCFullYear()+"-"+mo(h.getUTCMonth()+1,2)+"-"+mo(h.getUTCDate(),2)+"T"+mo(h.getUTCHours(),2)+"-"+mo(h.getUTCMinutes(),2)+"-"+mo(h.getUTCSeconds(),2)+".0Z";G["x-ethers"]={client:f,gethFilename:"UTC--"+u+"--"+G.address,mnemonicCounter:re(J).substring(2),mnemonicCiphertext:re(d).substring(2),path:o,locale:c,version:"0.1"}}return JSON.stringify(G)})}function $E(t,e,r){if(Lx(t)){r&&r(0);const n=Bx(t,e);return r&&r(1),Promise.resolve(n)}return Dx(t)?FE(t,e,r):Promise.reject(new Error("invalid JSON wallet"))}function HE(t,e){if(Lx(t))return Bx(t,e);if(Dx(t))return DE(t,e);throw new Error("invalid JSON wallet")}const zE="wallet/5.7.0";var Bm=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(l){try{f(n.next(l))}catch(x){s(x)}}function c(l){try{f(n.throw(l))}catch(x){s(x)}}function f(l){l.done?a(l.value):i(l.value).then(o,c)}f((n=n.apply(t,e||[])).next())})};const cs=new K(zE);function qE(t){return t!=null&&_t(t.privateKey,32)&&t.address!=null}function jE(t){const e=t.mnemonic;return e&&e.phrase}class ka extends Ws{constructor(e,r){if(super(),qE(e)){const n=new ws(e.privateKey);if(Q(this,"_signingKey",()=>n),Q(this,"address",Oa(this.publicKey)),this.address!==At(e.address)&&cs.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),jE(e)){const i=e.mnemonic;Q(this,"_mnemonic",()=>({phrase:i.phrase,path:i.path||ac,locale:i.locale||"en"}));const a=this.mnemonic,s=_n.fromMnemonic(a.phrase,null,a.locale).derivePath(a.path);Oa(s.privateKey)!==this.address&&cs.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else Q(this,"_mnemonic",()=>null)}else{if(ws.isSigningKey(e))e.curve!=="secp256k1"&&cs.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),Q(this,"_signingKey",()=>e);else{typeof e=="string"&&e.match(/^[0-9a-f]*$/i)&&e.length===64&&(e="0x"+e);const n=new ws(e);Q(this,"_signingKey",()=>n)}Q(this,"_mnemonic",()=>null),Q(this,"address",Oa(this.publicKey))}r&&!Vs.isProvider(r)&&cs.throwArgumentError("invalid provider","provider",r),Q(this,"provider",r||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new ka(this,e)}signTransaction(e){return Ut(e).then(r=>{r.from!=null&&(At(r.from)!==this.address&&cs.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete r.from);const n=this._signingKey().signDigest(kt(Mm(r)));return Mm(r,n)})}signMessage(e){return Bm(this,void 0,void 0,function*(){return rm(this._signingKey().signDigest(Y9(e)))})}_signTypedData(e,r,n){return Bm(this,void 0,void 0,function*(){const i=yield Hr.resolveNames(e,r,n,a=>(this.provider==null&&cs.throwError("cannot resolve ENS names without a provider",K.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:a}),this.provider.resolveName(a)));return rm(this._signingKey().signDigest(Hr.hash(i.domain,r,i.value)))})}encrypt(e,r,n){if(typeof r=="function"&&!n&&(n=r,r={}),n&&typeof n!="function")throw new Error("invalid callback");return r||(r={}),UE(this,e,r,n)}static createRandom(e){let r=Io(16);e||(e={}),e.extraEntropy&&(r=te(er(kt(Rt([r,e.extraEntropy])),0,16)));const n=Hh(r,e.locale);return ka.fromMnemonic(n,e.path,e.locale)}static fromEncryptedJson(e,r,n){return $E(e,r,n).then(i=>new ka(i))}static fromEncryptedJsonSync(e,r){return new ka(HE(e,r))}static fromMnemonic(e,r,n){return r||(r=ac),new ka(_n.fromMnemonic(e,null,n).derivePath(r))}}const KE="networks/5.7.1",Lm=new K(KE);function GE(t){return t&&typeof t.renetwork=="function"}function Ti(t){const e=function(r,n){n==null&&(n={});const i=[];if(r.InfuraProvider&&n.infura!=="-")try{i.push(new r.InfuraProvider(t,n.infura))}catch{}if(r.EtherscanProvider&&n.etherscan!=="-")try{i.push(new r.EtherscanProvider(t,n.etherscan))}catch{}if(r.AlchemyProvider&&n.alchemy!=="-")try{i.push(new r.AlchemyProvider(t,n.alchemy))}catch{}if(r.PocketProvider&&n.pocket!=="-"){const a=["goerli","ropsten","rinkeby","sepolia"];try{const s=new r.PocketProvider(t,n.pocket);s.network&&a.indexOf(s.network.name)===-1&&i.push(s)}catch{}}if(r.CloudflareProvider&&n.cloudflare!=="-")try{i.push(new r.CloudflareProvider(t))}catch{}if(r.AnkrProvider&&n.ankr!=="-")try{const a=["ropsten"],s=new r.AnkrProvider(t,n.ankr);s.network&&a.indexOf(s.network.name)===-1&&i.push(s)}catch{}if(i.length===0)return null;if(r.FallbackProvider){let a=1;return n.quorum!=null?a=n.quorum:t==="homestead"&&(a=2),new r.FallbackProvider(i,a)}return i[0]};return e.renetwork=function(r){return Ti(r)},e}function Ou(t,e){const r=function(n,i){return n.JsonRpcProvider?new n.JsonRpcProvider(t,e):null};return r.renetwork=function(n){return Ou(t,n)},r}const Dm={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:Ti("homestead")},Fm={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:Ti("ropsten")},Um={chainId:63,name:"classicMordor",_defaultProvider:Ou("https://www.ethercluster.com/mordor","classicMordor")},Jc={unspecified:{chainId:0,name:"unspecified"},homestead:Dm,mainnet:Dm,morden:{chainId:2,name:"morden"},ropsten:Fm,testnet:Fm,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:Ti("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:Ti("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:Ti("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,name:"sepolia",_defaultProvider:Ti("sepolia")},classic:{chainId:61,name:"classic",_defaultProvider:Ou("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:Um,classicTestnet:Um,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:Ou("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:Ti("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:Ti("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function VE(t){if(t==null)return null;if(typeof t=="number"){for(const n in Jc){const i=Jc[n];if(i.chainId===t)return{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress||null,_defaultProvider:i._defaultProvider||null}}return{chainId:t,name:"unknown"}}if(typeof t=="string"){const n=Jc[t];return n==null?null:{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress,_defaultProvider:n._defaultProvider||null}}const e=Jc[t.name];if(!e)return typeof t.chainId!="number"&&Lm.throwArgumentError("invalid network chainId","network",t),t;t.chainId!==0&&t.chainId!==e.chainId&&Lm.throwArgumentError("network chainId mismatch","network",t);let r=t._defaultProvider||null;return r==null&&e._defaultProvider&&(GE(e._defaultProvider)?r=e._defaultProvider.renetwork(t):r=e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:r}}const WE="web/5.7.1";var JE=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(l){try{f(n.next(l))}catch(x){s(x)}}function c(l){try{f(n.throw(l))}catch(x){s(x)}}function f(l){l.done?a(l.value):i(l.value).then(o,c)}f((n=n.apply(t,e||[])).next())})};function YE(t,e){return JE(this,void 0,void 0,function*(){e==null&&(e={});const r={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client"),e.fetchOptions!=null){const s=e.fetchOptions;s.mode&&(r.mode=s.mode),s.cache&&(r.cache=s.cache),s.credentials&&(r.credentials=s.credentials),s.redirect&&(r.redirect=s.redirect),s.referrer&&(r.referrer=s.referrer)}const n=yield fetch(t,r),i=yield n.arrayBuffer(),a={};return n.headers.forEach?n.headers.forEach((s,o)=>{a[o.toLowerCase()]=s}):n.headers.keys().forEach(s=>{a[s.toLowerCase()]=n.headers.get(s)}),{headers:a,statusCode:n.status,statusMessage:n.statusText,body:te(new Uint8Array(i))}})}var ZE=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(l){try{f(n.next(l))}catch(x){s(x)}}function c(l){try{f(n.throw(l))}catch(x){s(x)}}function f(l){l.done?a(l.value):i(l.value).then(o,c)}f((n=n.apply(t,e||[])).next())})};const zn=new K(WE);function $m(t){return new Promise(e=>{setTimeout(e,t)})}function Wi(t,e){if(t==null)return null;if(typeof t=="string")return t;if(wf(t)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return Gs(t)}catch{}return re(t)}return t}function QE(t){return jt(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}function XE(t,e,r){const n=typeof t=="object"&&t.throttleLimit!=null?t.throttleLimit:12;zn.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);const i=typeof t=="object"?t.throttleCallback:null,a=typeof t=="object"&&typeof t.throttleSlotInterval=="number"?t.throttleSlotInterval:100;zn.assertArgument(a>0&&a%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",a);const s=typeof t=="object"?!!t.errorPassThrough:!1,o={};let c=null;const f={method:"GET"};let l=!1,x=2*60*1e3;if(typeof t=="string")c=t;else if(typeof t=="object"){if((t==null||t.url==null)&&zn.throwArgumentError("missing URL","connection.url",t),c=t.url,typeof t.timeout=="number"&&t.timeout>0&&(x=t.timeout),t.headers)for(const C in t.headers)o[C.toLowerCase()]={key:C,value:String(t.headers[C])},["if-none-match","if-modified-since"].indexOf(C.toLowerCase())>=0&&(l=!0);if(f.allowGzip=!!t.allowGzip,t.user!=null&&t.password!=null){c.substring(0,6)!=="https:"&&t.allowInsecureAuthentication!==!0&&zn.throwError("basic authentication requires a secure https url",K.errors.INVALID_ARGUMENT,{argument:"url",url:c,user:t.user,password:"[REDACTED]"});const C=t.user+":"+t.password;o.authorization={key:"Authorization",value:"Basic "+j2(jt(C))}}t.skipFetchSetup!=null&&(f.skipFetchSetup=!!t.skipFetchSetup),t.fetchOptions!=null&&(f.fetchOptions=tr(t.fetchOptions))}const A=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),S=c?c.match(A):null;if(S)try{const C={statusCode:200,statusMessage:"OK",headers:{"content-type":S[1]||"text/plain"},body:S[2]?q2(S[3]):QE(S[3])};let R=C.body;return r&&(R=r(C.body,C)),Promise.resolve(R)}catch(C){zn.throwError("processing response error",K.errors.SERVER_ERROR,{body:Wi(S[1],S[2]),error:C,requestBody:null,requestMethod:"GET",url:c})}e&&(f.method="POST",f.body=e,o["content-type"]==null&&(o["content-type"]={key:"Content-Type",value:"application/octet-stream"}),o["content-length"]==null&&(o["content-length"]={key:"Content-Length",value:String(e.length)}));const M={};Object.keys(o).forEach(C=>{const R=o[C];M[R.key]=R.value}),f.headers=M;const k=function(){let C=null;return{promise:new Promise(function(F,H){x&&(C=setTimeout(()=>{C!=null&&(C=null,H(zn.makeError("timeout",K.errors.TIMEOUT,{requestBody:Wi(f.body,M["content-type"]),requestMethod:f.method,timeout:x,url:c})))},x))}),cancel:function(){C!=null&&(clearTimeout(C),C=null)}}}(),I=function(){return ZE(this,void 0,void 0,function*(){for(let C=0;C<n;C++){let R=null;try{if(R=yield YE(c,f),C<n){if(R.statusCode===301||R.statusCode===302){const F=R.headers.location||"";if(f.method==="GET"&&F.match(/^https:/)){c=R.headers.location;continue}}else if(R.statusCode===429){let F=!0;if(i&&(F=yield i(C,c)),F){let H=0;const j=R.headers["retry-after"];typeof j=="string"&&j.match(/^[1-9][0-9]*$/)?H=parseInt(j)*1e3:H=a*parseInt(String(Math.random()*Math.pow(2,C))),yield $m(H);continue}}}}catch(F){R=F.response,R==null&&(k.cancel(),zn.throwError("missing response",K.errors.SERVER_ERROR,{requestBody:Wi(f.body,M["content-type"]),requestMethod:f.method,serverError:F,url:c}))}let D=R.body;if(l&&R.statusCode===304?D=null:!s&&(R.statusCode<200||R.statusCode>=300)&&(k.cancel(),zn.throwError("bad response",K.errors.SERVER_ERROR,{status:R.statusCode,headers:R.headers,body:Wi(D,R.headers?R.headers["content-type"]:null),requestBody:Wi(f.body,M["content-type"]),requestMethod:f.method,url:c})),r)try{const F=yield r(D,R);return k.cancel(),F}catch(F){if(F.throttleRetry&&C<n){let H=!0;if(i&&(H=yield i(C,c)),H){const j=a*parseInt(String(Math.random()*Math.pow(2,C)));yield $m(j);continue}}k.cancel(),zn.throwError("processing response error",K.errors.SERVER_ERROR,{body:Wi(D,R.headers?R.headers["content-type"]:null),error:F,requestBody:Wi(f.body,M["content-type"]),requestMethod:f.method,url:c})}return k.cancel(),D}return zn.throwError("failed response",K.errors.SERVER_ERROR,{requestBody:Wi(f.body,M["content-type"]),requestMethod:f.method,url:c})})}();return Promise.race([k.promise,I])}function jh(t,e,r){let n=(a,s)=>{let o=null;if(a!=null)try{o=JSON.parse(Gs(a))}catch(c){zn.throwError("invalid JSON",K.errors.SERVER_ERROR,{body:a,error:c})}return r&&(o=r(o,s)),o},i=null;if(e!=null){i=jt(e);const a=typeof t=="string"?{url:t}:tr(t);a.headers?Object.keys(a.headers).filter(o=>o.toLowerCase()==="content-type").length!==0||(a.headers=tr(a.headers),a.headers["content-type"]="application/json"):a.headers={"content-type":"application/json"},t=a}return XE(t,i,n)}function So(t,e){return e||(e={}),e=tr(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(r,n){let i=null,a=!1;const s=()=>a?!1:(a=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout(()=>{s()&&n(new Error("timeout"))},e.timeout));const o=e.retryLimit;let c=0;function f(){return t().then(function(l){if(l!==void 0)s()&&r(l);else if(e.oncePoll)e.oncePoll.once("poll",f);else if(e.onceBlock)e.onceBlock.once("block",f);else if(!a){if(c++,c>o){s()&&n(new Error("retry limit reached"));return}let x=e.interval*parseInt(String(Math.random()*Math.pow(2,c)));x<e.floor&&(x=e.floor),x>e.ceiling&&(x=e.ceiling),setTimeout(f,x)}return null},function(l){s()&&n(l)})}f()})}var Bu="qpzry9x8gf2tvdw0s3jn54khce6mua7l",Zl={};for(var Yc=0;Yc<Bu.length;Yc++){var Hd=Bu.charAt(Yc);if(Zl[Hd]!==void 0)throw new TypeError(Hd+" is ambiguous");Zl[Hd]=Yc}function _s(t){var e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function zx(t){for(var e=1,r=0;r<t.length;++r){var n=t.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+t+")";e=_s(e)^n>>5}for(e=_s(e),r=0;r<t.length;++r){var i=t.charCodeAt(r);e=_s(e)^i&31}return e}function eT(t,e,r){if(r=r||90,t.length+7+e.length>r)throw new TypeError("Exceeds length limit");t=t.toLowerCase();var n=zx(t);if(typeof n=="string")throw new Error(n);for(var i=t+"1",a=0;a<e.length;++a){var s=e[a];if(s>>5)throw new Error("Non 5-bit word");n=_s(n)^s,i+=Bu.charAt(s)}for(a=0;a<6;++a)n=_s(n);for(n^=1,a=0;a<6;++a){var o=n>>(5-a)*5&31;i+=Bu.charAt(o)}return i}function qx(t,e){if(e=e||90,t.length<8)return t+" too short";if(t.length>e)return"Exceeds length limit";var r=t.toLowerCase(),n=t.toUpperCase();if(t!==r&&t!==n)return"Mixed-case string "+t;t=r;var i=t.lastIndexOf("1");if(i===-1)return"No separator character for "+t;if(i===0)return"Missing prefix for "+t;var a=t.slice(0,i),s=t.slice(i+1);if(s.length<6)return"Data too short";var o=zx(a);if(typeof o=="string")return o;for(var c=[],f=0;f<s.length;++f){var l=s.charAt(f),x=Zl[l];if(x===void 0)return"Unknown character "+l;o=_s(o)^x,!(f+6>=s.length)&&c.push(x)}return o!==1?"Invalid checksum for "+t:{prefix:a,words:c}}function tT(){var t=qx.apply(null,arguments);if(typeof t=="object")return t}function rT(t){var e=qx.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function If(t,e,r,n){for(var i=0,a=0,s=(1<<r)-1,o=[],c=0;c<t.length;++c)for(i=i<<e|t[c],a+=e;a>=r;)a-=r,o.push(i>>a&s);if(n)a>0&&o.push(i<<r-a&s);else{if(a>=e)return"Excess padding";if(i<<r-a&s)return"Non-zero padding"}return o}function nT(t){var e=If(t,8,5,!0);if(Array.isArray(e))return e}function iT(t){var e=If(t,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function aT(t){var e=If(t,5,8,!1);if(Array.isArray(e))return e}function sT(t){var e=If(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}var oT={decodeUnsafe:tT,decode:rT,encode:eT,toWordsUnsafe:nT,toWords:iT,fromWordsUnsafe:aT,fromWords:sT};const Hm=Wn(oT),ma="providers/5.7.2",yo=new K(ma);class _e{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},r=this.address.bind(this),n=this.bigNumber.bind(this),i=this.blockTag.bind(this),a=this.data.bind(this),s=this.hash.bind(this),o=this.hex.bind(this),c=this.number.bind(this),f=this.type.bind(this),l=x=>this.data(x,!0);return e.transaction={hash:s,type:f,accessList:_e.allowNull(this.accessList.bind(this),null),blockHash:_e.allowNull(s,null),blockNumber:_e.allowNull(c,null),transactionIndex:_e.allowNull(c,null),confirmations:_e.allowNull(c,null),from:r,gasPrice:_e.allowNull(n),maxPriorityFeePerGas:_e.allowNull(n),maxFeePerGas:_e.allowNull(n),gasLimit:n,to:_e.allowNull(r,null),value:n,nonce:c,data:a,r:_e.allowNull(this.uint256),s:_e.allowNull(this.uint256),v:_e.allowNull(c),creates:_e.allowNull(r,null),raw:_e.allowNull(a)},e.transactionRequest={from:_e.allowNull(r),nonce:_e.allowNull(c),gasLimit:_e.allowNull(n),gasPrice:_e.allowNull(n),maxPriorityFeePerGas:_e.allowNull(n),maxFeePerGas:_e.allowNull(n),to:_e.allowNull(r),value:_e.allowNull(n),data:_e.allowNull(l),type:_e.allowNull(c),accessList:_e.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:c,blockNumber:c,transactionHash:s,address:r,topics:_e.arrayOf(s),data:a,logIndex:c,blockHash:s},e.receipt={to:_e.allowNull(this.address,null),from:_e.allowNull(this.address,null),contractAddress:_e.allowNull(r,null),transactionIndex:c,root:_e.allowNull(o),gasUsed:n,logsBloom:_e.allowNull(a),blockHash:s,transactionHash:s,logs:_e.arrayOf(this.receiptLog.bind(this)),blockNumber:c,confirmations:_e.allowNull(c,null),cumulativeGasUsed:n,effectiveGasPrice:_e.allowNull(n),status:_e.allowNull(c),type:f},e.block={hash:_e.allowNull(s),parentHash:s,number:c,timestamp:c,nonce:_e.allowNull(o),difficulty:this.difficulty.bind(this),gasLimit:n,gasUsed:n,miner:_e.allowNull(r),extraData:a,transactions:_e.allowNull(_e.arrayOf(s)),baseFeePerGas:_e.allowNull(n)},e.blockWithTransactions=tr(e.block),e.blockWithTransactions.transactions=_e.allowNull(_e.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:_e.allowNull(i,void 0),toBlock:_e.allowNull(i,void 0),blockHash:_e.allowNull(s,void 0),address:_e.allowNull(r,void 0),topics:_e.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:_e.allowNull(c),blockHash:_e.allowNull(s),transactionIndex:c,removed:_e.allowNull(this.boolean.bind(this)),address:r,data:_e.allowFalsish(a,"0x"),topics:_e.arrayOf(s),transactionHash:s,logIndex:c},e}accessList(e){return Xs(e||[])}number(e){return e==="0x"?0:ue.from(e).toNumber()}type(e){return e==="0x"||e==null?0:ue.from(e).toNumber()}bigNumber(e){return ue.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,r){return typeof e=="string"&&(!r&&e.substring(0,2)!=="0x"&&(e="0x"+e),_t(e))?e.toLowerCase():yo.throwArgumentError("invalid hash","value",e)}data(e,r){const n=this.hex(e,r);if(n.length%2!==0)throw new Error("invalid data; odd-length - "+e);return n}address(e){return At(e)}callAddress(e){if(!_t(e,32))return null;const r=At(er(e,12));return r===c9?null:r}contractAddress(e){return P2(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||_t(e))return Ch(e);throw new Error("invalid blockTag")}hash(e,r){const n=this.hex(e,r);return Ha(n)!==32?yo.throwArgumentError("invalid hash","value",e):n}difficulty(e){if(e==null)return null;const r=ue.from(e);try{return r.toNumber()}catch{}return null}uint256(e){if(!_t(e))throw new Error("invalid uint256");return Pt(e,32)}_block(e,r){e.author!=null&&e.miner==null&&(e.miner=e.author);const n=e._difficulty!=null?e._difficulty:e.difficulty,i=_e.check(r,e);return i._difficulty=n==null?null:ue.from(n),i}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return _e.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&ue.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const r=_e.check(this.formats.transaction,e);if(e.chainId!=null){let n=e.chainId;_t(n)&&(n=ue.from(n).toNumber()),r.chainId=n}else{let n=e.networkId;n==null&&r.v==null&&(n=e.chainId),_t(n)&&(n=ue.from(n).toNumber()),typeof n!="number"&&r.v!=null&&(n=(r.v-35)/2,n<0&&(n=0),n=parseInt(n)),typeof n!="number"&&(n=0),r.chainId=n}return r.blockHash&&r.blockHash.replace(/0/g,"")==="x"&&(r.blockHash=null),r}transaction(e){return sE(e)}receiptLog(e){return _e.check(this.formats.receiptLog,e)}receipt(e){const r=_e.check(this.formats.receipt,e);if(r.root!=null)if(r.root.length<=4){const n=ue.from(r.root).toNumber();n===0||n===1?(r.status!=null&&r.status!==n&&yo.throwArgumentError("alt-root-status/status mismatch","value",{root:r.root,status:r.status}),r.status=n,delete r.root):yo.throwArgumentError("invalid alt-root-status","value.root",r.root)}else r.root.length!==66&&yo.throwArgumentError("invalid root hash","value.root",r.root);return r.status!=null&&(r.byzantium=!0),r}topics(e){return Array.isArray(e)?e.map(r=>this.topics(r)):e!=null?this.hash(e,!0):null}filter(e){return _e.check(this.formats.filter,e)}filterLog(e){return _e.check(this.formats.filterLog,e)}static check(e,r){const n={};for(const i in e)try{const a=e[i](r[i]);a!==void 0&&(n[i]=a)}catch(a){throw a.checkKey=i,a.checkValue=r[i],a}return n}static allowNull(e,r){return function(n){return n==null?r:e(n)}}static allowFalsish(e,r){return function(n){return n?e(n):r}}static arrayOf(e){return function(r){if(!Array.isArray(r))throw new Error("not an array");const n=[];return r.forEach(function(i){n.push(e(i))}),n}}}let zm=!1;function cT(){zm||(zm=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var Ue=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(l){try{f(n.next(l))}catch(x){s(x)}}function c(l){try{f(n.throw(l))}catch(x){s(x)}}function f(l){l.done?a(l.value):i(l.value).then(o,c)}f((n=n.apply(t,e||[])).next())})};const Ze=new K(ma),uT=10;function qm(t){return t==null?"null":(Ha(t)!==32&&Ze.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function jm(t){for(t=t.slice();t.length>0&&t[t.length-1]==null;)t.pop();return t.map(e=>{if(Array.isArray(e)){const r={};e.forEach(i=>{r[qm(i)]=!0});const n=Object.keys(r);return n.sort(),n.join("|")}else return qm(e)}).join("&")}function fT(t){return t===""?[]:t.split(/&/g).map(e=>{if(e==="")return[];const r=e.split("|").map(n=>n==="null"?null:n);return r.length===1?r[0]:r})}function us(t){if(typeof t=="string"){if(t=t.toLowerCase(),Ha(t)===32)return"tx:"+t;if(t.indexOf(":")===-1)return t}else{if(Array.isArray(t))return"filter:*:"+jm(t);if(d_.isForkEvent(t))throw Ze.warn("not implemented"),new Error("not implemented");if(t&&typeof t=="object")return"filter:"+(t.address||"*")+":"+jm(t.topics||[])}throw new Error("invalid event - "+t)}function bo(){return new Date().getTime()}function Km(t){return new Promise(e=>{setTimeout(e,t)})}const dT=["block","network","pending","poll"];class lT{constructor(e,r,n){Q(this,"tag",e),Q(this,"listener",r),Q(this,"once",n),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const r=e[1],n=fT(e[2]),i={};return n.length>0&&(i.topics=n),r&&r!=="*"&&(i.address=r),i}pollable(){return this.tag.indexOf(":")>=0||dT.indexOf(this.tag)>=0}}const hT={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function zd(t){return Pt(ue.from(t).toHexString(),32)}function Gm(t){return nc.encode(Rt([t,er(Ka(Ka(t)),0,4)]))}const jx=new RegExp("^(ipfs)://(.*)$","i"),Vm=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),jx,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function uu(t,e){try{return Gs(sc(t,e))}catch{}return null}function sc(t,e){if(t==="0x")return null;const r=ue.from(er(t,e,e+32)).toNumber(),n=ue.from(er(t,r,r+32)).toNumber();return er(t,r+32,r+32+n)}function qd(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):Ze.throwArgumentError("unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}function Wm(t){const e=te(t);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function pT(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}function Kx(t){const e=[];let r=0;for(let n=0;n<t.length;n++)e.push(null),r+=32;for(let n=0;n<t.length;n++){const i=te(t[n]);e[n]=Wm(r),e.push(Wm(i.length)),e.push(pT(i)),r+=32+Math.ceil(i.length/32)*32}return Kr(e)}class Jm{constructor(e,r,n,i){Q(this,"provider",e),Q(this,"name",n),Q(this,"address",e.formatter.address(r)),Q(this,"_resolvedAddress",i)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>ue.from(e).eq(1)).catch(e=>{if(e.code===K.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,r){return Ue(this,void 0,void 0,function*(){const n={to:this.address,ccipReadEnabled:!0,data:Kr([e,iu(this.name),r||"0x"])};let i=!1;(yield this.supportsWildcard())&&(i=!0,n.data=Kr(["0x9061b923",Kx([W9(this.name),n.data])]));try{let a=yield this.provider.call(n);return te(a).length%32===4&&Ze.throwError("resolver threw error",K.errors.CALL_EXCEPTION,{transaction:n,data:a}),i&&(a=sc(a,0)),a}catch(a){if(a.code===K.errors.CALL_EXCEPTION)return null;throw a}})}_fetchBytes(e,r){return Ue(this,void 0,void 0,function*(){const n=yield this._fetch(e,r);return n!=null?sc(n,0):null})}_getAddress(e,r){const n=hT[String(e)];if(n==null&&Ze.throwError(`unsupported coin type: ${e}`,K.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),n.ilk==="eth")return this.provider.formatter.address(r);const i=te(r);if(n.p2pkh!=null){const a=r.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(a){const s=parseInt(a[1],16);if(a[2].length===s*2&&s>=1&&s<=75)return Gm(Rt([[n.p2pkh],"0x"+a[2]]))}}if(n.p2sh!=null){const a=r.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(a){const s=parseInt(a[1],16);if(a[2].length===s*2&&s>=1&&s<=75)return Gm(Rt([[n.p2sh],"0x"+a[2]]))}}if(n.prefix!=null){const a=i[1];let s=i[0];if(s===0?a!==20&&a!==32&&(s=-1):s=-1,s>=0&&i.length===2+a&&a>=1&&a<=75){const o=Hm.toWords(i.slice(2));return o.unshift(s),Hm.encode(n.prefix,o)}}return null}getAddress(e){return Ue(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const i=yield this._fetch("0x3b3b57de");return i==="0x"||i===F2?null:this.provider.formatter.callAddress(i)}catch(i){if(i.code===K.errors.CALL_EXCEPTION)return null;throw i}const r=yield this._fetchBytes("0xf1cb7e06",zd(e));if(r==null||r==="0x")return null;const n=this._getAddress(e,r);return n==null&&Ze.throwError("invalid or unsupported coin data",K.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:r}),n})}getAvatar(){return Ue(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const r=yield this.getText("avatar");if(r==null)return null;for(let n=0;n<Vm.length;n++){const i=r.match(Vm[n]);if(i==null)continue;const a=i[1].toLowerCase();switch(a){case"https":return e.push({type:"url",content:r}),{linkage:e,url:r};case"data":return e.push({type:"data",content:r}),{linkage:e,url:r};case"ipfs":return e.push({type:"ipfs",content:r}),{linkage:e,url:qd(r)};case"erc721":case"erc1155":{const s=a==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:a,content:r});const o=this._resolvedAddress||(yield this.getAddress()),c=(i[2]||"").split("/");if(c.length!==2)return null;const f=yield this.provider.formatter.address(c[0]),l=Pt(ue.from(c[1]).toHexString(),32);if(a==="erc721"){const k=this.provider.formatter.callAddress(yield this.provider.call({to:f,data:Kr(["0x6352211e",l])}));if(o!==k)return null;e.push({type:"owner",content:k})}else if(a==="erc1155"){const k=ue.from(yield this.provider.call({to:f,data:Kr(["0x00fdd58e",Pt(o,32),l])}));if(k.isZero())return null;e.push({type:"balance",content:k.toString()})}const x={to:this.provider.formatter.address(c[0]),data:Kr([s,l])};let A=uu(yield this.provider.call(x),0);if(A==null)return null;e.push({type:"metadata-url-base",content:A}),a==="erc1155"&&(A=A.replace("{id}",l.substring(2)),e.push({type:"metadata-url-expanded",content:A})),A.match(/^ipfs:/i)&&(A=qd(A)),e.push({type:"metadata-url",content:A});const S=yield jh(A);if(!S)return null;e.push({type:"metadata",content:JSON.stringify(S)});let M=S.image;if(typeof M!="string")return null;if(!M.match(/^(https:\/\/|data:)/i)){if(M.match(jx)==null)return null;e.push({type:"url-ipfs",content:M}),M=qd(M)}return e.push({type:"url",content:M}),{linkage:e,url:M}}}}}catch{}return null})}getContentHash(){return Ue(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const r=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const s=parseInt(r[3],16);if(r[4].length===s*2)return"ipfs://"+nc.encode("0x"+r[1])}const n=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const s=parseInt(n[3],16);if(n[4].length===s*2)return"ipns://"+nc.encode("0x"+n[1])}const i=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&i[1].length===32*2)return"bzz://"+i[1];const a=e.match(/^0x90b2c605([0-9a-f]*)$/);if(a&&a[1].length===34*2){const s={"=":"","+":"-","/":"_"};return"sia://"+j2("0x"+a[1]).replace(/[=+\/]/g,c=>s[c])}return Ze.throwError("invalid or unsupported content hash data",K.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return Ue(this,void 0,void 0,function*(){let r=jt(e);r=Rt([zd(64),zd(r.length),r]),r.length%32!==0&&(r=Rt([r,Pt("0x",32-e.length%32)]));const n=yield this._fetchBytes("0x59d1d43c",re(r));return n==null||n==="0x"?null:Gs(n)})}}let jd=null,mT=1;class yT extends Vs{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),Q(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(r=>{}),this._ready().catch(r=>{});else{const r=cn(new.target,"getNetwork")(e);r?(Q(this,"_network",r),this.emit("network",r,null)):Ze.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return Ue(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||Ze.throwError("no network detected",K.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:Q(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return So(()=>this._ready().then(e=>e,e=>{if(!(e.code===K.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return jd==null&&(jd=new _e),jd}static getNetwork(e){return VE(e??"homestead")}ccipReadFetch(e,r,n){return Ue(this,void 0,void 0,function*(){if(this.disableCcipRead||n.length===0)return null;const i=e.to.toLowerCase(),a=r.toLowerCase(),s=[];for(let o=0;o<n.length;o++){const c=n[o],f=c.replace("{sender}",i).replace("{data}",a),l=c.indexOf("{data}")>=0?null:JSON.stringify({data:a,sender:i}),x=yield jh({url:f,errorPassThrough:!0},l,(S,M)=>(S.status=M.statusCode,S));if(x.data)return x.data;const A=x.message||"unknown error";if(x.status>=400&&x.status<500)return Ze.throwError(`response not found during CCIP fetch: ${A}`,K.errors.SERVER_ERROR,{url:c,errorMessage:A});s.push(A)}return Ze.throwError(`error encountered during CCIP fetch: ${s.map(o=>JSON.stringify(o)).join(", ")}`,K.errors.SERVER_ERROR,{urls:n,errorMessages:s})})}_getInternalBlockNumber(e){return Ue(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const i=this._internalBlockNumber;try{const a=yield i;if(bo()-a.respTime<=e)return a.blockNumber;break}catch{if(this._internalBlockNumber===i)break}}const r=bo(),n=Ut({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(i=>null,i=>i)}).then(({blockNumber:i,networkError:a})=>{if(a)throw this._internalBlockNumber===n&&(this._internalBlockNumber=null),a;const s=bo();return i=ue.from(i).toNumber(),i<this._maxInternalBlockNumber&&(i=this._maxInternalBlockNumber),this._maxInternalBlockNumber=i,this._setFastBlockNumber(i),{blockNumber:i,reqTime:r,respTime:s}});return this._internalBlockNumber=n,n.catch(i=>{this._internalBlockNumber===n&&(this._internalBlockNumber=null)}),(yield n).blockNumber})}poll(){return Ue(this,void 0,void 0,function*(){const e=mT++,r=[];let n=null;try{n=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(i){this.emit("error",i);return}if(this._setFastBlockNumber(n),this.emit("poll",e,n),n===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)Ze.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${n})`),this.emit("error",Ze.makeError("network block skew detected",K.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(let i=this._emitted.block+1;i<=n;i++)this.emit("block",i);this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach(i=>{if(i==="block")return;const a=this._emitted[i];a!=="pending"&&n-a>12&&delete this._emitted[i]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=n-1),this._events.forEach(i=>{switch(i.type){case"tx":{const a=i.hash;let s=this.getTransactionReceipt(a).then(o=>(!o||o.blockNumber==null||(this._emitted["t:"+a]=o.blockNumber,this.emit(a,o)),null)).catch(o=>{this.emit("error",o)});r.push(s);break}case"filter":{if(!i._inflight){i._inflight=!0,i._lastBlockNumber===-2&&(i._lastBlockNumber=n-1);const a=i.filter;a.fromBlock=i._lastBlockNumber+1,a.toBlock=n;const s=a.toBlock-this._maxFilterBlockRange;s>a.fromBlock&&(a.fromBlock=s),a.fromBlock<0&&(a.fromBlock=0);const o=this.getLogs(a).then(c=>{i._inflight=!1,c.length!==0&&c.forEach(f=>{f.blockNumber>i._lastBlockNumber&&(i._lastBlockNumber=f.blockNumber),this._emitted["b:"+f.blockHash]=f.blockNumber,this._emitted["t:"+f.transactionHash]=f.blockNumber,this.emit(a,f)})}).catch(c=>{this.emit("error",c),i._inflight=!1});r.push(o)}break}}}),this._lastBlockNumber=n,Promise.all(r).then(()=>{this.emit("didPoll",e)}).catch(i=>{this.emit("error",i)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return Ue(this,void 0,void 0,function*(){return Ze.throwError("provider does not support network detection",K.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return Ue(this,void 0,void 0,function*(){const e=yield this._ready(),r=yield this.detectNetwork();if(e.chainId!==r.chainId){if(this.anyNetwork)return this._network=r,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",r,e),yield Km(0),this._network;const n=Ze.makeError("underlying network changed",K.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:r});throw this.emit("error",n),n}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=bo();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(r=>((this._fastBlockNumber==null||r>this._fastBlockNumber)&&(this._fastBlockNumber=r),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=bo(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,r,n){return Ue(this,void 0,void 0,function*(){return this._waitForTransaction(e,r??1,n||0,null)})}_waitForTransaction(e,r,n,i){return Ue(this,void 0,void 0,function*(){const a=yield this.getTransactionReceipt(e);return(a?a.confirmations:0)>=r?a:new Promise((s,o)=>{const c=[];let f=!1;const l=function(){return f?!0:(f=!0,c.forEach(A=>{A()}),!1)},x=A=>{A.confirmations<r||l()||s(A)};if(this.on(e,x),c.push(()=>{this.removeListener(e,x)}),i){let A=i.startBlock,S=null;const M=k=>Ue(this,void 0,void 0,function*(){f||(yield Km(1e3),this.getTransactionCount(i.from).then(I=>Ue(this,void 0,void 0,function*(){if(!f){if(I<=i.nonce)A=k;else{{const C=yield this.getTransaction(e);if(C&&C.blockNumber!=null)return}for(S==null&&(S=A-3,S<i.startBlock&&(S=i.startBlock));S<=k;){if(f)return;const C=yield this.getBlockWithTransactions(S);for(let R=0;R<C.transactions.length;R++){const D=C.transactions[R];if(D.hash===e)return;if(D.from===i.from&&D.nonce===i.nonce){if(f)return;const F=yield this.waitForTransaction(D.hash,r);if(l())return;let H="replaced";D.data===i.data&&D.to===i.to&&D.value.eq(i.value)?H="repriced":D.data==="0x"&&D.from===D.to&&D.value.isZero()&&(H="cancelled"),o(Ze.makeError("transaction was replaced",K.errors.TRANSACTION_REPLACED,{cancelled:H==="replaced"||H==="cancelled",reason:H,replacement:this._wrapTransaction(D),hash:e,receipt:F}));return}}S++}}f||this.once("block",M)}}),I=>{f||this.once("block",M)}))});if(f)return;this.once("block",M),c.push(()=>{this.removeListener("block",M)})}if(typeof n=="number"&&n>0){const A=setTimeout(()=>{l()||o(Ze.makeError("timeout exceeded",K.errors.TIMEOUT,{timeout:n}))},n);A.unref&&A.unref(),c.push(()=>{clearTimeout(A)})}})})}getBlockNumber(){return Ue(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return Ue(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return ue.from(e)}catch(r){return Ze.throwError("bad result from backend",K.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:r})}})}getBalance(e,r){return Ue(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Ut({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getBalance",n);try{return ue.from(i)}catch(a){return Ze.throwError("bad result from backend",K.errors.SERVER_ERROR,{method:"getBalance",params:n,result:i,error:a})}})}getTransactionCount(e,r){return Ue(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Ut({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getTransactionCount",n);try{return ue.from(i).toNumber()}catch(a){return Ze.throwError("bad result from backend",K.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:i,error:a})}})}getCode(e,r){return Ue(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Ut({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getCode",n);try{return re(i)}catch(a){return Ze.throwError("bad result from backend",K.errors.SERVER_ERROR,{method:"getCode",params:n,result:i,error:a})}})}getStorageAt(e,r,n){return Ue(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield Ut({address:this._getAddress(e),blockTag:this._getBlockTag(n),position:Promise.resolve(r).then(s=>Ch(s))}),a=yield this.perform("getStorageAt",i);try{return re(a)}catch(s){return Ze.throwError("bad result from backend",K.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:a,error:s})}})}_wrapTransaction(e,r,n){if(r!=null&&Ha(r)!==32)throw new Error("invalid response - sendTransaction");const i=e;return r!=null&&e.hash!==r&&Ze.throwError("Transaction hash mismatch from Provider.sendTransaction.",K.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:r}),i.wait=(a,s)=>Ue(this,void 0,void 0,function*(){a==null&&(a=1),s==null&&(s=0);let o;a!==0&&n!=null&&(o={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:n});const c=yield this._waitForTransaction(e.hash,a,s,o);return c==null&&a===0?null:(this._emitted["t:"+e.hash]=c.blockNumber,c.status===0&&Ze.throwError("transaction failed",K.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:c}),c)}),i}sendTransaction(e){return Ue(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Promise.resolve(e).then(a=>re(a)),n=this.formatter.transaction(e);n.confirmations==null&&(n.confirmations=0);const i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const a=yield this.perform("sendTransaction",{signedTransaction:r});return this._wrapTransaction(n,a,i)}catch(a){throw a.transaction=n,a.transactionHash=n.hash,a}})}_getTransactionRequest(e){return Ue(this,void 0,void 0,function*(){const r=yield e,n={};return["from","to"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(a=>a?this._getAddress(a):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(a=>a?ue.from(a):null))}),["type"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(a=>a??null))}),r.accessList&&(n.accessList=this.formatter.accessList(r.accessList)),["data"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(a=>a?re(a):null))}),this.formatter.transactionRequest(yield Ut(n))})}_getFilter(e){return Ue(this,void 0,void 0,function*(){e=yield e;const r={};return e.address!=null&&(r.address=this._getAddress(e.address)),["blockHash","topics"].forEach(n=>{e[n]!=null&&(r[n]=e[n])}),["fromBlock","toBlock"].forEach(n=>{e[n]!=null&&(r[n]=this._getBlockTag(e[n]))}),this.formatter.filter(yield Ut(r))})}_call(e,r,n){return Ue(this,void 0,void 0,function*(){n>=uT&&Ze.throwError("CCIP read exceeded maximum redirections",K.errors.SERVER_ERROR,{redirects:n,transaction:e});const i=e.to,a=yield this.perform("call",{transaction:e,blockTag:r});if(n>=0&&r==="latest"&&i!=null&&a.substring(0,10)==="0x556f1830"&&Ha(a)%32===4)try{const s=er(a,4),o=er(s,0,32);ue.from(o).eq(i)||Ze.throwError("CCIP Read sender did not match",K.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:a});const c=[],f=ue.from(er(s,32,64)).toNumber(),l=ue.from(er(s,f,f+32)).toNumber(),x=er(s,f+32);for(let C=0;C<l;C++){const R=uu(x,C*32);R==null&&Ze.throwError("CCIP Read contained corrupt URL string",K.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:a}),c.push(R)}const A=sc(s,64);ue.from(er(s,100,128)).isZero()||Ze.throwError("CCIP Read callback selector included junk",K.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:a});const S=er(s,96,100),M=sc(s,128),k=yield this.ccipReadFetch(e,A,c);k==null&&Ze.throwError("CCIP Read disabled or provided no URLs",K.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:a});const I={to:i,data:Kr([S,Kx([k,M])])};return this._call(I,r,n+1)}catch(s){if(s.code===K.errors.SERVER_ERROR)throw s}try{return re(a)}catch(s){return Ze.throwError("bad result from backend",K.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:r},result:a,error:s})}})}call(e,r){return Ue(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Ut({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(r),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(n.transaction,n.blockTag,n.ccipReadEnabled?0:-1)})}estimateGas(e){return Ue(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Ut({transaction:this._getTransactionRequest(e)}),n=yield this.perform("estimateGas",r);try{return ue.from(n)}catch(i){return Ze.throwError("bad result from backend",K.errors.SERVER_ERROR,{method:"estimateGas",params:r,result:n,error:i})}})}_getAddress(e){return Ue(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&Ze.throwArgumentError("invalid address or ENS name","name",e);const r=yield this.resolveName(e);return r==null&&Ze.throwError("ENS name not configured",K.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),r})}_getBlock(e,r){return Ue(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let n=-128;const i={includeTransactions:!!r};if(_t(e,32))i.blockHash=e;else try{i.blockTag=yield this._getBlockTag(e),_t(i.blockTag)&&(n=parseInt(i.blockTag.substring(2),16))}catch{Ze.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return So(()=>Ue(this,void 0,void 0,function*(){const a=yield this.perform("getBlock",i);if(a==null)return i.blockHash!=null&&this._emitted["b:"+i.blockHash]==null||i.blockTag!=null&&n>this._emitted.block?null:void 0;if(r){let s=null;for(let c=0;c<a.transactions.length;c++){const f=a.transactions[c];if(f.blockNumber==null)f.confirmations=0;else if(f.confirmations==null){s==null&&(s=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let l=s-f.blockNumber+1;l<=0&&(l=1),f.confirmations=l}}const o=this.formatter.blockWithTransactions(a);return o.transactions=o.transactions.map(c=>this._wrapTransaction(c)),o}return this.formatter.block(a)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return Ue(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return So(()=>Ue(this,void 0,void 0,function*(){const n=yield this.perform("getTransaction",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;const i=this.formatter.transactionResponse(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let s=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;s<=0&&(s=1),i.confirmations=s}return this._wrapTransaction(i)}),{oncePoll:this})})}getTransactionReceipt(e){return Ue(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return So(()=>Ue(this,void 0,void 0,function*(){const n=yield this.perform("getTransactionReceipt",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;if(n.blockHash==null)return;const i=this.formatter.receipt(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let s=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;s<=0&&(s=1),i.confirmations=s}return i}),{oncePoll:this})})}getLogs(e){return Ue(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Ut({filter:this._getFilter(e)}),n=yield this.perform("getLogs",r);return n.forEach(i=>{i.removed==null&&(i.removed=!1)}),_e.arrayOf(this.formatter.filterLog.bind(this.formatter))(n)})}getEtherPrice(){return Ue(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return Ue(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&Ze.throwArgumentError("invalid BlockTag","blockTag",e);let r=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return r+=e,r<0&&(r=0),this.formatter.blockTag(r)}return this.formatter.blockTag(e)})}getResolver(e){return Ue(this,void 0,void 0,function*(){let r=e;for(;;){if(r===""||r==="."||e!=="eth"&&r==="eth")return null;const n=yield this._getResolver(r,"getResolver");if(n!=null){const i=new Jm(this,n,e);return r!==e&&!(yield i.supportsWildcard())?null:i}r=r.split(".").slice(1).join(".")}})}_getResolver(e,r){return Ue(this,void 0,void 0,function*(){r==null&&(r="ENS");const n=yield this.getNetwork();n.ensAddress||Ze.throwError("network does not support ENS",K.errors.UNSUPPORTED_OPERATION,{operation:r,network:n.name});try{const i=yield this.call({to:n.ensAddress,data:"0x0178b8bf"+iu(e).substring(2)});return this.formatter.callAddress(i)}catch{}return null})}resolveName(e){return Ue(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(n){if(_t(e))throw n}typeof e!="string"&&Ze.throwArgumentError("invalid ENS name","name",e);const r=yield this.getResolver(e);return r?yield r.getAddress():null})}lookupAddress(e){return Ue(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const r=e.substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(r,"lookupAddress");if(n==null)return null;const i=uu(yield this.call({to:n,data:"0x691f3431"+iu(r).substring(2)}),0);return(yield this.resolveName(i))!=e?null:i})}getAvatar(e){return Ue(this,void 0,void 0,function*(){let r=null;if(_t(e)){const a=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",s=yield this._getResolver(a,"getAvatar");if(!s)return null;r=new Jm(this,s,a);try{const o=yield r.getAvatar();if(o)return o.url}catch(o){if(o.code!==K.errors.CALL_EXCEPTION)throw o}try{const o=uu(yield this.call({to:s,data:"0x691f3431"+iu(a).substring(2)}),0);r=yield this.getResolver(o)}catch(o){if(o.code!==K.errors.CALL_EXCEPTION)throw o;return null}}else if(r=yield this.getResolver(e),!r)return null;const n=yield r.getAvatar();return n==null?null:n.url})}perform(e,r){return Ze.throwError(e+" not implemented",K.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_addEventListener(e,r,n){const i=new lT(us(e),r,n);return this._events.push(i),this._startEvent(i),this}on(e,r){return this._addEventListener(e,r,!1)}once(e,r){return this._addEventListener(e,r,!0)}emit(e,...r){let n=!1,i=[],a=us(e);return this._events=this._events.filter(s=>s.tag!==a?!0:(setTimeout(()=>{s.listener.apply(this,r)},0),n=!0,s.once?(i.push(s),!1):!0)),i.forEach(s=>{this._stopEvent(s)}),n}listenerCount(e){if(!e)return this._events.length;let r=us(e);return this._events.filter(n=>n.tag===r).length}listeners(e){if(e==null)return this._events.map(n=>n.listener);let r=us(e);return this._events.filter(n=>n.tag===r).map(n=>n.listener)}off(e,r){if(r==null)return this.removeAllListeners(e);const n=[];let i=!1,a=us(e);return this._events=this._events.filter(s=>s.tag!==a||s.listener!=r||i?!0:(i=!0,n.push(s),!1)),n.forEach(s=>{this._stopEvent(s)}),this}removeAllListeners(e){let r=[];if(e==null)r=this._events,this._events=[];else{const n=us(e);this._events=this._events.filter(i=>i.tag!==n?!0:(r.push(i),!1))}return r.forEach(n=>{this._stopEvent(n)}),this}}var Ei=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(l){try{f(n.next(l))}catch(x){s(x)}}function c(l){try{f(n.throw(l))}catch(x){s(x)}}function f(l){l.done?a(l.value):i(l.value).then(o,c)}f((n=n.apply(t,e||[])).next())})};const Yt=new K(ma),bT=["call","estimateGas"];function Fo(t,e){if(t==null)return null;if(typeof t.message=="string"&&t.message.match("reverted")){const r=_t(t.data)?t.data:null;if(!e||r)return{message:t.message,data:r}}if(typeof t=="object"){for(const r in t){const n=Fo(t[r],e);if(n)return n}return null}if(typeof t=="string")try{return Fo(JSON.parse(t),e)}catch{}return null}function Gx(t,e,r){const n=r.transaction||r.signedTransaction;if(t==="call"){const a=Fo(e,!0);if(a)return a.data;Yt.throwError("missing revert data in call exception; Transaction reverted without a reason string",K.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:e})}if(t==="estimateGas"){let a=Fo(e.body,!1);a==null&&(a=Fo(e,!1)),a&&Yt.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",K.errors.UNPREDICTABLE_GAS_LIMIT,{reason:a.message,method:t,transaction:n,error:e})}let i=e.message;throw e.code===K.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?i=e.error.message:typeof e.body=="string"?i=e.body:typeof e.responseText=="string"&&(i=e.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&Yt.throwError("insufficient funds for intrinsic transaction cost",K.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:n}),i.match(/nonce (is )?too low/i)&&Yt.throwError("nonce has already been used",K.errors.NONCE_EXPIRED,{error:e,method:t,transaction:n}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&Yt.throwError("replacement fee too low",K.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:n}),i.match(/only replay-protected/i)&&Yt.throwError("legacy pre-eip-155 transactions not supported",K.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:n}),bT.indexOf(t)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&Yt.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",K.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:n}),e}function Ym(t){return new Promise(function(e){setTimeout(e,t)})}function xT(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function xo(t){return t&&t.toLowerCase()}const Ql={};class Vx extends Ws{constructor(e,r,n){if(super(),e!==Ql)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");Q(this,"provider",r),n==null&&(n=0),typeof n=="string"?(Q(this,"_address",this.provider.formatter.address(n)),Q(this,"_index",null)):typeof n=="number"?(Q(this,"_index",n),Q(this,"_address",null)):Yt.throwArgumentError("invalid address or index","addressOrIndex",n)}connect(e){return Yt.throwError("cannot alter JSON-RPC Signer connection",K.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new gT(Ql,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&Yt.throwError("unknown account #"+this._index,K.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=tr(e);const r=this.getAddress().then(n=>(n&&(n=n.toLowerCase()),n));if(e.gasLimit==null){const n=tr(e);n.from=r,e.gasLimit=this.provider.estimateGas(n)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(n=>Ei(this,void 0,void 0,function*(){if(n==null)return null;const i=yield this.provider.resolveName(n);return i==null&&Yt.throwArgumentError("provided ENS name resolves to null","tx.to",n),i}))),Ut({tx:Ut(e),sender:r}).then(({tx:n,sender:i})=>{n.from!=null?n.from.toLowerCase()!==i&&Yt.throwArgumentError("from address mismatch","transaction",e):n.from=i;const a=this.provider.constructor.hexlifyTransaction(n,{from:!0});return this.provider.send("eth_sendTransaction",[a]).then(s=>s,s=>(typeof s.message=="string"&&s.message.match(/user denied/i)&&Yt.throwError("user rejected transaction",K.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:n}),Gx("sendTransaction",s,a)))})}signTransaction(e){return Yt.throwError("signing transactions is unsupported",K.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return Ei(this,void 0,void 0,function*(){const r=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),n=yield this.sendUncheckedTransaction(e);try{return yield So(()=>Ei(this,void 0,void 0,function*(){const i=yield this.provider.getTransaction(n);if(i!==null)return this.provider._wrapTransaction(i,n,r)}),{oncePoll:this.provider})}catch(i){throw i.transactionHash=n,i}})}signMessage(e){return Ei(this,void 0,void 0,function*(){const r=typeof e=="string"?jt(e):e,n=yield this.getAddress();try{return yield this.provider.send("personal_sign",[re(r),n.toLowerCase()])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&Yt.throwError("user rejected signing",K.errors.ACTION_REJECTED,{action:"signMessage",from:n,messageData:e}),i}})}_legacySignMessage(e){return Ei(this,void 0,void 0,function*(){const r=typeof e=="string"?jt(e):e,n=yield this.getAddress();try{return yield this.provider.send("eth_sign",[n.toLowerCase(),re(r)])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&Yt.throwError("user rejected signing",K.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:n,messageData:e}),i}})}_signTypedData(e,r,n){return Ei(this,void 0,void 0,function*(){const i=yield Hr.resolveNames(e,r,n,s=>this.provider.resolveName(s)),a=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[a.toLowerCase(),JSON.stringify(Hr.getPayload(i.domain,r,i.value))])}catch(s){throw typeof s.message=="string"&&s.message.match(/user denied/i)&&Yt.throwError("user rejected signing",K.errors.ACTION_REJECTED,{action:"_signTypedData",from:a,messageData:{domain:i.domain,types:r,value:i.value}}),s}})}unlock(e){return Ei(this,void 0,void 0,function*(){const r=this.provider,n=yield this.getAddress();return r.send("personal_unlockAccount",[n.toLowerCase(),e,null])})}}class gT extends Vx{sendTransaction(e){return this.sendUncheckedTransaction(e).then(r=>({hash:r,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:n=>this.provider.waitForTransaction(r,n)}))}}const vT={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class Sf extends yT{constructor(e,r){let n=r;n==null&&(n=new Promise((i,a)=>{setTimeout(()=>{this.detectNetwork().then(s=>{i(s)},s=>{a(s)})},0)})),super(n),e||(e=cn(this.constructor,"defaultUrl")()),typeof e=="string"?Q(this,"connection",Object.freeze({url:e})):Q(this,"connection",Object.freeze(tr(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return Ei(this,void 0,void 0,function*(){yield Ym(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const r=cn(this.constructor,"getNetwork");try{return r(ue.from(e).toNumber())}catch(n){return Yt.throwError("could not detect network",K.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:n})}}return Yt.throwError("could not detect network",K.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new Vx(Ql,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(r=>this.formatter.address(r)))}send(e,r){const n={method:e,params:r,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:Pi(n),provider:this});const i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];const a=jh(this.connection,JSON.stringify(n),xT).then(s=>(this.emit("debug",{action:"response",request:n,response:s,provider:this}),s),s=>{throw this.emit("debug",{action:"response",error:s,request:n,provider:this}),s});return i&&(this._cache[e]=a,setTimeout(()=>{this._cache[e]=null},0)),a}prepareRequest(e,r){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[xo(r.address),r.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[xo(r.address),r.blockTag]];case"getCode":return["eth_getCode",[xo(r.address),r.blockTag]];case"getStorageAt":return["eth_getStorageAt",[xo(r.address),Pt(r.position,32),r.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[r.signedTransaction]];case"getBlock":return r.blockTag?["eth_getBlockByNumber",[r.blockTag,!!r.includeTransactions]]:r.blockHash?["eth_getBlockByHash",[r.blockHash,!!r.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[r.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[r.transactionHash]];case"call":return["eth_call",[cn(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0}),r.blockTag]];case"estimateGas":return["eth_estimateGas",[cn(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0})]];case"getLogs":return r.filter&&r.filter.address!=null&&(r.filter.address=xo(r.filter.address)),["eth_getLogs",[r.filter]]}return null}perform(e,r){return Ei(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const i=r.transaction;if(i&&i.type!=null&&ue.from(i.type).isZero()&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const a=yield this.getFeeData();a.maxFeePerGas==null&&a.maxPriorityFeePerGas==null&&(r=tr(r),r.transaction=tr(i),delete r.transaction.type)}}const n=this.prepareRequest(e,r);n==null&&Yt.throwError(e+" not implemented",K.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(n[0],n[1])}catch(i){return Gx(e,i,r)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,r=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=r,r.then(function(n){function i(){e.send("eth_getFilterChanges",[n]).then(function(a){if(e._pendingFilter!=r)return null;let s=Promise.resolve();return a.forEach(function(o){e._emitted["t:"+o.toLowerCase()]="pending",s=s.then(function(){return e.getTransaction(o).then(function(c){return e.emit("pending",c),null})})}),s.then(function(){return Ym(1e3)})}).then(function(){if(e._pendingFilter!=r){e.send("eth_uninstallFilter",[n]);return}return setTimeout(function(){i()},0),null}).catch(a=>{})}return i(),n}).catch(n=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,r){const n=tr(vT);if(r)for(const a in r)r[a]&&(n[a]=!0);E2(e,n);const i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(a){if(e[a]==null)return;const s=Ch(ue.from(e[a]));a==="gasLimit"&&(a="gas"),i[a]=s}),["from","to","data"].forEach(function(a){e[a]!=null&&(i[a]=re(e[a]))}),e.accessList&&(i.accessList=Xs(e.accessList)),i}}let Uo=null;try{if(Uo=WebSocket,Uo==null)throw new Error("inject please")}catch{const e=new K(ma);Uo=function(){e.throwError("WebSockets not supported in this environment",K.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var Kd=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(l){try{f(n.next(l))}catch(x){s(x)}}function c(l){try{f(n.throw(l))}catch(x){s(x)}}function f(l){l.done?a(l.value):i(l.value).then(o,c)}f((n=n.apply(t,e||[])).next())})};const Zc=new K(ma);let wT=1;class _T extends Sf{constructor(e,r){r==="any"&&Zc.throwError("WebSocketProvider does not support 'any' network yet",K.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),typeof e=="string"?super(e,r):super("_websocket",r),this._pollingInterval=-1,this._wsReady=!1,typeof e=="string"?Q(this,"_websocket",new Uo(this.connection.url)):Q(this,"_websocket",e),Q(this,"_requests",{}),Q(this,"_subs",{}),Q(this,"_subIds",{}),Q(this,"_detectNetwork",super.detectNetwork()),this.websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach(i=>{this.websocket.send(this._requests[i].payload)})},this.websocket.onmessage=i=>{const a=i.data,s=JSON.parse(a);if(s.id!=null){const o=String(s.id),c=this._requests[o];if(delete this._requests[o],s.result!==void 0)c.callback(null,s.result),this.emit("debug",{action:"response",request:JSON.parse(c.payload),response:s.result,provider:this});else{let f=null;s.error?(f=new Error(s.error.message||"unknown error"),Q(f,"code",s.error.code||null),Q(f,"response",a)):f=new Error("unknown error"),c.callback(f,void 0),this.emit("debug",{action:"response",error:f,request:JSON.parse(c.payload),provider:this})}}else if(s.method==="eth_subscription"){const o=this._subs[s.params.subscription];o&&o.processFunc(s.params.result)}else console.warn("this should not happen")};const n=setInterval(()=>{this.emit("poll")},1e3);n.unref&&n.unref()}get websocket(){return this._websocket}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(e){Zc.throwError("cannot reset events block on WebSocketProvider",K.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(e){Zc.throwError("cannot set polling interval on WebSocketProvider",K.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return Kd(this,void 0,void 0,function*(){return null})}set polling(e){e&&Zc.throwError("cannot set polling on WebSocketProvider",K.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(e,r){const n=wT++;return new Promise((i,a)=>{function s(c,f){return c?a(c):i(f)}const o=JSON.stringify({method:e,params:r,id:n,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(o),provider:this}),this._requests[String(n)]={callback:s,payload:o},this._wsReady&&this.websocket.send(o)})}static defaultUrl(){return"ws://localhost:8546"}_subscribe(e,r,n){return Kd(this,void 0,void 0,function*(){let i=this._subIds[e];i==null&&(i=Promise.all(r).then(s=>this.send("eth_subscribe",s)),this._subIds[e]=i);const a=yield i;this._subs[a]={tag:e,processFunc:n}})}_startEvent(e){switch(e.type){case"block":this._subscribe("block",["newHeads"],r=>{const n=ue.from(r.number).toNumber();this._emitted.block=n,this.emit("block",n)});break;case"pending":this._subscribe("pending",["newPendingTransactions"],r=>{this.emit("pending",r)});break;case"filter":this._subscribe(e.tag,["logs",this._getFilter(e.filter)],r=>{r.removed==null&&(r.removed=!1),this.emit(e.filter,this.formatter.filterLog(r))});break;case"tx":{const r=n=>{const i=n.hash;this.getTransactionReceipt(i).then(a=>{a&&this.emit(i,a)})};r(e),this._subscribe("tx",["newHeads"],n=>{this._events.filter(i=>i.type==="tx").forEach(r)});break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",e);break}}_stopEvent(e){let r=e.tag;if(e.type==="tx"){if(this._events.filter(i=>i.type==="tx").length)return;r="tx"}else if(this.listenerCount(e.event))return;const n=this._subIds[r];n&&(delete this._subIds[r],n.then(i=>{this._subs[i]&&(delete this._subs[i],this.send("eth_unsubscribe",[i]))}))}destroy(){return Kd(this,void 0,void 0,function*(){this.websocket.readyState===Uo.CONNECTING&&(yield new Promise(e=>{this.websocket.onopen=function(){e(!0)},this.websocket.onerror=function(){e(!1)}})),this.websocket.close(1e3)})}}var AT=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(l){try{f(n.next(l))}catch(x){s(x)}}function c(l){try{f(n.throw(l))}catch(x){s(x)}}function f(l){l.done?a(l.value):i(l.value).then(o,c)}f((n=n.apply(t,e||[])).next())})};const Co=new K(ma);class ET extends Sf{detectNetwork(){const e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return AT(this,void 0,void 0,function*(){let r=this.network;return r==null&&(r=yield e.detectNetwork.call(this),r||Co.throwError("no network detected",K.errors.UNKNOWN_ERROR,{}),this._network==null&&(Q(this,"_network",r),this.emit("network",r,null))),r})}}class Kh extends ET{constructor(e,r){Co.checkAbstract(new.target,Kh),e=cn(new.target,"getNetwork")(e),r=cn(new.target,"getApiKey")(r);const n=cn(new.target,"getUrl")(e,r);super(n,e),typeof r=="string"?Q(this,"apiKey",r):r!=null&&Object.keys(r).forEach(i=>{Q(this,i,r[i])})}_startPending(){Co.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(e){return Co.throwError("API provider does not support signing",K.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(e){return e}static getUrl(e,r){return Co.throwError("not implemented; sub-classes must override getUrl",K.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}const fu=new K(ma),No="84842078b09946638c03157f83405213";class TT extends _T{constructor(e,r){const n=new Wx(e,r),i=n.connection;i.password&&fu.throwError("INFURA WebSocket project secrets unsupported",K.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"});const a=i.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(a,e),Q(this,"apiKey",n.projectId),Q(this,"projectId",n.projectId),Q(this,"projectSecret",n.projectSecret)}isCommunityResource(){return this.projectId===No}}class Wx extends Kh{static getWebSocketProvider(e,r){return new TT(e,r)}static getApiKey(e){const r={apiKey:No,projectId:No,projectSecret:null};return e==null||(typeof e=="string"?r.projectId=e:e.projectSecret!=null?(fu.assertArgument(typeof e.projectId=="string","projectSecret requires a projectId","projectId",e.projectId),fu.assertArgument(typeof e.projectSecret=="string","invalid projectSecret","projectSecret","[REDACTED]"),r.projectId=e.projectId,r.projectSecret=e.projectSecret):e.projectId&&(r.projectId=e.projectId),r.apiKey=r.projectId),r}static getUrl(e,r){let n=null;switch(e?e.name:"unknown"){case"homestead":n="mainnet.infura.io";break;case"goerli":n="goerli.infura.io";break;case"sepolia":n="sepolia.infura.io";break;case"matic":n="polygon-mainnet.infura.io";break;case"maticmum":n="polygon-mumbai.infura.io";break;case"optimism":n="optimism-mainnet.infura.io";break;case"optimism-goerli":n="optimism-goerli.infura.io";break;case"arbitrum":n="arbitrum-mainnet.infura.io";break;case"arbitrum-goerli":n="arbitrum-goerli.infura.io";break;default:fu.throwError("unsupported network",K.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const i={allowGzip:!0,url:"https://"+n+"/v3/"+r.projectId,throttleCallback:(a,s)=>(r.projectId===No&&cT(),Promise.resolve(!0))};return r.projectSecret!=null&&(i.user="",i.password=r.projectSecret),i}isCommunityResource(){return this.projectId===No}}const Zm=new K(ma);let MT=1;function Qm(t,e){const r="Web3LegacyFetcher";return function(n,i){const a={method:n,params:i,id:MT++,jsonrpc:"2.0"};return new Promise((s,o)=>{this.emit("debug",{action:"request",fetcher:r,request:Pi(a),provider:this}),e(a,(c,f)=>{if(c)return this.emit("debug",{action:"response",fetcher:r,error:c,request:a,provider:this}),o(c);if(this.emit("debug",{action:"response",fetcher:r,request:a,response:f,provider:this}),f.error){const l=new Error(f.error.message);return l.code=f.error.code,l.data=f.error.data,o(l)}s(f.result)})})}}function kT(t){return function(e,r){r==null&&(r=[]);const n={method:e,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:Pi(n),provider:this}),t.request(n).then(i=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:i,provider:this}),i),i=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:i,provider:this}),i})}}class $o extends Sf{constructor(e,r){e==null&&Zm.throwArgumentError("missing provider","provider",e);let n=null,i=null,a=null;typeof e=="function"?(n="unknown:",i=e):(n=e.host||e.path||"",!n&&e.isMetaMask&&(n="metamask"),a=e,e.request?(n===""&&(n="eip-1193:"),i=kT(e)):e.sendAsync?i=Qm(e,e.sendAsync.bind(e)):e.send?i=Qm(e,e.send.bind(e)):Zm.throwArgumentError("unsupported provider","provider",e),n||(n="unknown:")),super(n,r),Q(this,"jsonRpcFetchFunc",i),Q(this,"provider",a)}send(e,r){return this.jsonRpcFetchFunc(e,r)}}const IT="solidity/5.7.0",ST=new RegExp("^bytes([0-9]+)$"),CT=new RegExp("^(u?int)([0-9]*)$"),NT=new RegExp("^(.*)\\[([0-9]*)\\]$"),RT="0000000000000000000000000000000000000000000000000000000000000000",ls=new K(IT);function Jx(t,e,r){switch(t){case"address":return r?ru(e,32):te(e);case"string":return jt(e);case"bytes":return te(e);case"bool":return e=e?"0x01":"0x00",r?ru(e,32):te(e)}let n=t.match(CT);if(n){let i=parseInt(n[2]||"256");return(n[2]&&String(i)!==n[2]||i%8!==0||i===0||i>256)&&ls.throwArgumentError("invalid number type","type",t),r&&(i=256),e=ue.from(e).toTwos(i),ru(e,i/8)}if(n=t.match(ST),n){const i=parseInt(n[1]);return(String(i)!==n[1]||i===0||i>32)&&ls.throwArgumentError("invalid bytes type","type",t),te(e).byteLength!==i&&ls.throwArgumentError(`invalid value for ${t}`,"value",e),r?te((e+RT).substring(0,66)):e}if(n=t.match(NT),n&&Array.isArray(e)){const i=n[1];parseInt(n[2]||String(e.length))!=e.length&&ls.throwArgumentError(`invalid array length for ${t}`,"value",e);const s=[];return e.forEach(function(o){s.push(Jx(i,o,!0))}),Rt(s)}return ls.throwArgumentError("invalid type","type",t)}function PT(t,e){t.length!=e.length&&ls.throwArgumentError("wrong number of values; expected ${ types.length }","values",e);const r=[];return t.forEach(function(n,i){r.push(Jx(n,e[i]))}),re(Rt(r))}function fs(t,e){return kt(PT(t,e))}const Yx=(t,e,r=[])=>{const n=Object.getOwnPropertyDescriptors(e);for(let i of r)delete n[i];Object.defineProperties(t,n)},oc=(t,e=[t])=>{const r=Object.getPrototypeOf(t);return r===null?e:oc(r,[...e,r])},OT=(...t)=>{if(t.length===0)return;let e;const r=t.map(n=>oc(n));for(;r.every(n=>n.length>0);){const n=r.map(a=>a.pop()),i=n[0];if(n.every(a=>a===i))e=i;else break}return e},Xm=(t,e,r=[])=>{var n;const i=(n=OT(...t))!==null&&n!==void 0?n:Object.prototype,a=Object.create(i),s=oc(i);for(let o of t){let c=oc(o);for(let f=c.length-1;f>=0;f--){let l=c[f];s.indexOf(l)===-1&&(Yx(a,l,["constructor",...r]),s.push(l))}}return a.constructor=e,a},Xl=t=>t.filter((e,r)=>t.indexOf(e)==r),Zx=new Map,BT=t=>Zx.get(t),LT=(t,e)=>Zx.set(t,e),ey=(t,e)=>{var r,n;const i=Xl([...Object.getOwnPropertyNames(t),...Object.getOwnPropertyNames(e)]),a={};for(let s of i)a[s]=Xl([...(r=t?.[s])!==null&&r!==void 0?r:[],...(n=e?.[s])!==null&&n!==void 0?n:[]]);return a},ty=(t,e)=>{var r,n,i,a;return{property:ey((r=t?.property)!==null&&r!==void 0?r:{},(n=e?.property)!==null&&n!==void 0?n:{}),method:ey((i=t?.method)!==null&&i!==void 0?i:{},(a=e?.method)!==null&&a!==void 0?a:{})}},DT=(t,e)=>{var r,n,i,a,s,o;return{class:Xl([...(r=t?.class)!==null&&r!==void 0?r:[],...(n=e?.class)!==null&&n!==void 0?n:[]]),static:ty((i=t?.static)!==null&&i!==void 0?i:{},(a=e?.static)!==null&&a!==void 0?a:{}),instance:ty((s=t?.instance)!==null&&s!==void 0?s:{},(o=e?.instance)!==null&&o!==void 0?o:{})}},FT=new Map,UT=(...t)=>{var e;const r=new Set,n=new Set([...t]);for(;n.size>0;)for(let i of n){const a=oc(i.prototype).map(f=>f.constructor),s=(e=BT(i))!==null&&e!==void 0?e:[],c=[...a,...s].filter(f=>!r.has(f));for(let f of c)n.add(f);r.add(i),n.delete(i)}return[...r]},$T=(...t)=>{const e=UT(...t).map(r=>FT.get(r)).filter(r=>!!r);return e.length==0?{}:e.length==1?e[0]:e.reduce((r,n)=>DT(r,n))};function Mc(...t){var e,r,n;const i=t.map(o=>o.prototype);function a(...o){for(const c of t)Yx(this,new c(...o))}a.prototype=Xm(i,a),Object.setPrototypeOf(a,Xm(t,null,["prototype"]));let s=a;{const o=$T(...t);for(let c of(e=o?.class)!==null&&e!==void 0?e:[]){const f=c(s);f&&(s=f)}ry((r=o?.static)!==null&&r!==void 0?r:{},s),ry((n=o?.instance)!==null&&n!==void 0?n:{},s.prototype)}return LT(s,t),s}const ry=(t,e)=>{const r=t.property,n=t.method;if(r)for(let i in r)for(let a of r[i])a(e,i);if(n)for(let i in n)for(let a of n[i])a(e,i,Object.getOwnPropertyDescriptor(e,i))};var Qx={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,f,l){this.fn=c,this.context=f,this.once=l||!1}function a(c,f,l,x,A){if(typeof l!="function")throw new TypeError("The listener must be a function");var S=new i(l,x||c,A),M=r?r+f:f;return c._events[M]?c._events[M].fn?c._events[M]=[c._events[M],S]:c._events[M].push(S):(c._events[M]=S,c._eventsCount++),c}function s(c,f){--c._eventsCount===0?c._events=new n:delete c._events[f]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var f=[],l,x;if(this._eventsCount===0)return f;for(x in l=this._events)e.call(l,x)&&f.push(r?x.slice(1):x);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(l)):f},o.prototype.listeners=function(f){var l=r?r+f:f,x=this._events[l];if(!x)return[];if(x.fn)return[x.fn];for(var A=0,S=x.length,M=new Array(S);A<S;A++)M[A]=x[A].fn;return M},o.prototype.listenerCount=function(f){var l=r?r+f:f,x=this._events[l];return x?x.fn?1:x.length:0},o.prototype.emit=function(f,l,x,A,S,M){var k=r?r+f:f;if(!this._events[k])return!1;var I=this._events[k],C=arguments.length,R,D;if(I.fn){switch(I.once&&this.removeListener(f,I.fn,void 0,!0),C){case 1:return I.fn.call(I.context),!0;case 2:return I.fn.call(I.context,l),!0;case 3:return I.fn.call(I.context,l,x),!0;case 4:return I.fn.call(I.context,l,x,A),!0;case 5:return I.fn.call(I.context,l,x,A,S),!0;case 6:return I.fn.call(I.context,l,x,A,S,M),!0}for(D=1,R=new Array(C-1);D<C;D++)R[D-1]=arguments[D];I.fn.apply(I.context,R)}else{var F=I.length,H;for(D=0;D<F;D++)switch(I[D].once&&this.removeListener(f,I[D].fn,void 0,!0),C){case 1:I[D].fn.call(I[D].context);break;case 2:I[D].fn.call(I[D].context,l);break;case 3:I[D].fn.call(I[D].context,l,x);break;case 4:I[D].fn.call(I[D].context,l,x,A);break;default:if(!R)for(H=1,R=new Array(C-1);H<C;H++)R[H-1]=arguments[H];I[D].fn.apply(I[D].context,R)}}return!0},o.prototype.on=function(f,l,x){return a(this,f,l,x,!1)},o.prototype.once=function(f,l,x){return a(this,f,l,x,!0)},o.prototype.removeListener=function(f,l,x,A){var S=r?r+f:f;if(!this._events[S])return this;if(!l)return s(this,S),this;var M=this._events[S];if(M.fn)M.fn===l&&(!A||M.once)&&(!x||M.context===x)&&s(this,S);else{for(var k=0,I=[],C=M.length;k<C;k++)(M[k].fn!==l||A&&!M[k].once||x&&M[k].context!==x)&&I.push(M[k]);I.length?this._events[S]=I.length===1?I[0]:I:s(this,S)}return this},o.prototype.removeAllListeners=function(f){var l;return f?(l=r?r+f:f,this._events[l]&&s(this,l)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(Qx);var HT=Qx.exports,zT=Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]",qT=typeof navigator<"u"&&navigator.product==="ReactNative",e0=null,du=null;if(zT||qT){e0=function(t){return Buffer.from(t).toString("base64")};var ny=rr;if(ny.URL){var jT=ny.URL;du=function(t){return new jT(t)}}else du=rr.parse}else e0=btoa.bind(typeof globalThis=="object"?globalThis:self),du=function(t){return new URL(t)};var KT={parseURL:du,btoa:e0},GT={ErrorResponse:function(t){var e=t&&t.error&&t.error.message?t.error.message:JSON.stringify(t),r=t.error&&t.error.data?t.error.data:null,n=new Error("Returned error: "+e);return n.data=r,n},InvalidNumberOfParams:function(t,e,r){return new Error('Invalid number of parameters for "'+r+'". Got '+t+" expected "+e+"!")},InvalidConnection:function(t,e){return this.ConnectionError("CONNECTION ERROR: Couldn't connect to node "+t+".",e)},InvalidProvider:function(){return new Error("Provider not set or invalid")},InvalidResponse:function(t){var e=t&&t.error&&t.error.message?t.error.message:"Invalid JSON RPC response: "+JSON.stringify(t);return new Error(e)},ConnectionTimeout:function(t){return new Error("CONNECTION TIMEOUT: timeout of "+t+" ms achived")},ConnectionNotOpenError:function(t){return this.ConnectionError("connection not open on send()",t)},ConnectionCloseError:function(t){return typeof t=="object"&&t.code&&t.reason?this.ConnectionError("CONNECTION ERROR: The connection got closed with the close code `"+t.code+"` and the following reason string `"+t.reason+"`",t):new Error("CONNECTION ERROR: The connection closed unexpectedly")},MaxAttemptsReachedOnReconnectingError:function(){return new Error("Maximum number of reconnect attempts reached!")},PendingRequestsOnReconnectingError:function(){return new Error("CONNECTION ERROR: Provider started to reconnect before the response got received!")},ConnectionError:function(t,e){const r=new Error(t);return e&&(r.code=e.code,r.reason=e.reason,e.description&&(r.description=e.description)),r},RevertInstructionError:function(t,e){var r=new Error("Your request got reverted with the following reason string: "+t);return r.reason=t,r.signature=e,r},TransactionRevertInstructionError:function(t,e,r){var n=new Error(`Transaction has been reverted by the EVM:
`+JSON.stringify(r,null,2));return n.reason=t,n.signature=e,n.receipt=r,n},TransactionError:function(t,e){var r=new Error(t);return r.receipt=e,r},NoContractAddressFoundError:function(t){return this.TransactionError("The transaction receipt didn't contain a contract address.",t)},ContractCodeNotStoredError:function(t){return this.TransactionError("The contract code couldn't be stored, please check your gas limit.",t)},TransactionRevertedWithoutReasonError:function(t){return this.TransactionError(`Transaction has been reverted by the EVM:
`+JSON.stringify(t,null,2),t)},TransactionOutOfGasError:function(t){return this.TransactionError(`Transaction ran out of gas. Please provide more gas:
`+JSON.stringify(t,null,2),t)},ResolverMethodMissingError:function(t,e){return new Error("The resolver at "+t+'does not implement requested method: "'+e+'".')},ContractMissingABIError:function(){return new Error("You must provide the json interface of the contract when instantiating a contract object.")},ContractOnceRequiresCallbackError:function(){return new Error("Once requires a callback as the second parameter.")},ContractEventDoesNotExistError:function(t){return new Error('Event "'+t+`" doesn't exist in this contract.`)},ContractReservedEventError:function(t){return new Error('The event "'+t+`" is a reserved event name, you can't use it.`)},ContractMissingDeployDataError:function(){return new Error('No "data" specified in neither the given options, nor the default options.')},ContractNoAddressDefinedError:function(){return new Error("This contract object doesn't have address set yet, please set an address first.")},ContractNoFromAddressDefinedError:function(){return new Error('No "from" address specified in neither the given options, nor the default options.')}};function VT(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Gh={exports:{}};Gh.exports;(function(t){(function(e,r){function n(B,m){if(!B)throw new Error(m||"Assertion failed")}function i(B,m){B.super_=m;var d=function(){};d.prototype=m.prototype,B.prototype=new d,B.prototype.constructor=B}function a(B,m,d){if(a.isBN(B))return B;this.negative=0,this.words=null,this.length=0,this.red=null,B!==null&&((m==="le"||m==="be")&&(d=m,m=10),this._init(B||0,m||10,d||"be"))}typeof e=="object"?e.exports=a:r.BN=a,a.BN=a,a.wordSize=26;var s;try{s=VT("buffer").Buffer}catch{}a.isBN=function(m){return m instanceof a?!0:m!==null&&typeof m=="object"&&m.constructor.wordSize===a.wordSize&&Array.isArray(m.words)},a.max=function(m,d){return m.cmp(d)>0?m:d},a.min=function(m,d){return m.cmp(d)<0?m:d},a.prototype._init=function(m,d,h){if(typeof m=="number")return this._initNumber(m,d,h);if(typeof m=="object")return this._initArray(m,d,h);d==="hex"&&(d=16),n(d===(d|0)&&d>=2&&d<=36),m=m.toString().replace(/\s+/g,"");var u=0;m[0]==="-"&&u++,d===16?this._parseHex(m,u):this._parseBase(m,d,u),m[0]==="-"&&(this.negative=1),this.strip(),h==="le"&&this._initArray(this.toArray(),d,h)},a.prototype._initNumber=function(m,d,h){m<0&&(this.negative=1,m=-m),m<67108864?(this.words=[m&67108863],this.length=1):m<4503599627370496?(this.words=[m&67108863,m/67108864&67108863],this.length=2):(n(m<9007199254740992),this.words=[m&67108863,m/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),d,h)},a.prototype._initArray=function(m,d,h){if(n(typeof m.length=="number"),m.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(m.length/3),this.words=new Array(this.length);for(var u=0;u<this.length;u++)this.words[u]=0;var p,g,E=0;if(h==="be")for(u=m.length-1,p=0;u>=0;u-=3)g=m[u]|m[u-1]<<8|m[u-2]<<16,this.words[p]|=g<<E&67108863,this.words[p+1]=g>>>26-E&67108863,E+=24,E>=26&&(E-=26,p++);else if(h==="le")for(u=0,p=0;u<m.length;u+=3)g=m[u]|m[u+1]<<8|m[u+2]<<16,this.words[p]|=g<<E&67108863,this.words[p+1]=g>>>26-E&67108863,E+=24,E>=26&&(E-=26,p++);return this.strip()};function o(B,m,d){for(var h=0,u=Math.min(B.length,d),p=m;p<u;p++){var g=B.charCodeAt(p)-48;h<<=4,g>=49&&g<=54?h|=g-49+10:g>=17&&g<=22?h|=g-17+10:h|=g&15}return h}a.prototype._parseHex=function(m,d){this.length=Math.ceil((m.length-d)/6),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var u,p,g=0;for(h=m.length-6,u=0;h>=d;h-=6)p=o(m,h,h+6),this.words[u]|=p<<g&67108863,this.words[u+1]|=p>>>26-g&4194303,g+=24,g>=26&&(g-=26,u++);h+6!==d&&(p=o(m,d,h+6),this.words[u]|=p<<g&67108863,this.words[u+1]|=p>>>26-g&4194303),this.strip()};function c(B,m,d,h){for(var u=0,p=Math.min(B.length,d),g=m;g<p;g++){var E=B.charCodeAt(g)-48;u*=h,E>=49?u+=E-49+10:E>=17?u+=E-17+10:u+=E}return u}a.prototype._parseBase=function(m,d,h){this.words=[0],this.length=1;for(var u=0,p=1;p<=67108863;p*=d)u++;u--,p=p/d|0;for(var g=m.length-h,E=g%u,_=Math.min(g,g-E)+h,y=0,b=h;b<_;b+=u)y=c(m,b,b+u,d),this.imuln(p),this.words[0]+y<67108864?this.words[0]+=y:this._iaddn(y);if(E!==0){var w=1;for(y=c(m,b,m.length,d),b=0;b<E;b++)w*=d;this.imuln(w),this.words[0]+y<67108864?this.words[0]+=y:this._iaddn(y)}},a.prototype.copy=function(m){m.words=new Array(this.length);for(var d=0;d<this.length;d++)m.words[d]=this.words[d];m.length=this.length,m.negative=this.negative,m.red=this.red},a.prototype.clone=function(){var m=new a(null);return this.copy(m),m},a.prototype._expand=function(m){for(;this.length<m;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(m,d){m=m||10,d=d|0||1;var h;if(m===16||m==="hex"){h="";for(var u=0,p=0,g=0;g<this.length;g++){var E=this.words[g],_=((E<<u|p)&16777215).toString(16);p=E>>>24-u&16777215,p!==0||g!==this.length-1?h=f[6-_.length]+_+h:h=_+h,u+=2,u>=26&&(u-=26,g--)}for(p!==0&&(h=p.toString(16)+h);h.length%d!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(m===(m|0)&&m>=2&&m<=36){var y=l[m],b=x[m];h="";var w=this.clone();for(w.negative=0;!w.isZero();){var v=w.modn(b).toString(m);w=w.idivn(b),w.isZero()?h=v+h:h=f[y-v.length]+v+h}for(this.isZero()&&(h="0"+h);h.length%d!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}n(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var m=this.words[0];return this.length===2?m+=this.words[1]*67108864:this.length===3&&this.words[2]===1?m+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-m:m},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(m,d){return n(typeof s<"u"),this.toArrayLike(s,m,d)},a.prototype.toArray=function(m,d){return this.toArrayLike(Array,m,d)},a.prototype.toArrayLike=function(m,d,h){var u=this.byteLength(),p=h||Math.max(1,u);n(u<=p,"byte array longer than desired length"),n(p>0,"Requested array length <= 0"),this.strip();var g=d==="le",E=new m(p),_,y,b=this.clone();if(g){for(y=0;!b.isZero();y++)_=b.andln(255),b.iushrn(8),E[y]=_;for(;y<p;y++)E[y]=0}else{for(y=0;y<p-u;y++)E[y]=0;for(y=0;!b.isZero();y++)_=b.andln(255),b.iushrn(8),E[p-y-1]=_}return E},Math.clz32?a.prototype._countBits=function(m){return 32-Math.clz32(m)}:a.prototype._countBits=function(m){var d=m,h=0;return d>=4096&&(h+=13,d>>>=13),d>=64&&(h+=7,d>>>=7),d>=8&&(h+=4,d>>>=4),d>=2&&(h+=2,d>>>=2),h+d},a.prototype._zeroBits=function(m){if(m===0)return 26;var d=m,h=0;return d&8191||(h+=13,d>>>=13),d&127||(h+=7,d>>>=7),d&15||(h+=4,d>>>=4),d&3||(h+=2,d>>>=2),d&1||h++,h},a.prototype.bitLength=function(){var m=this.words[this.length-1],d=this._countBits(m);return(this.length-1)*26+d};function A(B){for(var m=new Array(B.bitLength()),d=0;d<m.length;d++){var h=d/26|0,u=d%26;m[d]=(B.words[h]&1<<u)>>>u}return m}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var m=0,d=0;d<this.length;d++){var h=this._zeroBits(this.words[d]);if(m+=h,h!==26)break}return m},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(m){return this.negative!==0?this.abs().inotn(m).iaddn(1):this.clone()},a.prototype.fromTwos=function(m){return this.testn(m-1)?this.notn(m).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(m){for(;this.length<m.length;)this.words[this.length++]=0;for(var d=0;d<m.length;d++)this.words[d]=this.words[d]|m.words[d];return this.strip()},a.prototype.ior=function(m){return n((this.negative|m.negative)===0),this.iuor(m)},a.prototype.or=function(m){return this.length>m.length?this.clone().ior(m):m.clone().ior(this)},a.prototype.uor=function(m){return this.length>m.length?this.clone().iuor(m):m.clone().iuor(this)},a.prototype.iuand=function(m){var d;this.length>m.length?d=m:d=this;for(var h=0;h<d.length;h++)this.words[h]=this.words[h]&m.words[h];return this.length=d.length,this.strip()},a.prototype.iand=function(m){return n((this.negative|m.negative)===0),this.iuand(m)},a.prototype.and=function(m){return this.length>m.length?this.clone().iand(m):m.clone().iand(this)},a.prototype.uand=function(m){return this.length>m.length?this.clone().iuand(m):m.clone().iuand(this)},a.prototype.iuxor=function(m){var d,h;this.length>m.length?(d=this,h=m):(d=m,h=this);for(var u=0;u<h.length;u++)this.words[u]=d.words[u]^h.words[u];if(this!==d)for(;u<d.length;u++)this.words[u]=d.words[u];return this.length=d.length,this.strip()},a.prototype.ixor=function(m){return n((this.negative|m.negative)===0),this.iuxor(m)},a.prototype.xor=function(m){return this.length>m.length?this.clone().ixor(m):m.clone().ixor(this)},a.prototype.uxor=function(m){return this.length>m.length?this.clone().iuxor(m):m.clone().iuxor(this)},a.prototype.inotn=function(m){n(typeof m=="number"&&m>=0);var d=Math.ceil(m/26)|0,h=m%26;this._expand(d),h>0&&d--;for(var u=0;u<d;u++)this.words[u]=~this.words[u]&67108863;return h>0&&(this.words[u]=~this.words[u]&67108863>>26-h),this.strip()},a.prototype.notn=function(m){return this.clone().inotn(m)},a.prototype.setn=function(m,d){n(typeof m=="number"&&m>=0);var h=m/26|0,u=m%26;return this._expand(h+1),d?this.words[h]=this.words[h]|1<<u:this.words[h]=this.words[h]&~(1<<u),this.strip()},a.prototype.iadd=function(m){var d;if(this.negative!==0&&m.negative===0)return this.negative=0,d=this.isub(m),this.negative^=1,this._normSign();if(this.negative===0&&m.negative!==0)return m.negative=0,d=this.isub(m),m.negative=1,d._normSign();var h,u;this.length>m.length?(h=this,u=m):(h=m,u=this);for(var p=0,g=0;g<u.length;g++)d=(h.words[g]|0)+(u.words[g]|0)+p,this.words[g]=d&67108863,p=d>>>26;for(;p!==0&&g<h.length;g++)d=(h.words[g]|0)+p,this.words[g]=d&67108863,p=d>>>26;if(this.length=h.length,p!==0)this.words[this.length]=p,this.length++;else if(h!==this)for(;g<h.length;g++)this.words[g]=h.words[g];return this},a.prototype.add=function(m){var d;return m.negative!==0&&this.negative===0?(m.negative=0,d=this.sub(m),m.negative^=1,d):m.negative===0&&this.negative!==0?(this.negative=0,d=m.sub(this),this.negative=1,d):this.length>m.length?this.clone().iadd(m):m.clone().iadd(this)},a.prototype.isub=function(m){if(m.negative!==0){m.negative=0;var d=this.iadd(m);return m.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(m),this.negative=1,this._normSign();var h=this.cmp(m);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var u,p;h>0?(u=this,p=m):(u=m,p=this);for(var g=0,E=0;E<p.length;E++)d=(u.words[E]|0)-(p.words[E]|0)+g,g=d>>26,this.words[E]=d&67108863;for(;g!==0&&E<u.length;E++)d=(u.words[E]|0)+g,g=d>>26,this.words[E]=d&67108863;if(g===0&&E<u.length&&u!==this)for(;E<u.length;E++)this.words[E]=u.words[E];return this.length=Math.max(this.length,E),u!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(m){return this.clone().isub(m)};function S(B,m,d){d.negative=m.negative^B.negative;var h=B.length+m.length|0;d.length=h,h=h-1|0;var u=B.words[0]|0,p=m.words[0]|0,g=u*p,E=g&67108863,_=g/67108864|0;d.words[0]=E;for(var y=1;y<h;y++){for(var b=_>>>26,w=_&67108863,v=Math.min(y,m.length-1),N=Math.max(0,y-B.length+1);N<=v;N++){var $=y-N|0;u=B.words[$]|0,p=m.words[N]|0,g=u*p+w,b+=g/67108864|0,w=g&67108863}d.words[y]=w|0,_=b|0}return _!==0?d.words[y]=_|0:d.length--,d.strip()}var M=function(m,d,h){var u=m.words,p=d.words,g=h.words,E=0,_,y,b,w=u[0]|0,v=w&8191,N=w>>>13,$=u[1]|0,T=$&8191,P=$>>>13,U=u[2]|0,z=U&8191,q=U>>>13,Y=u[3]|0,L=Y&8191,O=Y>>>13,W=u[4]|0,V=W&8191,ee=W>>>13,oe=u[5]|0,ie=oe&8191,ae=oe>>>13,Je=u[6]|0,Te=Je&8191,fe=Je>>>13,Qe=u[7]|0,Ee=Qe&8191,ce=Qe>>>13,Ye=u[8]|0,Ae=Ye&8191,se=Ye>>>13,ze=u[9]|0,Me=ze&8191,de=ze>>>13,st=p[0]|0,ke=st&8191,le=st>>>13,ot=p[1]|0,Ie=ot&8191,he=ot>>>13,ct=p[2]|0,Se=ct&8191,pe=ct>>>13,ut=p[3]|0,Ce=ut&8191,me=ut>>>13,ft=p[4]|0,Ne=ft&8191,ye=ft>>>13,dt=p[5]|0,Re=dt&8191,be=dt>>>13,lt=p[6]|0,Pe=lt&8191,xe=lt>>>13,ht=p[7]|0,Oe=ht&8191,ge=ht>>>13,pt=p[8]|0,Be=pt&8191,ve=pt>>>13,mt=p[9]|0,Le=mt&8191,we=mt>>>13;h.negative=m.negative^d.negative,h.length=19,_=Math.imul(v,ke),y=Math.imul(v,le),y=y+Math.imul(N,ke)|0,b=Math.imul(N,le);var nt=(E+_|0)+((y&8191)<<13)|0;E=(b+(y>>>13)|0)+(nt>>>26)|0,nt&=67108863,_=Math.imul(T,ke),y=Math.imul(T,le),y=y+Math.imul(P,ke)|0,b=Math.imul(P,le),_=_+Math.imul(v,Ie)|0,y=y+Math.imul(v,he)|0,y=y+Math.imul(N,Ie)|0,b=b+Math.imul(N,he)|0;var Xe=(E+_|0)+((y&8191)<<13)|0;E=(b+(y>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,_=Math.imul(z,ke),y=Math.imul(z,le),y=y+Math.imul(q,ke)|0,b=Math.imul(q,le),_=_+Math.imul(T,Ie)|0,y=y+Math.imul(T,he)|0,y=y+Math.imul(P,Ie)|0,b=b+Math.imul(P,he)|0,_=_+Math.imul(v,Se)|0,y=y+Math.imul(v,pe)|0,y=y+Math.imul(N,Se)|0,b=b+Math.imul(N,pe)|0;var et=(E+_|0)+((y&8191)<<13)|0;E=(b+(y>>>13)|0)+(et>>>26)|0,et&=67108863,_=Math.imul(L,ke),y=Math.imul(L,le),y=y+Math.imul(O,ke)|0,b=Math.imul(O,le),_=_+Math.imul(z,Ie)|0,y=y+Math.imul(z,he)|0,y=y+Math.imul(q,Ie)|0,b=b+Math.imul(q,he)|0,_=_+Math.imul(T,Se)|0,y=y+Math.imul(T,pe)|0,y=y+Math.imul(P,Se)|0,b=b+Math.imul(P,pe)|0,_=_+Math.imul(v,Ce)|0,y=y+Math.imul(v,me)|0,y=y+Math.imul(N,Ce)|0,b=b+Math.imul(N,me)|0;var Kt=(E+_|0)+((y&8191)<<13)|0;E=(b+(y>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,_=Math.imul(V,ke),y=Math.imul(V,le),y=y+Math.imul(ee,ke)|0,b=Math.imul(ee,le),_=_+Math.imul(L,Ie)|0,y=y+Math.imul(L,he)|0,y=y+Math.imul(O,Ie)|0,b=b+Math.imul(O,he)|0,_=_+Math.imul(z,Se)|0,y=y+Math.imul(z,pe)|0,y=y+Math.imul(q,Se)|0,b=b+Math.imul(q,pe)|0,_=_+Math.imul(T,Ce)|0,y=y+Math.imul(T,me)|0,y=y+Math.imul(P,Ce)|0,b=b+Math.imul(P,me)|0,_=_+Math.imul(v,Ne)|0,y=y+Math.imul(v,ye)|0,y=y+Math.imul(N,Ne)|0,b=b+Math.imul(N,ye)|0;var Gt=(E+_|0)+((y&8191)<<13)|0;E=(b+(y>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,_=Math.imul(ie,ke),y=Math.imul(ie,le),y=y+Math.imul(ae,ke)|0,b=Math.imul(ae,le),_=_+Math.imul(V,Ie)|0,y=y+Math.imul(V,he)|0,y=y+Math.imul(ee,Ie)|0,b=b+Math.imul(ee,he)|0,_=_+Math.imul(L,Se)|0,y=y+Math.imul(L,pe)|0,y=y+Math.imul(O,Se)|0,b=b+Math.imul(O,pe)|0,_=_+Math.imul(z,Ce)|0,y=y+Math.imul(z,me)|0,y=y+Math.imul(q,Ce)|0,b=b+Math.imul(q,me)|0,_=_+Math.imul(T,Ne)|0,y=y+Math.imul(T,ye)|0,y=y+Math.imul(P,Ne)|0,b=b+Math.imul(P,ye)|0,_=_+Math.imul(v,Re)|0,y=y+Math.imul(v,be)|0,y=y+Math.imul(N,Re)|0,b=b+Math.imul(N,be)|0;var Vt=(E+_|0)+((y&8191)<<13)|0;E=(b+(y>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,_=Math.imul(Te,ke),y=Math.imul(Te,le),y=y+Math.imul(fe,ke)|0,b=Math.imul(fe,le),_=_+Math.imul(ie,Ie)|0,y=y+Math.imul(ie,he)|0,y=y+Math.imul(ae,Ie)|0,b=b+Math.imul(ae,he)|0,_=_+Math.imul(V,Se)|0,y=y+Math.imul(V,pe)|0,y=y+Math.imul(ee,Se)|0,b=b+Math.imul(ee,pe)|0,_=_+Math.imul(L,Ce)|0,y=y+Math.imul(L,me)|0,y=y+Math.imul(O,Ce)|0,b=b+Math.imul(O,me)|0,_=_+Math.imul(z,Ne)|0,y=y+Math.imul(z,ye)|0,y=y+Math.imul(q,Ne)|0,b=b+Math.imul(q,ye)|0,_=_+Math.imul(T,Re)|0,y=y+Math.imul(T,be)|0,y=y+Math.imul(P,Re)|0,b=b+Math.imul(P,be)|0,_=_+Math.imul(v,Pe)|0,y=y+Math.imul(v,xe)|0,y=y+Math.imul(N,Pe)|0,b=b+Math.imul(N,xe)|0;var Wt=(E+_|0)+((y&8191)<<13)|0;E=(b+(y>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,_=Math.imul(Ee,ke),y=Math.imul(Ee,le),y=y+Math.imul(ce,ke)|0,b=Math.imul(ce,le),_=_+Math.imul(Te,Ie)|0,y=y+Math.imul(Te,he)|0,y=y+Math.imul(fe,Ie)|0,b=b+Math.imul(fe,he)|0,_=_+Math.imul(ie,Se)|0,y=y+Math.imul(ie,pe)|0,y=y+Math.imul(ae,Se)|0,b=b+Math.imul(ae,pe)|0,_=_+Math.imul(V,Ce)|0,y=y+Math.imul(V,me)|0,y=y+Math.imul(ee,Ce)|0,b=b+Math.imul(ee,me)|0,_=_+Math.imul(L,Ne)|0,y=y+Math.imul(L,ye)|0,y=y+Math.imul(O,Ne)|0,b=b+Math.imul(O,ye)|0,_=_+Math.imul(z,Re)|0,y=y+Math.imul(z,be)|0,y=y+Math.imul(q,Re)|0,b=b+Math.imul(q,be)|0,_=_+Math.imul(T,Pe)|0,y=y+Math.imul(T,xe)|0,y=y+Math.imul(P,Pe)|0,b=b+Math.imul(P,xe)|0,_=_+Math.imul(v,Oe)|0,y=y+Math.imul(v,ge)|0,y=y+Math.imul(N,Oe)|0,b=b+Math.imul(N,ge)|0;var Jt=(E+_|0)+((y&8191)<<13)|0;E=(b+(y>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,_=Math.imul(Ae,ke),y=Math.imul(Ae,le),y=y+Math.imul(se,ke)|0,b=Math.imul(se,le),_=_+Math.imul(Ee,Ie)|0,y=y+Math.imul(Ee,he)|0,y=y+Math.imul(ce,Ie)|0,b=b+Math.imul(ce,he)|0,_=_+Math.imul(Te,Se)|0,y=y+Math.imul(Te,pe)|0,y=y+Math.imul(fe,Se)|0,b=b+Math.imul(fe,pe)|0,_=_+Math.imul(ie,Ce)|0,y=y+Math.imul(ie,me)|0,y=y+Math.imul(ae,Ce)|0,b=b+Math.imul(ae,me)|0,_=_+Math.imul(V,Ne)|0,y=y+Math.imul(V,ye)|0,y=y+Math.imul(ee,Ne)|0,b=b+Math.imul(ee,ye)|0,_=_+Math.imul(L,Re)|0,y=y+Math.imul(L,be)|0,y=y+Math.imul(O,Re)|0,b=b+Math.imul(O,be)|0,_=_+Math.imul(z,Pe)|0,y=y+Math.imul(z,xe)|0,y=y+Math.imul(q,Pe)|0,b=b+Math.imul(q,xe)|0,_=_+Math.imul(T,Oe)|0,y=y+Math.imul(T,ge)|0,y=y+Math.imul(P,Oe)|0,b=b+Math.imul(P,ge)|0,_=_+Math.imul(v,Be)|0,y=y+Math.imul(v,ve)|0,y=y+Math.imul(N,Be)|0,b=b+Math.imul(N,ve)|0;var Nr=(E+_|0)+((y&8191)<<13)|0;E=(b+(y>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,_=Math.imul(Me,ke),y=Math.imul(Me,le),y=y+Math.imul(de,ke)|0,b=Math.imul(de,le),_=_+Math.imul(Ae,Ie)|0,y=y+Math.imul(Ae,he)|0,y=y+Math.imul(se,Ie)|0,b=b+Math.imul(se,he)|0,_=_+Math.imul(Ee,Se)|0,y=y+Math.imul(Ee,pe)|0,y=y+Math.imul(ce,Se)|0,b=b+Math.imul(ce,pe)|0,_=_+Math.imul(Te,Ce)|0,y=y+Math.imul(Te,me)|0,y=y+Math.imul(fe,Ce)|0,b=b+Math.imul(fe,me)|0,_=_+Math.imul(ie,Ne)|0,y=y+Math.imul(ie,ye)|0,y=y+Math.imul(ae,Ne)|0,b=b+Math.imul(ae,ye)|0,_=_+Math.imul(V,Re)|0,y=y+Math.imul(V,be)|0,y=y+Math.imul(ee,Re)|0,b=b+Math.imul(ee,be)|0,_=_+Math.imul(L,Pe)|0,y=y+Math.imul(L,xe)|0,y=y+Math.imul(O,Pe)|0,b=b+Math.imul(O,xe)|0,_=_+Math.imul(z,Oe)|0,y=y+Math.imul(z,ge)|0,y=y+Math.imul(q,Oe)|0,b=b+Math.imul(q,ge)|0,_=_+Math.imul(T,Be)|0,y=y+Math.imul(T,ve)|0,y=y+Math.imul(P,Be)|0,b=b+Math.imul(P,ve)|0,_=_+Math.imul(v,Le)|0,y=y+Math.imul(v,we)|0,y=y+Math.imul(N,Le)|0,b=b+Math.imul(N,we)|0;var Rr=(E+_|0)+((y&8191)<<13)|0;E=(b+(y>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,_=Math.imul(Me,Ie),y=Math.imul(Me,he),y=y+Math.imul(de,Ie)|0,b=Math.imul(de,he),_=_+Math.imul(Ae,Se)|0,y=y+Math.imul(Ae,pe)|0,y=y+Math.imul(se,Se)|0,b=b+Math.imul(se,pe)|0,_=_+Math.imul(Ee,Ce)|0,y=y+Math.imul(Ee,me)|0,y=y+Math.imul(ce,Ce)|0,b=b+Math.imul(ce,me)|0,_=_+Math.imul(Te,Ne)|0,y=y+Math.imul(Te,ye)|0,y=y+Math.imul(fe,Ne)|0,b=b+Math.imul(fe,ye)|0,_=_+Math.imul(ie,Re)|0,y=y+Math.imul(ie,be)|0,y=y+Math.imul(ae,Re)|0,b=b+Math.imul(ae,be)|0,_=_+Math.imul(V,Pe)|0,y=y+Math.imul(V,xe)|0,y=y+Math.imul(ee,Pe)|0,b=b+Math.imul(ee,xe)|0,_=_+Math.imul(L,Oe)|0,y=y+Math.imul(L,ge)|0,y=y+Math.imul(O,Oe)|0,b=b+Math.imul(O,ge)|0,_=_+Math.imul(z,Be)|0,y=y+Math.imul(z,ve)|0,y=y+Math.imul(q,Be)|0,b=b+Math.imul(q,ve)|0,_=_+Math.imul(T,Le)|0,y=y+Math.imul(T,we)|0,y=y+Math.imul(P,Le)|0,b=b+Math.imul(P,we)|0;var Pr=(E+_|0)+((y&8191)<<13)|0;E=(b+(y>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,_=Math.imul(Me,Se),y=Math.imul(Me,pe),y=y+Math.imul(de,Se)|0,b=Math.imul(de,pe),_=_+Math.imul(Ae,Ce)|0,y=y+Math.imul(Ae,me)|0,y=y+Math.imul(se,Ce)|0,b=b+Math.imul(se,me)|0,_=_+Math.imul(Ee,Ne)|0,y=y+Math.imul(Ee,ye)|0,y=y+Math.imul(ce,Ne)|0,b=b+Math.imul(ce,ye)|0,_=_+Math.imul(Te,Re)|0,y=y+Math.imul(Te,be)|0,y=y+Math.imul(fe,Re)|0,b=b+Math.imul(fe,be)|0,_=_+Math.imul(ie,Pe)|0,y=y+Math.imul(ie,xe)|0,y=y+Math.imul(ae,Pe)|0,b=b+Math.imul(ae,xe)|0,_=_+Math.imul(V,Oe)|0,y=y+Math.imul(V,ge)|0,y=y+Math.imul(ee,Oe)|0,b=b+Math.imul(ee,ge)|0,_=_+Math.imul(L,Be)|0,y=y+Math.imul(L,ve)|0,y=y+Math.imul(O,Be)|0,b=b+Math.imul(O,ve)|0,_=_+Math.imul(z,Le)|0,y=y+Math.imul(z,we)|0,y=y+Math.imul(q,Le)|0,b=b+Math.imul(q,we)|0;var Or=(E+_|0)+((y&8191)<<13)|0;E=(b+(y>>>13)|0)+(Or>>>26)|0,Or&=67108863,_=Math.imul(Me,Ce),y=Math.imul(Me,me),y=y+Math.imul(de,Ce)|0,b=Math.imul(de,me),_=_+Math.imul(Ae,Ne)|0,y=y+Math.imul(Ae,ye)|0,y=y+Math.imul(se,Ne)|0,b=b+Math.imul(se,ye)|0,_=_+Math.imul(Ee,Re)|0,y=y+Math.imul(Ee,be)|0,y=y+Math.imul(ce,Re)|0,b=b+Math.imul(ce,be)|0,_=_+Math.imul(Te,Pe)|0,y=y+Math.imul(Te,xe)|0,y=y+Math.imul(fe,Pe)|0,b=b+Math.imul(fe,xe)|0,_=_+Math.imul(ie,Oe)|0,y=y+Math.imul(ie,ge)|0,y=y+Math.imul(ae,Oe)|0,b=b+Math.imul(ae,ge)|0,_=_+Math.imul(V,Be)|0,y=y+Math.imul(V,ve)|0,y=y+Math.imul(ee,Be)|0,b=b+Math.imul(ee,ve)|0,_=_+Math.imul(L,Le)|0,y=y+Math.imul(L,we)|0,y=y+Math.imul(O,Le)|0,b=b+Math.imul(O,we)|0;var Br=(E+_|0)+((y&8191)<<13)|0;E=(b+(y>>>13)|0)+(Br>>>26)|0,Br&=67108863,_=Math.imul(Me,Ne),y=Math.imul(Me,ye),y=y+Math.imul(de,Ne)|0,b=Math.imul(de,ye),_=_+Math.imul(Ae,Re)|0,y=y+Math.imul(Ae,be)|0,y=y+Math.imul(se,Re)|0,b=b+Math.imul(se,be)|0,_=_+Math.imul(Ee,Pe)|0,y=y+Math.imul(Ee,xe)|0,y=y+Math.imul(ce,Pe)|0,b=b+Math.imul(ce,xe)|0,_=_+Math.imul(Te,Oe)|0,y=y+Math.imul(Te,ge)|0,y=y+Math.imul(fe,Oe)|0,b=b+Math.imul(fe,ge)|0,_=_+Math.imul(ie,Be)|0,y=y+Math.imul(ie,ve)|0,y=y+Math.imul(ae,Be)|0,b=b+Math.imul(ae,ve)|0,_=_+Math.imul(V,Le)|0,y=y+Math.imul(V,we)|0,y=y+Math.imul(ee,Le)|0,b=b+Math.imul(ee,we)|0;var Lr=(E+_|0)+((y&8191)<<13)|0;E=(b+(y>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,_=Math.imul(Me,Re),y=Math.imul(Me,be),y=y+Math.imul(de,Re)|0,b=Math.imul(de,be),_=_+Math.imul(Ae,Pe)|0,y=y+Math.imul(Ae,xe)|0,y=y+Math.imul(se,Pe)|0,b=b+Math.imul(se,xe)|0,_=_+Math.imul(Ee,Oe)|0,y=y+Math.imul(Ee,ge)|0,y=y+Math.imul(ce,Oe)|0,b=b+Math.imul(ce,ge)|0,_=_+Math.imul(Te,Be)|0,y=y+Math.imul(Te,ve)|0,y=y+Math.imul(fe,Be)|0,b=b+Math.imul(fe,ve)|0,_=_+Math.imul(ie,Le)|0,y=y+Math.imul(ie,we)|0,y=y+Math.imul(ae,Le)|0,b=b+Math.imul(ae,we)|0;var Dr=(E+_|0)+((y&8191)<<13)|0;E=(b+(y>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,_=Math.imul(Me,Pe),y=Math.imul(Me,xe),y=y+Math.imul(de,Pe)|0,b=Math.imul(de,xe),_=_+Math.imul(Ae,Oe)|0,y=y+Math.imul(Ae,ge)|0,y=y+Math.imul(se,Oe)|0,b=b+Math.imul(se,ge)|0,_=_+Math.imul(Ee,Be)|0,y=y+Math.imul(Ee,ve)|0,y=y+Math.imul(ce,Be)|0,b=b+Math.imul(ce,ve)|0,_=_+Math.imul(Te,Le)|0,y=y+Math.imul(Te,we)|0,y=y+Math.imul(fe,Le)|0,b=b+Math.imul(fe,we)|0;var Fr=(E+_|0)+((y&8191)<<13)|0;E=(b+(y>>>13)|0)+(Fr>>>26)|0,Fr&=67108863,_=Math.imul(Me,Oe),y=Math.imul(Me,ge),y=y+Math.imul(de,Oe)|0,b=Math.imul(de,ge),_=_+Math.imul(Ae,Be)|0,y=y+Math.imul(Ae,ve)|0,y=y+Math.imul(se,Be)|0,b=b+Math.imul(se,ve)|0,_=_+Math.imul(Ee,Le)|0,y=y+Math.imul(Ee,we)|0,y=y+Math.imul(ce,Le)|0,b=b+Math.imul(ce,we)|0;var Ur=(E+_|0)+((y&8191)<<13)|0;E=(b+(y>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,_=Math.imul(Me,Be),y=Math.imul(Me,ve),y=y+Math.imul(de,Be)|0,b=Math.imul(de,ve),_=_+Math.imul(Ae,Le)|0,y=y+Math.imul(Ae,we)|0,y=y+Math.imul(se,Le)|0,b=b+Math.imul(se,we)|0;var Bn=(E+_|0)+((y&8191)<<13)|0;E=(b+(y>>>13)|0)+(Bn>>>26)|0,Bn&=67108863,_=Math.imul(Me,Le),y=Math.imul(Me,we),y=y+Math.imul(de,Le)|0,b=Math.imul(de,we);var Ln=(E+_|0)+((y&8191)<<13)|0;return E=(b+(y>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,g[0]=nt,g[1]=Xe,g[2]=et,g[3]=Kt,g[4]=Gt,g[5]=Vt,g[6]=Wt,g[7]=Jt,g[8]=Nr,g[9]=Rr,g[10]=Pr,g[11]=Or,g[12]=Br,g[13]=Lr,g[14]=Dr,g[15]=Fr,g[16]=Ur,g[17]=Bn,g[18]=Ln,E!==0&&(g[19]=E,h.length++),h};Math.imul||(M=S);function k(B,m,d){d.negative=m.negative^B.negative,d.length=B.length+m.length;for(var h=0,u=0,p=0;p<d.length-1;p++){var g=u;u=0;for(var E=h&67108863,_=Math.min(p,m.length-1),y=Math.max(0,p-B.length+1);y<=_;y++){var b=p-y,w=B.words[b]|0,v=m.words[y]|0,N=w*v,$=N&67108863;g=g+(N/67108864|0)|0,$=$+E|0,E=$&67108863,g=g+($>>>26)|0,u+=g>>>26,g&=67108863}d.words[p]=E,h=g,g=u}return h!==0?d.words[p]=h:d.length--,d.strip()}function I(B,m,d){var h=new C;return h.mulp(B,m,d)}a.prototype.mulTo=function(m,d){var h,u=this.length+m.length;return this.length===10&&m.length===10?h=M(this,m,d):u<63?h=S(this,m,d):u<1024?h=k(this,m,d):h=I(this,m,d),h};function C(B,m){this.x=B,this.y=m}C.prototype.makeRBT=function(m){for(var d=new Array(m),h=a.prototype._countBits(m)-1,u=0;u<m;u++)d[u]=this.revBin(u,h,m);return d},C.prototype.revBin=function(m,d,h){if(m===0||m===h-1)return m;for(var u=0,p=0;p<d;p++)u|=(m&1)<<d-p-1,m>>=1;return u},C.prototype.permute=function(m,d,h,u,p,g){for(var E=0;E<g;E++)u[E]=d[m[E]],p[E]=h[m[E]]},C.prototype.transform=function(m,d,h,u,p,g){this.permute(g,m,d,h,u,p);for(var E=1;E<p;E<<=1)for(var _=E<<1,y=Math.cos(2*Math.PI/_),b=Math.sin(2*Math.PI/_),w=0;w<p;w+=_)for(var v=y,N=b,$=0;$<E;$++){var T=h[w+$],P=u[w+$],U=h[w+$+E],z=u[w+$+E],q=v*U-N*z;z=v*z+N*U,U=q,h[w+$]=T+U,u[w+$]=P+z,h[w+$+E]=T-U,u[w+$+E]=P-z,$!==_&&(q=y*v-b*N,N=y*N+b*v,v=q)}},C.prototype.guessLen13b=function(m,d){var h=Math.max(d,m)|1,u=h&1,p=0;for(h=h/2|0;h;h=h>>>1)p++;return 1<<p+1+u},C.prototype.conjugate=function(m,d,h){if(!(h<=1))for(var u=0;u<h/2;u++){var p=m[u];m[u]=m[h-u-1],m[h-u-1]=p,p=d[u],d[u]=-d[h-u-1],d[h-u-1]=-p}},C.prototype.normalize13b=function(m,d){for(var h=0,u=0;u<d/2;u++){var p=Math.round(m[2*u+1]/d)*8192+Math.round(m[2*u]/d)+h;m[u]=p&67108863,p<67108864?h=0:h=p/67108864|0}return m},C.prototype.convert13b=function(m,d,h,u){for(var p=0,g=0;g<d;g++)p=p+(m[g]|0),h[2*g]=p&8191,p=p>>>13,h[2*g+1]=p&8191,p=p>>>13;for(g=2*d;g<u;++g)h[g]=0;n(p===0),n((p&-8192)===0)},C.prototype.stub=function(m){for(var d=new Array(m),h=0;h<m;h++)d[h]=0;return d},C.prototype.mulp=function(m,d,h){var u=2*this.guessLen13b(m.length,d.length),p=this.makeRBT(u),g=this.stub(u),E=new Array(u),_=new Array(u),y=new Array(u),b=new Array(u),w=new Array(u),v=new Array(u),N=h.words;N.length=u,this.convert13b(m.words,m.length,E,u),this.convert13b(d.words,d.length,b,u),this.transform(E,g,_,y,u,p),this.transform(b,g,w,v,u,p);for(var $=0;$<u;$++){var T=_[$]*w[$]-y[$]*v[$];y[$]=_[$]*v[$]+y[$]*w[$],_[$]=T}return this.conjugate(_,y,u),this.transform(_,y,N,g,u,p),this.conjugate(N,g,u),this.normalize13b(N,u),h.negative=m.negative^d.negative,h.length=m.length+d.length,h.strip()},a.prototype.mul=function(m){var d=new a(null);return d.words=new Array(this.length+m.length),this.mulTo(m,d)},a.prototype.mulf=function(m){var d=new a(null);return d.words=new Array(this.length+m.length),I(this,m,d)},a.prototype.imul=function(m){return this.clone().mulTo(m,this)},a.prototype.imuln=function(m){n(typeof m=="number"),n(m<67108864);for(var d=0,h=0;h<this.length;h++){var u=(this.words[h]|0)*m,p=(u&67108863)+(d&67108863);d>>=26,d+=u/67108864|0,d+=p>>>26,this.words[h]=p&67108863}return d!==0&&(this.words[h]=d,this.length++),this},a.prototype.muln=function(m){return this.clone().imuln(m)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(m){var d=A(m);if(d.length===0)return new a(1);for(var h=this,u=0;u<d.length&&d[u]===0;u++,h=h.sqr());if(++u<d.length)for(var p=h.sqr();u<d.length;u++,p=p.sqr())d[u]!==0&&(h=h.mul(p));return h},a.prototype.iushln=function(m){n(typeof m=="number"&&m>=0);var d=m%26,h=(m-d)/26,u=67108863>>>26-d<<26-d,p;if(d!==0){var g=0;for(p=0;p<this.length;p++){var E=this.words[p]&u,_=(this.words[p]|0)-E<<d;this.words[p]=_|g,g=E>>>26-d}g&&(this.words[p]=g,this.length++)}if(h!==0){for(p=this.length-1;p>=0;p--)this.words[p+h]=this.words[p];for(p=0;p<h;p++)this.words[p]=0;this.length+=h}return this.strip()},a.prototype.ishln=function(m){return n(this.negative===0),this.iushln(m)},a.prototype.iushrn=function(m,d,h){n(typeof m=="number"&&m>=0);var u;d?u=(d-d%26)/26:u=0;var p=m%26,g=Math.min((m-p)/26,this.length),E=67108863^67108863>>>p<<p,_=h;if(u-=g,u=Math.max(0,u),_){for(var y=0;y<g;y++)_.words[y]=this.words[y];_.length=g}if(g!==0)if(this.length>g)for(this.length-=g,y=0;y<this.length;y++)this.words[y]=this.words[y+g];else this.words[0]=0,this.length=1;var b=0;for(y=this.length-1;y>=0&&(b!==0||y>=u);y--){var w=this.words[y]|0;this.words[y]=b<<26-p|w>>>p,b=w&E}return _&&b!==0&&(_.words[_.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(m,d,h){return n(this.negative===0),this.iushrn(m,d,h)},a.prototype.shln=function(m){return this.clone().ishln(m)},a.prototype.ushln=function(m){return this.clone().iushln(m)},a.prototype.shrn=function(m){return this.clone().ishrn(m)},a.prototype.ushrn=function(m){return this.clone().iushrn(m)},a.prototype.testn=function(m){n(typeof m=="number"&&m>=0);var d=m%26,h=(m-d)/26,u=1<<d;if(this.length<=h)return!1;var p=this.words[h];return!!(p&u)},a.prototype.imaskn=function(m){n(typeof m=="number"&&m>=0);var d=m%26,h=(m-d)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(d!==0&&h++,this.length=Math.min(h,this.length),d!==0){var u=67108863^67108863>>>d<<d;this.words[this.length-1]&=u}return this.strip()},a.prototype.maskn=function(m){return this.clone().imaskn(m)},a.prototype.iaddn=function(m){return n(typeof m=="number"),n(m<67108864),m<0?this.isubn(-m):this.negative!==0?this.length===1&&(this.words[0]|0)<m?(this.words[0]=m-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(m),this.negative=1,this):this._iaddn(m)},a.prototype._iaddn=function(m){this.words[0]+=m;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},a.prototype.isubn=function(m){if(n(typeof m=="number"),n(m<67108864),m<0)return this.iaddn(-m);if(this.negative!==0)return this.negative=0,this.iaddn(m),this.negative=1,this;if(this.words[0]-=m,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},a.prototype.addn=function(m){return this.clone().iaddn(m)},a.prototype.subn=function(m){return this.clone().isubn(m)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(m,d,h){var u=m.length+h,p;this._expand(u);var g,E=0;for(p=0;p<m.length;p++){g=(this.words[p+h]|0)+E;var _=(m.words[p]|0)*d;g-=_&67108863,E=(g>>26)-(_/67108864|0),this.words[p+h]=g&67108863}for(;p<this.length-h;p++)g=(this.words[p+h]|0)+E,E=g>>26,this.words[p+h]=g&67108863;if(E===0)return this.strip();for(n(E===-1),E=0,p=0;p<this.length;p++)g=-(this.words[p]|0)+E,E=g>>26,this.words[p]=g&67108863;return this.negative=1,this.strip()},a.prototype._wordDiv=function(m,d){var h=this.length-m.length,u=this.clone(),p=m,g=p.words[p.length-1]|0,E=this._countBits(g);h=26-E,h!==0&&(p=p.ushln(h),u.iushln(h),g=p.words[p.length-1]|0);var _=u.length-p.length,y;if(d!=="mod"){y=new a(null),y.length=_+1,y.words=new Array(y.length);for(var b=0;b<y.length;b++)y.words[b]=0}var w=u.clone()._ishlnsubmul(p,1,_);w.negative===0&&(u=w,y&&(y.words[_]=1));for(var v=_-1;v>=0;v--){var N=(u.words[p.length+v]|0)*67108864+(u.words[p.length+v-1]|0);for(N=Math.min(N/g|0,67108863),u._ishlnsubmul(p,N,v);u.negative!==0;)N--,u.negative=0,u._ishlnsubmul(p,1,v),u.isZero()||(u.negative^=1);y&&(y.words[v]=N)}return y&&y.strip(),u.strip(),d!=="div"&&h!==0&&u.iushrn(h),{div:y||null,mod:u}},a.prototype.divmod=function(m,d,h){if(n(!m.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var u,p,g;return this.negative!==0&&m.negative===0?(g=this.neg().divmod(m,d),d!=="mod"&&(u=g.div.neg()),d!=="div"&&(p=g.mod.neg(),h&&p.negative!==0&&p.iadd(m)),{div:u,mod:p}):this.negative===0&&m.negative!==0?(g=this.divmod(m.neg(),d),d!=="mod"&&(u=g.div.neg()),{div:u,mod:g.mod}):this.negative&m.negative?(g=this.neg().divmod(m.neg(),d),d!=="div"&&(p=g.mod.neg(),h&&p.negative!==0&&p.isub(m)),{div:g.div,mod:p}):m.length>this.length||this.cmp(m)<0?{div:new a(0),mod:this}:m.length===1?d==="div"?{div:this.divn(m.words[0]),mod:null}:d==="mod"?{div:null,mod:new a(this.modn(m.words[0]))}:{div:this.divn(m.words[0]),mod:new a(this.modn(m.words[0]))}:this._wordDiv(m,d)},a.prototype.div=function(m){return this.divmod(m,"div",!1).div},a.prototype.mod=function(m){return this.divmod(m,"mod",!1).mod},a.prototype.umod=function(m){return this.divmod(m,"mod",!0).mod},a.prototype.divRound=function(m){var d=this.divmod(m);if(d.mod.isZero())return d.div;var h=d.div.negative!==0?d.mod.isub(m):d.mod,u=m.ushrn(1),p=m.andln(1),g=h.cmp(u);return g<0||p===1&&g===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},a.prototype.modn=function(m){n(m<=67108863);for(var d=(1<<26)%m,h=0,u=this.length-1;u>=0;u--)h=(d*h+(this.words[u]|0))%m;return h},a.prototype.idivn=function(m){n(m<=67108863);for(var d=0,h=this.length-1;h>=0;h--){var u=(this.words[h]|0)+d*67108864;this.words[h]=u/m|0,d=u%m}return this.strip()},a.prototype.divn=function(m){return this.clone().idivn(m)},a.prototype.egcd=function(m){n(m.negative===0),n(!m.isZero());var d=this,h=m.clone();d.negative!==0?d=d.umod(m):d=d.clone();for(var u=new a(1),p=new a(0),g=new a(0),E=new a(1),_=0;d.isEven()&&h.isEven();)d.iushrn(1),h.iushrn(1),++_;for(var y=h.clone(),b=d.clone();!d.isZero();){for(var w=0,v=1;!(d.words[0]&v)&&w<26;++w,v<<=1);if(w>0)for(d.iushrn(w);w-- >0;)(u.isOdd()||p.isOdd())&&(u.iadd(y),p.isub(b)),u.iushrn(1),p.iushrn(1);for(var N=0,$=1;!(h.words[0]&$)&&N<26;++N,$<<=1);if(N>0)for(h.iushrn(N);N-- >0;)(g.isOdd()||E.isOdd())&&(g.iadd(y),E.isub(b)),g.iushrn(1),E.iushrn(1);d.cmp(h)>=0?(d.isub(h),u.isub(g),p.isub(E)):(h.isub(d),g.isub(u),E.isub(p))}return{a:g,b:E,gcd:h.iushln(_)}},a.prototype._invmp=function(m){n(m.negative===0),n(!m.isZero());var d=this,h=m.clone();d.negative!==0?d=d.umod(m):d=d.clone();for(var u=new a(1),p=new a(0),g=h.clone();d.cmpn(1)>0&&h.cmpn(1)>0;){for(var E=0,_=1;!(d.words[0]&_)&&E<26;++E,_<<=1);if(E>0)for(d.iushrn(E);E-- >0;)u.isOdd()&&u.iadd(g),u.iushrn(1);for(var y=0,b=1;!(h.words[0]&b)&&y<26;++y,b<<=1);if(y>0)for(h.iushrn(y);y-- >0;)p.isOdd()&&p.iadd(g),p.iushrn(1);d.cmp(h)>=0?(d.isub(h),u.isub(p)):(h.isub(d),p.isub(u))}var w;return d.cmpn(1)===0?w=u:w=p,w.cmpn(0)<0&&w.iadd(m),w},a.prototype.gcd=function(m){if(this.isZero())return m.abs();if(m.isZero())return this.abs();var d=this.clone(),h=m.clone();d.negative=0,h.negative=0;for(var u=0;d.isEven()&&h.isEven();u++)d.iushrn(1),h.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;h.isEven();)h.iushrn(1);var p=d.cmp(h);if(p<0){var g=d;d=h,h=g}else if(p===0||h.cmpn(1)===0)break;d.isub(h)}while(!0);return h.iushln(u)},a.prototype.invm=function(m){return this.egcd(m).a.umod(m)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(m){return this.words[0]&m},a.prototype.bincn=function(m){n(typeof m=="number");var d=m%26,h=(m-d)/26,u=1<<d;if(this.length<=h)return this._expand(h+1),this.words[h]|=u,this;for(var p=u,g=h;p!==0&&g<this.length;g++){var E=this.words[g]|0;E+=p,p=E>>>26,E&=67108863,this.words[g]=E}return p!==0&&(this.words[g]=p,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(m){var d=m<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this.strip();var h;if(this.length>1)h=1;else{d&&(m=-m),n(m<=67108863,"Number is too big");var u=this.words[0]|0;h=u===m?0:u<m?-1:1}return this.negative!==0?-h|0:h},a.prototype.cmp=function(m){if(this.negative!==0&&m.negative===0)return-1;if(this.negative===0&&m.negative!==0)return 1;var d=this.ucmp(m);return this.negative!==0?-d|0:d},a.prototype.ucmp=function(m){if(this.length>m.length)return 1;if(this.length<m.length)return-1;for(var d=0,h=this.length-1;h>=0;h--){var u=this.words[h]|0,p=m.words[h]|0;if(u!==p){u<p?d=-1:u>p&&(d=1);break}}return d},a.prototype.gtn=function(m){return this.cmpn(m)===1},a.prototype.gt=function(m){return this.cmp(m)===1},a.prototype.gten=function(m){return this.cmpn(m)>=0},a.prototype.gte=function(m){return this.cmp(m)>=0},a.prototype.ltn=function(m){return this.cmpn(m)===-1},a.prototype.lt=function(m){return this.cmp(m)===-1},a.prototype.lten=function(m){return this.cmpn(m)<=0},a.prototype.lte=function(m){return this.cmp(m)<=0},a.prototype.eqn=function(m){return this.cmpn(m)===0},a.prototype.eq=function(m){return this.cmp(m)===0},a.red=function(m){return new G(m)},a.prototype.toRed=function(m){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),m.convertTo(this)._forceRed(m)},a.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(m){return this.red=m,this},a.prototype.forceRed=function(m){return n(!this.red,"Already a number in reduction context"),this._forceRed(m)},a.prototype.redAdd=function(m){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,m)},a.prototype.redIAdd=function(m){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,m)},a.prototype.redSub=function(m){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,m)},a.prototype.redISub=function(m){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,m)},a.prototype.redShl=function(m){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,m)},a.prototype.redMul=function(m){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,m),this.red.mul(this,m)},a.prototype.redIMul=function(m){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,m),this.red.imul(this,m)},a.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(m){return n(this.red&&!m.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,m)};var R={k256:null,p224:null,p192:null,p25519:null};function D(B,m){this.name=B,this.p=new a(m,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}D.prototype._tmp=function(){var m=new a(null);return m.words=new Array(Math.ceil(this.n/13)),m},D.prototype.ireduce=function(m){var d=m,h;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),h=d.bitLength();while(h>this.n);var u=h<this.n?-1:d.ucmp(this.p);return u===0?(d.words[0]=0,d.length=1):u>0?d.isub(this.p):d.strip(),d},D.prototype.split=function(m,d){m.iushrn(this.n,0,d)},D.prototype.imulK=function(m){return m.imul(this.k)};function F(){D.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(F,D),F.prototype.split=function(m,d){for(var h=4194303,u=Math.min(m.length,9),p=0;p<u;p++)d.words[p]=m.words[p];if(d.length=u,m.length<=9){m.words[0]=0,m.length=1;return}var g=m.words[9];for(d.words[d.length++]=g&h,p=10;p<m.length;p++){var E=m.words[p]|0;m.words[p-10]=(E&h)<<4|g>>>22,g=E}g>>>=22,m.words[p-10]=g,g===0&&m.length>10?m.length-=10:m.length-=9},F.prototype.imulK=function(m){m.words[m.length]=0,m.words[m.length+1]=0,m.length+=2;for(var d=0,h=0;h<m.length;h++){var u=m.words[h]|0;d+=u*977,m.words[h]=d&67108863,d=u*64+(d/67108864|0)}return m.words[m.length-1]===0&&(m.length--,m.words[m.length-1]===0&&m.length--),m};function H(){D.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(H,D);function j(){D.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(j,D);function Z(){D.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(Z,D),Z.prototype.imulK=function(m){for(var d=0,h=0;h<m.length;h++){var u=(m.words[h]|0)*19+d,p=u&67108863;u>>>=26,m.words[h]=p,d=u}return d!==0&&(m.words[m.length++]=d),m},a._prime=function(m){if(R[m])return R[m];var d;if(m==="k256")d=new F;else if(m==="p224")d=new H;else if(m==="p192")d=new j;else if(m==="p25519")d=new Z;else throw new Error("Unknown prime "+m);return R[m]=d,d};function G(B){if(typeof B=="string"){var m=a._prime(B);this.m=m.p,this.prime=m}else n(B.gtn(1),"modulus must be greater than 1"),this.m=B,this.prime=null}G.prototype._verify1=function(m){n(m.negative===0,"red works only with positives"),n(m.red,"red works only with red numbers")},G.prototype._verify2=function(m,d){n((m.negative|d.negative)===0,"red works only with positives"),n(m.red&&m.red===d.red,"red works only with red numbers")},G.prototype.imod=function(m){return this.prime?this.prime.ireduce(m)._forceRed(this):m.umod(this.m)._forceRed(this)},G.prototype.neg=function(m){return m.isZero()?m.clone():this.m.sub(m)._forceRed(this)},G.prototype.add=function(m,d){this._verify2(m,d);var h=m.add(d);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},G.prototype.iadd=function(m,d){this._verify2(m,d);var h=m.iadd(d);return h.cmp(this.m)>=0&&h.isub(this.m),h},G.prototype.sub=function(m,d){this._verify2(m,d);var h=m.sub(d);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},G.prototype.isub=function(m,d){this._verify2(m,d);var h=m.isub(d);return h.cmpn(0)<0&&h.iadd(this.m),h},G.prototype.shl=function(m,d){return this._verify1(m),this.imod(m.ushln(d))},G.prototype.imul=function(m,d){return this._verify2(m,d),this.imod(m.imul(d))},G.prototype.mul=function(m,d){return this._verify2(m,d),this.imod(m.mul(d))},G.prototype.isqr=function(m){return this.imul(m,m.clone())},G.prototype.sqr=function(m){return this.mul(m,m)},G.prototype.sqrt=function(m){if(m.isZero())return m.clone();var d=this.m.andln(3);if(n(d%2===1),d===3){var h=this.m.add(new a(1)).iushrn(2);return this.pow(m,h)}for(var u=this.m.subn(1),p=0;!u.isZero()&&u.andln(1)===0;)p++,u.iushrn(1);n(!u.isZero());var g=new a(1).toRed(this),E=g.redNeg(),_=this.m.subn(1).iushrn(1),y=this.m.bitLength();for(y=new a(2*y*y).toRed(this);this.pow(y,_).cmp(E)!==0;)y.redIAdd(E);for(var b=this.pow(y,u),w=this.pow(m,u.addn(1).iushrn(1)),v=this.pow(m,u),N=p;v.cmp(g)!==0;){for(var $=v,T=0;$.cmp(g)!==0;T++)$=$.redSqr();n(T<N);var P=this.pow(b,new a(1).iushln(N-T-1));w=w.redMul(P),b=P.redSqr(),v=v.redMul(b),N=T}return w},G.prototype.invm=function(m){var d=m._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},G.prototype.pow=function(m,d){if(d.isZero())return new a(1);if(d.cmpn(1)===0)return m.clone();var h=4,u=new Array(1<<h);u[0]=new a(1).toRed(this),u[1]=m;for(var p=2;p<u.length;p++)u[p]=this.mul(u[p-1],m);var g=u[0],E=0,_=0,y=d.bitLength()%26;for(y===0&&(y=26),p=d.length-1;p>=0;p--){for(var b=d.words[p],w=y-1;w>=0;w--){var v=b>>w&1;if(g!==u[0]&&(g=this.sqr(g)),v===0&&E===0){_=0;continue}E<<=1,E|=v,_++,!(_!==h&&(p!==0||w!==0))&&(g=this.mul(g,u[E]),_=0,E=0)}y=26}return g},G.prototype.convertTo=function(m){var d=m.umod(this.m);return d===m?d.clone():d},G.prototype.convertFrom=function(m){var d=m.clone();return d.red=null,d},a.mont=function(m){return new J(m)};function J(B){G.call(this,B),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(J,G),J.prototype.convertTo=function(m){return this.imod(m.ushln(this.shift))},J.prototype.convertFrom=function(m){var d=this.imod(m.mul(this.rinv));return d.red=null,d},J.prototype.imul=function(m,d){if(m.isZero()||d.isZero())return m.words[0]=0,m.length=1,m;var h=m.imul(d),u=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),p=h.isub(u).iushrn(this.shift),g=p;return p.cmp(this.m)>=0?g=p.isub(this.m):p.cmpn(0)<0&&(g=p.iadd(this.m)),g._forceRed(this)},J.prototype.mul=function(m,d){if(m.isZero()||d.isZero())return new a(0)._forceRed(this);var h=m.mul(d),u=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),p=h.isub(u).iushrn(this.shift),g=p;return p.cmp(this.m)>=0?g=p.isub(this.m):p.cmpn(0)<0&&(g=p.iadd(this.m)),g._forceRed(this)},J.prototype.invm=function(m){var d=this.imod(m._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(t,Ke)})(Gh);var Xx=Gh.exports,WT=function(e){if(typeof e!="string")throw new Error("[is-hex-prefixed] value must be type 'string', is currently type "+typeof e+", while checking isHexPrefixed.");return e.slice(0,2)==="0x"},JT=WT,YT=function(e){return typeof e!="string"?e:JT(e)?e.slice(2):e},go=Xx,iy=YT,eg=function(e){if(typeof e=="string"||typeof e=="number"){var r=new go(1),n=String(e).toLowerCase().trim(),i=n.substr(0,2)==="0x"||n.substr(0,3)==="-0x",a=iy(n);if(a.substr(0,1)==="-"&&(a=iy(a.slice(1)),r=new go(-1,10)),a=a===""?"0":a,!a.match(/^-?[0-9]+$/)&&a.match(/^[0-9A-Fa-f]+$/)||a.match(/^[a-fA-F]+$/)||i===!0&&a.match(/^[0-9A-Fa-f]+$/))return new go(a,16).mul(r);if((a.match(/^-?[0-9]+$/)||a==="")&&i===!1)return new go(a,10).mul(r)}else if(typeof e=="object"&&e.toString&&!e.pop&&!e.push&&e.toString(10).match(/^-?[0-9]+$/)&&(e.mul||e.dividedToIntegerBy))return new go(e.toString(10),10);throw new Error("[number-to-bn] while converting number "+JSON.stringify(e)+" to BN.js instance, error: invalid number value. Value must be an integer, hex string, BN or BigNumber instance. Note, decimals are not supported.")},As=Xx,ZT=eg,QT=new As(0),tg=new As(-1),cc={noether:"0",wei:"1",kwei:"1000",Kwei:"1000",babbage:"1000",femtoether:"1000",mwei:"1000000",Mwei:"1000000",lovelace:"1000000",picoether:"1000000",gwei:"1000000000",Gwei:"1000000000",shannon:"1000000000",nanoether:"1000000000",nano:"1000000000",szabo:"1000000000000",microether:"1000000000000",micro:"1000000000000",finney:"1000000000000000",milliether:"1000000000000000",milli:"1000000000000000",ether:"1000000000000000000",kether:"1000000000000000000000",grand:"1000000000000000000000",mether:"1000000000000000000000000",gether:"1000000000000000000000000000",tether:"1000000000000000000000000000000"};function Vh(t){var e=t?t.toLowerCase():"ether",r=cc[e];if(typeof r!="string")throw new Error("[ethjs-unit] the unit provided "+t+" doesn't exists, please use the one of the following units "+JSON.stringify(cc,null,2));return new As(r,10)}function rg(t){if(typeof t=="string"){if(!t.match(/^-?[0-9.]+$/))throw new Error("while converting number to string, invalid number value '"+t+"', should be a number matching (^-?[0-9.]+).");return t}else{if(typeof t=="number")return String(t);if(typeof t=="object"&&t.toString&&(t.toTwos||t.dividedToIntegerBy))return t.toPrecision?String(t.toPrecision()):t.toString(10)}throw new Error("while converting number to string, invalid number value '"+t+"' type "+typeof t+".")}function XT(t,e,r){var n=ZT(t),i=n.lt(QT),a=Vh(e),s=cc[e].length-1||1,o=r||{};i&&(n=n.mul(tg));for(var c=n.mod(a).toString(10);c.length<s;)c="0"+c;o.pad||(c=c.match(/^([0-9]*[1-9]|0)(0*)/)[1]);var f=n.div(a).toString(10);o.commify&&(f=f.replace(/\B(?=(\d{3})+(?!\d))/g,","));var l=""+f+(c=="0"?"":"."+c);return i&&(l="-"+l),l}function eM(t,e){var r=rg(t),n=Vh(e),i=cc[e].length-1||1,a=r.substring(0,1)==="-";if(a&&(r=r.substring(1)),r===".")throw new Error("[ethjs-unit] while converting number "+t+" to wei, invalid value");var s=r.split(".");if(s.length>2)throw new Error("[ethjs-unit] while converting number "+t+" to wei,  too many decimal points");var o=s[0],c=s[1];if(o||(o="0"),c||(c="0"),c.length>i)throw new Error("[ethjs-unit] while converting number "+t+" to wei, too many decimal places");for(;c.length<i;)c+="0";o=new As(o),c=new As(c);var f=o.mul(n).add(c);return a&&(f=f.mul(tg)),new As(f.toString(10),10)}var tM={unitMap:cc,numberToString:rg,getValueOfUnit:Vh,fromWei:XT,toWei:eM},ng={};/*! https://mths.be/utf8js v3.0.0 by @mathias */(function(t){(function(e){var r=String.fromCharCode;function n(k){for(var I=[],C=0,R=k.length,D,F;C<R;)D=k.charCodeAt(C++),D>=55296&&D<=56319&&C<R?(F=k.charCodeAt(C++),(F&64512)==56320?I.push(((D&1023)<<10)+(F&1023)+65536):(I.push(D),C--)):I.push(D);return I}function i(k){for(var I=k.length,C=-1,R,D="";++C<I;)R=k[C],R>65535&&(R-=65536,D+=r(R>>>10&1023|55296),R=56320|R&1023),D+=r(R);return D}function a(k){if(k>=55296&&k<=57343)throw Error("Lone surrogate U+"+k.toString(16).toUpperCase()+" is not a scalar value")}function s(k,I){return r(k>>I&63|128)}function o(k){if(!(k&4294967168))return r(k);var I="";return k&4294965248?k&4294901760?k&4292870144||(I=r(k>>18&7|240),I+=s(k,12),I+=s(k,6)):(a(k),I=r(k>>12&15|224),I+=s(k,6)):I=r(k>>6&31|192),I+=r(k&63|128),I}function c(k){for(var I=n(k),C=I.length,R=-1,D,F="";++R<C;)D=I[R],F+=o(D);return F}function f(){if(S>=A)throw Error("Invalid byte index");var k=x[S]&255;if(S++,(k&192)==128)return k&63;throw Error("Invalid continuation byte")}function l(){var k,I,C,R,D;if(S>A)throw Error("Invalid byte index");if(S==A)return!1;if(k=x[S]&255,S++,!(k&128))return k;if((k&224)==192){if(I=f(),D=(k&31)<<6|I,D>=128)return D;throw Error("Invalid continuation byte")}if((k&240)==224){if(I=f(),C=f(),D=(k&15)<<12|I<<6|C,D>=2048)return a(D),D;throw Error("Invalid continuation byte")}if((k&248)==240&&(I=f(),C=f(),R=f(),D=(k&7)<<18|I<<12|C<<6|R,D>=65536&&D<=1114111))return D;throw Error("Invalid UTF-8 detected")}var x,A,S;function M(k){x=n(k),A=x.length,S=0;for(var I=[],C;(C=l())!==!1;)I.push(C);return i(I)}e.version="3.0.0",e.encode=c,e.decode=M})(t)})(ng);var ig={},Wh={},Yr={},na={},rM=Ke&&Ke.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(na,"__esModule",{value:!0});na.getLength=na.decode=na.encode=void 0;var nM=rM(Ya);function ag(t){if(Array.isArray(t)){for(var e=[],r=0;r<t.length;r++)e.push(ag(t[r]));var n=Buffer.concat(e);return Buffer.concat([ay(n.length,192),n])}else{var i=Jh(t);return i.length===1&&i[0]<128?i:Buffer.concat([ay(i.length,128),i])}}na.encode=ag;function t0(t,e){if(t[0]==="0"&&t[1]==="0")throw new Error("invalid RLP: extra zeros");return parseInt(t,e)}function ay(t,e){if(t<56)return Buffer.from([t+e]);var r=n0(t),n=r.length/2,i=n0(e+55+n);return Buffer.from(i+r,"hex")}function iM(t,e){if(e===void 0&&(e=!1),!t||t.length===0)return Buffer.from([]);var r=Jh(t),n=r0(r);if(e)return n;if(n.remainder.length!==0)throw new Error("invalid remainder");return n.data}na.decode=iM;function aM(t){if(!t||t.length===0)return Buffer.from([]);var e=Jh(t),r=e[0];if(r<=127)return e.length;if(r<=183)return r-127;if(r<=191)return r-182;if(r<=247)return r-191;var n=r-246,i=t0(e.slice(1,n).toString("hex"),16);return n+i}na.getLength=aM;function r0(t){var e,r,n,i,a,s=[],o=t[0];if(o<=127)return{data:t.slice(0,1),remainder:t.slice(1)};if(o<=183){if(e=o-127,o===128?n=Buffer.from([]):n=t.slice(1,e),e===2&&n[0]<128)throw new Error("invalid rlp encoding: byte must be less 0x80");return{data:n,remainder:t.slice(e)}}else if(o<=191){if(r=o-182,t.length-1<r)throw new Error("invalid RLP: not enough bytes for string length");if(e=t0(t.slice(1,r).toString("hex"),16),e<=55)throw new Error("invalid RLP: expected string length to be greater than 55");if(n=t.slice(r,e+r),n.length<e)throw new Error("invalid RLP: not enough bytes for string");return{data:n,remainder:t.slice(e+r)}}else if(o<=247){for(e=o-191,i=t.slice(1,e);i.length;)a=r0(i),s.push(a.data),i=a.remainder;return{data:s,remainder:t.slice(e)}}else{r=o-246,e=t0(t.slice(1,r).toString("hex"),16);var c=r+e;if(c>t.length)throw new Error("invalid rlp: total length is larger than the data");if(i=t.slice(r,c),i.length===0)throw new Error("invalid rlp, List has a invalid length");for(;i.length;)a=r0(i),s.push(a.data),i=a.remainder;return{data:s,remainder:t.slice(c)}}}function sg(t){return t.slice(0,2)==="0x"}function sM(t){return typeof t!="string"?t:sg(t)?t.slice(2):t}function n0(t){if(t<0)throw new Error("Invalid integer as argument, must be unsigned!");var e=t.toString(16);return e.length%2?"0"+e:e}function oM(t){return t.length%2?"0"+t:t}function cM(t){var e=n0(t);return Buffer.from(e,"hex")}function Jh(t){if(!Buffer.isBuffer(t)){if(typeof t=="string")return sg(t)?Buffer.from(oM(sM(t)),"hex"):Buffer.from(t);if(typeof t=="number"||typeof t=="bigint")return t?cM(t):Buffer.from([]);if(t==null)return Buffer.from([]);if(t instanceof Uint8Array)return Buffer.from(t);if(nM.default.isBN(t))return Buffer.from(t.toArray());throw new Error("invalid type")}return t}var uM=Ke&&Ke.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),fM=Ke&&Ke.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),dM=Ke&&Ke.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&uM(e,t,r);return fM(e,t),e},lM=Ke&&Ke.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Yr,"__esModule",{value:!0});Yr.rlp=Yr.BN=void 0;var hM=lM(Ya);Yr.BN=hM.default;var pM=dM(na);Yr.rlp=pM;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.KECCAK256_RLP=t.KECCAK256_RLP_S=t.KECCAK256_RLP_ARRAY=t.KECCAK256_RLP_ARRAY_S=t.KECCAK256_NULL=t.KECCAK256_NULL_S=t.TWO_POW256=t.MAX_INTEGER=t.MAX_UINT64=void 0;var e=rr,r=Yr;t.MAX_UINT64=new r.BN("ffffffffffffffff",16),t.MAX_INTEGER=new r.BN("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),t.TWO_POW256=new r.BN("10000000000000000000000000000000000000000000000000000000000000000",16),t.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",t.KECCAK256_NULL=e.Buffer.from(t.KECCAK256_NULL_S,"hex"),t.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",t.KECCAK256_RLP_ARRAY=e.Buffer.from(t.KECCAK256_RLP_ARRAY_S,"hex"),t.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",t.KECCAK256_RLP=e.Buffer.from(t.KECCAK256_RLP_S,"hex")})(Wh);var Yh={},Zh={};const vt={IMPOSSIBLE_CASE:"Impossible case. Please create issue.",TWEAK_ADD:"The tweak was out of range or the resulted private key is invalid",TWEAK_MUL:"The tweak was out of range or equal to zero",CONTEXT_RANDOMIZE_UNKNOW:"Unknow error on context randomization",SECKEY_INVALID:"Private Key is invalid",PUBKEY_PARSE:"Public Key could not be parsed",PUBKEY_SERIALIZE:"Public Key serialization error",PUBKEY_COMBINE:"The sum of the public keys is not valid",SIG_PARSE:"Signature could not be parsed",SIGN:"The nonce generation function failed, or the private key was invalid",RECOVER:"Public key could not be recover",ECDH:"Scalar was invalid (zero or overflow)"};function wn(t,e){if(!t)throw new Error(e)}function xt(t,e,r){if(wn(e instanceof Uint8Array,`Expected ${t} to be an Uint8Array`),r!==void 0)if(Array.isArray(r)){const n=r.join(", "),i=`Expected ${t} to be an Uint8Array with length [${n}]`;wn(r.includes(e.length),i)}else{const n=`Expected ${t} to be an Uint8Array with length ${r}`;wn(e.length===r,n)}}function wa(t){wn(hs(t)==="Boolean","Expected compressed to be a Boolean")}function Un(t=r=>new Uint8Array(r),e){return typeof t=="function"&&(t=t(e)),xt("output",t,e),t}function hs(t){return Object.prototype.toString.call(t).slice(8,-1)}var mM=t=>({contextRandomize(e){switch(wn(e===null||e instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),e!==null&&xt("seed",e,32),t.contextRandomize(e)){case 1:throw new Error(vt.CONTEXT_RANDOMIZE_UNKNOW)}},privateKeyVerify(e){return xt("private key",e,32),t.privateKeyVerify(e)===0},privateKeyNegate(e){switch(xt("private key",e,32),t.privateKeyNegate(e)){case 0:return e;case 1:throw new Error(vt.IMPOSSIBLE_CASE)}},privateKeyTweakAdd(e,r){switch(xt("private key",e,32),xt("tweak",r,32),t.privateKeyTweakAdd(e,r)){case 0:return e;case 1:throw new Error(vt.TWEAK_ADD)}},privateKeyTweakMul(e,r){switch(xt("private key",e,32),xt("tweak",r,32),t.privateKeyTweakMul(e,r)){case 0:return e;case 1:throw new Error(vt.TWEAK_MUL)}},publicKeyVerify(e){return xt("public key",e,[33,65]),t.publicKeyVerify(e)===0},publicKeyCreate(e,r=!0,n){switch(xt("private key",e,32),wa(r),n=Un(n,r?33:65),t.publicKeyCreate(n,e)){case 0:return n;case 1:throw new Error(vt.SECKEY_INVALID);case 2:throw new Error(vt.PUBKEY_SERIALIZE)}},publicKeyConvert(e,r=!0,n){switch(xt("public key",e,[33,65]),wa(r),n=Un(n,r?33:65),t.publicKeyConvert(n,e)){case 0:return n;case 1:throw new Error(vt.PUBKEY_PARSE);case 2:throw new Error(vt.PUBKEY_SERIALIZE)}},publicKeyNegate(e,r=!0,n){switch(xt("public key",e,[33,65]),wa(r),n=Un(n,r?33:65),t.publicKeyNegate(n,e)){case 0:return n;case 1:throw new Error(vt.PUBKEY_PARSE);case 2:throw new Error(vt.IMPOSSIBLE_CASE);case 3:throw new Error(vt.PUBKEY_SERIALIZE)}},publicKeyCombine(e,r=!0,n){wn(Array.isArray(e),"Expected public keys to be an Array"),wn(e.length>0,"Expected public keys array will have more than zero items");for(const i of e)xt("public key",i,[33,65]);switch(wa(r),n=Un(n,r?33:65),t.publicKeyCombine(n,e)){case 0:return n;case 1:throw new Error(vt.PUBKEY_PARSE);case 2:throw new Error(vt.PUBKEY_COMBINE);case 3:throw new Error(vt.PUBKEY_SERIALIZE)}},publicKeyTweakAdd(e,r,n=!0,i){switch(xt("public key",e,[33,65]),xt("tweak",r,32),wa(n),i=Un(i,n?33:65),t.publicKeyTweakAdd(i,e,r)){case 0:return i;case 1:throw new Error(vt.PUBKEY_PARSE);case 2:throw new Error(vt.TWEAK_ADD)}},publicKeyTweakMul(e,r,n=!0,i){switch(xt("public key",e,[33,65]),xt("tweak",r,32),wa(n),i=Un(i,n?33:65),t.publicKeyTweakMul(i,e,r)){case 0:return i;case 1:throw new Error(vt.PUBKEY_PARSE);case 2:throw new Error(vt.TWEAK_MUL)}},signatureNormalize(e){switch(xt("signature",e,64),t.signatureNormalize(e)){case 0:return e;case 1:throw new Error(vt.SIG_PARSE)}},signatureExport(e,r){xt("signature",e,64),r=Un(r,72);const n={output:r,outputlen:72};switch(t.signatureExport(n,e)){case 0:return r.slice(0,n.outputlen);case 1:throw new Error(vt.SIG_PARSE);case 2:throw new Error(vt.IMPOSSIBLE_CASE)}},signatureImport(e,r){switch(xt("signature",e),r=Un(r,64),t.signatureImport(r,e)){case 0:return r;case 1:throw new Error(vt.SIG_PARSE);case 2:throw new Error(vt.IMPOSSIBLE_CASE)}},ecdsaSign(e,r,n={},i){xt("message",e,32),xt("private key",r,32),wn(hs(n)==="Object","Expected options to be an Object"),n.data!==void 0&&xt("options.data",n.data),n.noncefn!==void 0&&wn(hs(n.noncefn)==="Function","Expected options.noncefn to be a Function"),i=Un(i,64);const a={signature:i,recid:null};switch(t.ecdsaSign(a,e,r,n.data,n.noncefn)){case 0:return a;case 1:throw new Error(vt.SIGN);case 2:throw new Error(vt.IMPOSSIBLE_CASE)}},ecdsaVerify(e,r,n){switch(xt("signature",e,64),xt("message",r,32),xt("public key",n,[33,65]),t.ecdsaVerify(e,r,n)){case 0:return!0;case 3:return!1;case 1:throw new Error(vt.SIG_PARSE);case 2:throw new Error(vt.PUBKEY_PARSE)}},ecdsaRecover(e,r,n,i=!0,a){switch(xt("signature",e,64),wn(hs(r)==="Number"&&r>=0&&r<=3,"Expected recovery id to be a Number within interval [0, 3]"),xt("message",n,32),wa(i),a=Un(a,i?33:65),t.ecdsaRecover(a,e,r,n)){case 0:return a;case 1:throw new Error(vt.SIG_PARSE);case 2:throw new Error(vt.RECOVER);case 3:throw new Error(vt.IMPOSSIBLE_CASE)}},ecdh(e,r,n={},i){switch(xt("public key",e,[33,65]),xt("private key",r,32),wn(hs(n)==="Object","Expected options to be an Object"),n.data!==void 0&&xt("options.data",n.data),n.hashfn!==void 0?(wn(hs(n.hashfn)==="Function","Expected options.hashfn to be a Function"),n.xbuf!==void 0&&xt("options.xbuf",n.xbuf,32),n.ybuf!==void 0&&xt("options.ybuf",n.ybuf,32),xt("output",i)):i=Un(i,32),t.ecdh(i,e,r,n.data,n.hashfn,n.xbuf,n.ybuf)){case 0:return i;case 1:throw new Error(vt.PUBKEY_PARSE);case 2:throw new Error(vt.ECDH)}}}),og={};const yM="elliptic",bM="6.5.4",xM="EC cryptography",gM="lib/elliptic.js",vM=["lib"],wM={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},_M={type:"git",url:"git@github.com:indutny/elliptic"},AM=["EC","Elliptic","curve","Cryptography"],EM="Fedor Indutny <fedor@indutny.com>",TM="MIT",MM={url:"https://github.com/indutny/elliptic/issues"},kM="https://github.com/indutny/elliptic",IM={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},SM={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},CM={name:yM,version:bM,description:xM,main:gM,files:vM,scripts:wM,repository:_M,keywords:AM,author:EM,license:TM,bugs:MM,homepage:kM,devDependencies:IM,dependencies:SM};var hn={},Qh={exports:{}};Qh.exports;(function(t){(function(e,r){function n(m,d){if(!m)throw new Error(d||"Assertion failed")}function i(m,d){m.super_=d;var h=function(){};h.prototype=d.prototype,m.prototype=new h,m.prototype.constructor=m}function a(m,d,h){if(a.isBN(m))return m;this.negative=0,this.words=null,this.length=0,this.red=null,m!==null&&((d==="le"||d==="be")&&(h=d,d=10),this._init(m||0,d||10,h||"be"))}typeof e=="object"?e.exports=a:r.BN=a,a.BN=a,a.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=rr.Buffer}catch{}a.isBN=function(d){return d instanceof a?!0:d!==null&&typeof d=="object"&&d.constructor.wordSize===a.wordSize&&Array.isArray(d.words)},a.max=function(d,h){return d.cmp(h)>0?d:h},a.min=function(d,h){return d.cmp(h)<0?d:h},a.prototype._init=function(d,h,u){if(typeof d=="number")return this._initNumber(d,h,u);if(typeof d=="object")return this._initArray(d,h,u);h==="hex"&&(h=16),n(h===(h|0)&&h>=2&&h<=36),d=d.toString().replace(/\s+/g,"");var p=0;d[0]==="-"&&(p++,this.negative=1),p<d.length&&(h===16?this._parseHex(d,p,u):(this._parseBase(d,h,p),u==="le"&&this._initArray(this.toArray(),h,u)))},a.prototype._initNumber=function(d,h,u){d<0&&(this.negative=1,d=-d),d<67108864?(this.words=[d&67108863],this.length=1):d<4503599627370496?(this.words=[d&67108863,d/67108864&67108863],this.length=2):(n(d<9007199254740992),this.words=[d&67108863,d/67108864&67108863,1],this.length=3),u==="le"&&this._initArray(this.toArray(),h,u)},a.prototype._initArray=function(d,h,u){if(n(typeof d.length=="number"),d.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(d.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var g,E,_=0;if(u==="be")for(p=d.length-1,g=0;p>=0;p-=3)E=d[p]|d[p-1]<<8|d[p-2]<<16,this.words[g]|=E<<_&67108863,this.words[g+1]=E>>>26-_&67108863,_+=24,_>=26&&(_-=26,g++);else if(u==="le")for(p=0,g=0;p<d.length;p+=3)E=d[p]|d[p+1]<<8|d[p+2]<<16,this.words[g]|=E<<_&67108863,this.words[g+1]=E>>>26-_&67108863,_+=24,_>=26&&(_-=26,g++);return this.strip()};function o(m,d){var h=m.charCodeAt(d);return h>=65&&h<=70?h-55:h>=97&&h<=102?h-87:h-48&15}function c(m,d,h){var u=o(m,h);return h-1>=d&&(u|=o(m,h-1)<<4),u}a.prototype._parseHex=function(d,h,u){this.length=Math.ceil((d.length-h)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var g=0,E=0,_;if(u==="be")for(p=d.length-1;p>=h;p-=2)_=c(d,h,p)<<g,this.words[E]|=_&67108863,g>=18?(g-=18,E+=1,this.words[E]|=_>>>26):g+=8;else{var y=d.length-h;for(p=y%2===0?h+1:h;p<d.length;p+=2)_=c(d,h,p)<<g,this.words[E]|=_&67108863,g>=18?(g-=18,E+=1,this.words[E]|=_>>>26):g+=8}this.strip()};function f(m,d,h,u){for(var p=0,g=Math.min(m.length,h),E=d;E<g;E++){var _=m.charCodeAt(E)-48;p*=u,_>=49?p+=_-49+10:_>=17?p+=_-17+10:p+=_}return p}a.prototype._parseBase=function(d,h,u){this.words=[0],this.length=1;for(var p=0,g=1;g<=67108863;g*=h)p++;p--,g=g/h|0;for(var E=d.length-u,_=E%p,y=Math.min(E,E-_)+u,b=0,w=u;w<y;w+=p)b=f(d,w,w+p,h),this.imuln(g),this.words[0]+b<67108864?this.words[0]+=b:this._iaddn(b);if(_!==0){var v=1;for(b=f(d,w,d.length,h),w=0;w<_;w++)v*=h;this.imuln(v),this.words[0]+b<67108864?this.words[0]+=b:this._iaddn(b)}this.strip()},a.prototype.copy=function(d){d.words=new Array(this.length);for(var h=0;h<this.length;h++)d.words[h]=this.words[h];d.length=this.length,d.negative=this.negative,d.red=this.red},a.prototype.clone=function(){var d=new a(null);return this.copy(d),d},a.prototype._expand=function(d){for(;this.length<d;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],x=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],A=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(d,h){d=d||10,h=h|0||1;var u;if(d===16||d==="hex"){u="";for(var p=0,g=0,E=0;E<this.length;E++){var _=this.words[E],y=((_<<p|g)&16777215).toString(16);g=_>>>24-p&16777215,g!==0||E!==this.length-1?u=l[6-y.length]+y+u:u=y+u,p+=2,p>=26&&(p-=26,E--)}for(g!==0&&(u=g.toString(16)+u);u.length%h!==0;)u="0"+u;return this.negative!==0&&(u="-"+u),u}if(d===(d|0)&&d>=2&&d<=36){var b=x[d],w=A[d];u="";var v=this.clone();for(v.negative=0;!v.isZero();){var N=v.modn(w).toString(d);v=v.idivn(w),v.isZero()?u=N+u:u=l[b-N.length]+N+u}for(this.isZero()&&(u="0"+u);u.length%h!==0;)u="0"+u;return this.negative!==0&&(u="-"+u),u}n(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var d=this.words[0];return this.length===2?d+=this.words[1]*67108864:this.length===3&&this.words[2]===1?d+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-d:d},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(d,h){return n(typeof s<"u"),this.toArrayLike(s,d,h)},a.prototype.toArray=function(d,h){return this.toArrayLike(Array,d,h)},a.prototype.toArrayLike=function(d,h,u){var p=this.byteLength(),g=u||Math.max(1,p);n(p<=g,"byte array longer than desired length"),n(g>0,"Requested array length <= 0"),this.strip();var E=h==="le",_=new d(g),y,b,w=this.clone();if(E){for(b=0;!w.isZero();b++)y=w.andln(255),w.iushrn(8),_[b]=y;for(;b<g;b++)_[b]=0}else{for(b=0;b<g-p;b++)_[b]=0;for(b=0;!w.isZero();b++)y=w.andln(255),w.iushrn(8),_[g-b-1]=y}return _},Math.clz32?a.prototype._countBits=function(d){return 32-Math.clz32(d)}:a.prototype._countBits=function(d){var h=d,u=0;return h>=4096&&(u+=13,h>>>=13),h>=64&&(u+=7,h>>>=7),h>=8&&(u+=4,h>>>=4),h>=2&&(u+=2,h>>>=2),u+h},a.prototype._zeroBits=function(d){if(d===0)return 26;var h=d,u=0;return h&8191||(u+=13,h>>>=13),h&127||(u+=7,h>>>=7),h&15||(u+=4,h>>>=4),h&3||(u+=2,h>>>=2),h&1||u++,u},a.prototype.bitLength=function(){var d=this.words[this.length-1],h=this._countBits(d);return(this.length-1)*26+h};function S(m){for(var d=new Array(m.bitLength()),h=0;h<d.length;h++){var u=h/26|0,p=h%26;d[h]=(m.words[u]&1<<p)>>>p}return d}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var d=0,h=0;h<this.length;h++){var u=this._zeroBits(this.words[h]);if(d+=u,u!==26)break}return d},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(d){return this.negative!==0?this.abs().inotn(d).iaddn(1):this.clone()},a.prototype.fromTwos=function(d){return this.testn(d-1)?this.notn(d).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(d){for(;this.length<d.length;)this.words[this.length++]=0;for(var h=0;h<d.length;h++)this.words[h]=this.words[h]|d.words[h];return this.strip()},a.prototype.ior=function(d){return n((this.negative|d.negative)===0),this.iuor(d)},a.prototype.or=function(d){return this.length>d.length?this.clone().ior(d):d.clone().ior(this)},a.prototype.uor=function(d){return this.length>d.length?this.clone().iuor(d):d.clone().iuor(this)},a.prototype.iuand=function(d){var h;this.length>d.length?h=d:h=this;for(var u=0;u<h.length;u++)this.words[u]=this.words[u]&d.words[u];return this.length=h.length,this.strip()},a.prototype.iand=function(d){return n((this.negative|d.negative)===0),this.iuand(d)},a.prototype.and=function(d){return this.length>d.length?this.clone().iand(d):d.clone().iand(this)},a.prototype.uand=function(d){return this.length>d.length?this.clone().iuand(d):d.clone().iuand(this)},a.prototype.iuxor=function(d){var h,u;this.length>d.length?(h=this,u=d):(h=d,u=this);for(var p=0;p<u.length;p++)this.words[p]=h.words[p]^u.words[p];if(this!==h)for(;p<h.length;p++)this.words[p]=h.words[p];return this.length=h.length,this.strip()},a.prototype.ixor=function(d){return n((this.negative|d.negative)===0),this.iuxor(d)},a.prototype.xor=function(d){return this.length>d.length?this.clone().ixor(d):d.clone().ixor(this)},a.prototype.uxor=function(d){return this.length>d.length?this.clone().iuxor(d):d.clone().iuxor(this)},a.prototype.inotn=function(d){n(typeof d=="number"&&d>=0);var h=Math.ceil(d/26)|0,u=d%26;this._expand(h),u>0&&h--;for(var p=0;p<h;p++)this.words[p]=~this.words[p]&67108863;return u>0&&(this.words[p]=~this.words[p]&67108863>>26-u),this.strip()},a.prototype.notn=function(d){return this.clone().inotn(d)},a.prototype.setn=function(d,h){n(typeof d=="number"&&d>=0);var u=d/26|0,p=d%26;return this._expand(u+1),h?this.words[u]=this.words[u]|1<<p:this.words[u]=this.words[u]&~(1<<p),this.strip()},a.prototype.iadd=function(d){var h;if(this.negative!==0&&d.negative===0)return this.negative=0,h=this.isub(d),this.negative^=1,this._normSign();if(this.negative===0&&d.negative!==0)return d.negative=0,h=this.isub(d),d.negative=1,h._normSign();var u,p;this.length>d.length?(u=this,p=d):(u=d,p=this);for(var g=0,E=0;E<p.length;E++)h=(u.words[E]|0)+(p.words[E]|0)+g,this.words[E]=h&67108863,g=h>>>26;for(;g!==0&&E<u.length;E++)h=(u.words[E]|0)+g,this.words[E]=h&67108863,g=h>>>26;if(this.length=u.length,g!==0)this.words[this.length]=g,this.length++;else if(u!==this)for(;E<u.length;E++)this.words[E]=u.words[E];return this},a.prototype.add=function(d){var h;return d.negative!==0&&this.negative===0?(d.negative=0,h=this.sub(d),d.negative^=1,h):d.negative===0&&this.negative!==0?(this.negative=0,h=d.sub(this),this.negative=1,h):this.length>d.length?this.clone().iadd(d):d.clone().iadd(this)},a.prototype.isub=function(d){if(d.negative!==0){d.negative=0;var h=this.iadd(d);return d.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(d),this.negative=1,this._normSign();var u=this.cmp(d);if(u===0)return this.negative=0,this.length=1,this.words[0]=0,this;var p,g;u>0?(p=this,g=d):(p=d,g=this);for(var E=0,_=0;_<g.length;_++)h=(p.words[_]|0)-(g.words[_]|0)+E,E=h>>26,this.words[_]=h&67108863;for(;E!==0&&_<p.length;_++)h=(p.words[_]|0)+E,E=h>>26,this.words[_]=h&67108863;if(E===0&&_<p.length&&p!==this)for(;_<p.length;_++)this.words[_]=p.words[_];return this.length=Math.max(this.length,_),p!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(d){return this.clone().isub(d)};function M(m,d,h){h.negative=d.negative^m.negative;var u=m.length+d.length|0;h.length=u,u=u-1|0;var p=m.words[0]|0,g=d.words[0]|0,E=p*g,_=E&67108863,y=E/67108864|0;h.words[0]=_;for(var b=1;b<u;b++){for(var w=y>>>26,v=y&67108863,N=Math.min(b,d.length-1),$=Math.max(0,b-m.length+1);$<=N;$++){var T=b-$|0;p=m.words[T]|0,g=d.words[$]|0,E=p*g+v,w+=E/67108864|0,v=E&67108863}h.words[b]=v|0,y=w|0}return y!==0?h.words[b]=y|0:h.length--,h.strip()}var k=function(d,h,u){var p=d.words,g=h.words,E=u.words,_=0,y,b,w,v=p[0]|0,N=v&8191,$=v>>>13,T=p[1]|0,P=T&8191,U=T>>>13,z=p[2]|0,q=z&8191,Y=z>>>13,L=p[3]|0,O=L&8191,W=L>>>13,V=p[4]|0,ee=V&8191,oe=V>>>13,ie=p[5]|0,ae=ie&8191,Je=ie>>>13,Te=p[6]|0,fe=Te&8191,Qe=Te>>>13,Ee=p[7]|0,ce=Ee&8191,Ye=Ee>>>13,Ae=p[8]|0,se=Ae&8191,ze=Ae>>>13,Me=p[9]|0,de=Me&8191,st=Me>>>13,ke=g[0]|0,le=ke&8191,ot=ke>>>13,Ie=g[1]|0,he=Ie&8191,ct=Ie>>>13,Se=g[2]|0,pe=Se&8191,ut=Se>>>13,Ce=g[3]|0,me=Ce&8191,ft=Ce>>>13,Ne=g[4]|0,ye=Ne&8191,dt=Ne>>>13,Re=g[5]|0,be=Re&8191,lt=Re>>>13,Pe=g[6]|0,xe=Pe&8191,ht=Pe>>>13,Oe=g[7]|0,ge=Oe&8191,pt=Oe>>>13,Be=g[8]|0,ve=Be&8191,mt=Be>>>13,Le=g[9]|0,we=Le&8191,nt=Le>>>13;u.negative=d.negative^h.negative,u.length=19,y=Math.imul(N,le),b=Math.imul(N,ot),b=b+Math.imul($,le)|0,w=Math.imul($,ot);var Xe=(_+y|0)+((b&8191)<<13)|0;_=(w+(b>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,y=Math.imul(P,le),b=Math.imul(P,ot),b=b+Math.imul(U,le)|0,w=Math.imul(U,ot),y=y+Math.imul(N,he)|0,b=b+Math.imul(N,ct)|0,b=b+Math.imul($,he)|0,w=w+Math.imul($,ct)|0;var et=(_+y|0)+((b&8191)<<13)|0;_=(w+(b>>>13)|0)+(et>>>26)|0,et&=67108863,y=Math.imul(q,le),b=Math.imul(q,ot),b=b+Math.imul(Y,le)|0,w=Math.imul(Y,ot),y=y+Math.imul(P,he)|0,b=b+Math.imul(P,ct)|0,b=b+Math.imul(U,he)|0,w=w+Math.imul(U,ct)|0,y=y+Math.imul(N,pe)|0,b=b+Math.imul(N,ut)|0,b=b+Math.imul($,pe)|0,w=w+Math.imul($,ut)|0;var Kt=(_+y|0)+((b&8191)<<13)|0;_=(w+(b>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,y=Math.imul(O,le),b=Math.imul(O,ot),b=b+Math.imul(W,le)|0,w=Math.imul(W,ot),y=y+Math.imul(q,he)|0,b=b+Math.imul(q,ct)|0,b=b+Math.imul(Y,he)|0,w=w+Math.imul(Y,ct)|0,y=y+Math.imul(P,pe)|0,b=b+Math.imul(P,ut)|0,b=b+Math.imul(U,pe)|0,w=w+Math.imul(U,ut)|0,y=y+Math.imul(N,me)|0,b=b+Math.imul(N,ft)|0,b=b+Math.imul($,me)|0,w=w+Math.imul($,ft)|0;var Gt=(_+y|0)+((b&8191)<<13)|0;_=(w+(b>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,y=Math.imul(ee,le),b=Math.imul(ee,ot),b=b+Math.imul(oe,le)|0,w=Math.imul(oe,ot),y=y+Math.imul(O,he)|0,b=b+Math.imul(O,ct)|0,b=b+Math.imul(W,he)|0,w=w+Math.imul(W,ct)|0,y=y+Math.imul(q,pe)|0,b=b+Math.imul(q,ut)|0,b=b+Math.imul(Y,pe)|0,w=w+Math.imul(Y,ut)|0,y=y+Math.imul(P,me)|0,b=b+Math.imul(P,ft)|0,b=b+Math.imul(U,me)|0,w=w+Math.imul(U,ft)|0,y=y+Math.imul(N,ye)|0,b=b+Math.imul(N,dt)|0,b=b+Math.imul($,ye)|0,w=w+Math.imul($,dt)|0;var Vt=(_+y|0)+((b&8191)<<13)|0;_=(w+(b>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,y=Math.imul(ae,le),b=Math.imul(ae,ot),b=b+Math.imul(Je,le)|0,w=Math.imul(Je,ot),y=y+Math.imul(ee,he)|0,b=b+Math.imul(ee,ct)|0,b=b+Math.imul(oe,he)|0,w=w+Math.imul(oe,ct)|0,y=y+Math.imul(O,pe)|0,b=b+Math.imul(O,ut)|0,b=b+Math.imul(W,pe)|0,w=w+Math.imul(W,ut)|0,y=y+Math.imul(q,me)|0,b=b+Math.imul(q,ft)|0,b=b+Math.imul(Y,me)|0,w=w+Math.imul(Y,ft)|0,y=y+Math.imul(P,ye)|0,b=b+Math.imul(P,dt)|0,b=b+Math.imul(U,ye)|0,w=w+Math.imul(U,dt)|0,y=y+Math.imul(N,be)|0,b=b+Math.imul(N,lt)|0,b=b+Math.imul($,be)|0,w=w+Math.imul($,lt)|0;var Wt=(_+y|0)+((b&8191)<<13)|0;_=(w+(b>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,y=Math.imul(fe,le),b=Math.imul(fe,ot),b=b+Math.imul(Qe,le)|0,w=Math.imul(Qe,ot),y=y+Math.imul(ae,he)|0,b=b+Math.imul(ae,ct)|0,b=b+Math.imul(Je,he)|0,w=w+Math.imul(Je,ct)|0,y=y+Math.imul(ee,pe)|0,b=b+Math.imul(ee,ut)|0,b=b+Math.imul(oe,pe)|0,w=w+Math.imul(oe,ut)|0,y=y+Math.imul(O,me)|0,b=b+Math.imul(O,ft)|0,b=b+Math.imul(W,me)|0,w=w+Math.imul(W,ft)|0,y=y+Math.imul(q,ye)|0,b=b+Math.imul(q,dt)|0,b=b+Math.imul(Y,ye)|0,w=w+Math.imul(Y,dt)|0,y=y+Math.imul(P,be)|0,b=b+Math.imul(P,lt)|0,b=b+Math.imul(U,be)|0,w=w+Math.imul(U,lt)|0,y=y+Math.imul(N,xe)|0,b=b+Math.imul(N,ht)|0,b=b+Math.imul($,xe)|0,w=w+Math.imul($,ht)|0;var Jt=(_+y|0)+((b&8191)<<13)|0;_=(w+(b>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,y=Math.imul(ce,le),b=Math.imul(ce,ot),b=b+Math.imul(Ye,le)|0,w=Math.imul(Ye,ot),y=y+Math.imul(fe,he)|0,b=b+Math.imul(fe,ct)|0,b=b+Math.imul(Qe,he)|0,w=w+Math.imul(Qe,ct)|0,y=y+Math.imul(ae,pe)|0,b=b+Math.imul(ae,ut)|0,b=b+Math.imul(Je,pe)|0,w=w+Math.imul(Je,ut)|0,y=y+Math.imul(ee,me)|0,b=b+Math.imul(ee,ft)|0,b=b+Math.imul(oe,me)|0,w=w+Math.imul(oe,ft)|0,y=y+Math.imul(O,ye)|0,b=b+Math.imul(O,dt)|0,b=b+Math.imul(W,ye)|0,w=w+Math.imul(W,dt)|0,y=y+Math.imul(q,be)|0,b=b+Math.imul(q,lt)|0,b=b+Math.imul(Y,be)|0,w=w+Math.imul(Y,lt)|0,y=y+Math.imul(P,xe)|0,b=b+Math.imul(P,ht)|0,b=b+Math.imul(U,xe)|0,w=w+Math.imul(U,ht)|0,y=y+Math.imul(N,ge)|0,b=b+Math.imul(N,pt)|0,b=b+Math.imul($,ge)|0,w=w+Math.imul($,pt)|0;var Nr=(_+y|0)+((b&8191)<<13)|0;_=(w+(b>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,y=Math.imul(se,le),b=Math.imul(se,ot),b=b+Math.imul(ze,le)|0,w=Math.imul(ze,ot),y=y+Math.imul(ce,he)|0,b=b+Math.imul(ce,ct)|0,b=b+Math.imul(Ye,he)|0,w=w+Math.imul(Ye,ct)|0,y=y+Math.imul(fe,pe)|0,b=b+Math.imul(fe,ut)|0,b=b+Math.imul(Qe,pe)|0,w=w+Math.imul(Qe,ut)|0,y=y+Math.imul(ae,me)|0,b=b+Math.imul(ae,ft)|0,b=b+Math.imul(Je,me)|0,w=w+Math.imul(Je,ft)|0,y=y+Math.imul(ee,ye)|0,b=b+Math.imul(ee,dt)|0,b=b+Math.imul(oe,ye)|0,w=w+Math.imul(oe,dt)|0,y=y+Math.imul(O,be)|0,b=b+Math.imul(O,lt)|0,b=b+Math.imul(W,be)|0,w=w+Math.imul(W,lt)|0,y=y+Math.imul(q,xe)|0,b=b+Math.imul(q,ht)|0,b=b+Math.imul(Y,xe)|0,w=w+Math.imul(Y,ht)|0,y=y+Math.imul(P,ge)|0,b=b+Math.imul(P,pt)|0,b=b+Math.imul(U,ge)|0,w=w+Math.imul(U,pt)|0,y=y+Math.imul(N,ve)|0,b=b+Math.imul(N,mt)|0,b=b+Math.imul($,ve)|0,w=w+Math.imul($,mt)|0;var Rr=(_+y|0)+((b&8191)<<13)|0;_=(w+(b>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,y=Math.imul(de,le),b=Math.imul(de,ot),b=b+Math.imul(st,le)|0,w=Math.imul(st,ot),y=y+Math.imul(se,he)|0,b=b+Math.imul(se,ct)|0,b=b+Math.imul(ze,he)|0,w=w+Math.imul(ze,ct)|0,y=y+Math.imul(ce,pe)|0,b=b+Math.imul(ce,ut)|0,b=b+Math.imul(Ye,pe)|0,w=w+Math.imul(Ye,ut)|0,y=y+Math.imul(fe,me)|0,b=b+Math.imul(fe,ft)|0,b=b+Math.imul(Qe,me)|0,w=w+Math.imul(Qe,ft)|0,y=y+Math.imul(ae,ye)|0,b=b+Math.imul(ae,dt)|0,b=b+Math.imul(Je,ye)|0,w=w+Math.imul(Je,dt)|0,y=y+Math.imul(ee,be)|0,b=b+Math.imul(ee,lt)|0,b=b+Math.imul(oe,be)|0,w=w+Math.imul(oe,lt)|0,y=y+Math.imul(O,xe)|0,b=b+Math.imul(O,ht)|0,b=b+Math.imul(W,xe)|0,w=w+Math.imul(W,ht)|0,y=y+Math.imul(q,ge)|0,b=b+Math.imul(q,pt)|0,b=b+Math.imul(Y,ge)|0,w=w+Math.imul(Y,pt)|0,y=y+Math.imul(P,ve)|0,b=b+Math.imul(P,mt)|0,b=b+Math.imul(U,ve)|0,w=w+Math.imul(U,mt)|0,y=y+Math.imul(N,we)|0,b=b+Math.imul(N,nt)|0,b=b+Math.imul($,we)|0,w=w+Math.imul($,nt)|0;var Pr=(_+y|0)+((b&8191)<<13)|0;_=(w+(b>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,y=Math.imul(de,he),b=Math.imul(de,ct),b=b+Math.imul(st,he)|0,w=Math.imul(st,ct),y=y+Math.imul(se,pe)|0,b=b+Math.imul(se,ut)|0,b=b+Math.imul(ze,pe)|0,w=w+Math.imul(ze,ut)|0,y=y+Math.imul(ce,me)|0,b=b+Math.imul(ce,ft)|0,b=b+Math.imul(Ye,me)|0,w=w+Math.imul(Ye,ft)|0,y=y+Math.imul(fe,ye)|0,b=b+Math.imul(fe,dt)|0,b=b+Math.imul(Qe,ye)|0,w=w+Math.imul(Qe,dt)|0,y=y+Math.imul(ae,be)|0,b=b+Math.imul(ae,lt)|0,b=b+Math.imul(Je,be)|0,w=w+Math.imul(Je,lt)|0,y=y+Math.imul(ee,xe)|0,b=b+Math.imul(ee,ht)|0,b=b+Math.imul(oe,xe)|0,w=w+Math.imul(oe,ht)|0,y=y+Math.imul(O,ge)|0,b=b+Math.imul(O,pt)|0,b=b+Math.imul(W,ge)|0,w=w+Math.imul(W,pt)|0,y=y+Math.imul(q,ve)|0,b=b+Math.imul(q,mt)|0,b=b+Math.imul(Y,ve)|0,w=w+Math.imul(Y,mt)|0,y=y+Math.imul(P,we)|0,b=b+Math.imul(P,nt)|0,b=b+Math.imul(U,we)|0,w=w+Math.imul(U,nt)|0;var Or=(_+y|0)+((b&8191)<<13)|0;_=(w+(b>>>13)|0)+(Or>>>26)|0,Or&=67108863,y=Math.imul(de,pe),b=Math.imul(de,ut),b=b+Math.imul(st,pe)|0,w=Math.imul(st,ut),y=y+Math.imul(se,me)|0,b=b+Math.imul(se,ft)|0,b=b+Math.imul(ze,me)|0,w=w+Math.imul(ze,ft)|0,y=y+Math.imul(ce,ye)|0,b=b+Math.imul(ce,dt)|0,b=b+Math.imul(Ye,ye)|0,w=w+Math.imul(Ye,dt)|0,y=y+Math.imul(fe,be)|0,b=b+Math.imul(fe,lt)|0,b=b+Math.imul(Qe,be)|0,w=w+Math.imul(Qe,lt)|0,y=y+Math.imul(ae,xe)|0,b=b+Math.imul(ae,ht)|0,b=b+Math.imul(Je,xe)|0,w=w+Math.imul(Je,ht)|0,y=y+Math.imul(ee,ge)|0,b=b+Math.imul(ee,pt)|0,b=b+Math.imul(oe,ge)|0,w=w+Math.imul(oe,pt)|0,y=y+Math.imul(O,ve)|0,b=b+Math.imul(O,mt)|0,b=b+Math.imul(W,ve)|0,w=w+Math.imul(W,mt)|0,y=y+Math.imul(q,we)|0,b=b+Math.imul(q,nt)|0,b=b+Math.imul(Y,we)|0,w=w+Math.imul(Y,nt)|0;var Br=(_+y|0)+((b&8191)<<13)|0;_=(w+(b>>>13)|0)+(Br>>>26)|0,Br&=67108863,y=Math.imul(de,me),b=Math.imul(de,ft),b=b+Math.imul(st,me)|0,w=Math.imul(st,ft),y=y+Math.imul(se,ye)|0,b=b+Math.imul(se,dt)|0,b=b+Math.imul(ze,ye)|0,w=w+Math.imul(ze,dt)|0,y=y+Math.imul(ce,be)|0,b=b+Math.imul(ce,lt)|0,b=b+Math.imul(Ye,be)|0,w=w+Math.imul(Ye,lt)|0,y=y+Math.imul(fe,xe)|0,b=b+Math.imul(fe,ht)|0,b=b+Math.imul(Qe,xe)|0,w=w+Math.imul(Qe,ht)|0,y=y+Math.imul(ae,ge)|0,b=b+Math.imul(ae,pt)|0,b=b+Math.imul(Je,ge)|0,w=w+Math.imul(Je,pt)|0,y=y+Math.imul(ee,ve)|0,b=b+Math.imul(ee,mt)|0,b=b+Math.imul(oe,ve)|0,w=w+Math.imul(oe,mt)|0,y=y+Math.imul(O,we)|0,b=b+Math.imul(O,nt)|0,b=b+Math.imul(W,we)|0,w=w+Math.imul(W,nt)|0;var Lr=(_+y|0)+((b&8191)<<13)|0;_=(w+(b>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,y=Math.imul(de,ye),b=Math.imul(de,dt),b=b+Math.imul(st,ye)|0,w=Math.imul(st,dt),y=y+Math.imul(se,be)|0,b=b+Math.imul(se,lt)|0,b=b+Math.imul(ze,be)|0,w=w+Math.imul(ze,lt)|0,y=y+Math.imul(ce,xe)|0,b=b+Math.imul(ce,ht)|0,b=b+Math.imul(Ye,xe)|0,w=w+Math.imul(Ye,ht)|0,y=y+Math.imul(fe,ge)|0,b=b+Math.imul(fe,pt)|0,b=b+Math.imul(Qe,ge)|0,w=w+Math.imul(Qe,pt)|0,y=y+Math.imul(ae,ve)|0,b=b+Math.imul(ae,mt)|0,b=b+Math.imul(Je,ve)|0,w=w+Math.imul(Je,mt)|0,y=y+Math.imul(ee,we)|0,b=b+Math.imul(ee,nt)|0,b=b+Math.imul(oe,we)|0,w=w+Math.imul(oe,nt)|0;var Dr=(_+y|0)+((b&8191)<<13)|0;_=(w+(b>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,y=Math.imul(de,be),b=Math.imul(de,lt),b=b+Math.imul(st,be)|0,w=Math.imul(st,lt),y=y+Math.imul(se,xe)|0,b=b+Math.imul(se,ht)|0,b=b+Math.imul(ze,xe)|0,w=w+Math.imul(ze,ht)|0,y=y+Math.imul(ce,ge)|0,b=b+Math.imul(ce,pt)|0,b=b+Math.imul(Ye,ge)|0,w=w+Math.imul(Ye,pt)|0,y=y+Math.imul(fe,ve)|0,b=b+Math.imul(fe,mt)|0,b=b+Math.imul(Qe,ve)|0,w=w+Math.imul(Qe,mt)|0,y=y+Math.imul(ae,we)|0,b=b+Math.imul(ae,nt)|0,b=b+Math.imul(Je,we)|0,w=w+Math.imul(Je,nt)|0;var Fr=(_+y|0)+((b&8191)<<13)|0;_=(w+(b>>>13)|0)+(Fr>>>26)|0,Fr&=67108863,y=Math.imul(de,xe),b=Math.imul(de,ht),b=b+Math.imul(st,xe)|0,w=Math.imul(st,ht),y=y+Math.imul(se,ge)|0,b=b+Math.imul(se,pt)|0,b=b+Math.imul(ze,ge)|0,w=w+Math.imul(ze,pt)|0,y=y+Math.imul(ce,ve)|0,b=b+Math.imul(ce,mt)|0,b=b+Math.imul(Ye,ve)|0,w=w+Math.imul(Ye,mt)|0,y=y+Math.imul(fe,we)|0,b=b+Math.imul(fe,nt)|0,b=b+Math.imul(Qe,we)|0,w=w+Math.imul(Qe,nt)|0;var Ur=(_+y|0)+((b&8191)<<13)|0;_=(w+(b>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,y=Math.imul(de,ge),b=Math.imul(de,pt),b=b+Math.imul(st,ge)|0,w=Math.imul(st,pt),y=y+Math.imul(se,ve)|0,b=b+Math.imul(se,mt)|0,b=b+Math.imul(ze,ve)|0,w=w+Math.imul(ze,mt)|0,y=y+Math.imul(ce,we)|0,b=b+Math.imul(ce,nt)|0,b=b+Math.imul(Ye,we)|0,w=w+Math.imul(Ye,nt)|0;var Bn=(_+y|0)+((b&8191)<<13)|0;_=(w+(b>>>13)|0)+(Bn>>>26)|0,Bn&=67108863,y=Math.imul(de,ve),b=Math.imul(de,mt),b=b+Math.imul(st,ve)|0,w=Math.imul(st,mt),y=y+Math.imul(se,we)|0,b=b+Math.imul(se,nt)|0,b=b+Math.imul(ze,we)|0,w=w+Math.imul(ze,nt)|0;var Ln=(_+y|0)+((b&8191)<<13)|0;_=(w+(b>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,y=Math.imul(de,we),b=Math.imul(de,nt),b=b+Math.imul(st,we)|0,w=Math.imul(st,nt);var ga=(_+y|0)+((b&8191)<<13)|0;return _=(w+(b>>>13)|0)+(ga>>>26)|0,ga&=67108863,E[0]=Xe,E[1]=et,E[2]=Kt,E[3]=Gt,E[4]=Vt,E[5]=Wt,E[6]=Jt,E[7]=Nr,E[8]=Rr,E[9]=Pr,E[10]=Or,E[11]=Br,E[12]=Lr,E[13]=Dr,E[14]=Fr,E[15]=Ur,E[16]=Bn,E[17]=Ln,E[18]=ga,_!==0&&(E[19]=_,u.length++),u};Math.imul||(k=M);function I(m,d,h){h.negative=d.negative^m.negative,h.length=m.length+d.length;for(var u=0,p=0,g=0;g<h.length-1;g++){var E=p;p=0;for(var _=u&67108863,y=Math.min(g,d.length-1),b=Math.max(0,g-m.length+1);b<=y;b++){var w=g-b,v=m.words[w]|0,N=d.words[b]|0,$=v*N,T=$&67108863;E=E+($/67108864|0)|0,T=T+_|0,_=T&67108863,E=E+(T>>>26)|0,p+=E>>>26,E&=67108863}h.words[g]=_,u=E,E=p}return u!==0?h.words[g]=u:h.length--,h.strip()}function C(m,d,h){var u=new R;return u.mulp(m,d,h)}a.prototype.mulTo=function(d,h){var u,p=this.length+d.length;return this.length===10&&d.length===10?u=k(this,d,h):p<63?u=M(this,d,h):p<1024?u=I(this,d,h):u=C(this,d,h),u};function R(m,d){this.x=m,this.y=d}R.prototype.makeRBT=function(d){for(var h=new Array(d),u=a.prototype._countBits(d)-1,p=0;p<d;p++)h[p]=this.revBin(p,u,d);return h},R.prototype.revBin=function(d,h,u){if(d===0||d===u-1)return d;for(var p=0,g=0;g<h;g++)p|=(d&1)<<h-g-1,d>>=1;return p},R.prototype.permute=function(d,h,u,p,g,E){for(var _=0;_<E;_++)p[_]=h[d[_]],g[_]=u[d[_]]},R.prototype.transform=function(d,h,u,p,g,E){this.permute(E,d,h,u,p,g);for(var _=1;_<g;_<<=1)for(var y=_<<1,b=Math.cos(2*Math.PI/y),w=Math.sin(2*Math.PI/y),v=0;v<g;v+=y)for(var N=b,$=w,T=0;T<_;T++){var P=u[v+T],U=p[v+T],z=u[v+T+_],q=p[v+T+_],Y=N*z-$*q;q=N*q+$*z,z=Y,u[v+T]=P+z,p[v+T]=U+q,u[v+T+_]=P-z,p[v+T+_]=U-q,T!==y&&(Y=b*N-w*$,$=b*$+w*N,N=Y)}},R.prototype.guessLen13b=function(d,h){var u=Math.max(h,d)|1,p=u&1,g=0;for(u=u/2|0;u;u=u>>>1)g++;return 1<<g+1+p},R.prototype.conjugate=function(d,h,u){if(!(u<=1))for(var p=0;p<u/2;p++){var g=d[p];d[p]=d[u-p-1],d[u-p-1]=g,g=h[p],h[p]=-h[u-p-1],h[u-p-1]=-g}},R.prototype.normalize13b=function(d,h){for(var u=0,p=0;p<h/2;p++){var g=Math.round(d[2*p+1]/h)*8192+Math.round(d[2*p]/h)+u;d[p]=g&67108863,g<67108864?u=0:u=g/67108864|0}return d},R.prototype.convert13b=function(d,h,u,p){for(var g=0,E=0;E<h;E++)g=g+(d[E]|0),u[2*E]=g&8191,g=g>>>13,u[2*E+1]=g&8191,g=g>>>13;for(E=2*h;E<p;++E)u[E]=0;n(g===0),n((g&-8192)===0)},R.prototype.stub=function(d){for(var h=new Array(d),u=0;u<d;u++)h[u]=0;return h},R.prototype.mulp=function(d,h,u){var p=2*this.guessLen13b(d.length,h.length),g=this.makeRBT(p),E=this.stub(p),_=new Array(p),y=new Array(p),b=new Array(p),w=new Array(p),v=new Array(p),N=new Array(p),$=u.words;$.length=p,this.convert13b(d.words,d.length,_,p),this.convert13b(h.words,h.length,w,p),this.transform(_,E,y,b,p,g),this.transform(w,E,v,N,p,g);for(var T=0;T<p;T++){var P=y[T]*v[T]-b[T]*N[T];b[T]=y[T]*N[T]+b[T]*v[T],y[T]=P}return this.conjugate(y,b,p),this.transform(y,b,$,E,p,g),this.conjugate($,E,p),this.normalize13b($,p),u.negative=d.negative^h.negative,u.length=d.length+h.length,u.strip()},a.prototype.mul=function(d){var h=new a(null);return h.words=new Array(this.length+d.length),this.mulTo(d,h)},a.prototype.mulf=function(d){var h=new a(null);return h.words=new Array(this.length+d.length),C(this,d,h)},a.prototype.imul=function(d){return this.clone().mulTo(d,this)},a.prototype.imuln=function(d){n(typeof d=="number"),n(d<67108864);for(var h=0,u=0;u<this.length;u++){var p=(this.words[u]|0)*d,g=(p&67108863)+(h&67108863);h>>=26,h+=p/67108864|0,h+=g>>>26,this.words[u]=g&67108863}return h!==0&&(this.words[u]=h,this.length++),this},a.prototype.muln=function(d){return this.clone().imuln(d)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(d){var h=S(d);if(h.length===0)return new a(1);for(var u=this,p=0;p<h.length&&h[p]===0;p++,u=u.sqr());if(++p<h.length)for(var g=u.sqr();p<h.length;p++,g=g.sqr())h[p]!==0&&(u=u.mul(g));return u},a.prototype.iushln=function(d){n(typeof d=="number"&&d>=0);var h=d%26,u=(d-h)/26,p=67108863>>>26-h<<26-h,g;if(h!==0){var E=0;for(g=0;g<this.length;g++){var _=this.words[g]&p,y=(this.words[g]|0)-_<<h;this.words[g]=y|E,E=_>>>26-h}E&&(this.words[g]=E,this.length++)}if(u!==0){for(g=this.length-1;g>=0;g--)this.words[g+u]=this.words[g];for(g=0;g<u;g++)this.words[g]=0;this.length+=u}return this.strip()},a.prototype.ishln=function(d){return n(this.negative===0),this.iushln(d)},a.prototype.iushrn=function(d,h,u){n(typeof d=="number"&&d>=0);var p;h?p=(h-h%26)/26:p=0;var g=d%26,E=Math.min((d-g)/26,this.length),_=67108863^67108863>>>g<<g,y=u;if(p-=E,p=Math.max(0,p),y){for(var b=0;b<E;b++)y.words[b]=this.words[b];y.length=E}if(E!==0)if(this.length>E)for(this.length-=E,b=0;b<this.length;b++)this.words[b]=this.words[b+E];else this.words[0]=0,this.length=1;var w=0;for(b=this.length-1;b>=0&&(w!==0||b>=p);b--){var v=this.words[b]|0;this.words[b]=w<<26-g|v>>>g,w=v&_}return y&&w!==0&&(y.words[y.length++]=w),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(d,h,u){return n(this.negative===0),this.iushrn(d,h,u)},a.prototype.shln=function(d){return this.clone().ishln(d)},a.prototype.ushln=function(d){return this.clone().iushln(d)},a.prototype.shrn=function(d){return this.clone().ishrn(d)},a.prototype.ushrn=function(d){return this.clone().iushrn(d)},a.prototype.testn=function(d){n(typeof d=="number"&&d>=0);var h=d%26,u=(d-h)/26,p=1<<h;if(this.length<=u)return!1;var g=this.words[u];return!!(g&p)},a.prototype.imaskn=function(d){n(typeof d=="number"&&d>=0);var h=d%26,u=(d-h)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=u)return this;if(h!==0&&u++,this.length=Math.min(u,this.length),h!==0){var p=67108863^67108863>>>h<<h;this.words[this.length-1]&=p}return this.strip()},a.prototype.maskn=function(d){return this.clone().imaskn(d)},a.prototype.iaddn=function(d){return n(typeof d=="number"),n(d<67108864),d<0?this.isubn(-d):this.negative!==0?this.length===1&&(this.words[0]|0)<d?(this.words[0]=d-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(d),this.negative=1,this):this._iaddn(d)},a.prototype._iaddn=function(d){this.words[0]+=d;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},a.prototype.isubn=function(d){if(n(typeof d=="number"),n(d<67108864),d<0)return this.iaddn(-d);if(this.negative!==0)return this.negative=0,this.iaddn(d),this.negative=1,this;if(this.words[0]-=d,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this.strip()},a.prototype.addn=function(d){return this.clone().iaddn(d)},a.prototype.subn=function(d){return this.clone().isubn(d)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(d,h,u){var p=d.length+u,g;this._expand(p);var E,_=0;for(g=0;g<d.length;g++){E=(this.words[g+u]|0)+_;var y=(d.words[g]|0)*h;E-=y&67108863,_=(E>>26)-(y/67108864|0),this.words[g+u]=E&67108863}for(;g<this.length-u;g++)E=(this.words[g+u]|0)+_,_=E>>26,this.words[g+u]=E&67108863;if(_===0)return this.strip();for(n(_===-1),_=0,g=0;g<this.length;g++)E=-(this.words[g]|0)+_,_=E>>26,this.words[g]=E&67108863;return this.negative=1,this.strip()},a.prototype._wordDiv=function(d,h){var u=this.length-d.length,p=this.clone(),g=d,E=g.words[g.length-1]|0,_=this._countBits(E);u=26-_,u!==0&&(g=g.ushln(u),p.iushln(u),E=g.words[g.length-1]|0);var y=p.length-g.length,b;if(h!=="mod"){b=new a(null),b.length=y+1,b.words=new Array(b.length);for(var w=0;w<b.length;w++)b.words[w]=0}var v=p.clone()._ishlnsubmul(g,1,y);v.negative===0&&(p=v,b&&(b.words[y]=1));for(var N=y-1;N>=0;N--){var $=(p.words[g.length+N]|0)*67108864+(p.words[g.length+N-1]|0);for($=Math.min($/E|0,67108863),p._ishlnsubmul(g,$,N);p.negative!==0;)$--,p.negative=0,p._ishlnsubmul(g,1,N),p.isZero()||(p.negative^=1);b&&(b.words[N]=$)}return b&&b.strip(),p.strip(),h!=="div"&&u!==0&&p.iushrn(u),{div:b||null,mod:p}},a.prototype.divmod=function(d,h,u){if(n(!d.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var p,g,E;return this.negative!==0&&d.negative===0?(E=this.neg().divmod(d,h),h!=="mod"&&(p=E.div.neg()),h!=="div"&&(g=E.mod.neg(),u&&g.negative!==0&&g.iadd(d)),{div:p,mod:g}):this.negative===0&&d.negative!==0?(E=this.divmod(d.neg(),h),h!=="mod"&&(p=E.div.neg()),{div:p,mod:E.mod}):this.negative&d.negative?(E=this.neg().divmod(d.neg(),h),h!=="div"&&(g=E.mod.neg(),u&&g.negative!==0&&g.isub(d)),{div:E.div,mod:g}):d.length>this.length||this.cmp(d)<0?{div:new a(0),mod:this}:d.length===1?h==="div"?{div:this.divn(d.words[0]),mod:null}:h==="mod"?{div:null,mod:new a(this.modn(d.words[0]))}:{div:this.divn(d.words[0]),mod:new a(this.modn(d.words[0]))}:this._wordDiv(d,h)},a.prototype.div=function(d){return this.divmod(d,"div",!1).div},a.prototype.mod=function(d){return this.divmod(d,"mod",!1).mod},a.prototype.umod=function(d){return this.divmod(d,"mod",!0).mod},a.prototype.divRound=function(d){var h=this.divmod(d);if(h.mod.isZero())return h.div;var u=h.div.negative!==0?h.mod.isub(d):h.mod,p=d.ushrn(1),g=d.andln(1),E=u.cmp(p);return E<0||g===1&&E===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},a.prototype.modn=function(d){n(d<=67108863);for(var h=(1<<26)%d,u=0,p=this.length-1;p>=0;p--)u=(h*u+(this.words[p]|0))%d;return u},a.prototype.idivn=function(d){n(d<=67108863);for(var h=0,u=this.length-1;u>=0;u--){var p=(this.words[u]|0)+h*67108864;this.words[u]=p/d|0,h=p%d}return this.strip()},a.prototype.divn=function(d){return this.clone().idivn(d)},a.prototype.egcd=function(d){n(d.negative===0),n(!d.isZero());var h=this,u=d.clone();h.negative!==0?h=h.umod(d):h=h.clone();for(var p=new a(1),g=new a(0),E=new a(0),_=new a(1),y=0;h.isEven()&&u.isEven();)h.iushrn(1),u.iushrn(1),++y;for(var b=u.clone(),w=h.clone();!h.isZero();){for(var v=0,N=1;!(h.words[0]&N)&&v<26;++v,N<<=1);if(v>0)for(h.iushrn(v);v-- >0;)(p.isOdd()||g.isOdd())&&(p.iadd(b),g.isub(w)),p.iushrn(1),g.iushrn(1);for(var $=0,T=1;!(u.words[0]&T)&&$<26;++$,T<<=1);if($>0)for(u.iushrn($);$-- >0;)(E.isOdd()||_.isOdd())&&(E.iadd(b),_.isub(w)),E.iushrn(1),_.iushrn(1);h.cmp(u)>=0?(h.isub(u),p.isub(E),g.isub(_)):(u.isub(h),E.isub(p),_.isub(g))}return{a:E,b:_,gcd:u.iushln(y)}},a.prototype._invmp=function(d){n(d.negative===0),n(!d.isZero());var h=this,u=d.clone();h.negative!==0?h=h.umod(d):h=h.clone();for(var p=new a(1),g=new a(0),E=u.clone();h.cmpn(1)>0&&u.cmpn(1)>0;){for(var _=0,y=1;!(h.words[0]&y)&&_<26;++_,y<<=1);if(_>0)for(h.iushrn(_);_-- >0;)p.isOdd()&&p.iadd(E),p.iushrn(1);for(var b=0,w=1;!(u.words[0]&w)&&b<26;++b,w<<=1);if(b>0)for(u.iushrn(b);b-- >0;)g.isOdd()&&g.iadd(E),g.iushrn(1);h.cmp(u)>=0?(h.isub(u),p.isub(g)):(u.isub(h),g.isub(p))}var v;return h.cmpn(1)===0?v=p:v=g,v.cmpn(0)<0&&v.iadd(d),v},a.prototype.gcd=function(d){if(this.isZero())return d.abs();if(d.isZero())return this.abs();var h=this.clone(),u=d.clone();h.negative=0,u.negative=0;for(var p=0;h.isEven()&&u.isEven();p++)h.iushrn(1),u.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;u.isEven();)u.iushrn(1);var g=h.cmp(u);if(g<0){var E=h;h=u,u=E}else if(g===0||u.cmpn(1)===0)break;h.isub(u)}while(!0);return u.iushln(p)},a.prototype.invm=function(d){return this.egcd(d).a.umod(d)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(d){return this.words[0]&d},a.prototype.bincn=function(d){n(typeof d=="number");var h=d%26,u=(d-h)/26,p=1<<h;if(this.length<=u)return this._expand(u+1),this.words[u]|=p,this;for(var g=p,E=u;g!==0&&E<this.length;E++){var _=this.words[E]|0;_+=g,g=_>>>26,_&=67108863,this.words[E]=_}return g!==0&&(this.words[E]=g,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(d){var h=d<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this.strip();var u;if(this.length>1)u=1;else{h&&(d=-d),n(d<=67108863,"Number is too big");var p=this.words[0]|0;u=p===d?0:p<d?-1:1}return this.negative!==0?-u|0:u},a.prototype.cmp=function(d){if(this.negative!==0&&d.negative===0)return-1;if(this.negative===0&&d.negative!==0)return 1;var h=this.ucmp(d);return this.negative!==0?-h|0:h},a.prototype.ucmp=function(d){if(this.length>d.length)return 1;if(this.length<d.length)return-1;for(var h=0,u=this.length-1;u>=0;u--){var p=this.words[u]|0,g=d.words[u]|0;if(p!==g){p<g?h=-1:p>g&&(h=1);break}}return h},a.prototype.gtn=function(d){return this.cmpn(d)===1},a.prototype.gt=function(d){return this.cmp(d)===1},a.prototype.gten=function(d){return this.cmpn(d)>=0},a.prototype.gte=function(d){return this.cmp(d)>=0},a.prototype.ltn=function(d){return this.cmpn(d)===-1},a.prototype.lt=function(d){return this.cmp(d)===-1},a.prototype.lten=function(d){return this.cmpn(d)<=0},a.prototype.lte=function(d){return this.cmp(d)<=0},a.prototype.eqn=function(d){return this.cmpn(d)===0},a.prototype.eq=function(d){return this.cmp(d)===0},a.red=function(d){return new J(d)},a.prototype.toRed=function(d){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),d.convertTo(this)._forceRed(d)},a.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(d){return this.red=d,this},a.prototype.forceRed=function(d){return n(!this.red,"Already a number in reduction context"),this._forceRed(d)},a.prototype.redAdd=function(d){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,d)},a.prototype.redIAdd=function(d){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,d)},a.prototype.redSub=function(d){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,d)},a.prototype.redISub=function(d){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,d)},a.prototype.redShl=function(d){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,d)},a.prototype.redMul=function(d){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.mul(this,d)},a.prototype.redIMul=function(d){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.imul(this,d)},a.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(d){return n(this.red&&!d.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,d)};var D={k256:null,p224:null,p192:null,p25519:null};function F(m,d){this.name=m,this.p=new a(d,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}F.prototype._tmp=function(){var d=new a(null);return d.words=new Array(Math.ceil(this.n/13)),d},F.prototype.ireduce=function(d){var h=d,u;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),u=h.bitLength();while(u>this.n);var p=u<this.n?-1:h.ucmp(this.p);return p===0?(h.words[0]=0,h.length=1):p>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},F.prototype.split=function(d,h){d.iushrn(this.n,0,h)},F.prototype.imulK=function(d){return d.imul(this.k)};function H(){F.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(H,F),H.prototype.split=function(d,h){for(var u=4194303,p=Math.min(d.length,9),g=0;g<p;g++)h.words[g]=d.words[g];if(h.length=p,d.length<=9){d.words[0]=0,d.length=1;return}var E=d.words[9];for(h.words[h.length++]=E&u,g=10;g<d.length;g++){var _=d.words[g]|0;d.words[g-10]=(_&u)<<4|E>>>22,E=_}E>>>=22,d.words[g-10]=E,E===0&&d.length>10?d.length-=10:d.length-=9},H.prototype.imulK=function(d){d.words[d.length]=0,d.words[d.length+1]=0,d.length+=2;for(var h=0,u=0;u<d.length;u++){var p=d.words[u]|0;h+=p*977,d.words[u]=h&67108863,h=p*64+(h/67108864|0)}return d.words[d.length-1]===0&&(d.length--,d.words[d.length-1]===0&&d.length--),d};function j(){F.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(j,F);function Z(){F.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(Z,F);function G(){F.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(G,F),G.prototype.imulK=function(d){for(var h=0,u=0;u<d.length;u++){var p=(d.words[u]|0)*19+h,g=p&67108863;p>>>=26,d.words[u]=g,h=p}return h!==0&&(d.words[d.length++]=h),d},a._prime=function(d){if(D[d])return D[d];var h;if(d==="k256")h=new H;else if(d==="p224")h=new j;else if(d==="p192")h=new Z;else if(d==="p25519")h=new G;else throw new Error("Unknown prime "+d);return D[d]=h,h};function J(m){if(typeof m=="string"){var d=a._prime(m);this.m=d.p,this.prime=d}else n(m.gtn(1),"modulus must be greater than 1"),this.m=m,this.prime=null}J.prototype._verify1=function(d){n(d.negative===0,"red works only with positives"),n(d.red,"red works only with red numbers")},J.prototype._verify2=function(d,h){n((d.negative|h.negative)===0,"red works only with positives"),n(d.red&&d.red===h.red,"red works only with red numbers")},J.prototype.imod=function(d){return this.prime?this.prime.ireduce(d)._forceRed(this):d.umod(this.m)._forceRed(this)},J.prototype.neg=function(d){return d.isZero()?d.clone():this.m.sub(d)._forceRed(this)},J.prototype.add=function(d,h){this._verify2(d,h);var u=d.add(h);return u.cmp(this.m)>=0&&u.isub(this.m),u._forceRed(this)},J.prototype.iadd=function(d,h){this._verify2(d,h);var u=d.iadd(h);return u.cmp(this.m)>=0&&u.isub(this.m),u},J.prototype.sub=function(d,h){this._verify2(d,h);var u=d.sub(h);return u.cmpn(0)<0&&u.iadd(this.m),u._forceRed(this)},J.prototype.isub=function(d,h){this._verify2(d,h);var u=d.isub(h);return u.cmpn(0)<0&&u.iadd(this.m),u},J.prototype.shl=function(d,h){return this._verify1(d),this.imod(d.ushln(h))},J.prototype.imul=function(d,h){return this._verify2(d,h),this.imod(d.imul(h))},J.prototype.mul=function(d,h){return this._verify2(d,h),this.imod(d.mul(h))},J.prototype.isqr=function(d){return this.imul(d,d.clone())},J.prototype.sqr=function(d){return this.mul(d,d)},J.prototype.sqrt=function(d){if(d.isZero())return d.clone();var h=this.m.andln(3);if(n(h%2===1),h===3){var u=this.m.add(new a(1)).iushrn(2);return this.pow(d,u)}for(var p=this.m.subn(1),g=0;!p.isZero()&&p.andln(1)===0;)g++,p.iushrn(1);n(!p.isZero());var E=new a(1).toRed(this),_=E.redNeg(),y=this.m.subn(1).iushrn(1),b=this.m.bitLength();for(b=new a(2*b*b).toRed(this);this.pow(b,y).cmp(_)!==0;)b.redIAdd(_);for(var w=this.pow(b,p),v=this.pow(d,p.addn(1).iushrn(1)),N=this.pow(d,p),$=g;N.cmp(E)!==0;){for(var T=N,P=0;T.cmp(E)!==0;P++)T=T.redSqr();n(P<$);var U=this.pow(w,new a(1).iushln($-P-1));v=v.redMul(U),w=U.redSqr(),N=N.redMul(w),$=P}return v},J.prototype.invm=function(d){var h=d._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},J.prototype.pow=function(d,h){if(h.isZero())return new a(1).toRed(this);if(h.cmpn(1)===0)return d.clone();var u=4,p=new Array(1<<u);p[0]=new a(1).toRed(this),p[1]=d;for(var g=2;g<p.length;g++)p[g]=this.mul(p[g-1],d);var E=p[0],_=0,y=0,b=h.bitLength()%26;for(b===0&&(b=26),g=h.length-1;g>=0;g--){for(var w=h.words[g],v=b-1;v>=0;v--){var N=w>>v&1;if(E!==p[0]&&(E=this.sqr(E)),N===0&&_===0){y=0;continue}_<<=1,_|=N,y++,!(y!==u&&(g!==0||v!==0))&&(E=this.mul(E,p[_]),y=0,_=0)}b=26}return E},J.prototype.convertTo=function(d){var h=d.umod(this.m);return h===d?h.clone():h},J.prototype.convertFrom=function(d){var h=d.clone();return h.red=null,h},a.mont=function(d){return new B(d)};function B(m){J.call(this,m),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(B,J),B.prototype.convertTo=function(d){return this.imod(d.ushln(this.shift))},B.prototype.convertFrom=function(d){var h=this.imod(d.mul(this.rinv));return h.red=null,h},B.prototype.imul=function(d,h){if(d.isZero()||h.isZero())return d.words[0]=0,d.length=1,d;var u=d.imul(h),p=u.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=u.isub(p).iushrn(this.shift),E=g;return g.cmp(this.m)>=0?E=g.isub(this.m):g.cmpn(0)<0&&(E=g.iadd(this.m)),E._forceRed(this)},B.prototype.mul=function(d,h){if(d.isZero()||h.isZero())return new a(0)._forceRed(this);var u=d.mul(h),p=u.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=u.isub(p).iushrn(this.shift),E=g;return g.cmp(this.m)>=0?E=g.isub(this.m):g.cmpn(0)<0&&(E=g.iadd(this.m)),E._forceRed(this)},B.prototype.invm=function(d){var h=this.imod(d._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(t,Ke)})(Qh);var Hi=Qh.exports,Xh={};(function(t){var e=t;function r(a,s){if(Array.isArray(a))return a.slice();if(!a)return[];var o=[];if(typeof a!="string"){for(var c=0;c<a.length;c++)o[c]=a[c]|0;return o}if(s==="hex"){a=a.replace(/[^a-z0-9]+/ig,""),a.length%2!==0&&(a="0"+a);for(var c=0;c<a.length;c+=2)o.push(parseInt(a[c]+a[c+1],16))}else for(var c=0;c<a.length;c++){var f=a.charCodeAt(c),l=f>>8,x=f&255;l?o.push(l,x):o.push(x)}return o}e.toArray=r;function n(a){return a.length===1?"0"+a:a}e.zero2=n;function i(a){for(var s="",o=0;o<a.length;o++)s+=n(a[o].toString(16));return s}e.toHex=i,e.encode=function(s,o){return o==="hex"?i(s):s}})(Xh);(function(t){var e=t,r=Hi,n=Qa,i=Xh;e.assert=n,e.toArray=i.toArray,e.zero2=i.zero2,e.toHex=i.toHex,e.encode=i.encode;function a(l,x,A){var S=new Array(Math.max(l.bitLength(),A)+1);S.fill(0);for(var M=1<<x+1,k=l.clone(),I=0;I<S.length;I++){var C,R=k.andln(M-1);k.isOdd()?(R>(M>>1)-1?C=(M>>1)-R:C=R,k.isubn(C)):C=0,S[I]=C,k.iushrn(1)}return S}e.getNAF=a;function s(l,x){var A=[[],[]];l=l.clone(),x=x.clone();for(var S=0,M=0,k;l.cmpn(-S)>0||x.cmpn(-M)>0;){var I=l.andln(3)+S&3,C=x.andln(3)+M&3;I===3&&(I=-1),C===3&&(C=-1);var R;I&1?(k=l.andln(7)+S&7,(k===3||k===5)&&C===2?R=-I:R=I):R=0,A[0].push(R);var D;C&1?(k=x.andln(7)+M&7,(k===3||k===5)&&I===2?D=-C:D=C):D=0,A[1].push(D),2*S===R+1&&(S=1-S),2*M===D+1&&(M=1-M),l.iushrn(1),x.iushrn(1)}return A}e.getJSF=s;function o(l,x,A){var S="_"+x;l.prototype[x]=function(){return this[S]!==void 0?this[S]:this[S]=A.call(this)}}e.cachedProperty=o;function c(l){return typeof l=="string"?e.toArray(l,"hex"):l}e.parseBytes=c;function f(l){return new r(l,"hex","le")}e.intFromLE=f})(hn);var ep={exports:{}},Gd;ep.exports=function(e){return Gd||(Gd=new ea(null)),Gd.generate(e)};function ea(t){this.rand=t}ep.exports.Rand=ea;ea.prototype.generate=function(e){return this._rand(e)};ea.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var r=new Uint8Array(e),n=0;n<r.length;n++)r[n]=this.rand.getByte();return r};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?ea.prototype._rand=function(e){var r=new Uint8Array(e);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?ea.prototype._rand=function(e){var r=new Uint8Array(e);return self.msCrypto.getRandomValues(r),r}:typeof window=="object"&&(ea.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var sy=rr;if(typeof sy.randomBytes!="function")throw new Error("Not supported");ea.prototype._rand=function(e){return sy.randomBytes(e)}}catch{}var cg=ep.exports,tp={},_a=Hi,kc=hn,Lu=kc.getNAF,NM=kc.getJSF,Du=kc.assert;function ya(t,e){this.type=t,this.p=new _a(e.p,16),this.red=e.prime?_a.red(e.prime):_a.mont(this.p),this.zero=new _a(0).toRed(this.red),this.one=new _a(1).toRed(this.red),this.two=new _a(2).toRed(this.red),this.n=e.n&&new _a(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Cf=ya;ya.prototype.point=function(){throw new Error("Not implemented")};ya.prototype.validate=function(){throw new Error("Not implemented")};ya.prototype._fixedNafMul=function(e,r){Du(e.precomputed);var n=e._getDoubles(),i=Lu(r,1,this._bitLength),a=(1<<n.step+1)-(n.step%2===0?2:1);a/=3;var s=[],o,c;for(o=0;o<i.length;o+=n.step){c=0;for(var f=o+n.step-1;f>=o;f--)c=(c<<1)+i[f];s.push(c)}for(var l=this.jpoint(null,null,null),x=this.jpoint(null,null,null),A=a;A>0;A--){for(o=0;o<s.length;o++)c=s[o],c===A?x=x.mixedAdd(n.points[o]):c===-A&&(x=x.mixedAdd(n.points[o].neg()));l=l.add(x)}return l.toP()};ya.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var a=i.points,s=Lu(r,n,this._bitLength),o=this.jpoint(null,null,null),c=s.length-1;c>=0;c--){for(var f=0;c>=0&&s[c]===0;c--)f++;if(c>=0&&f++,o=o.dblp(f),c<0)break;var l=s[c];Du(l!==0),e.type==="affine"?l>0?o=o.mixedAdd(a[l-1>>1]):o=o.mixedAdd(a[-l-1>>1].neg()):l>0?o=o.add(a[l-1>>1]):o=o.add(a[-l-1>>1].neg())}return e.type==="affine"?o.toP():o};ya.prototype._wnafMulAdd=function(e,r,n,i,a){var s=this._wnafT1,o=this._wnafT2,c=this._wnafT3,f=0,l,x,A;for(l=0;l<i;l++){A=r[l];var S=A._getNAFPoints(e);s[l]=S.wnd,o[l]=S.points}for(l=i-1;l>=1;l-=2){var M=l-1,k=l;if(s[M]!==1||s[k]!==1){c[M]=Lu(n[M],s[M],this._bitLength),c[k]=Lu(n[k],s[k],this._bitLength),f=Math.max(c[M].length,f),f=Math.max(c[k].length,f);continue}var I=[r[M],null,null,r[k]];r[M].y.cmp(r[k].y)===0?(I[1]=r[M].add(r[k]),I[2]=r[M].toJ().mixedAdd(r[k].neg())):r[M].y.cmp(r[k].y.redNeg())===0?(I[1]=r[M].toJ().mixedAdd(r[k]),I[2]=r[M].add(r[k].neg())):(I[1]=r[M].toJ().mixedAdd(r[k]),I[2]=r[M].toJ().mixedAdd(r[k].neg()));var C=[-3,-1,-5,-7,0,7,5,1,3],R=NM(n[M],n[k]);for(f=Math.max(R[0].length,f),c[M]=new Array(f),c[k]=new Array(f),x=0;x<f;x++){var D=R[0][x]|0,F=R[1][x]|0;c[M][x]=C[(D+1)*3+(F+1)],c[k][x]=0,o[M]=I}}var H=this.jpoint(null,null,null),j=this._wnafT4;for(l=f;l>=0;l--){for(var Z=0;l>=0;){var G=!0;for(x=0;x<i;x++)j[x]=c[x][l]|0,j[x]!==0&&(G=!1);if(!G)break;Z++,l--}if(l>=0&&Z++,H=H.dblp(Z),l<0)break;for(x=0;x<i;x++){var J=j[x];J!==0&&(J>0?A=o[x][J-1>>1]:J<0&&(A=o[x][-J-1>>1].neg()),A.type==="affine"?H=H.mixedAdd(A):H=H.add(A))}}for(l=0;l<i;l++)o[l]=null;return a?H:H.toP()};function Nn(t,e){this.curve=t,this.type=e,this.precomputed=null}ya.BasePoint=Nn;Nn.prototype.eq=function(){throw new Error("Not implemented")};Nn.prototype.validate=function(){return this.curve.validate(this)};ya.prototype.decodePoint=function(e,r){e=kc.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?Du(e[e.length-1]%2===0):e[0]===7&&Du(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Nn.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Nn.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Nn.prototype.encode=function(e,r){return kc.encode(this._encode(r),e)};Nn.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Nn.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Nn.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,a=0;a<r;a+=e){for(var s=0;s<e;s++)i=i.dbl();n.push(i)}return{step:e,points:n}};Nn.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),a=1;a<n;a++)r[a]=r[a-1].add(i);return{wnd:e,points:r}};Nn.prototype._getBeta=function(){return null};Nn.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var RM=hn,Ft=Hi,rp=Xt,eo=Cf,PM=RM.assert;function Rn(t){eo.call(this,"short",t),this.a=new Ft(t.a,16).toRed(this.red),this.b=new Ft(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}rp(Rn,eo);var OM=Rn;Rn.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new Ft(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new Ft(e.lambda,16);else{var a=this._getEndoRoots(this.n);this.g.mul(a[0]).x.cmp(this.g.x.redMul(r))===0?n=a[0]:(n=a[1],PM(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var s;return e.basis?s=e.basis.map(function(o){return{a:new Ft(o.a,16),b:new Ft(o.b,16)}}):s=this._getEndoBasis(n),{beta:r,lambda:n,basis:s}}};Rn.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:Ft.mont(e),n=new Ft(2).toRed(r).redInvm(),i=n.redNeg(),a=new Ft(3).toRed(r).redNeg().redSqrt().redMul(n),s=i.redAdd(a).fromRed(),o=i.redSub(a).fromRed();return[s,o]};Rn.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),a=new Ft(1),s=new Ft(0),o=new Ft(0),c=new Ft(1),f,l,x,A,S,M,k,I=0,C,R;n.cmpn(0)!==0;){var D=i.div(n);C=i.sub(D.mul(n)),R=o.sub(D.mul(a));var F=c.sub(D.mul(s));if(!x&&C.cmp(r)<0)f=k.neg(),l=a,x=C.neg(),A=R;else if(x&&++I===2)break;k=C,i=n,n=C,o=a,a=R,c=s,s=F}S=C.neg(),M=R;var H=x.sqr().add(A.sqr()),j=S.sqr().add(M.sqr());return j.cmp(H)>=0&&(S=f,M=l),x.negative&&(x=x.neg(),A=A.neg()),S.negative&&(S=S.neg(),M=M.neg()),[{a:x,b:A},{a:S,b:M}]};Rn.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],a=i.b.mul(e).divRound(this.n),s=n.b.neg().mul(e).divRound(this.n),o=a.mul(n.a),c=s.mul(i.a),f=a.mul(n.b),l=s.mul(i.b),x=e.sub(o).sub(c),A=f.add(l).neg();return{k1:x,k2:A}};Rn.prototype.pointFromX=function(e,r){e=new Ft(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var a=i.fromRed().isOdd();return(r&&!a||!r&&a)&&(i=i.redNeg()),this.point(e,i)};Rn.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),a=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(a).cmpn(0)===0};Rn.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,a=this._endoWnafT2,s=0;s<e.length;s++){var o=this._endoSplit(r[s]),c=e[s],f=c._getBeta();o.k1.negative&&(o.k1.ineg(),c=c.neg(!0)),o.k2.negative&&(o.k2.ineg(),f=f.neg(!0)),i[s*2]=c,i[s*2+1]=f,a[s*2]=o.k1,a[s*2+1]=o.k2}for(var l=this._wnafMulAdd(1,i,a,s*2,n),x=0;x<s*2;x++)i[x]=null,a[x]=null;return l};function hr(t,e,r,n){eo.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Ft(e,16),this.y=new Ft(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}rp(hr,eo.BasePoint);Rn.prototype.point=function(e,r,n){return new hr(this,e,r,n)};Rn.prototype.pointFromJSON=function(e,r){return hr.fromJSON(this,e,r)};hr.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(a){return n.point(a.x.redMul(n.endo.beta),a.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};hr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};hr.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function a(o){return e.point(o[0],o[1],n)}var s=r[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(a))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(a))}},i};hr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};hr.prototype.isInfinity=function(){return this.inf};hr.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};hr.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),a=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),s=a.redSqr().redISub(this.x.redAdd(this.x)),o=a.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)};hr.prototype.getX=function(){return this.x.fromRed()};hr.prototype.getY=function(){return this.y.fromRed()};hr.prototype.mul=function(e){return e=new Ft(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};hr.prototype.mulAdd=function(e,r,n){var i=[this,r],a=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,a):this.curve._wnafMulAdd(1,i,a,2)};hr.prototype.jmulAdd=function(e,r,n){var i=[this,r],a=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,a,!0):this.curve._wnafMulAdd(1,i,a,2,!0)};hr.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};hr.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(a){return a.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};hr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function br(t,e,r,n){eo.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Ft(0)):(this.x=new Ft(e,16),this.y=new Ft(r,16),this.z=new Ft(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}rp(br,eo.BasePoint);Rn.prototype.jpoint=function(e,r,n){return new br(this,e,r,n)};br.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};br.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};br.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),a=e.x.redMul(n),s=this.y.redMul(r.redMul(e.z)),o=e.y.redMul(n.redMul(this.z)),c=i.redSub(a),f=s.redSub(o);if(c.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=c.redSqr(),x=l.redMul(c),A=i.redMul(l),S=f.redSqr().redIAdd(x).redISub(A).redISub(A),M=f.redMul(A.redISub(S)).redISub(s.redMul(x)),k=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(S,M,k)};br.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),a=this.y,s=e.y.redMul(r).redMul(this.z),o=n.redSub(i),c=a.redSub(s);if(o.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var f=o.redSqr(),l=f.redMul(o),x=n.redMul(f),A=c.redSqr().redIAdd(l).redISub(x).redISub(x),S=c.redMul(x.redISub(A)).redISub(a.redMul(l)),M=this.z.redMul(o);return this.curve.jpoint(A,S,M)};br.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,a=this.curve.tinv,s=this.x,o=this.y,c=this.z,f=c.redSqr().redSqr(),l=o.redAdd(o);for(r=0;r<e;r++){var x=s.redSqr(),A=l.redSqr(),S=A.redSqr(),M=x.redAdd(x).redIAdd(x).redIAdd(i.redMul(f)),k=s.redMul(A),I=M.redSqr().redISub(k.redAdd(k)),C=k.redISub(I),R=M.redMul(C);R=R.redIAdd(R).redISub(S);var D=l.redMul(c);r+1<e&&(f=f.redMul(S)),s=I,c=D,l=R}return this.curve.jpoint(s,l.redMul(a),c)};br.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};br.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),s=a.redSqr(),o=this.x.redAdd(a).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var c=i.redAdd(i).redIAdd(i),f=c.redSqr().redISub(o).redISub(o),l=s.redIAdd(s);l=l.redIAdd(l),l=l.redIAdd(l),e=f,r=c.redMul(o.redISub(f)).redISub(l),n=this.y.redAdd(this.y)}else{var x=this.x.redSqr(),A=this.y.redSqr(),S=A.redSqr(),M=this.x.redAdd(A).redSqr().redISub(x).redISub(S);M=M.redIAdd(M);var k=x.redAdd(x).redIAdd(x),I=k.redSqr(),C=S.redIAdd(S);C=C.redIAdd(C),C=C.redIAdd(C),e=I.redISub(M).redISub(M),r=k.redMul(M.redISub(e)).redISub(C),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};br.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),s=a.redSqr(),o=this.x.redAdd(a).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var c=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),f=c.redSqr().redISub(o).redISub(o);e=f;var l=s.redIAdd(s);l=l.redIAdd(l),l=l.redIAdd(l),r=c.redMul(o.redISub(f)).redISub(l),n=this.y.redAdd(this.y)}else{var x=this.z.redSqr(),A=this.y.redSqr(),S=this.x.redMul(A),M=this.x.redSub(x).redMul(this.x.redAdd(x));M=M.redAdd(M).redIAdd(M);var k=S.redIAdd(S);k=k.redIAdd(k);var I=k.redAdd(k);e=M.redSqr().redISub(I),n=this.y.redAdd(this.z).redSqr().redISub(A).redISub(x);var C=A.redSqr();C=C.redIAdd(C),C=C.redIAdd(C),C=C.redIAdd(C),r=M.redMul(k.redISub(e)).redISub(C)}return this.curve.jpoint(e,r,n)};br.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,a=i.redSqr().redSqr(),s=r.redSqr(),o=n.redSqr(),c=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(a)),f=r.redAdd(r);f=f.redIAdd(f);var l=f.redMul(o),x=c.redSqr().redISub(l.redAdd(l)),A=l.redISub(x),S=o.redSqr();S=S.redIAdd(S),S=S.redIAdd(S),S=S.redIAdd(S);var M=c.redMul(A).redISub(S),k=n.redAdd(n).redMul(i);return this.curve.jpoint(x,M,k)};br.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),a=e.redAdd(e).redIAdd(e),s=a.redSqr(),o=this.x.redAdd(r).redSqr().redISub(e).redISub(i);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(s);var c=o.redSqr(),f=i.redIAdd(i);f=f.redIAdd(f),f=f.redIAdd(f),f=f.redIAdd(f);var l=a.redIAdd(o).redSqr().redISub(s).redISub(c).redISub(f),x=r.redMul(l);x=x.redIAdd(x),x=x.redIAdd(x);var A=this.x.redMul(c).redISub(x);A=A.redIAdd(A),A=A.redIAdd(A);var S=this.y.redMul(l.redMul(f.redISub(l)).redISub(o.redMul(c)));S=S.redIAdd(S),S=S.redIAdd(S),S=S.redIAdd(S);var M=this.z.redAdd(o).redSqr().redISub(n).redISub(c);return this.curve.jpoint(A,S,M)};br.prototype.mul=function(e,r){return e=new Ft(e,r),this.curve._wnafMul(this,e)};br.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),a=n.redMul(e.z);return this.y.redMul(a).redISub(e.y.redMul(i)).cmpn(0)===0};br.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),a=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(a),this.x.cmp(n)===0)return!0}};br.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};br.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var bs=Hi,ug=Xt,Nf=Cf,BM=hn;function to(t){Nf.call(this,"mont",t),this.a=new bs(t.a,16).toRed(this.red),this.b=new bs(t.b,16).toRed(this.red),this.i4=new bs(4).toRed(this.red).redInvm(),this.two=new bs(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}ug(to,Nf);var LM=to;to.prototype.validate=function(e){var r=e.normalize().x,n=r.redSqr(),i=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),a=i.redSqrt();return a.redSqr().cmp(i)===0};function dr(t,e,r){Nf.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new bs(e,16),this.z=new bs(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}ug(dr,Nf.BasePoint);to.prototype.decodePoint=function(e,r){return this.point(BM.toArray(e,r),1)};to.prototype.point=function(e,r){return new dr(this,e,r)};to.prototype.pointFromJSON=function(e){return dr.fromJSON(this,e)};dr.prototype.precompute=function(){};dr.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};dr.fromJSON=function(e,r){return new dr(e,r[0],r[1]||e.one)};dr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};dr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};dr.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),a=r.redSub(i),s=r.redMul(i),o=a.redMul(i.redAdd(this.curve.a24.redMul(a)));return this.curve.point(s,o)};dr.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};dr.prototype.diffAdd=function(e,r){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),a=e.x.redAdd(e.z),s=e.x.redSub(e.z),o=s.redMul(n),c=a.redMul(i),f=r.z.redMul(o.redAdd(c).redSqr()),l=r.x.redMul(o.redISub(c).redSqr());return this.curve.point(f,l)};dr.prototype.mul=function(e){for(var r=e.clone(),n=this,i=this.curve.point(null,null),a=this,s=[];r.cmpn(0)!==0;r.iushrn(1))s.push(r.andln(1));for(var o=s.length-1;o>=0;o--)s[o]===0?(n=n.diffAdd(i,a),i=i.dbl()):(i=n.diffAdd(i,a),n=n.dbl());return i};dr.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};dr.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};dr.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};dr.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};dr.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var DM=hn,Si=Hi,fg=Xt,Rf=Cf,FM=DM.assert;function vi(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,Rf.call(this,"edwards",t),this.a=new Si(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Si(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Si(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),FM(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}fg(vi,Rf);var UM=vi;vi.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};vi.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};vi.prototype.jpoint=function(e,r,n,i){return this.point(e,r,n,i)};vi.prototype.pointFromX=function(e,r){e=new Si(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=this.c2.redSub(this.a.redMul(n)),a=this.one.redSub(this.c2.redMul(this.d).redMul(n)),s=i.redMul(a.redInvm()),o=s.redSqrt();if(o.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");var c=o.fromRed().isOdd();return(r&&!c||!r&&c)&&(o=o.redNeg()),this.point(e,o)};vi.prototype.pointFromY=function(e,r){e=new Si(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=n.redSub(this.c2),a=n.redMul(this.d).redMul(this.c2).redSub(this.a),s=i.redMul(a.redInvm());if(s.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var o=s.redSqrt();if(o.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");return o.fromRed().isOdd()!==r&&(o=o.redNeg()),this.point(o,e)};vi.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),n=e.y.redSqr(),i=r.redMul(this.a).redAdd(n),a=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return i.cmp(a)===0};function St(t,e,r,n,i){Rf.BasePoint.call(this,t,"projective"),e===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new Si(e,16),this.y=new Si(r,16),this.z=n?new Si(n,16):this.curve.one,this.t=i&&new Si(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}fg(St,Rf.BasePoint);vi.prototype.pointFromJSON=function(e){return St.fromJSON(this,e)};vi.prototype.point=function(e,r,n,i){return new St(this,e,r,n,i)};St.fromJSON=function(e,r){return new St(e,r[0],r[1],r[2])};St.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};St.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};St.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(e),a=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),s=i.redAdd(r),o=s.redSub(n),c=i.redSub(r),f=a.redMul(o),l=s.redMul(c),x=a.redMul(c),A=o.redMul(s);return this.curve.point(f,l,A,x)};St.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),i,a,s,o,c,f;if(this.curve.twisted){o=this.curve._mulA(r);var l=o.redAdd(n);this.zOne?(i=e.redSub(r).redSub(n).redMul(l.redSub(this.curve.two)),a=l.redMul(o.redSub(n)),s=l.redSqr().redSub(l).redSub(l)):(c=this.z.redSqr(),f=l.redSub(c).redISub(c),i=e.redSub(r).redISub(n).redMul(f),a=l.redMul(o.redSub(n)),s=l.redMul(f))}else o=r.redAdd(n),c=this.curve._mulC(this.z).redSqr(),f=o.redSub(c).redSub(c),i=this.curve._mulC(e.redISub(o)).redMul(f),a=this.curve._mulC(o).redMul(r.redISub(n)),s=o.redMul(f);return this.curve.point(i,a,s)};St.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};St.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),a=this.z.redMul(e.z.redAdd(e.z)),s=n.redSub(r),o=a.redSub(i),c=a.redAdd(i),f=n.redAdd(r),l=s.redMul(o),x=c.redMul(f),A=s.redMul(f),S=o.redMul(c);return this.curve.point(l,x,S,A)};St.prototype._projAdd=function(e){var r=this.z.redMul(e.z),n=r.redSqr(),i=this.x.redMul(e.x),a=this.y.redMul(e.y),s=this.curve.d.redMul(i).redMul(a),o=n.redSub(s),c=n.redAdd(s),f=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(a),l=r.redMul(o).redMul(f),x,A;return this.curve.twisted?(x=r.redMul(c).redMul(a.redSub(this.curve._mulA(i))),A=o.redMul(c)):(x=r.redMul(c).redMul(a.redSub(i)),A=this.curve._mulC(o).redMul(c)),this.curve.point(l,x,A)};St.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};St.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};St.prototype.mulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!1)};St.prototype.jmulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!0)};St.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};St.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};St.prototype.getX=function(){return this.normalize(),this.x.fromRed()};St.prototype.getY=function(){return this.normalize(),this.y.fromRed()};St.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};St.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}};St.prototype.toP=St.prototype.normalize;St.prototype.mixedAdd=St.prototype.add;(function(t){var e=t;e.base=Cf,e.short=OM,e.mont=LM,e.edwards=UM})(tp);var Pf={},Vd,oy;function $M(){return oy||(oy=1,Vd={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),Vd}(function(t){var e=t,r=Ec,n=tp,i=hn,a=i.assert;function s(f){f.type==="short"?this.curve=new n.short(f):f.type==="edwards"?this.curve=new n.edwards(f):this.curve=new n.mont(f),this.g=this.curve.g,this.n=this.curve.n,this.hash=f.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=s;function o(f,l){Object.defineProperty(e,f,{configurable:!0,enumerable:!0,get:function(){var x=new s(l);return Object.defineProperty(e,f,{configurable:!0,enumerable:!0,value:x}),x}})}o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var c;try{c=$M()}catch{c=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",c]})})(Pf);var HM=Ec,La=Xh,dg=Qa;function fa(t){if(!(this instanceof fa))return new fa(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=La.toArray(t.entropy,t.entropyEnc||"hex"),r=La.toArray(t.nonce,t.nonceEnc||"hex"),n=La.toArray(t.pers,t.persEnc||"hex");dg(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var zM=fa;fa.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var a=0;a<this.V.length;a++)this.K[a]=0,this.V[a]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};fa.prototype._hmac=function(){return new HM.hmac(this.hash,this.K)};fa.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};fa.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=La.toArray(e,r),n=La.toArray(n,i),dg(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};fa.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=La.toArray(n,i||"hex"),this._update(n));for(var a=[];a.length<e;)this.V=this._hmac().update(this.V).digest(),a=a.concat(this.V);var s=a.slice(0,e);return this._update(n),this._reseed++,La.encode(s,r)};var qM=Hi,jM=hn,i0=jM.assert;function Sr(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var KM=Sr;Sr.fromPublic=function(e,r,n){return r instanceof Sr?r:new Sr(e,{pub:r,pubEnc:n})};Sr.fromPrivate=function(e,r,n){return r instanceof Sr?r:new Sr(e,{priv:r,privEnc:n})};Sr.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Sr.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Sr.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Sr.prototype._importPrivate=function(e,r){this.priv=new qM(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Sr.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?i0(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&i0(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Sr.prototype.derive=function(e){return e.validate()||i0(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Sr.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};Sr.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};Sr.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Fu=Hi,np=hn,GM=np.assert;function Of(t,e){if(t instanceof Of)return t;this._importDER(t,e)||(GM(t.r&&t.s,"Signature without r or s"),this.r=new Fu(t.r,16),this.s=new Fu(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var VM=Of;function WM(){this.place=0}function Wd(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,a=0,s=e.place;a<n;a++,s++)i<<=8,i|=t[s],i>>>=0;return i<=127?!1:(e.place=s,i)}function cy(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}Of.prototype._importDER=function(e,r){e=np.toArray(e,r);var n=new WM;if(e[n.place++]!==48)return!1;var i=Wd(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var a=Wd(e,n);if(a===!1)return!1;var s=e.slice(n.place,a+n.place);if(n.place+=a,e[n.place++]!==2)return!1;var o=Wd(e,n);if(o===!1||e.length!==o+n.place)return!1;var c=e.slice(n.place,o+n.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new Fu(s),this.s=new Fu(c),this.recoveryParam=null,!0};function Jd(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}Of.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=cy(r),n=cy(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];Jd(i,r.length),i=i.concat(r),i.push(2),Jd(i,n.length);var a=i.concat(n),s=[48];return Jd(s,a.length),s=s.concat(a),np.encode(s,e)};var Da=Hi,lg=zM,JM=hn,Yd=Pf,YM=cg,hg=JM.assert,ip=KM,Bf=VM;function In(t){if(!(this instanceof In))return new In(t);typeof t=="string"&&(hg(Object.prototype.hasOwnProperty.call(Yd,t),"Unknown curve "+t),t=Yd[t]),t instanceof Yd.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var ZM=In;In.prototype.keyPair=function(e){return new ip(this,e)};In.prototype.keyFromPrivate=function(e,r){return ip.fromPrivate(this,e,r)};In.prototype.keyFromPublic=function(e,r){return ip.fromPublic(this,e,r)};In.prototype.genKeyPair=function(e){e||(e={});for(var r=new lg({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||YM(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new Da(2));;){var a=new Da(r.generate(n));if(!(a.cmp(i)>0))return a.iaddn(1),this.keyFromPrivate(a)}};In.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};In.prototype.sign=function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new Da(e,16));for(var a=this.n.byteLength(),s=r.getPrivate().toArray("be",a),o=e.toArray("be",a),c=new lg({hash:this.hash,entropy:s,nonce:o,pers:i.pers,persEnc:i.persEnc||"utf8"}),f=this.n.sub(new Da(1)),l=0;;l++){var x=i.k?i.k(l):new Da(c.generate(this.n.byteLength()));if(x=this._truncateToN(x,!0),!(x.cmpn(1)<=0||x.cmp(f)>=0)){var A=this.g.mul(x);if(!A.isInfinity()){var S=A.getX(),M=S.umod(this.n);if(M.cmpn(0)!==0){var k=x.invm(this.n).mul(M.mul(r.getPrivate()).iadd(e));if(k=k.umod(this.n),k.cmpn(0)!==0){var I=(A.getY().isOdd()?1:0)|(S.cmp(M)!==0?2:0);return i.canonical&&k.cmp(this.nh)>0&&(k=this.n.sub(k),I^=1),new Bf({r:M,s:k,recoveryParam:I})}}}}}};In.prototype.verify=function(e,r,n,i){e=this._truncateToN(new Da(e,16)),n=this.keyFromPublic(n,i),r=new Bf(r,"hex");var a=r.r,s=r.s;if(a.cmpn(1)<0||a.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var o=s.invm(this.n),c=o.mul(e).umod(this.n),f=o.mul(a).umod(this.n),l;return this.curve._maxwellTrick?(l=this.g.jmulAdd(c,n.getPublic(),f),l.isInfinity()?!1:l.eqXToP(a)):(l=this.g.mulAdd(c,n.getPublic(),f),l.isInfinity()?!1:l.getX().umod(this.n).cmp(a)===0)};In.prototype.recoverPubKey=function(t,e,r,n){hg((3&r)===r,"The recovery param is more than two bits"),e=new Bf(e,n);var i=this.n,a=new Da(t),s=e.r,o=e.s,c=r&1,f=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&f)throw new Error("Unable to find sencond key candinate");f?s=this.curve.pointFromX(s.add(this.curve.n),c):s=this.curve.pointFromX(s,c);var l=e.r.invm(i),x=i.sub(a).mul(l).umod(i),A=o.mul(l).umod(i);return this.g.mulAdd(x,s,A)};In.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new Bf(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var a;try{a=this.recoverPubKey(t,e,i)}catch{continue}if(a.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var Ic=hn,pg=Ic.assert,uy=Ic.parseBytes,ro=Ic.cachedProperty;function fr(t,e){this.eddsa=t,this._secret=uy(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=uy(e.pub)}fr.fromPublic=function(e,r){return r instanceof fr?r:new fr(e,{pub:r})};fr.fromSecret=function(e,r){return r instanceof fr?r:new fr(e,{secret:r})};fr.prototype.secret=function(){return this._secret};ro(fr,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});ro(fr,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});ro(fr,"privBytes",function(){var e=this.eddsa,r=this.hash(),n=e.encodingLength-1,i=r.slice(0,e.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i});ro(fr,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});ro(fr,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});ro(fr,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});fr.prototype.sign=function(e){return pg(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};fr.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};fr.prototype.getSecret=function(e){return pg(this._secret,"KeyPair is public only"),Ic.encode(this.secret(),e)};fr.prototype.getPublic=function(e){return Ic.encode(this.pubBytes(),e)};var QM=fr,XM=Hi,Lf=hn,ek=Lf.assert,Df=Lf.cachedProperty,tk=Lf.parseBytes;function ts(t,e){this.eddsa=t,typeof e!="object"&&(e=tk(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),ek(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof XM&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}Df(ts,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});Df(ts,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});Df(ts,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});Df(ts,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});ts.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};ts.prototype.toHex=function(){return Lf.encode(this.toBytes(),"hex").toUpperCase()};var rk=ts,nk=Ec,ik=Pf,Ns=hn,ak=Ns.assert,mg=Ns.parseBytes,yg=QM,fy=rk;function Zr(t){if(ak(t==="ed25519","only tested with ed25519 so far"),!(this instanceof Zr))return new Zr(t);t=ik[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=nk.sha512}var sk=Zr;Zr.prototype.sign=function(e,r){e=mg(e);var n=this.keyFromSecret(r),i=this.hashInt(n.messagePrefix(),e),a=this.g.mul(i),s=this.encodePoint(a),o=this.hashInt(s,n.pubBytes(),e).mul(n.priv()),c=i.add(o).umod(this.curve.n);return this.makeSignature({R:a,S:c,Rencoded:s})};Zr.prototype.verify=function(e,r,n){e=mg(e),r=this.makeSignature(r);var i=this.keyFromPublic(n),a=this.hashInt(r.Rencoded(),i.pubBytes(),e),s=this.g.mul(r.S()),o=r.R().add(i.pub().mul(a));return o.eq(s)};Zr.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return Ns.intFromLE(e.digest()).umod(this.curve.n)};Zr.prototype.keyFromPublic=function(e){return yg.fromPublic(this,e)};Zr.prototype.keyFromSecret=function(e){return yg.fromSecret(this,e)};Zr.prototype.makeSignature=function(e){return e instanceof fy?e:new fy(this,e)};Zr.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};Zr.prototype.decodePoint=function(e){e=Ns.parseBytes(e);var r=e.length-1,n=e.slice(0,r).concat(e[r]&-129),i=(e[r]&128)!==0,a=Ns.intFromLE(n);return this.curve.pointFromY(a,i)};Zr.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};Zr.prototype.decodeInt=function(e){return Ns.intFromLE(e)};Zr.prototype.isPoint=function(e){return e instanceof this.pointClass};(function(t){var e=t;e.version=CM.version,e.utils=hn,e.rand=cg,e.curve=tp,e.curves=Pf,e.ec=ZM,e.eddsa=sk})(og);const ok=og.ec,ii=new ok("secp256k1"),yt=ii.curve,Et=yt.n.constructor;function ck(t,e){let r=new Et(e);if(r.cmp(yt.p)>=0)return null;r=r.toRed(yt.red);let n=r.redSqr().redIMul(r).redIAdd(yt.b).redSqrt();return t===3!==n.isOdd()&&(n=n.redNeg()),ii.keyPair({pub:{x:r,y:n}})}function uk(t,e,r){let n=new Et(e),i=new Et(r);if(n.cmp(yt.p)>=0||i.cmp(yt.p)>=0||(n=n.toRed(yt.red),i=i.toRed(yt.red),(t===6||t===7)&&i.isOdd()!==(t===7)))return null;const a=n.redSqr().redIMul(n);return i.redSqr().redISub(a.redIAdd(yt.b)).isZero()?ii.keyPair({pub:{x:n,y:i}}):null}function Ji(t){const e=t[0];switch(e){case 2:case 3:return t.length!==33?null:ck(e,t.subarray(1,33));case 4:case 6:case 7:return t.length!==65?null:uk(e,t.subarray(1,33),t.subarray(33,65));default:return null}}function Aa(t,e){const r=e.encode(null,t.length===33);for(let n=0;n<t.length;++n)t[n]=r[n]}var fk={contextRandomize(){return 0},privateKeyVerify(t){const e=new Et(t);return e.cmp(yt.n)<0&&!e.isZero()?0:1},privateKeyNegate(t){const e=new Et(t),r=yt.n.sub(e).umod(yt.n).toArrayLike(Uint8Array,"be",32);return t.set(r),0},privateKeyTweakAdd(t,e){const r=new Et(e);if(r.cmp(yt.n)>=0||(r.iadd(new Et(t)),r.cmp(yt.n)>=0&&r.isub(yt.n),r.isZero()))return 1;const n=r.toArrayLike(Uint8Array,"be",32);return t.set(n),0},privateKeyTweakMul(t,e){let r=new Et(e);if(r.cmp(yt.n)>=0||r.isZero())return 1;r.imul(new Et(t)),r.cmp(yt.n)>=0&&(r=r.umod(yt.n));const n=r.toArrayLike(Uint8Array,"be",32);return t.set(n),0},publicKeyVerify(t){return Ji(t)===null?1:0},publicKeyCreate(t,e){const r=new Et(e);if(r.cmp(yt.n)>=0||r.isZero())return 1;const n=ii.keyFromPrivate(e).getPublic();return Aa(t,n),0},publicKeyConvert(t,e){const r=Ji(e);if(r===null)return 1;const n=r.getPublic();return Aa(t,n),0},publicKeyNegate(t,e){const r=Ji(e);if(r===null)return 1;const n=r.getPublic();return n.y=n.y.redNeg(),Aa(t,n),0},publicKeyCombine(t,e){const r=new Array(e.length);for(let i=0;i<e.length;++i)if(r[i]=Ji(e[i]),r[i]===null)return 1;let n=r[0].getPublic();for(let i=1;i<r.length;++i)n=n.add(r[i].pub);return n.isInfinity()?2:(Aa(t,n),0)},publicKeyTweakAdd(t,e,r){const n=Ji(e);if(n===null)return 1;if(r=new Et(r),r.cmp(yt.n)>=0)return 2;const i=n.getPublic().add(yt.g.mul(r));return i.isInfinity()?2:(Aa(t,i),0)},publicKeyTweakMul(t,e,r){const n=Ji(e);if(n===null)return 1;if(r=new Et(r),r.cmp(yt.n)>=0||r.isZero())return 2;const i=n.getPublic().mul(r);return Aa(t,i),0},signatureNormalize(t){const e=new Et(t.subarray(0,32)),r=new Et(t.subarray(32,64));return e.cmp(yt.n)>=0||r.cmp(yt.n)>=0?1:(r.cmp(ii.nh)===1&&t.set(yt.n.sub(r).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(t,e){const r=e.subarray(0,32),n=e.subarray(32,64);if(new Et(r).cmp(yt.n)>=0||new Et(n).cmp(yt.n)>=0)return 1;const{output:i}=t;let a=i.subarray(4,4+33);a[0]=0,a.set(r,1);let s=33,o=0;for(;s>1&&a[o]===0&&!(a[o+1]&128);--s,++o);if(a=a.subarray(o),a[0]&128||s>1&&a[0]===0&&!(a[1]&128))return 1;let c=i.subarray(6+33,6+33+33);c[0]=0,c.set(n,1);let f=33,l=0;for(;f>1&&c[l]===0&&!(c[l+1]&128);--f,++l);return c=c.subarray(l),c[0]&128||f>1&&c[0]===0&&!(c[1]&128)?1:(t.outputlen=6+s+f,i[0]=48,i[1]=t.outputlen-2,i[2]=2,i[3]=a.length,i.set(a,4),i[4+s]=2,i[5+s]=c.length,i.set(c,6+s),0)},signatureImport(t,e){if(e.length<8||e.length>72||e[0]!==48||e[1]!==e.length-2||e[2]!==2)return 1;const r=e[3];if(r===0||5+r>=e.length||e[4+r]!==2)return 1;const n=e[5+r];if(n===0||6+r+n!==e.length||e[4]&128||r>1&&e[4]===0&&!(e[5]&128)||e[r+6]&128||n>1&&e[r+6]===0&&!(e[r+7]&128))return 1;let i=e.subarray(4,4+r);if(i.length===33&&i[0]===0&&(i=i.subarray(1)),i.length>32)return 1;let a=e.subarray(6+r);if(a.length===33&&a[0]===0&&(a=a.slice(1)),a.length>32)throw new Error("S length is too long");let s=new Et(i);s.cmp(yt.n)>=0&&(s=new Et(0));let o=new Et(e.subarray(6+r));return o.cmp(yt.n)>=0&&(o=new Et(0)),t.set(s.toArrayLike(Uint8Array,"be",32),0),t.set(o.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(t,e,r,n,i){if(i){const o=i;i=c=>{const f=o(e,r,null,n,c);if(!(f instanceof Uint8Array&&f.length===32))throw new Error("This is the way");return new Et(f)}}const a=new Et(r);if(a.cmp(yt.n)>=0||a.isZero())return 1;let s;try{s=ii.sign(e,r,{canonical:!0,k:i,pers:n})}catch{return 1}return t.signature.set(s.r.toArrayLike(Uint8Array,"be",32),0),t.signature.set(s.s.toArrayLike(Uint8Array,"be",32),32),t.recid=s.recoveryParam,0},ecdsaVerify(t,e,r){const n={r:t.subarray(0,32),s:t.subarray(32,64)},i=new Et(n.r),a=new Et(n.s);if(i.cmp(yt.n)>=0||a.cmp(yt.n)>=0)return 1;if(a.cmp(ii.nh)===1||i.isZero()||a.isZero())return 3;const s=Ji(r);if(s===null)return 2;const o=s.getPublic();return ii.verify(e,n,o)?0:3},ecdsaRecover(t,e,r,n){const i={r:e.slice(0,32),s:e.slice(32,64)},a=new Et(i.r),s=new Et(i.s);if(a.cmp(yt.n)>=0||s.cmp(yt.n)>=0)return 1;if(a.isZero()||s.isZero())return 2;let o;try{o=ii.recoverPubKey(n,i,r)}catch{return 2}return Aa(t,o),0},ecdh(t,e,r,n,i,a,s){const o=Ji(e);if(o===null)return 1;const c=new Et(r);if(c.cmp(yt.n)>=0||c.isZero())return 2;const f=o.getPublic().mul(c);if(i===void 0){const l=f.encode(null,!0),x=ii.hash().update(l).digest();for(let A=0;A<32;++A)t[A]=x[A]}else{a||(a=new Uint8Array(32));const l=f.getX().toArray("be",32);for(let M=0;M<32;++M)a[M]=l[M];s||(s=new Uint8Array(32));const x=f.getY().toArray("be",32);for(let M=0;M<32;++M)s[M]=x[M];const A=i(a,s,n);if(!(A instanceof Uint8Array&&A.length===t.length))return 2;t.set(A)}return 0}},dy=mM(fk),Ff={},a0={exports:{}},s0={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var r=rr,n=r.Buffer;function i(s,o){for(var c in s)o[c]=s[c]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=a);function a(s,o,c){return n(s,o,c)}a.prototype=Object.create(n.prototype),i(n,a),a.from=function(s,o,c){if(typeof s=="number")throw new TypeError("Argument must not be a number");return n(s,o,c)},a.alloc=function(s,o,c){if(typeof s!="number")throw new TypeError("Argument must be a number");var f=n(s);return o!==void 0?typeof c=="string"?f.fill(o,c):f.fill(o):f.fill(0),f},a.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n(s)},a.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(s)}})(s0,s0.exports);var Pn=s0.exports,Zd=65536,dk=4294967295;function lk(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var hk=Pn.Buffer,Uu=Ke.crypto||Ke.msCrypto;Uu&&Uu.getRandomValues?a0.exports=pk:a0.exports=lk;function pk(t,e){if(t>dk)throw new RangeError("requested too many random bytes");var r=hk.allocUnsafe(t);if(t>0)if(t>Zd)for(var n=0;n<t;n+=Zd)Uu.getRandomValues(r.slice(n,n+Zd));else Uu.getRandomValues(r);return typeof e=="function"?process.nextTick(function(){e(null,r)}):r}var bg=a0.exports;Object.defineProperty(Ff,"__esModule",{value:!0});var xg=bg;function mk(t){return new Promise(function(e,r){xg(t,function(n,i){if(n){r(n);return}e(i)})})}Ff.getRandomBytes=mk;function yk(t){return xg(t)}Ff.getRandomBytesSync=yk;(function(t){var e=Ke&&Ke.__awaiter||function(f,l,x,A){function S(M){return M instanceof x?M:new x(function(k){k(M)})}return new(x||(x=Promise))(function(M,k){function I(D){try{R(A.next(D))}catch(F){k(F)}}function C(D){try{R(A.throw(D))}catch(F){k(F)}}function R(D){D.done?M(D.value):S(D.value).then(I,C)}R((A=A.apply(f,l||[])).next())})},r=Ke&&Ke.__generator||function(f,l){var x={label:0,sent:function(){if(M[0]&1)throw M[1];return M[1]},trys:[],ops:[]},A,S,M,k;return k={next:I(0),throw:I(1),return:I(2)},typeof Symbol=="function"&&(k[Symbol.iterator]=function(){return this}),k;function I(R){return function(D){return C([R,D])}}function C(R){if(A)throw new TypeError("Generator is already executing.");for(;x;)try{if(A=1,S&&(M=R[0]&2?S.return:R[0]?S.throw||((M=S.return)&&M.call(S),0):S.next)&&!(M=M.call(S,R[1])).done)return M;switch(S=0,M&&(R=[R[0]&2,M.value]),R[0]){case 0:case 1:M=R;break;case 4:return x.label++,{value:R[1],done:!1};case 5:x.label++,S=R[1],R=[0];continue;case 7:R=x.ops.pop(),x.trys.pop();continue;default:if(M=x.trys,!(M=M.length>0&&M[M.length-1])&&(R[0]===6||R[0]===2)){x=0;continue}if(R[0]===3&&(!M||R[1]>M[0]&&R[1]<M[3])){x.label=R[1];break}if(R[0]===6&&x.label<M[1]){x.label=M[1],M=R;break}if(M&&x.label<M[2]){x.label=M[2],x.ops.push(R);break}M[2]&&x.ops.pop(),x.trys.pop();continue}R=l.call(f,x)}catch(D){R=[6,D],S=0}finally{A=M=0}if(R[0]&5)throw R[1];return{value:R[0]?R[1]:void 0,done:!0}}};function n(f){for(var l in f)t.hasOwnProperty(l)||(t[l]=f[l])}Object.defineProperty(t,"__esModule",{value:!0});var i=dy,a=Ff,s=32;function o(){return e(this,void 0,void 0,function(){var f;return r(this,function(l){switch(l.label){case 0:return[4,a.getRandomBytes(s)];case 1:return f=l.sent(),i.privateKeyVerify(f)?[2,f]:[3,0];case 2:return[2]}})})}t.createPrivateKey=o;function c(){for(;;){var f=a.getRandomBytesSync(s);if(i.privateKeyVerify(f))return f}}t.createPrivateKeySync=c,n(dy)})(Zh);var Tt={};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.isHexString=Tt.getKeys=Tt.fromAscii=Tt.fromUtf8=Tt.toAscii=Tt.arrayContainsArray=Tt.getBinarySize=Tt.padToEven=Tt.stripHexPrefix=Tt.isHexPrefixed=void 0;function gg(t){if(typeof t!="string")throw new Error("[isHexPrefixed] input must be type 'string', received type ".concat(typeof t));return t[0]==="0"&&t[1]==="x"}Tt.isHexPrefixed=gg;var bk=function(t){if(typeof t!="string")throw new Error("[stripHexPrefix] input must be type 'string', received ".concat(typeof t));return gg(t)?t.slice(2):t};Tt.stripHexPrefix=bk;function vg(t){var e=t;if(typeof e!="string")throw new Error("[padToEven] value must be type 'string', received ".concat(typeof e));return e.length%2&&(e="0".concat(e)),e}Tt.padToEven=vg;function xk(t){if(typeof t!="string")throw new Error("[getBinarySize] method requires input type 'string', recieved ".concat(typeof t));return Buffer.byteLength(t,"utf8")}Tt.getBinarySize=xk;function gk(t,e,r){if(Array.isArray(t)!==!0)throw new Error("[arrayContainsArray] method requires input 'superset' to be an array, got type '".concat(typeof t,"'"));if(Array.isArray(e)!==!0)throw new Error("[arrayContainsArray] method requires input 'subset' to be an array, got type '".concat(typeof e,"'"));return e[r?"some":"every"](function(n){return t.indexOf(n)>=0})}Tt.arrayContainsArray=gk;function vk(t){var e="",r=0,n=t.length;for(t.substring(0,2)==="0x"&&(r=2);r<n;r+=2){var i=parseInt(t.substr(r,2),16);e+=String.fromCharCode(i)}return e}Tt.toAscii=vk;function wk(t){var e=Buffer.from(t,"utf8");return"0x".concat(vg(e.toString("hex")).replace(/^0+|0+$/g,""))}Tt.fromUtf8=wk;function _k(t){for(var e="",r=0;r<t.length;r++){var n=t.charCodeAt(r),i=n.toString(16);e+=i.length<2?"0".concat(i):i}return"0x".concat(e)}Tt.fromAscii=_k;function Ak(t,e,r){if(!Array.isArray(t))throw new Error("[getKeys] method expects input 'params' to be an array, got ".concat(typeof t));if(typeof e!="string")throw new Error("[getKeys] method expects input 'key' to be type 'string', got ".concat(typeof t));for(var n=[],i=0;i<t.length;i++){var a=t[i][e];if(r&&!a)a="";else if(typeof a!="string")throw new Error("invalid abi - expected type 'string', received ".concat(typeof a));n.push(a)}return n}Tt.getKeys=Ak;function Ek(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}Tt.isHexString=Ek;var ba={},un={};Object.defineProperty(un,"__esModule",{value:!0});un.assertIsString=un.assertIsArray=un.assertIsBuffer=un.assertIsHexString=void 0;var Tk=Tt,Mk=function(t){if(!(0,Tk.isHexString)(t)){var e="This method only supports 0x-prefixed hex strings but input was: ".concat(t);throw new Error(e)}};un.assertIsHexString=Mk;var kk=function(t){if(!Buffer.isBuffer(t)){var e="This method only supports Buffer but input was: ".concat(t);throw new Error(e)}};un.assertIsBuffer=kk;var Ik=function(t){if(!Array.isArray(t)){var e="This method only supports number arrays but input was: ".concat(t);throw new Error(e)}};un.assertIsArray=Ik;var Sk=function(t){if(typeof t!="string"){var e="This method only supports strings but input was: ".concat(t);throw new Error(e)}};un.assertIsString=Sk;(function(t){var e=Ke&&Ke.__values||function(m){var d=typeof Symbol=="function"&&Symbol.iterator,h=d&&m[d],u=0;if(h)return h.call(m);if(m&&typeof m.length=="number")return{next:function(){return m&&u>=m.length&&(m=void 0),{value:m&&m[u++],done:!m}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},r=Ke&&Ke.__read||function(m,d){var h=typeof Symbol=="function"&&m[Symbol.iterator];if(!h)return m;var u=h.call(m),p,g=[],E;try{for(;(d===void 0||d-- >0)&&!(p=u.next()).done;)g.push(p.value)}catch(_){E={error:_}}finally{try{p&&!p.done&&(h=u.return)&&h.call(u)}finally{if(E)throw E.error}}return g};Object.defineProperty(t,"__esModule",{value:!0}),t.bufArrToArr=t.arrToBufArr=t.validateNoLeadingZeroes=t.baToJSON=t.toUtf8=t.addHexPrefix=t.toUnsigned=t.fromSigned=t.bufferToHex=t.bufferToInt=t.toBuffer=t.unpadHexString=t.unpadArray=t.unpadBuffer=t.setLengthRight=t.setLengthLeft=t.zeros=t.intToBuffer=t.intToHex=void 0;var n=Yr,i=Tt,a=un,s=function(m){if(!Number.isSafeInteger(m)||m<0)throw new Error("Received an invalid integer type: ".concat(m));return"0x".concat(m.toString(16))};t.intToHex=s;var o=function(m){var d=(0,t.intToHex)(m);return Buffer.from((0,i.padToEven)(d.slice(2)),"hex")};t.intToBuffer=o;var c=function(m){return Buffer.allocUnsafe(m).fill(0)};t.zeros=c;var f=function(m,d,h){var u=(0,t.zeros)(d);return h?m.length<d?(m.copy(u),u):m.slice(0,d):m.length<d?(m.copy(u,d-m.length),u):m.slice(-d)},l=function(m,d){return(0,a.assertIsBuffer)(m),f(m,d,!1)};t.setLengthLeft=l;var x=function(m,d){return(0,a.assertIsBuffer)(m),f(m,d,!0)};t.setLengthRight=x;var A=function(m){for(var d=m[0];m.length>0&&d.toString()==="0";)m=m.slice(1),d=m[0];return m},S=function(m){return(0,a.assertIsBuffer)(m),A(m)};t.unpadBuffer=S;var M=function(m){return(0,a.assertIsArray)(m),A(m)};t.unpadArray=M;var k=function(m){return(0,a.assertIsHexString)(m),m=(0,i.stripHexPrefix)(m),A(m)};t.unpadHexString=k;var I=function(m){if(m==null)return Buffer.allocUnsafe(0);if(Buffer.isBuffer(m)||Array.isArray(m)||m instanceof Uint8Array)return Buffer.from(m);if(typeof m=="string"){if(!(0,i.isHexString)(m))throw new Error("Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ".concat(m));return Buffer.from((0,i.padToEven)((0,i.stripHexPrefix)(m)),"hex")}if(typeof m=="number")return(0,t.intToBuffer)(m);if(n.BN.isBN(m)){if(m.isNeg())throw new Error("Cannot convert negative BN to buffer. Given: ".concat(m));return m.toArrayLike(Buffer)}if(m.toArray)return Buffer.from(m.toArray());if(m.toBuffer)return Buffer.from(m.toBuffer());throw new Error("invalid type")};t.toBuffer=I;var C=function(m){return new n.BN((0,t.toBuffer)(m)).toNumber()};t.bufferToInt=C;var R=function(m){return m=(0,t.toBuffer)(m),"0x"+m.toString("hex")};t.bufferToHex=R;var D=function(m){return new n.BN(m).fromTwos(256)};t.fromSigned=D;var F=function(m){return Buffer.from(m.toTwos(256).toArray())};t.toUnsigned=F;var H=function(m){return typeof m!="string"||(0,i.isHexPrefixed)(m)?m:"0x"+m};t.addHexPrefix=H;var j=function(m){var d=/^(00)+|(00)+$/g;if(m=(0,i.stripHexPrefix)(m),m.length%2!==0)throw new Error("Invalid non-even hex string input for toUtf8() provided");var h=Buffer.from(m.replace(d,""),"hex");return h.toString("utf8")};t.toUtf8=j;var Z=function(m){if(Buffer.isBuffer(m))return"0x".concat(m.toString("hex"));if(m instanceof Array){for(var d=[],h=0;h<m.length;h++)d.push((0,t.baToJSON)(m[h]));return d}};t.baToJSON=Z;var G=function(m){var d,h;try{for(var u=e(Object.entries(m)),p=u.next();!p.done;p=u.next()){var g=r(p.value,2),E=g[0],_=g[1];if(_!==void 0&&_.length>0&&_[0]===0)throw new Error("".concat(E," cannot have leading zeroes, received: ").concat(_.toString("hex")))}}catch(y){d={error:y}}finally{try{p&&!p.done&&(h=u.return)&&h.call(u)}finally{if(d)throw d.error}}};t.validateNoLeadingZeroes=G;function J(m){return Array.isArray(m)?m.map(function(d){return J(d)}):Buffer.from(m)}t.arrToBufArr=J;function B(m){return Array.isArray(m)?m.map(function(d){return B(d)}):Uint8Array.from(m??[])}t.bufArrToArr=B})(ba);var Uf={},no={},ap={};Object.defineProperty(ap,"__esModule",{value:!0});function Ck(t){return function(e){var r=t();return r.update(e),Buffer.from(r.digest())}}ap.createHashFunction=Ck;var o0={exports:{}},wg=rr.EventEmitter,Qd,ly;function Nk(){if(ly)return Qd;ly=1;function t(M,k){var I=Object.keys(M);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(M);k&&(C=C.filter(function(R){return Object.getOwnPropertyDescriptor(M,R).enumerable})),I.push.apply(I,C)}return I}function e(M){for(var k=1;k<arguments.length;k++){var I=arguments[k]!=null?arguments[k]:{};k%2?t(Object(I),!0).forEach(function(C){r(M,C,I[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(I)):t(Object(I)).forEach(function(C){Object.defineProperty(M,C,Object.getOwnPropertyDescriptor(I,C))})}return M}function r(M,k,I){return k=s(k),k in M?Object.defineProperty(M,k,{value:I,enumerable:!0,configurable:!0,writable:!0}):M[k]=I,M}function n(M,k){if(!(M instanceof k))throw new TypeError("Cannot call a class as a function")}function i(M,k){for(var I=0;I<k.length;I++){var C=k[I];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(M,s(C.key),C)}}function a(M,k,I){return k&&i(M.prototype,k),I&&i(M,I),Object.defineProperty(M,"prototype",{writable:!1}),M}function s(M){var k=o(M,"string");return typeof k=="symbol"?k:String(k)}function o(M,k){if(typeof M!="object"||M===null)return M;var I=M[Symbol.toPrimitive];if(I!==void 0){var C=I.call(M,k||"default");if(typeof C!="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return(k==="string"?String:Number)(M)}var c=rr,f=c.Buffer,l=rr,x=l.inspect,A=x&&x.custom||"inspect";function S(M,k,I){f.prototype.copy.call(M,k,I)}return Qd=function(){function M(){n(this,M),this.head=null,this.tail=null,this.length=0}return a(M,[{key:"push",value:function(I){var C={data:I,next:null};this.length>0?this.tail.next=C:this.head=C,this.tail=C,++this.length}},{key:"unshift",value:function(I){var C={data:I,next:this.head};this.length===0&&(this.tail=C),this.head=C,++this.length}},{key:"shift",value:function(){if(this.length!==0){var I=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,I}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(I){if(this.length===0)return"";for(var C=this.head,R=""+C.data;C=C.next;)R+=I+C.data;return R}},{key:"concat",value:function(I){if(this.length===0)return f.alloc(0);for(var C=f.allocUnsafe(I>>>0),R=this.head,D=0;R;)S(R.data,C,D),D+=R.data.length,R=R.next;return C}},{key:"consume",value:function(I,C){var R;return I<this.head.data.length?(R=this.head.data.slice(0,I),this.head.data=this.head.data.slice(I)):I===this.head.data.length?R=this.shift():R=C?this._getString(I):this._getBuffer(I),R}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(I){var C=this.head,R=1,D=C.data;for(I-=D.length;C=C.next;){var F=C.data,H=I>F.length?F.length:I;if(H===F.length?D+=F:D+=F.slice(0,I),I-=H,I===0){H===F.length?(++R,C.next?this.head=C.next:this.head=this.tail=null):(this.head=C,C.data=F.slice(H));break}++R}return this.length-=R,D}},{key:"_getBuffer",value:function(I){var C=f.allocUnsafe(I),R=this.head,D=1;for(R.data.copy(C),I-=R.data.length;R=R.next;){var F=R.data,H=I>F.length?F.length:I;if(F.copy(C,C.length-I,0,H),I-=H,I===0){H===F.length?(++D,R.next?this.head=R.next:this.head=this.tail=null):(this.head=R,R.data=F.slice(H));break}++D}return this.length-=D,C}},{key:A,value:function(I,C){return x(this,e(e({},C),{},{depth:0,customInspect:!1}))}}]),M}(),Qd}function Rk(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(c0,this,t)):process.nextTick(c0,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(a){!e&&a?r._writableState?r._writableState.errorEmitted?process.nextTick(lu,r):(r._writableState.errorEmitted=!0,process.nextTick(hy,r,a)):process.nextTick(hy,r,a):e?(process.nextTick(lu,r),e(a)):process.nextTick(lu,r)}),this)}function hy(t,e){c0(t,e),lu(t)}function lu(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function Pk(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function c0(t,e){t.emit("error",e)}function Ok(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}var _g={destroy:Rk,undestroy:Pk,errorOrDestroy:Ok},rs={};function Bk(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Ag={};function On(t,e,r){r||(r=Error);function n(a,s,o){return typeof e=="string"?e:e(a,s,o)}var i=function(a){Bk(s,a);function s(o,c,f){return a.call(this,n(o,c,f))||this}return s}(r);i.prototype.name=r.name,i.prototype.code=t,Ag[t]=i}function py(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function Lk(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function Dk(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function Fk(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}On("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);On("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&Lk(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(Dk(t," argument"))i="The ".concat(t," ").concat(n," ").concat(py(e,"type"));else{var a=Fk(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(a," ").concat(n," ").concat(py(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);On("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");On("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});On("ERR_STREAM_PREMATURE_CLOSE","Premature close");On("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});On("ERR_MULTIPLE_CALLBACK","Callback called multiple times");On("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");On("ERR_STREAM_WRITE_AFTER_END","write after end");On("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);On("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);On("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");rs.codes=Ag;var Uk=rs.codes.ERR_INVALID_OPT_VALUE;function $k(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function Hk(t,e,r,n){var i=$k(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var a=n?r:"highWaterMark";throw new Uk(a,i)}return Math.floor(i)}return t.objectMode?16:16*1024}var Eg={getHighWaterMark:Hk},zk=qk;function qk(t,e){if(Xd("noDeprecation"))return t;var r=!1;function n(){if(!r){if(Xd("throwDeprecation"))throw new Error(e);Xd("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function Xd(t){try{if(!Ke.localStorage)return!1}catch{return!1}var e=Ke.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}var el,my;function Tg(){if(my)return el;my=1,el=G;function t(P){var U=this;this.next=null,this.entry=null,this.finish=function(){T(U,P)}}var e;G.WritableState=j;var r={deprecate:zk},n=wg,i=rr.Buffer,a=(typeof Ke<"u"?Ke:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(P){return i.from(P)}function o(P){return i.isBuffer(P)||P instanceof a}var c=_g,f=Eg,l=f.getHighWaterMark,x=rs.codes,A=x.ERR_INVALID_ARG_TYPE,S=x.ERR_METHOD_NOT_IMPLEMENTED,M=x.ERR_MULTIPLE_CALLBACK,k=x.ERR_STREAM_CANNOT_PIPE,I=x.ERR_STREAM_DESTROYED,C=x.ERR_STREAM_NULL_VALUES,R=x.ERR_STREAM_WRITE_AFTER_END,D=x.ERR_UNKNOWN_ENCODING,F=c.errorOrDestroy;Xt(G,n);function H(){}function j(P,U,z){e=e||Rs(),P=P||{},typeof z!="boolean"&&(z=U instanceof e),this.objectMode=!!P.objectMode,z&&(this.objectMode=this.objectMode||!!P.writableObjectMode),this.highWaterMark=l(this,P,"writableHighWaterMark",z),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var q=P.decodeStrings===!1;this.decodeStrings=!q,this.defaultEncoding=P.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Y){g(U,Y)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=P.emitClose!==!1,this.autoDestroy=!!P.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}j.prototype.getBuffer=function(){for(var U=this.bufferedRequest,z=[];U;)z.push(U),U=U.next;return z},function(){try{Object.defineProperty(j.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var Z;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Z=Function.prototype[Symbol.hasInstance],Object.defineProperty(G,Symbol.hasInstance,{value:function(U){return Z.call(this,U)?!0:this!==G?!1:U&&U._writableState instanceof j}})):Z=function(U){return U instanceof this};function G(P){e=e||Rs();var U=this instanceof e;if(!U&&!Z.call(G,this))return new G(P);this._writableState=new j(P,this,U),this.writable=!0,P&&(typeof P.write=="function"&&(this._write=P.write),typeof P.writev=="function"&&(this._writev=P.writev),typeof P.destroy=="function"&&(this._destroy=P.destroy),typeof P.final=="function"&&(this._final=P.final)),n.call(this)}G.prototype.pipe=function(){F(this,new k)};function J(P,U){var z=new R;F(P,z),process.nextTick(U,z)}function B(P,U,z,q){var Y;return z===null?Y=new C:typeof z!="string"&&!U.objectMode&&(Y=new A("chunk",["string","Buffer"],z)),Y?(F(P,Y),process.nextTick(q,Y),!1):!0}G.prototype.write=function(P,U,z){var q=this._writableState,Y=!1,L=!q.objectMode&&o(P);return L&&!i.isBuffer(P)&&(P=s(P)),typeof U=="function"&&(z=U,U=null),L?U="buffer":U||(U=q.defaultEncoding),typeof z!="function"&&(z=H),q.ending?J(this,z):(L||B(this,q,P,z))&&(q.pendingcb++,Y=d(this,q,L,P,U,z)),Y},G.prototype.cork=function(){this._writableState.corked++},G.prototype.uncork=function(){var P=this._writableState;P.corked&&(P.corked--,!P.writing&&!P.corked&&!P.bufferProcessing&&P.bufferedRequest&&y(this,P))},G.prototype.setDefaultEncoding=function(U){if(typeof U=="string"&&(U=U.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((U+"").toLowerCase())>-1))throw new D(U);return this._writableState.defaultEncoding=U,this},Object.defineProperty(G.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function m(P,U,z){return!P.objectMode&&P.decodeStrings!==!1&&typeof U=="string"&&(U=i.from(U,z)),U}Object.defineProperty(G.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function d(P,U,z,q,Y,L){if(!z){var O=m(U,q,Y);q!==O&&(z=!0,Y="buffer",q=O)}var W=U.objectMode?1:q.length;U.length+=W;var V=U.length<U.highWaterMark;if(V||(U.needDrain=!0),U.writing||U.corked){var ee=U.lastBufferedRequest;U.lastBufferedRequest={chunk:q,encoding:Y,isBuf:z,callback:L,next:null},ee?ee.next=U.lastBufferedRequest:U.bufferedRequest=U.lastBufferedRequest,U.bufferedRequestCount+=1}else h(P,U,!1,W,q,Y,L);return V}function h(P,U,z,q,Y,L,O){U.writelen=q,U.writecb=O,U.writing=!0,U.sync=!0,U.destroyed?U.onwrite(new I("write")):z?P._writev(Y,U.onwrite):P._write(Y,L,U.onwrite),U.sync=!1}function u(P,U,z,q,Y){--U.pendingcb,z?(process.nextTick(Y,q),process.nextTick(N,P,U),P._writableState.errorEmitted=!0,F(P,q)):(Y(q),P._writableState.errorEmitted=!0,F(P,q),N(P,U))}function p(P){P.writing=!1,P.writecb=null,P.length-=P.writelen,P.writelen=0}function g(P,U){var z=P._writableState,q=z.sync,Y=z.writecb;if(typeof Y!="function")throw new M;if(p(z),U)u(P,z,q,U,Y);else{var L=b(z)||P.destroyed;!L&&!z.corked&&!z.bufferProcessing&&z.bufferedRequest&&y(P,z),q?process.nextTick(E,P,z,L,Y):E(P,z,L,Y)}}function E(P,U,z,q){z||_(P,U),U.pendingcb--,q(),N(P,U)}function _(P,U){U.length===0&&U.needDrain&&(U.needDrain=!1,P.emit("drain"))}function y(P,U){U.bufferProcessing=!0;var z=U.bufferedRequest;if(P._writev&&z&&z.next){var q=U.bufferedRequestCount,Y=new Array(q),L=U.corkedRequestsFree;L.entry=z;for(var O=0,W=!0;z;)Y[O]=z,z.isBuf||(W=!1),z=z.next,O+=1;Y.allBuffers=W,h(P,U,!0,U.length,Y,"",L.finish),U.pendingcb++,U.lastBufferedRequest=null,L.next?(U.corkedRequestsFree=L.next,L.next=null):U.corkedRequestsFree=new t(U),U.bufferedRequestCount=0}else{for(;z;){var V=z.chunk,ee=z.encoding,oe=z.callback,ie=U.objectMode?1:V.length;if(h(P,U,!1,ie,V,ee,oe),z=z.next,U.bufferedRequestCount--,U.writing)break}z===null&&(U.lastBufferedRequest=null)}U.bufferedRequest=z,U.bufferProcessing=!1}G.prototype._write=function(P,U,z){z(new S("_write()"))},G.prototype._writev=null,G.prototype.end=function(P,U,z){var q=this._writableState;return typeof P=="function"?(z=P,P=null,U=null):typeof U=="function"&&(z=U,U=null),P!=null&&this.write(P,U),q.corked&&(q.corked=1,this.uncork()),q.ending||$(this,q,z),this},Object.defineProperty(G.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function b(P){return P.ending&&P.length===0&&P.bufferedRequest===null&&!P.finished&&!P.writing}function w(P,U){P._final(function(z){U.pendingcb--,z&&F(P,z),U.prefinished=!0,P.emit("prefinish"),N(P,U)})}function v(P,U){!U.prefinished&&!U.finalCalled&&(typeof P._final=="function"&&!U.destroyed?(U.pendingcb++,U.finalCalled=!0,process.nextTick(w,P,U)):(U.prefinished=!0,P.emit("prefinish")))}function N(P,U){var z=b(U);if(z&&(v(P,U),U.pendingcb===0&&(U.finished=!0,P.emit("finish"),U.autoDestroy))){var q=P._readableState;(!q||q.autoDestroy&&q.endEmitted)&&P.destroy()}return z}function $(P,U,z){U.ending=!0,N(P,U),z&&(U.finished?process.nextTick(z):P.once("finish",z)),U.ended=!0,P.writable=!1}function T(P,U,z){var q=P.entry;for(P.entry=null;q;){var Y=q.callback;U.pendingcb--,Y(z),q=q.next}U.corkedRequestsFree.next=P}return Object.defineProperty(G.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(U){this._writableState&&(this._writableState.destroyed=U)}}),G.prototype.destroy=c.destroy,G.prototype._undestroy=c.undestroy,G.prototype._destroy=function(P,U){U(P)},el}var tl,yy;function Rs(){if(yy)return tl;yy=1;var t=Object.keys||function(f){var l=[];for(var x in f)l.push(x);return l};tl=s;var e=kg(),r=Tg();Xt(s,e);for(var n=t(r.prototype),i=0;i<n.length;i++){var a=n[i];s.prototype[a]||(s.prototype[a]=r.prototype[a])}function s(f){if(!(this instanceof s))return new s(f);e.call(this,f),r.call(this,f),this.allowHalfOpen=!0,f&&(f.readable===!1&&(this.readable=!1),f.writable===!1&&(this.writable=!1),f.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",o)))}Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(s.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function o(){this._writableState.ended||process.nextTick(c,this)}function c(f){f.end()}return Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(l){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=l,this._writableState.destroyed=l)}}),tl}var $u={},sp=Pn.Buffer,by=sp.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function jk(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function Kk(t){var e=jk(t);if(typeof e!="string"&&(sp.isEncoding===by||!by(t)))throw new Error("Unknown encoding: "+t);return e||t}$u.StringDecoder=Sc;function Sc(t){this.encoding=Kk(t);var e;switch(this.encoding){case"utf16le":this.text=Zk,this.end=Qk,e=4;break;case"utf8":this.fillLast=Wk,e=4;break;case"base64":this.text=Xk,this.end=eI,e=3;break;default:this.write=tI,this.end=rI;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=sp.allocUnsafe(e)}Sc.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};Sc.prototype.end=Yk;Sc.prototype.text=Jk;Sc.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function rl(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function Gk(t,e,r){var n=e.length-1;if(n<r)return 0;var i=rl(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=rl(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=rl(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function Vk(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"�"}}function Wk(t){var e=this.lastTotal-this.lastNeed,r=Vk(this,t);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function Jk(t,e){var r=Gk(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function Yk(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e}function Zk(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function Qk(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function Xk(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function eI(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function tI(t){return t.toString(this.encoding)}function rI(t){return t&&t.length?this.write(t):""}var xy=rs.codes.ERR_STREAM_PREMATURE_CLOSE;function nI(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function iI(){}function aI(t){return t.setHeader&&typeof t.abort=="function"}function Mg(t,e,r){if(typeof e=="function")return Mg(t,null,e);e||(e={}),r=nI(r||iI);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,a=function(){t.writable||o()},s=t._writableState&&t._writableState.finished,o=function(){i=!1,s=!0,n||r.call(t)},c=t._readableState&&t._readableState.endEmitted,f=function(){n=!1,c=!0,i||r.call(t)},l=function(M){r.call(t,M)},x=function(){var M;if(n&&!c)return(!t._readableState||!t._readableState.ended)&&(M=new xy),r.call(t,M);if(i&&!s)return(!t._writableState||!t._writableState.ended)&&(M=new xy),r.call(t,M)},A=function(){t.req.on("finish",o)};return aI(t)?(t.on("complete",o),t.on("abort",x),t.req?A():t.on("request",A)):i&&!t._writableState&&(t.on("end",a),t.on("close",a)),t.on("end",f),t.on("finish",o),e.error!==!1&&t.on("error",l),t.on("close",x),function(){t.removeListener("complete",o),t.removeListener("abort",x),t.removeListener("request",A),t.req&&t.req.removeListener("finish",o),t.removeListener("end",a),t.removeListener("close",a),t.removeListener("finish",o),t.removeListener("end",f),t.removeListener("error",l),t.removeListener("close",x)}}var op=Mg,nl,gy;function sI(){if(gy)return nl;gy=1;var t;function e(D,F,H){return F=r(F),F in D?Object.defineProperty(D,F,{value:H,enumerable:!0,configurable:!0,writable:!0}):D[F]=H,D}function r(D){var F=n(D,"string");return typeof F=="symbol"?F:String(F)}function n(D,F){if(typeof D!="object"||D===null)return D;var H=D[Symbol.toPrimitive];if(H!==void 0){var j=H.call(D,F||"default");if(typeof j!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(F==="string"?String:Number)(D)}var i=op,a=Symbol("lastResolve"),s=Symbol("lastReject"),o=Symbol("error"),c=Symbol("ended"),f=Symbol("lastPromise"),l=Symbol("handlePromise"),x=Symbol("stream");function A(D,F){return{value:D,done:F}}function S(D){var F=D[a];if(F!==null){var H=D[x].read();H!==null&&(D[f]=null,D[a]=null,D[s]=null,F(A(H,!1)))}}function M(D){process.nextTick(S,D)}function k(D,F){return function(H,j){D.then(function(){if(F[c]){H(A(void 0,!0));return}F[l](H,j)},j)}}var I=Object.getPrototypeOf(function(){}),C=Object.setPrototypeOf((t={get stream(){return this[x]},next:function(){var F=this,H=this[o];if(H!==null)return Promise.reject(H);if(this[c])return Promise.resolve(A(void 0,!0));if(this[x].destroyed)return new Promise(function(J,B){process.nextTick(function(){F[o]?B(F[o]):J(A(void 0,!0))})});var j=this[f],Z;if(j)Z=new Promise(k(j,this));else{var G=this[x].read();if(G!==null)return Promise.resolve(A(G,!1));Z=new Promise(this[l])}return this[f]=Z,Z}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var F=this;return new Promise(function(H,j){F[x].destroy(null,function(Z){if(Z){j(Z);return}H(A(void 0,!0))})})}),t),I),R=function(F){var H,j=Object.create(C,(H={},e(H,x,{value:F,writable:!0}),e(H,a,{value:null,writable:!0}),e(H,s,{value:null,writable:!0}),e(H,o,{value:null,writable:!0}),e(H,c,{value:F._readableState.endEmitted,writable:!0}),e(H,l,{value:function(G,J){var B=j[x].read();B?(j[f]=null,j[a]=null,j[s]=null,G(A(B,!1))):(j[a]=G,j[s]=J)},writable:!0}),H));return j[f]=null,i(F,function(Z){if(Z&&Z.code!=="ERR_STREAM_PREMATURE_CLOSE"){var G=j[s];G!==null&&(j[f]=null,j[a]=null,j[s]=null,G(Z)),j[o]=Z;return}var J=j[a];J!==null&&(j[f]=null,j[a]=null,j[s]=null,J(A(void 0,!0))),j[c]=!0}),F.on("readable",M.bind(null,j)),j};return nl=R,nl}var il,vy;function oI(){return vy||(vy=1,il=function(){throw new Error("Readable.from is not available in the browser")}),il}var al,wy;function kg(){if(wy)return al;wy=1,al=J;var t;J.ReadableState=G,rr.EventEmitter;var e=function(O,W){return O.listeners(W).length},r=wg,n=rr.Buffer,i=(typeof Ke<"u"?Ke:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function a(L){return n.from(L)}function s(L){return n.isBuffer(L)||L instanceof i}var o=rr,c;o&&o.debuglog?c=o.debuglog("stream"):c=function(){};var f=Nk(),l=_g,x=Eg,A=x.getHighWaterMark,S=rs.codes,M=S.ERR_INVALID_ARG_TYPE,k=S.ERR_STREAM_PUSH_AFTER_EOF,I=S.ERR_METHOD_NOT_IMPLEMENTED,C=S.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,R,D,F;Xt(J,r);var H=l.errorOrDestroy,j=["error","close","destroy","pause","resume"];function Z(L,O,W){if(typeof L.prependListener=="function")return L.prependListener(O,W);!L._events||!L._events[O]?L.on(O,W):Array.isArray(L._events[O])?L._events[O].unshift(W):L._events[O]=[W,L._events[O]]}function G(L,O,W){t=t||Rs(),L=L||{},typeof W!="boolean"&&(W=O instanceof t),this.objectMode=!!L.objectMode,W&&(this.objectMode=this.objectMode||!!L.readableObjectMode),this.highWaterMark=A(this,L,"readableHighWaterMark",W),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=L.emitClose!==!1,this.autoDestroy=!!L.autoDestroy,this.destroyed=!1,this.defaultEncoding=L.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,L.encoding&&(R||(R=$u.StringDecoder),this.decoder=new R(L.encoding),this.encoding=L.encoding)}function J(L){if(t=t||Rs(),!(this instanceof J))return new J(L);var O=this instanceof t;this._readableState=new G(L,this,O),this.readable=!0,L&&(typeof L.read=="function"&&(this._read=L.read),typeof L.destroy=="function"&&(this._destroy=L.destroy)),r.call(this)}Object.defineProperty(J.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(O){this._readableState&&(this._readableState.destroyed=O)}}),J.prototype.destroy=l.destroy,J.prototype._undestroy=l.undestroy,J.prototype._destroy=function(L,O){O(L)},J.prototype.push=function(L,O){var W=this._readableState,V;return W.objectMode?V=!0:typeof L=="string"&&(O=O||W.defaultEncoding,O!==W.encoding&&(L=n.from(L,O),O=""),V=!0),B(this,L,O,!1,V)},J.prototype.unshift=function(L){return B(this,L,null,!0,!1)};function B(L,O,W,V,ee){c("readableAddChunk",O);var oe=L._readableState;if(O===null)oe.reading=!1,g(L,oe);else{var ie;if(ee||(ie=d(oe,O)),ie)H(L,ie);else if(oe.objectMode||O&&O.length>0)if(typeof O!="string"&&!oe.objectMode&&Object.getPrototypeOf(O)!==n.prototype&&(O=a(O)),V)oe.endEmitted?H(L,new C):m(L,oe,O,!0);else if(oe.ended)H(L,new k);else{if(oe.destroyed)return!1;oe.reading=!1,oe.decoder&&!W?(O=oe.decoder.write(O),oe.objectMode||O.length!==0?m(L,oe,O,!1):y(L,oe)):m(L,oe,O,!1)}else V||(oe.reading=!1,y(L,oe))}return!oe.ended&&(oe.length<oe.highWaterMark||oe.length===0)}function m(L,O,W,V){O.flowing&&O.length===0&&!O.sync?(O.awaitDrain=0,L.emit("data",W)):(O.length+=O.objectMode?1:W.length,V?O.buffer.unshift(W):O.buffer.push(W),O.needReadable&&E(L)),y(L,O)}function d(L,O){var W;return!s(O)&&typeof O!="string"&&O!==void 0&&!L.objectMode&&(W=new M("chunk",["string","Buffer","Uint8Array"],O)),W}J.prototype.isPaused=function(){return this._readableState.flowing===!1},J.prototype.setEncoding=function(L){R||(R=$u.StringDecoder);var O=new R(L);this._readableState.decoder=O,this._readableState.encoding=this._readableState.decoder.encoding;for(var W=this._readableState.buffer.head,V="";W!==null;)V+=O.write(W.data),W=W.next;return this._readableState.buffer.clear(),V!==""&&this._readableState.buffer.push(V),this._readableState.length=V.length,this};var h=1073741824;function u(L){return L>=h?L=h:(L--,L|=L>>>1,L|=L>>>2,L|=L>>>4,L|=L>>>8,L|=L>>>16,L++),L}function p(L,O){return L<=0||O.length===0&&O.ended?0:O.objectMode?1:L!==L?O.flowing&&O.length?O.buffer.head.data.length:O.length:(L>O.highWaterMark&&(O.highWaterMark=u(L)),L<=O.length?L:O.ended?O.length:(O.needReadable=!0,0))}J.prototype.read=function(L){c("read",L),L=parseInt(L,10);var O=this._readableState,W=L;if(L!==0&&(O.emittedReadable=!1),L===0&&O.needReadable&&((O.highWaterMark!==0?O.length>=O.highWaterMark:O.length>0)||O.ended))return c("read: emitReadable",O.length,O.ended),O.length===0&&O.ended?z(this):E(this),null;if(L=p(L,O),L===0&&O.ended)return O.length===0&&z(this),null;var V=O.needReadable;c("need readable",V),(O.length===0||O.length-L<O.highWaterMark)&&(V=!0,c("length less than watermark",V)),O.ended||O.reading?(V=!1,c("reading or ended",V)):V&&(c("do read"),O.reading=!0,O.sync=!0,O.length===0&&(O.needReadable=!0),this._read(O.highWaterMark),O.sync=!1,O.reading||(L=p(W,O)));var ee;return L>0?ee=U(L,O):ee=null,ee===null?(O.needReadable=O.length<=O.highWaterMark,L=0):(O.length-=L,O.awaitDrain=0),O.length===0&&(O.ended||(O.needReadable=!0),W!==L&&O.ended&&z(this)),ee!==null&&this.emit("data",ee),ee};function g(L,O){if(c("onEofChunk"),!O.ended){if(O.decoder){var W=O.decoder.end();W&&W.length&&(O.buffer.push(W),O.length+=O.objectMode?1:W.length)}O.ended=!0,O.sync?E(L):(O.needReadable=!1,O.emittedReadable||(O.emittedReadable=!0,_(L)))}}function E(L){var O=L._readableState;c("emitReadable",O.needReadable,O.emittedReadable),O.needReadable=!1,O.emittedReadable||(c("emitReadable",O.flowing),O.emittedReadable=!0,process.nextTick(_,L))}function _(L){var O=L._readableState;c("emitReadable_",O.destroyed,O.length,O.ended),!O.destroyed&&(O.length||O.ended)&&(L.emit("readable"),O.emittedReadable=!1),O.needReadable=!O.flowing&&!O.ended&&O.length<=O.highWaterMark,P(L)}function y(L,O){O.readingMore||(O.readingMore=!0,process.nextTick(b,L,O))}function b(L,O){for(;!O.reading&&!O.ended&&(O.length<O.highWaterMark||O.flowing&&O.length===0);){var W=O.length;if(c("maybeReadMore read 0"),L.read(0),W===O.length)break}O.readingMore=!1}J.prototype._read=function(L){H(this,new I("_read()"))},J.prototype.pipe=function(L,O){var W=this,V=this._readableState;switch(V.pipesCount){case 0:V.pipes=L;break;case 1:V.pipes=[V.pipes,L];break;default:V.pipes.push(L);break}V.pipesCount+=1,c("pipe count=%d opts=%j",V.pipesCount,O);var ee=(!O||O.end!==!1)&&L!==process.stdout&&L!==process.stderr,oe=ee?ae:Ae;V.endEmitted?process.nextTick(oe):W.once("end",oe),L.on("unpipe",ie);function ie(se,ze){c("onunpipe"),se===W&&ze&&ze.hasUnpiped===!1&&(ze.hasUnpiped=!0,fe())}function ae(){c("onend"),L.end()}var Je=w(W);L.on("drain",Je);var Te=!1;function fe(){c("cleanup"),L.removeListener("close",ce),L.removeListener("finish",Ye),L.removeListener("drain",Je),L.removeListener("error",Ee),L.removeListener("unpipe",ie),W.removeListener("end",ae),W.removeListener("end",Ae),W.removeListener("data",Qe),Te=!0,V.awaitDrain&&(!L._writableState||L._writableState.needDrain)&&Je()}W.on("data",Qe);function Qe(se){c("ondata");var ze=L.write(se);c("dest.write",ze),ze===!1&&((V.pipesCount===1&&V.pipes===L||V.pipesCount>1&&Y(V.pipes,L)!==-1)&&!Te&&(c("false write response, pause",V.awaitDrain),V.awaitDrain++),W.pause())}function Ee(se){c("onerror",se),Ae(),L.removeListener("error",Ee),e(L,"error")===0&&H(L,se)}Z(L,"error",Ee);function ce(){L.removeListener("finish",Ye),Ae()}L.once("close",ce);function Ye(){c("onfinish"),L.removeListener("close",ce),Ae()}L.once("finish",Ye);function Ae(){c("unpipe"),W.unpipe(L)}return L.emit("pipe",W),V.flowing||(c("pipe resume"),W.resume()),L};function w(L){return function(){var W=L._readableState;c("pipeOnDrain",W.awaitDrain),W.awaitDrain&&W.awaitDrain--,W.awaitDrain===0&&e(L,"data")&&(W.flowing=!0,P(L))}}J.prototype.unpipe=function(L){var O=this._readableState,W={hasUnpiped:!1};if(O.pipesCount===0)return this;if(O.pipesCount===1)return L&&L!==O.pipes?this:(L||(L=O.pipes),O.pipes=null,O.pipesCount=0,O.flowing=!1,L&&L.emit("unpipe",this,W),this);if(!L){var V=O.pipes,ee=O.pipesCount;O.pipes=null,O.pipesCount=0,O.flowing=!1;for(var oe=0;oe<ee;oe++)V[oe].emit("unpipe",this,{hasUnpiped:!1});return this}var ie=Y(O.pipes,L);return ie===-1?this:(O.pipes.splice(ie,1),O.pipesCount-=1,O.pipesCount===1&&(O.pipes=O.pipes[0]),L.emit("unpipe",this,W),this)},J.prototype.on=function(L,O){var W=r.prototype.on.call(this,L,O),V=this._readableState;return L==="data"?(V.readableListening=this.listenerCount("readable")>0,V.flowing!==!1&&this.resume()):L==="readable"&&!V.endEmitted&&!V.readableListening&&(V.readableListening=V.needReadable=!0,V.flowing=!1,V.emittedReadable=!1,c("on readable",V.length,V.reading),V.length?E(this):V.reading||process.nextTick(N,this)),W},J.prototype.addListener=J.prototype.on,J.prototype.removeListener=function(L,O){var W=r.prototype.removeListener.call(this,L,O);return L==="readable"&&process.nextTick(v,this),W},J.prototype.removeAllListeners=function(L){var O=r.prototype.removeAllListeners.apply(this,arguments);return(L==="readable"||L===void 0)&&process.nextTick(v,this),O};function v(L){var O=L._readableState;O.readableListening=L.listenerCount("readable")>0,O.resumeScheduled&&!O.paused?O.flowing=!0:L.listenerCount("data")>0&&L.resume()}function N(L){c("readable nexttick read 0"),L.read(0)}J.prototype.resume=function(){var L=this._readableState;return L.flowing||(c("resume"),L.flowing=!L.readableListening,$(this,L)),L.paused=!1,this};function $(L,O){O.resumeScheduled||(O.resumeScheduled=!0,process.nextTick(T,L,O))}function T(L,O){c("resume",O.reading),O.reading||L.read(0),O.resumeScheduled=!1,L.emit("resume"),P(L),O.flowing&&!O.reading&&L.read(0)}J.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function P(L){var O=L._readableState;for(c("flow",O.flowing);O.flowing&&L.read()!==null;);}J.prototype.wrap=function(L){var O=this,W=this._readableState,V=!1;L.on("end",function(){if(c("wrapped end"),W.decoder&&!W.ended){var ie=W.decoder.end();ie&&ie.length&&O.push(ie)}O.push(null)}),L.on("data",function(ie){if(c("wrapped data"),W.decoder&&(ie=W.decoder.write(ie)),!(W.objectMode&&ie==null)&&!(!W.objectMode&&(!ie||!ie.length))){var ae=O.push(ie);ae||(V=!0,L.pause())}});for(var ee in L)this[ee]===void 0&&typeof L[ee]=="function"&&(this[ee]=function(ae){return function(){return L[ae].apply(L,arguments)}}(ee));for(var oe=0;oe<j.length;oe++)L.on(j[oe],this.emit.bind(this,j[oe]));return this._read=function(ie){c("wrapped _read",ie),V&&(V=!1,L.resume())},this},typeof Symbol=="function"&&(J.prototype[Symbol.asyncIterator]=function(){return D===void 0&&(D=sI()),D(this)}),Object.defineProperty(J.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(J.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(J.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(O){this._readableState&&(this._readableState.flowing=O)}}),J._fromList=U,Object.defineProperty(J.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function U(L,O){if(O.length===0)return null;var W;return O.objectMode?W=O.buffer.shift():!L||L>=O.length?(O.decoder?W=O.buffer.join(""):O.buffer.length===1?W=O.buffer.first():W=O.buffer.concat(O.length),O.buffer.clear()):W=O.buffer.consume(L,O.decoder),W}function z(L){var O=L._readableState;c("endReadable",O.endEmitted),O.endEmitted||(O.ended=!0,process.nextTick(q,O,L))}function q(L,O){if(c("endReadableNT",L.endEmitted,L.length),!L.endEmitted&&L.length===0&&(L.endEmitted=!0,O.readable=!1,O.emit("end"),L.autoDestroy)){var W=O._writableState;(!W||W.autoDestroy&&W.finished)&&O.destroy()}}typeof Symbol=="function"&&(J.from=function(L,O){return F===void 0&&(F=oI()),F(J,L,O)});function Y(L,O){for(var W=0,V=L.length;W<V;W++)if(L[W]===O)return W;return-1}return al}var Ig=Di,$f=rs.codes,cI=$f.ERR_METHOD_NOT_IMPLEMENTED,uI=$f.ERR_MULTIPLE_CALLBACK,fI=$f.ERR_TRANSFORM_ALREADY_TRANSFORMING,dI=$f.ERR_TRANSFORM_WITH_LENGTH_0,Hf=Rs();Xt(Di,Hf);function lI(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new uI);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Di(t){if(!(this instanceof Di))return new Di(t);Hf.call(this,t),this._transformState={afterTransform:lI.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",hI)}function hI(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){_y(t,e,r)}):_y(this,null,null)}Di.prototype.push=function(t,e){return this._transformState.needTransform=!1,Hf.prototype.push.call(this,t,e)};Di.prototype._transform=function(t,e,r){r(new cI("_transform()"))};Di.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Di.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Di.prototype._destroy=function(t,e){Hf.prototype._destroy.call(this,t,function(r){e(r)})};function _y(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new dI;if(t._transformState.transforming)throw new fI;return t.push(null)}var pI=uc,Sg=Ig;Xt(uc,Sg);function uc(t){if(!(this instanceof uc))return new uc(t);Sg.call(this,t)}uc.prototype._transform=function(t,e,r){r(null,t)};var sl;function mI(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var Cg=rs.codes,yI=Cg.ERR_MISSING_ARGS,bI=Cg.ERR_STREAM_DESTROYED;function Ay(t){if(t)throw t}function xI(t){return t.setHeader&&typeof t.abort=="function"}function gI(t,e,r,n){n=mI(n);var i=!1;t.on("close",function(){i=!0}),sl===void 0&&(sl=op),sl(t,{readable:e,writable:r},function(s){if(s)return n(s);i=!0,n()});var a=!1;return function(s){if(!i&&!a){if(a=!0,xI(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(s||new bI("pipe"))}}}function Ey(t){t()}function vI(t,e){return t.pipe(e)}function wI(t){return!t.length||typeof t[t.length-1]!="function"?Ay:t.pop()}function _I(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=wI(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new yI("streams");var i,a=e.map(function(s,o){var c=o<e.length-1,f=o>0;return gI(s,c,f,function(l){i||(i=l),l&&a.forEach(Ey),!c&&(a.forEach(Ey),n(i))})});return e.reduce(vI)}var AI=_I;(function(t,e){e=t.exports=kg(),e.Stream=e,e.Readable=e,e.Writable=Tg(),e.Duplex=Rs(),e.Transform=Ig,e.PassThrough=pI,e.finished=op,e.pipeline=AI})(o0,o0.exports);var cp=o0.exports;const{Transform:EI}=cp;var TI=t=>class Ng extends EI{constructor(r,n,i,a,s){super(s),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._hashBitLength=a,this._options=s,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let a=null;try{this.update(r,n)}catch(s){a=s}i(a)}_flush(r){let n=null;try{this.push(this.digest())}catch(i){n=i}r(n)}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}digest(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let n=this._state.squeeze(this._hashBitLength/8);return r!==void 0&&(n=n.toString(r)),this._resetState(),n}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new Ng(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const{Transform:MI}=cp;var kI=t=>class Rg extends MI{constructor(r,n,i,a){super(a),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._options=a,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let a=null;try{this.update(r,n)}catch(s){a=s}i(a)}_flush(){}_read(r){this.push(this.squeeze(r))}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}squeeze(r,n){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let i=this._state.squeeze(r);return n!==void 0&&(i=i.toString(n)),i}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new Rg(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const II=TI,SI=kI;var CI=function(t){const e=II(t),r=SI(t);return function(n,i){switch(typeof n=="string"?n.toLowerCase():n){case"keccak224":return new e(1152,448,null,224,i);case"keccak256":return new e(1088,512,null,256,i);case"keccak384":return new e(832,768,null,384,i);case"keccak512":return new e(576,1024,null,512,i);case"sha3-224":return new e(1152,448,6,224,i);case"sha3-256":return new e(1088,512,6,256,i);case"sha3-384":return new e(832,768,6,384,i);case"sha3-512":return new e(576,1024,6,512,i);case"shake128":return new r(1344,256,31,i);case"shake256":return new r(1088,512,31,i);default:throw new Error("Invald algorithm: "+n)}}},Pg={};const Ty=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];Pg.p1600=function(t){for(let e=0;e<24;++e){const r=t[0]^t[10]^t[20]^t[30]^t[40],n=t[1]^t[11]^t[21]^t[31]^t[41],i=t[2]^t[12]^t[22]^t[32]^t[42],a=t[3]^t[13]^t[23]^t[33]^t[43],s=t[4]^t[14]^t[24]^t[34]^t[44],o=t[5]^t[15]^t[25]^t[35]^t[45],c=t[6]^t[16]^t[26]^t[36]^t[46],f=t[7]^t[17]^t[27]^t[37]^t[47],l=t[8]^t[18]^t[28]^t[38]^t[48],x=t[9]^t[19]^t[29]^t[39]^t[49];let A=l^(i<<1|a>>>31),S=x^(a<<1|i>>>31);const M=t[0]^A,k=t[1]^S,I=t[10]^A,C=t[11]^S,R=t[20]^A,D=t[21]^S,F=t[30]^A,H=t[31]^S,j=t[40]^A,Z=t[41]^S;A=r^(s<<1|o>>>31),S=n^(o<<1|s>>>31);const G=t[2]^A,J=t[3]^S,B=t[12]^A,m=t[13]^S,d=t[22]^A,h=t[23]^S,u=t[32]^A,p=t[33]^S,g=t[42]^A,E=t[43]^S;A=i^(c<<1|f>>>31),S=a^(f<<1|c>>>31);const _=t[4]^A,y=t[5]^S,b=t[14]^A,w=t[15]^S,v=t[24]^A,N=t[25]^S,$=t[34]^A,T=t[35]^S,P=t[44]^A,U=t[45]^S;A=s^(l<<1|x>>>31),S=o^(x<<1|l>>>31);const z=t[6]^A,q=t[7]^S,Y=t[16]^A,L=t[17]^S,O=t[26]^A,W=t[27]^S,V=t[36]^A,ee=t[37]^S,oe=t[46]^A,ie=t[47]^S;A=c^(r<<1|n>>>31),S=f^(n<<1|r>>>31);const ae=t[8]^A,Je=t[9]^S,Te=t[18]^A,fe=t[19]^S,Qe=t[28]^A,Ee=t[29]^S,ce=t[38]^A,Ye=t[39]^S,Ae=t[48]^A,se=t[49]^S,ze=M,Me=k,de=C<<4|I>>>28,st=I<<4|C>>>28,ke=R<<3|D>>>29,le=D<<3|R>>>29,ot=H<<9|F>>>23,Ie=F<<9|H>>>23,he=j<<18|Z>>>14,ct=Z<<18|j>>>14,Se=G<<1|J>>>31,pe=J<<1|G>>>31,ut=m<<12|B>>>20,Ce=B<<12|m>>>20,me=d<<10|h>>>22,ft=h<<10|d>>>22,Ne=p<<13|u>>>19,ye=u<<13|p>>>19,dt=g<<2|E>>>30,Re=E<<2|g>>>30,be=y<<30|_>>>2,lt=_<<30|y>>>2,Pe=b<<6|w>>>26,xe=w<<6|b>>>26,ht=N<<11|v>>>21,Oe=v<<11|N>>>21,ge=$<<15|T>>>17,pt=T<<15|$>>>17,Be=U<<29|P>>>3,ve=P<<29|U>>>3,mt=z<<28|q>>>4,Le=q<<28|z>>>4,we=L<<23|Y>>>9,nt=Y<<23|L>>>9,Xe=O<<25|W>>>7,et=W<<25|O>>>7,Kt=V<<21|ee>>>11,Gt=ee<<21|V>>>11,Vt=ie<<24|oe>>>8,Wt=oe<<24|ie>>>8,Jt=ae<<27|Je>>>5,Nr=Je<<27|ae>>>5,Rr=Te<<20|fe>>>12,Pr=fe<<20|Te>>>12,Or=Ee<<7|Qe>>>25,Br=Qe<<7|Ee>>>25,Lr=ce<<8|Ye>>>24,Dr=Ye<<8|ce>>>24,Fr=Ae<<14|se>>>18,Ur=se<<14|Ae>>>18;t[0]=ze^~ut&ht,t[1]=Me^~Ce&Oe,t[10]=mt^~Rr&ke,t[11]=Le^~Pr&le,t[20]=Se^~Pe&Xe,t[21]=pe^~xe&et,t[30]=Jt^~de&me,t[31]=Nr^~st&ft,t[40]=be^~we&Or,t[41]=lt^~nt&Br,t[2]=ut^~ht&Kt,t[3]=Ce^~Oe&Gt,t[12]=Rr^~ke&Ne,t[13]=Pr^~le&ye,t[22]=Pe^~Xe&Lr,t[23]=xe^~et&Dr,t[32]=de^~me&ge,t[33]=st^~ft&pt,t[42]=we^~Or&ot,t[43]=nt^~Br&Ie,t[4]=ht^~Kt&Fr,t[5]=Oe^~Gt&Ur,t[14]=ke^~Ne&Be,t[15]=le^~ye&ve,t[24]=Xe^~Lr&he,t[25]=et^~Dr&ct,t[34]=me^~ge&Vt,t[35]=ft^~pt&Wt,t[44]=Or^~ot&dt,t[45]=Br^~Ie&Re,t[6]=Kt^~Fr&ze,t[7]=Gt^~Ur&Me,t[16]=Ne^~Be&mt,t[17]=ye^~ve&Le,t[26]=Lr^~he&Se,t[27]=Dr^~ct&pe,t[36]=ge^~Vt&Jt,t[37]=pt^~Wt&Nr,t[46]=ot^~dt&be,t[47]=Ie^~Re&lt,t[8]=Fr^~ze&ut,t[9]=Ur^~Me&Ce,t[18]=Be^~mt&Rr,t[19]=ve^~Le&Pr,t[28]=he^~Se&Pe,t[29]=ct^~pe&xe,t[38]=Vt^~Jt&de,t[39]=Wt^~Nr&st,t[48]=dt^~be&we,t[49]=Re^~lt&nt,t[0]^=Ty[e*2],t[1]^=Ty[e*2+1]}};const Hu=Pg;function io(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}io.prototype.initialize=function(t,e){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1};io.prototype.absorb=function(t){for(let e=0;e<t.length;++e)this.state[~~(this.count/4)]^=t[e]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(Hu.p1600(this.state),this.count=0)};io.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<8*(this.count%4),t&128&&this.count===this.blockSize-1&&Hu.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),Hu.p1600(this.state),this.count=0,this.squeezing=!0};io.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);const e=Buffer.alloc(t);for(let r=0;r<t;++r)e[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(Hu.p1600(this.state),this.count=0);return e};io.prototype.copy=function(t){for(let e=0;e<50;++e)t.state[e]=this.state[e];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing};var NI=io,RI=CI(NI);Object.defineProperty(no,"__esModule",{value:!0});var zf=ap,qf=RI;no.keccak224=zf.createHashFunction(function(){return qf("keccak224")});no.keccak256=zf.createHashFunction(function(){return qf("keccak256")});no.keccak384=zf.createHashFunction(function(){return qf("keccak384")});no.keccak512=zf.createHashFunction(function(){return qf("keccak512")});var zu=Pn.Buffer,Og=cp.Transform,PI=Xt;function OI(t,e){if(!zu.isBuffer(t)&&typeof t!="string")throw new TypeError(e+" must be a string or a buffer")}function xa(t){Og.call(this),this._block=zu.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}PI(xa,Og);xa.prototype._transform=function(t,e,r){var n=null;try{this.update(t,e)}catch(i){n=i}r(n)};xa.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(r){e=r}t(e)};xa.prototype.update=function(t,e){if(OI(t,"Data"),this._finalized)throw new Error("Digest already called");zu.isBuffer(t)||(t=zu.from(t,e));for(var r=this._block,n=0;this._blockOffset+t.length-n>=this._blockSize;){for(var i=this._blockOffset;i<this._blockSize;)r[i++]=t[n++];this._update(),this._blockOffset=0}for(;n<t.length;)r[this._blockOffset++]=t[n++];for(var a=0,s=t.length*8;s>0;++a)this._length[a]+=s,s=this._length[a]/4294967296|0,s>0&&(this._length[a]-=4294967296*s);return this};xa.prototype._update=function(){throw new Error("_update is not implemented")};xa.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();t!==void 0&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return e};xa.prototype._digest=function(){throw new Error("_digest is not implemented")};var Bg=xa,BI=Xt,Lg=Bg,LI=Pn.Buffer,DI=new Array(16);function jf(){Lg.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}BI(jf,Lg);jf.prototype._update=function(){for(var t=DI,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);var r=this._a,n=this._b,i=this._c,a=this._d;r=gr(r,n,i,a,t[0],3614090360,7),a=gr(a,r,n,i,t[1],3905402710,12),i=gr(i,a,r,n,t[2],606105819,17),n=gr(n,i,a,r,t[3],3250441966,22),r=gr(r,n,i,a,t[4],4118548399,7),a=gr(a,r,n,i,t[5],1200080426,12),i=gr(i,a,r,n,t[6],2821735955,17),n=gr(n,i,a,r,t[7],4249261313,22),r=gr(r,n,i,a,t[8],1770035416,7),a=gr(a,r,n,i,t[9],2336552879,12),i=gr(i,a,r,n,t[10],4294925233,17),n=gr(n,i,a,r,t[11],2304563134,22),r=gr(r,n,i,a,t[12],1804603682,7),a=gr(a,r,n,i,t[13],4254626195,12),i=gr(i,a,r,n,t[14],2792965006,17),n=gr(n,i,a,r,t[15],1236535329,22),r=vr(r,n,i,a,t[1],4129170786,5),a=vr(a,r,n,i,t[6],3225465664,9),i=vr(i,a,r,n,t[11],643717713,14),n=vr(n,i,a,r,t[0],3921069994,20),r=vr(r,n,i,a,t[5],3593408605,5),a=vr(a,r,n,i,t[10],38016083,9),i=vr(i,a,r,n,t[15],3634488961,14),n=vr(n,i,a,r,t[4],3889429448,20),r=vr(r,n,i,a,t[9],568446438,5),a=vr(a,r,n,i,t[14],3275163606,9),i=vr(i,a,r,n,t[3],4107603335,14),n=vr(n,i,a,r,t[8],1163531501,20),r=vr(r,n,i,a,t[13],2850285829,5),a=vr(a,r,n,i,t[2],4243563512,9),i=vr(i,a,r,n,t[7],1735328473,14),n=vr(n,i,a,r,t[12],2368359562,20),r=wr(r,n,i,a,t[5],4294588738,4),a=wr(a,r,n,i,t[8],2272392833,11),i=wr(i,a,r,n,t[11],1839030562,16),n=wr(n,i,a,r,t[14],4259657740,23),r=wr(r,n,i,a,t[1],2763975236,4),a=wr(a,r,n,i,t[4],1272893353,11),i=wr(i,a,r,n,t[7],4139469664,16),n=wr(n,i,a,r,t[10],3200236656,23),r=wr(r,n,i,a,t[13],681279174,4),a=wr(a,r,n,i,t[0],3936430074,11),i=wr(i,a,r,n,t[3],3572445317,16),n=wr(n,i,a,r,t[6],76029189,23),r=wr(r,n,i,a,t[9],3654602809,4),a=wr(a,r,n,i,t[12],3873151461,11),i=wr(i,a,r,n,t[15],530742520,16),n=wr(n,i,a,r,t[2],3299628645,23),r=_r(r,n,i,a,t[0],4096336452,6),a=_r(a,r,n,i,t[7],1126891415,10),i=_r(i,a,r,n,t[14],2878612391,15),n=_r(n,i,a,r,t[5],4237533241,21),r=_r(r,n,i,a,t[12],1700485571,6),a=_r(a,r,n,i,t[3],2399980690,10),i=_r(i,a,r,n,t[10],4293915773,15),n=_r(n,i,a,r,t[1],2240044497,21),r=_r(r,n,i,a,t[8],1873313359,6),a=_r(a,r,n,i,t[15],4264355552,10),i=_r(i,a,r,n,t[6],2734768916,15),n=_r(n,i,a,r,t[13],1309151649,21),r=_r(r,n,i,a,t[4],4149444226,6),a=_r(a,r,n,i,t[11],3174756917,10),i=_r(i,a,r,n,t[2],718787259,15),n=_r(n,i,a,r,t[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+a|0};jf.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=LI.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t};function Kf(t,e){return t<<e|t>>>32-e}function gr(t,e,r,n,i,a,s){return Kf(t+(e&r|~e&n)+i+a|0,s)+e|0}function vr(t,e,r,n,i,a,s){return Kf(t+(e&n|r&~n)+i+a|0,s)+e|0}function wr(t,e,r,n,i,a,s){return Kf(t+(e^r^n)+i+a|0,s)+e|0}function _r(t,e,r,n,i,a,s){return Kf(t+(r^(e|~n))+i+a|0,s)+e|0}var FI=jf,ol=rr.Buffer,UI=Xt,Dg=Bg,$I=new Array(16),vo=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],wo=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],_o=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Ao=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Eo=[0,1518500249,1859775393,2400959708,2840853838],To=[1352829926,1548603684,1836072691,2053994217,0];function Gf(){Dg.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}UI(Gf,Dg);Gf.prototype._update=function(){for(var t=$I,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);for(var r=this._a|0,n=this._b|0,i=this._c|0,a=this._d|0,s=this._e|0,o=this._a|0,c=this._b|0,f=this._c|0,l=this._d|0,x=this._e|0,A=0;A<80;A+=1){var S,M;A<16?(S=My(r,n,i,a,s,t[vo[A]],Eo[0],_o[A]),M=Cy(o,c,f,l,x,t[wo[A]],To[0],Ao[A])):A<32?(S=ky(r,n,i,a,s,t[vo[A]],Eo[1],_o[A]),M=Sy(o,c,f,l,x,t[wo[A]],To[1],Ao[A])):A<48?(S=Iy(r,n,i,a,s,t[vo[A]],Eo[2],_o[A]),M=Iy(o,c,f,l,x,t[wo[A]],To[2],Ao[A])):A<64?(S=Sy(r,n,i,a,s,t[vo[A]],Eo[3],_o[A]),M=ky(o,c,f,l,x,t[wo[A]],To[3],Ao[A])):(S=Cy(r,n,i,a,s,t[vo[A]],Eo[4],_o[A]),M=My(o,c,f,l,x,t[wo[A]],To[4],Ao[A])),r=s,s=a,a=Ga(i,10),i=n,n=S,o=x,x=l,l=Ga(f,10),f=c,c=M}var k=this._b+i+l|0;this._b=this._c+a+x|0,this._c=this._d+s+o|0,this._d=this._e+r+c|0,this._e=this._a+n+f|0,this._a=k};Gf.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=ol.alloc?ol.alloc(20):new ol(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t};function Ga(t,e){return t<<e|t>>>32-e}function My(t,e,r,n,i,a,s,o){return Ga(t+(e^r^n)+a+s|0,o)+i|0}function ky(t,e,r,n,i,a,s,o){return Ga(t+(e&r|~e&n)+a+s|0,o)+i|0}function Iy(t,e,r,n,i,a,s,o){return Ga(t+((e|~r)^n)+a+s|0,o)+i|0}function Sy(t,e,r,n,i,a,s,o){return Ga(t+(e&n|r&~n)+a+s|0,o)+i|0}function Cy(t,e,r,n,i,a,s,o){return Ga(t+(e^(r|~n))+a+s|0,o)+i|0}var HI=Gf,Fg={exports:{}},Ug=Pn.Buffer;function Vf(t,e){this._block=Ug.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}Vf.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=Ug.from(t,e));for(var r=this._block,n=this._blockSize,i=t.length,a=this._len,s=0;s<i;){for(var o=a%n,c=Math.min(i-s,n-o),f=0;f<c;f++)r[o+f]=t[s+f];a+=c,s+=c,a%n===0&&this._update(r)}return this._len+=i,this};Vf.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var a=this._hash();return t?a.toString(t):a};Vf.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var ao=Vf,zI=Xt,$g=ao,qI=Pn.Buffer,jI=[1518500249,1859775393,-1894007588,-899497514],KI=new Array(80);function Cc(){this.init(),this._w=KI,$g.call(this,64,56)}zI(Cc,$g);Cc.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function GI(t){return t<<5|t>>>27}function VI(t){return t<<30|t>>>2}function WI(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}Cc.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,a=this._d|0,s=this._e|0,o=0;o<16;++o)e[o]=t.readInt32BE(o*4);for(;o<80;++o)e[o]=e[o-3]^e[o-8]^e[o-14]^e[o-16];for(var c=0;c<80;++c){var f=~~(c/20),l=GI(r)+WI(f,n,i,a)+s+e[c]+jI[f]|0;s=a,a=i,i=VI(n),n=r,r=l}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=a+this._d|0,this._e=s+this._e|0};Cc.prototype._hash=function(){var t=qI.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var JI=Cc,YI=Xt,Hg=ao,ZI=Pn.Buffer,QI=[1518500249,1859775393,-1894007588,-899497514],XI=new Array(80);function Nc(){this.init(),this._w=XI,Hg.call(this,64,56)}YI(Nc,Hg);Nc.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function eS(t){return t<<1|t>>>31}function tS(t){return t<<5|t>>>27}function rS(t){return t<<30|t>>>2}function nS(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}Nc.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,a=this._d|0,s=this._e|0,o=0;o<16;++o)e[o]=t.readInt32BE(o*4);for(;o<80;++o)e[o]=eS(e[o-3]^e[o-8]^e[o-14]^e[o-16]);for(var c=0;c<80;++c){var f=~~(c/20),l=tS(r)+nS(f,n,i,a)+s+e[c]+QI[f]|0;s=a,a=i,i=rS(n),n=r,r=l}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=a+this._d|0,this._e=s+this._e|0};Nc.prototype._hash=function(){var t=ZI.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var iS=Nc,aS=Xt,zg=ao,sS=Pn.Buffer,oS=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],cS=new Array(64);function Rc(){this.init(),this._w=cS,zg.call(this,64,56)}aS(Rc,zg);Rc.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function uS(t,e,r){return r^t&(e^r)}function fS(t,e,r){return t&e|r&(t|e)}function dS(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function lS(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function hS(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function pS(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}Rc.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,a=this._d|0,s=this._e|0,o=this._f|0,c=this._g|0,f=this._h|0,l=0;l<16;++l)e[l]=t.readInt32BE(l*4);for(;l<64;++l)e[l]=pS(e[l-2])+e[l-7]+hS(e[l-15])+e[l-16]|0;for(var x=0;x<64;++x){var A=f+lS(s)+uS(s,o,c)+oS[x]+e[x]|0,S=dS(r)+fS(r,n,i)|0;f=c,c=o,o=s,s=a+A|0,a=i,i=n,n=r,r=A+S|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=a+this._d|0,this._e=s+this._e|0,this._f=o+this._f|0,this._g=c+this._g|0,this._h=f+this._h|0};Rc.prototype._hash=function(){var t=sS.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};var qg=Rc,mS=Xt,yS=qg,bS=ao,xS=Pn.Buffer,gS=new Array(64);function Wf(){this.init(),this._w=gS,bS.call(this,64,56)}mS(Wf,yS);Wf.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};Wf.prototype._hash=function(){var t=xS.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};var vS=Wf,wS=Xt,jg=ao,_S=Pn.Buffer,Ny=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],AS=new Array(160);function Pc(){this.init(),this._w=AS,jg.call(this,128,112)}wS(Pc,jg);Pc.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function Ry(t,e,r){return r^t&(e^r)}function Py(t,e,r){return t&e|r&(t|e)}function Oy(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function By(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function ES(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function TS(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function MS(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function kS(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function ir(t,e){return t>>>0<e>>>0?1:0}Pc.prototype._update=function(t){for(var e=this._w,r=this._ah|0,n=this._bh|0,i=this._ch|0,a=this._dh|0,s=this._eh|0,o=this._fh|0,c=this._gh|0,f=this._hh|0,l=this._al|0,x=this._bl|0,A=this._cl|0,S=this._dl|0,M=this._el|0,k=this._fl|0,I=this._gl|0,C=this._hl|0,R=0;R<32;R+=2)e[R]=t.readInt32BE(R*4),e[R+1]=t.readInt32BE(R*4+4);for(;R<160;R+=2){var D=e[R-30],F=e[R-15*2+1],H=ES(D,F),j=TS(F,D);D=e[R-2*2],F=e[R-2*2+1];var Z=MS(D,F),G=kS(F,D),J=e[R-7*2],B=e[R-7*2+1],m=e[R-16*2],d=e[R-16*2+1],h=j+B|0,u=H+J+ir(h,j)|0;h=h+G|0,u=u+Z+ir(h,G)|0,h=h+d|0,u=u+m+ir(h,d)|0,e[R]=u,e[R+1]=h}for(var p=0;p<160;p+=2){u=e[p],h=e[p+1];var g=Py(r,n,i),E=Py(l,x,A),_=Oy(r,l),y=Oy(l,r),b=By(s,M),w=By(M,s),v=Ny[p],N=Ny[p+1],$=Ry(s,o,c),T=Ry(M,k,I),P=C+w|0,U=f+b+ir(P,C)|0;P=P+T|0,U=U+$+ir(P,T)|0,P=P+N|0,U=U+v+ir(P,N)|0,P=P+h|0,U=U+u+ir(P,h)|0;var z=y+E|0,q=_+g+ir(z,y)|0;f=c,C=I,c=o,I=k,o=s,k=M,M=S+P|0,s=a+U+ir(M,S)|0,a=i,S=A,i=n,A=x,n=r,x=l,l=P+z|0,r=U+q+ir(l,P)|0}this._al=this._al+l|0,this._bl=this._bl+x|0,this._cl=this._cl+A|0,this._dl=this._dl+S|0,this._el=this._el+M|0,this._fl=this._fl+k|0,this._gl=this._gl+I|0,this._hl=this._hl+C|0,this._ah=this._ah+r+ir(this._al,l)|0,this._bh=this._bh+n+ir(this._bl,x)|0,this._ch=this._ch+i+ir(this._cl,A)|0,this._dh=this._dh+a+ir(this._dl,S)|0,this._eh=this._eh+s+ir(this._el,M)|0,this._fh=this._fh+o+ir(this._fl,k)|0,this._gh=this._gh+c+ir(this._gl,I)|0,this._hh=this._hh+f+ir(this._hl,C)|0};Pc.prototype._hash=function(){var t=_S.allocUnsafe(64);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};var Kg=Pc,IS=Xt,SS=Kg,CS=ao,NS=Pn.Buffer,RS=new Array(160);function Jf(){this.init(),this._w=RS,CS.call(this,128,112)}IS(Jf,SS);Jf.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};Jf.prototype._hash=function(){var t=NS.allocUnsafe(48);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};var PS=Jf,ns=Fg.exports=function(e){e=e.toLowerCase();var r=ns[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};ns.sha=JI;ns.sha1=iS;ns.sha224=vS;ns.sha256=qg;ns.sha384=PS;ns.sha512=Kg;var OS=Fg.exports,Gg=Pn.Buffer,Vg=rr.Transform,BS=$u.StringDecoder,LS=Xt;function Zn(t){Vg.call(this),this.hashMode=typeof t=="string",this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}LS(Zn,Vg);Zn.prototype.update=function(t,e,r){typeof t=="string"&&(t=Gg.from(t,e));var n=this._update(t);return this.hashMode?this:(r&&(n=this._toString(n,r)),n)};Zn.prototype.setAutoPadding=function(){};Zn.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")};Zn.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")};Zn.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")};Zn.prototype._transform=function(t,e,r){var n;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(i){n=i}finally{r(n)}};Zn.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(r){e=r}t(e)};Zn.prototype._finalOrDigest=function(t){var e=this.__final()||Gg.alloc(0);return t&&(e=this._toString(e,t,!0)),e};Zn.prototype._toString=function(t,e,r){if(this._decoder||(this._decoder=new BS(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var n=this._decoder.write(t);return r&&(n+=this._decoder.end()),n};var DS=Zn,FS=Xt,US=FI,$S=HI,HS=OS,Wg=DS;function Yf(t){Wg.call(this,"digest"),this._hash=t}FS(Yf,Wg);Yf.prototype._update=function(t){this._hash.update(t)};Yf.prototype._final=function(){return this._hash.digest()};var zS=function(e){return e=e.toLowerCase(),e==="md5"?new US:e==="rmd160"||e==="ripemd160"?new $S:new Yf(HS(e))};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.rlphash=t.ripemd160FromArray=t.ripemd160FromString=t.ripemd160=t.sha256FromArray=t.sha256FromString=t.sha256=t.keccakFromArray=t.keccakFromHexString=t.keccakFromString=t.keccak256=t.keccak=void 0;var e=no,r=zS,n=Yr,i=ba,a=un,s=function(F,H){switch(H===void 0&&(H=256),(0,a.assertIsBuffer)(F),H){case 224:return(0,e.keccak224)(F);case 256:return(0,e.keccak256)(F);case 384:return(0,e.keccak384)(F);case 512:return(0,e.keccak512)(F);default:throw new Error("Invald algorithm: keccak".concat(H))}};t.keccak=s;var o=function(F){return(0,t.keccak)(F)};t.keccak256=o;var c=function(F,H){H===void 0&&(H=256),(0,a.assertIsString)(F);var j=Buffer.from(F,"utf8");return(0,t.keccak)(j,H)};t.keccakFromString=c;var f=function(F,H){return H===void 0&&(H=256),(0,a.assertIsHexString)(F),(0,t.keccak)((0,i.toBuffer)(F),H)};t.keccakFromHexString=f;var l=function(F,H){return H===void 0&&(H=256),(0,a.assertIsArray)(F),(0,t.keccak)((0,i.toBuffer)(F),H)};t.keccakFromArray=l;var x=function(F){return F=(0,i.toBuffer)(F),r("sha256").update(F).digest()},A=function(F){return(0,a.assertIsBuffer)(F),x(F)};t.sha256=A;var S=function(F){return(0,a.assertIsString)(F),x(F)};t.sha256FromString=S;var M=function(F){return(0,a.assertIsArray)(F),x(F)};t.sha256FromArray=M;var k=function(F,H){F=(0,i.toBuffer)(F);var j=r("rmd160").update(F).digest();return H===!0?(0,i.setLengthLeft)(j,32):j},I=function(F,H){return(0,a.assertIsBuffer)(F),k(F,H)};t.ripemd160=I;var C=function(F,H){return(0,a.assertIsString)(F),k(F,H)};t.ripemd160FromString=C;var R=function(F,H){return(0,a.assertIsArray)(F),k(F,H)};t.ripemd160FromArray=R;var D=function(F){return(0,t.keccak)(n.rlp.encode(F))};t.rlphash=D})(Uf);var Zf={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.toType=t.TypeOutput=t.bnToRlp=t.bnToUnpaddedBuffer=t.bnToHex=void 0;var e=Yr,r=Tt,n=ba;function i(f){return"0x".concat(f.toString(16))}t.bnToHex=i;function a(f){return(0,n.unpadBuffer)(f.toArrayLike(Buffer))}t.bnToUnpaddedBuffer=a;function s(f){return a(f)}t.bnToRlp=s;var o;(function(f){f[f.Number=0]="Number",f[f.BN=1]="BN",f[f.Buffer=2]="Buffer",f[f.PrefixedHexString=3]="PrefixedHexString"})(o=t.TypeOutput||(t.TypeOutput={}));function c(f,l){if(f===null)return null;if(f!==void 0){if(typeof f=="string"&&!(0,r.isHexString)(f))throw new Error("A string must be provided with a 0x-prefix, given: ".concat(f));if(typeof f=="number"&&!Number.isSafeInteger(f))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");var x=(0,n.toBuffer)(f);if(l===o.Buffer)return x;if(l===o.BN)return new e.BN(x);if(l===o.Number){var A=new e.BN(x),S=new e.BN(Number.MAX_SAFE_INTEGER.toString());if(A.gt(S))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return A.toNumber()}else return"0x".concat(x.toString("hex"))}}t.toType=c})(Zf);(function(t){var e=Ke&&Ke.__read||function(B,m){var d=typeof Symbol=="function"&&B[Symbol.iterator];if(!d)return B;var h=d.call(B),u,p=[],g;try{for(;(m===void 0||m-- >0)&&!(u=h.next()).done;)p.push(u.value)}catch(E){g={error:E}}finally{try{u&&!u.done&&(d=h.return)&&d.call(h)}finally{if(g)throw g.error}}return p},r=Ke&&Ke.__importDefault||function(B){return B&&B.__esModule?B:{default:B}};Object.defineProperty(t,"__esModule",{value:!0}),t.isZeroAddress=t.zeroAddress=t.importPublic=t.privateToAddress=t.privateToPublic=t.publicToAddress=t.pubToAddress=t.isValidPublic=t.isValidPrivate=t.generateAddress2=t.generateAddress=t.isValidChecksumAddress=t.toChecksumAddress=t.isValidAddress=t.Account=void 0;var n=r(rr),i=Yr,a=Zh,s=Tt,o=Wh,c=ba,f=Uf,l=un,x=Zf,A=function(){function B(m,d,h,u){m===void 0&&(m=new i.BN(0)),d===void 0&&(d=new i.BN(0)),h===void 0&&(h=o.KECCAK256_RLP),u===void 0&&(u=o.KECCAK256_NULL),this.nonce=m,this.balance=d,this.stateRoot=h,this.codeHash=u,this._validate()}return B.fromAccountData=function(m){var d=m.nonce,h=m.balance,u=m.stateRoot,p=m.codeHash;return new B(d?new i.BN((0,c.toBuffer)(d)):void 0,h?new i.BN((0,c.toBuffer)(h)):void 0,u?(0,c.toBuffer)(u):void 0,p?(0,c.toBuffer)(p):void 0)},B.fromRlpSerializedAccount=function(m){var d=i.rlp.decode(m);if(!Array.isArray(d))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(d)},B.fromValuesArray=function(m){var d=e(m,4),h=d[0],u=d[1],p=d[2],g=d[3];return new B(new i.BN(h),new i.BN(u),p,g)},B.prototype._validate=function(){if(this.nonce.lt(new i.BN(0)))throw new Error("nonce must be greater than zero");if(this.balance.lt(new i.BN(0)))throw new Error("balance must be greater than zero");if(this.stateRoot.length!==32)throw new Error("stateRoot must have a length of 32");if(this.codeHash.length!==32)throw new Error("codeHash must have a length of 32")},B.prototype.raw=function(){return[(0,x.bnToUnpaddedBuffer)(this.nonce),(0,x.bnToUnpaddedBuffer)(this.balance),this.stateRoot,this.codeHash]},B.prototype.serialize=function(){return i.rlp.encode(this.raw())},B.prototype.isContract=function(){return!this.codeHash.equals(o.KECCAK256_NULL)},B.prototype.isEmpty=function(){return this.balance.isZero()&&this.nonce.isZero()&&this.codeHash.equals(o.KECCAK256_NULL)},B}();t.Account=A;var S=function(B){try{(0,l.assertIsString)(B)}catch{return!1}return/^0x[0-9a-fA-F]{40}$/.test(B)};t.isValidAddress=S;var M=function(B,m){(0,l.assertIsHexString)(B);var d=(0,s.stripHexPrefix)(B).toLowerCase(),h="";if(m){var u=(0,x.toType)(m,x.TypeOutput.BN);h=u.toString()+"0x"}for(var p=(0,f.keccakFromString)(h+d).toString("hex"),g="0x",E=0;E<d.length;E++)parseInt(p[E],16)>=8?g+=d[E].toUpperCase():g+=d[E];return g};t.toChecksumAddress=M;var k=function(B,m){return(0,t.isValidAddress)(B)&&(0,t.toChecksumAddress)(B,m)===B};t.isValidChecksumAddress=k;var I=function(B,m){(0,l.assertIsBuffer)(B),(0,l.assertIsBuffer)(m);var d=new i.BN(m);return d.isZero()?(0,f.rlphash)([B,null]).slice(-20):(0,f.rlphash)([B,Buffer.from(d.toArray())]).slice(-20)};t.generateAddress=I;var C=function(B,m,d){(0,l.assertIsBuffer)(B),(0,l.assertIsBuffer)(m),(0,l.assertIsBuffer)(d),(0,n.default)(B.length===20),(0,n.default)(m.length===32);var h=(0,f.keccak256)(Buffer.concat([Buffer.from("ff","hex"),B,m,(0,f.keccak256)(d)]));return h.slice(-20)};t.generateAddress2=C;var R=function(B){return(0,a.privateKeyVerify)(B)};t.isValidPrivate=R;var D=function(B,m){return m===void 0&&(m=!1),(0,l.assertIsBuffer)(B),B.length===64?(0,a.publicKeyVerify)(Buffer.concat([Buffer.from([4]),B])):m?(0,a.publicKeyVerify)(B):!1};t.isValidPublic=D;var F=function(B,m){return m===void 0&&(m=!1),(0,l.assertIsBuffer)(B),m&&B.length!==64&&(B=Buffer.from((0,a.publicKeyConvert)(B,!1).slice(1))),(0,n.default)(B.length===64),(0,f.keccak)(B).slice(-20)};t.pubToAddress=F,t.publicToAddress=t.pubToAddress;var H=function(B){return(0,l.assertIsBuffer)(B),Buffer.from((0,a.publicKeyCreate)(B,!1)).slice(1)};t.privateToPublic=H;var j=function(B){return(0,t.publicToAddress)((0,t.privateToPublic)(B))};t.privateToAddress=j;var Z=function(B){return(0,l.assertIsBuffer)(B),B.length!==64&&(B=Buffer.from((0,a.publicKeyConvert)(B,!1).slice(1))),B};t.importPublic=Z;var G=function(){var B=20,m=(0,c.zeros)(B);return(0,c.bufferToHex)(m)};t.zeroAddress=G;var J=function(B){try{(0,l.assertIsString)(B)}catch{return!1}var m=(0,t.zeroAddress)();return m===B};t.isZeroAddress=J})(Yh);var Qf={},qS=Ke&&Ke.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qf,"__esModule",{value:!0});Qf.Address=void 0;var Ea=qS(rr),Qc=Yr,Ly=ba,Mo=Yh,jS=function(){function t(e){(0,Ea.default)(e.length===20,"Invalid address length"),this.buf=e}return t.zero=function(){return new t((0,Ly.zeros)(20))},t.fromString=function(e){return(0,Ea.default)((0,Mo.isValidAddress)(e),"Invalid address"),new t((0,Ly.toBuffer)(e))},t.fromPublicKey=function(e){(0,Ea.default)(Buffer.isBuffer(e),"Public key should be Buffer");var r=(0,Mo.pubToAddress)(e);return new t(r)},t.fromPrivateKey=function(e){(0,Ea.default)(Buffer.isBuffer(e),"Private key should be Buffer");var r=(0,Mo.privateToAddress)(e);return new t(r)},t.generate=function(e,r){return(0,Ea.default)(Qc.BN.isBN(r)),new t((0,Mo.generateAddress)(e.buf,r.toArrayLike(Buffer)))},t.generate2=function(e,r,n){return(0,Ea.default)(Buffer.isBuffer(r)),(0,Ea.default)(Buffer.isBuffer(n)),new t((0,Mo.generateAddress2)(e.buf,r,n))},t.prototype.equals=function(e){return this.buf.equals(e.buf)},t.prototype.isZero=function(){return this.equals(t.zero())},t.prototype.isPrecompileOrSystemAddress=function(){var e=new Qc.BN(this.buf),r=new Qc.BN(0),n=new Qc.BN("ffff","hex");return e.gte(r)&&e.lte(n)},t.prototype.toString=function(){return"0x"+this.buf.toString("hex")},t.prototype.toBuffer=function(){return Buffer.from(this.buf)},t}();Qf.Address=jS;var Er={};Object.defineProperty(Er,"__esModule",{value:!0});Er.hashPersonalMessage=Er.isValidSignature=Er.fromRpcSig=Er.toCompactSig=Er.toRpcSig=Er.ecrecover=Er.ecsign=void 0;var u0=Zh,Ro=Yr,En=ba,KS=Uf,GS=un,si=Zf;function VS(t,e,r){var n=(0,u0.ecdsaSign)(t,e),i=n.signature,a=n.recid,s=Buffer.from(i.slice(0,32)),o=Buffer.from(i.slice(32,64));if(!r||typeof r=="number"){if(r&&!Number.isSafeInteger(r))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");var c=r?a+(r*2+35):a+27;return{r:s,s:o,v:c}}var f=(0,si.toType)(r,si.TypeOutput.BN),l=f.muln(2).addn(35).addn(a).toArrayLike(Buffer);return{r:s,s:o,v:l}}Er.ecsign=VS;function Xf(t,e){var r=(0,si.toType)(t,si.TypeOutput.BN);if(r.eqn(0)||r.eqn(1))return(0,si.toType)(t,si.TypeOutput.BN);if(!e)return r.subn(27);var n=(0,si.toType)(e,si.TypeOutput.BN);return r.sub(n.muln(2).addn(35))}function ed(t){var e=new Ro.BN(t);return e.eqn(0)||e.eqn(1)}var WS=function(t,e,r,n,i){var a=Buffer.concat([(0,En.setLengthLeft)(r,32),(0,En.setLengthLeft)(n,32)],64),s=Xf(e,i);if(!ed(s))throw new Error("Invalid signature v value");var o=(0,u0.ecdsaRecover)(a,s.toNumber(),t);return Buffer.from((0,u0.publicKeyConvert)(o,!1).slice(1))};Er.ecrecover=WS;var JS=function(t,e,r,n){var i=Xf(t,n);if(!ed(i))throw new Error("Invalid signature v value");return(0,En.bufferToHex)(Buffer.concat([(0,En.setLengthLeft)(e,32),(0,En.setLengthLeft)(r,32),(0,En.toBuffer)(t)]))};Er.toRpcSig=JS;var YS=function(t,e,r,n){var i=Xf(t,n);if(!ed(i))throw new Error("Invalid signature v value");var a=(0,si.toType)(t,si.TypeOutput.Number),s=r;return(a>28&&a%2===1||a===1||a===28)&&(s=Buffer.from(r),s[0]|=128),(0,En.bufferToHex)(Buffer.concat([(0,En.setLengthLeft)(e,32),(0,En.setLengthLeft)(s,32)]))};Er.toCompactSig=YS;var ZS=function(t){var e=(0,En.toBuffer)(t),r,n,i;if(e.length>=65)r=e.slice(0,32),n=e.slice(32,64),i=(0,En.bufferToInt)(e.slice(64));else if(e.length===64)r=e.slice(0,32),n=e.slice(32,64),i=(0,En.bufferToInt)(e.slice(32,33))>>7,n[0]&=127;else throw new Error("Invalid signature length");return i<27&&(i+=27),{v:i,r,s:n}};Er.fromRpcSig=ZS;var QS=function(t,e,r,n,i){n===void 0&&(n=!0);var a=new Ro.BN("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),s=new Ro.BN("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);if(e.length!==32||r.length!==32||!ed(Xf(t,i)))return!1;var o=new Ro.BN(e),c=new Ro.BN(r);return!(o.isZero()||o.gt(s)||c.isZero()||c.gt(s)||n&&c.cmp(a)===1)};Er.isValidSignature=QS;var XS=function(t){(0,GS.assertIsBuffer)(t);var e=Buffer.from(`Ethereum Signed Message:
`.concat(t.length),"utf-8");return(0,KS.keccak)(Buffer.concat([e,t]))};Er.hashPersonalMessage=XS;var td={},eC=Ke&&Ke.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(td,"__esModule",{value:!0});td.defineProperties=void 0;var Dy=eC(rr),tC=Tt,Fy=Yr,Xc=ba,rC=function(t,e,r){if(t.raw=[],t._fields=[],t.toJSON=function(i){if(i===void 0&&(i=!1),i){var a={};return t._fields.forEach(function(s){a[s]="0x".concat(t[s].toString("hex"))}),a}return(0,Xc.baToJSON)(t.raw)},t.serialize=function(){return Fy.rlp.encode(t.raw)},e.forEach(function(i,a){t._fields.push(i.name);function s(){return t.raw[a]}function o(c){c=(0,Xc.toBuffer)(c),c.toString("hex")==="00"&&!i.allowZero&&(c=Buffer.allocUnsafe(0)),i.allowLess&&i.length?(c=(0,Xc.unpadBuffer)(c),(0,Dy.default)(i.length>=c.length,"The field ".concat(i.name," must not have more ").concat(i.length," bytes"))):!(i.allowZero&&c.length===0)&&i.length&&(0,Dy.default)(i.length===c.length,"The field ".concat(i.name," must have byte length of ").concat(i.length)),t.raw[a]=c}Object.defineProperty(t,i.name,{enumerable:!0,configurable:!0,get:s,set:o}),i.default&&(t[i.name]=i.default),i.alias&&Object.defineProperty(t,i.alias,{enumerable:!1,configurable:!0,set:o,get:s})}),r)if(typeof r=="string"&&(r=Buffer.from((0,tC.stripHexPrefix)(r),"hex")),Buffer.isBuffer(r)&&(r=Fy.rlp.decode(r)),Array.isArray(r)){if(r.length>t._fields.length)throw new Error("wrong number of fields in data");r.forEach(function(i,a){t[t._fields[a]]=(0,Xc.toBuffer)(i)})}else if(typeof r=="object"){var n=Object.keys(r);e.forEach(function(i){n.indexOf(i.name)!==-1&&(t[i.name]=r[i.name]),n.indexOf(i.alias)!==-1&&(t[i.alias]=r[i.alias])})}else throw new Error("invalid data")};td.defineProperties=rC;(function(t){var e=Ke&&Ke.__createBinding||(Object.create?function(i,a,s,o){o===void 0&&(o=s);var c=Object.getOwnPropertyDescriptor(a,s);(!c||("get"in c?!a.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(i,o,c)}:function(i,a,s,o){o===void 0&&(o=s),i[o]=a[s]}),r=Ke&&Ke.__exportStar||function(i,a){for(var s in i)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,i,s)};Object.defineProperty(t,"__esModule",{value:!0}),t.isHexString=t.getKeys=t.fromAscii=t.fromUtf8=t.toAscii=t.arrayContainsArray=t.getBinarySize=t.padToEven=t.stripHexPrefix=t.isHexPrefixed=void 0,r(Wh,t),r(Yh,t),r(Qf,t),r(Uf,t),r(Er,t),r(ba,t),r(td,t),r(Yr,t),r(Zf,t);var n=Tt;Object.defineProperty(t,"isHexPrefixed",{enumerable:!0,get:function(){return n.isHexPrefixed}}),Object.defineProperty(t,"stripHexPrefix",{enumerable:!0,get:function(){return n.stripHexPrefix}}),Object.defineProperty(t,"padToEven",{enumerable:!0,get:function(){return n.padToEven}}),Object.defineProperty(t,"getBinarySize",{enumerable:!0,get:function(){return n.getBinarySize}}),Object.defineProperty(t,"arrayContainsArray",{enumerable:!0,get:function(){return n.arrayContainsArray}}),Object.defineProperty(t,"toAscii",{enumerable:!0,get:function(){return n.toAscii}}),Object.defineProperty(t,"fromUtf8",{enumerable:!0,get:function(){return n.fromUtf8}}),Object.defineProperty(t,"fromAscii",{enumerable:!0,get:function(){return n.fromAscii}}),Object.defineProperty(t,"getKeys",{enumerable:!0,get:function(){return n.getKeys}}),Object.defineProperty(t,"isHexString",{enumerable:!0,get:function(){return n.isHexString}})})(ig);var zi={},so={};Object.defineProperty(so,"__esModule",{value:!0});const nC=C2;function iC(t){return"0x"+nC.keccak_256(Jg(t))}so.keccak256=iC;so.padLeft=(t,e)=>{const r=/^0x/i.test(t)||typeof t=="number";t=t.toString().replace(/^0x/i,"");const n=e-t.length+1>=0?e-t.length+1:0;return(r?"0x":"")+new Array(n).join("0")+t};function aC(t){const e=[];for(let r=0;r<t.length;r++)e.push((t[r]>>>4).toString(16)),e.push((t[r]&15).toString(16));return`0x${e.join("").replace(/^0+/,"")}`}so.bytesToHex=aC;function Jg(t){if(t==null)throw new Error("cannot convert null value to array");if(typeof t=="string"){const e=t.match(/^(0x)?[0-9a-fA-F]*$/);if(!e)throw new Error("invalid hexidecimal string");if(e[1]!=="0x")throw new Error("hex string must have 0x prefix");t=t.substring(2),t.length%2&&(t="0"+t);const r=[];for(let n=0;n<t.length;n+=2)r.push(parseInt(t.substr(n,2),16));return f0(new Uint8Array(r))}if(sC(t))return f0(new Uint8Array(t));throw new Error("invalid arrayify value")}so.toByteArray=Jg;function sC(t){if(!t||parseInt(String(t.length))!=t.length||typeof t=="string")return!1;for(let e=0;e<t.length;e++){const r=t[e];if(r<0||r>=256||parseInt(String(r))!=r)return!1}return!0}function f0(t){return t.slice!==void 0||(t.slice=()=>{const e=Array.prototype.slice.call(arguments);return f0(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}Object.defineProperty(zi,"__esModule",{value:!0});const d0=so;function rd(t){return typeof t!="string"||!/^(0x)?[0-9a-f]{512}$/i.test(t)?!1:!!(/^(0x)?[0-9a-f]{512}$/.test(t)||/^(0x)?[0-9A-F]{512}$/.test(t))}zi.isBloom=rd;function nd(t,e){typeof e=="object"&&e.constructor===Uint8Array&&(e=d0.bytesToHex(e));const r=d0.keccak256(e).replace("0x","");for(let n=0;n<12;n+=4){const i=(parseInt(r.substr(n,2),16)<<8)+parseInt(r.substr(n+2,2),16)&2047,a=oC(t.charCodeAt(t.length-1-Math.floor(i/4))),s=1<<i%4;if((a&s)!==s)return!1}return!0}zi.isInBloom=nd;function oC(t){if(t>=48&&t<=57)return t-48;if(t>=65&&t<=70)return t-55;if(t>=97&&t<=102)return t-87;throw new Error("invalid bloom")}function cC(t,e){if(!rd(t))throw new Error("Invalid bloom given");if(!up(e))throw new Error(`Invalid ethereum address given: "${e}"`);const r=d0.padLeft(e,64);return nd(t,r)}zi.isUserEthereumAddressInBloom=cC;function uC(t,e){if(!rd(t))throw new Error("Invalid bloom given");if(!up(e))throw new Error(`Invalid contract address given: "${e}"`);return nd(t,e)}zi.isContractAddressInBloom=uC;function fC(t,e){if(!rd(t))throw new Error("Invalid bloom given");if(!Yg(e))throw new Error("Invalid topic");return nd(t,e)}zi.isTopicInBloom=fC;function Yg(t){if(typeof t!="string")return!1;if(/^(0x)?[0-9a-f]{64}$/i.test(t)){if(/^(0x)?[0-9a-f]{64}$/.test(t)||/^(0x)?[0-9A-F]{64}$/.test(t))return!0}else return!1;return!1}zi.isTopic=Yg;function up(t){return typeof t!="string"?!1:!!(t.match(/^(0x)?[0-9a-fA-F]{40}$/)||t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/))}zi.isAddress=up;var Ps=Ya,dC=eg,Zg=ng,hu=ig,oo=zi,fp=function(t){return Ps.isBN(t)},Qg=function(t){return t&&t.constructor&&t.constructor.name==="BigNumber"},Oc=function(t){try{return dC.apply(null,arguments)}catch(e){throw new Error(e+' Given value: "'+t+'"')}},lC=function(t){return"0x"+Oc(t).toTwos(256).toString(16,64)},Xg=function(t){return/^(0x)?[0-9a-f]{40}$/i.test(t)?/^(0x|0X)?[0-9a-f]{40}$/.test(t)||/^(0x|0X)?[0-9A-F]{40}$/.test(t)?!0:ev(t):!1},ev=function(t){t=t.replace(/^0x/i,"");for(var e=id(t.toLowerCase()).replace(/^0x/i,""),r=0;r<40;r++)if(parseInt(e[r],16)>7&&t[r].toUpperCase()!==t[r]||parseInt(e[r],16)<=7&&t[r].toLowerCase()!==t[r])return!1;return!0},hC=function(t,e,r){var n=/^0x/i.test(t)||typeof t=="number";t=t.toString(16).replace(/^0x/i,"");var i=e-t.length+1>=0?e-t.length+1:0;return(n?"0x":"")+new Array(i).join(r||"0")+t},pC=function(t,e,r){var n=/^0x/i.test(t)||typeof t=="number";t=t.toString(16).replace(/^0x/i,"");var i=e-t.length+1>=0?e-t.length+1:0;return(n?"0x":"")+t+new Array(i).join(r||"0")},l0=function(t){t=Zg.encode(t);var e="";t=t.replace(/^(?:\u0000)*/,""),t=t.split("").reverse().join(""),t=t.replace(/^(?:\u0000)*/,""),t=t.split("").reverse().join("");for(var r=0;r<t.length;r++){var n=t.charCodeAt(r),i=n.toString(16);e+=i.length<2?"0"+i:i}return"0x"+e},mC=function(t){if(!is(t))throw new Error('The parameter "'+t+'" must be a valid HEX string.');var e="",r=0;t=t.replace(/^0x/i,""),t=t.replace(/^(?:00)*/,""),t=t.split("").reverse().join(""),t=t.replace(/^(?:00)*/,""),t=t.split("").reverse().join("");for(var n=t.length,i=0;i<n;i+=2)r=parseInt(t.slice(i,i+2),16),e+=String.fromCharCode(r);return Zg.decode(e)},tv=function(t,e=!1){if(!t)return t;if(typeof t=="string"&&!is(t))throw new Error('Given value "'+t+'" is not a valid hex string.');const r=Oc(t);return e&&(r>Number.MAX_SAFE_INTEGER||r<Number.MIN_SAFE_INTEGER)?BigInt(r):r.toNumber()},yC=function(t){if(!t)return t;if(typeof t=="string"&&!is(t))throw new Error('Given value "'+t+'" is not a valid hex string.');return Oc(t).toString(10)},h0=function(t){if(t==null)return t;if(!isFinite(t)&&!is(t))throw new Error('Given input "'+t+'" is not a number.');var e=Oc(t),r=e.toString(16);return e.lt(new Ps(0))?"-0x"+r.slice(1):"0x"+r},bC=function(t){for(var e=[],r=0;r<t.length;r++)e.push((t[r]>>>4).toString(16)),e.push((t[r]&15).toString(16));return"0x"+e.join("")},xC=function(t){if(t=t.toString(16),!is(t))throw new Error('Given value "'+t+'" is not a valid hex string.');t=t.replace(/^0x/i,"");for(var e=[],r=0;r<t.length;r+=2)e.push(parseInt(t.slice(r,r+2),16));return e},rv=function(t,e){if(Xg(t))return e?"address":"0x"+t.toLowerCase().replace(/^0x/i,"");if(typeof t=="boolean")return e?"bool":t?"0x01":"0x00";if(Buffer.isBuffer(t))return"0x"+t.toString("hex");if(typeof t=="object"&&t&&!Qg(t)&&!fp(t))return e?"string":l0(JSON.stringify(t));if(typeof t=="string"){if(t.indexOf("-0x")===0||t.indexOf("-0X")===0)return e?"int256":h0(t);if(t.indexOf("0x")===0||t.indexOf("0X")===0)return e?"bytes":t;if(!isFinite(t))return e?"string":l0(t)}return e?t<0?"int256":"uint256":h0(t)},is=function(t){return(typeof t=="string"||typeof t=="number")&&/^(-)?0x[0-9a-f]*$/i.test(t)},nv=function(t){return(typeof t=="string"||typeof t=="number")&&/^(-0x|0x)?[0-9a-f]*$/i.test(t)},gC=function(t){return t!==0&&nv(t)?t.replace(/^(-)?0x/i,"$1"):t},vC=function(t){return oo.isBloom(t)},wC=function(t,e){return oo.isUserEthereumAddressInBloom(t,e)},_C=function(t,e){return oo.isContractAddressInBloom(t,e)},AC=function(t){return oo.isTopic(t)},EC=function(t,e){return oo.isTopicInBloom(t,e)},TC=function(t,e){return oo.isInBloom(t,e)},iv="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",id=function(t){fp(t)&&(t=t.toString()),is(t)&&/^0x/i.test(t.toString())?t=hu.toBuffer(t):typeof t=="string"&&(t=Buffer.from(t,"utf-8"));var e=hu.bufferToHex(hu.keccak256(t));return e===iv?null:e};id._Hash=hu.keccak256;var MC=function(t){return t=id(t),t===null?iv:t},kC=function(t,e=!1){return typeof t=="number"?t:tv(rv(t),e)},dp=function(t){if(typeof t=="string"&&t.includes("0x")){const[e,r]=t.toLocaleLowerCase().startsWith("-")?["-",t.slice(3)]:["",t.slice(2)];return new Ps(e+r,16)}else return new Ps(t)};Object.setPrototypeOf(dp,Ps);Object.setPrototypeOf(dp.prototype,Ps.prototype);var av={BN:dp,isBN:fp,isBigNumber:Qg,toBN:Oc,isAddress:Xg,isBloom:vC,isUserEthereumAddressInBloom:wC,isContractAddressInBloom:_C,isTopic:AC,isTopicInBloom:EC,isInBloom:TC,checkAddressChecksum:ev,utf8ToHex:l0,hexToUtf8:mC,hexToNumber:tv,hexToNumberString:yC,numberToHex:h0,toHex:rv,hexToBytes:xC,bytesToHex:bC,isHex:nv,isHexStrict:is,stripHexPrefix:gC,leftPad:hC,rightPad:pC,toTwosComplement:lC,sha3:id,sha3Raw:MC,toNumber:kC},Na=Ya,on=av,IC=function(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t},SC=function(t){var e=/^\D+(\d+).*$/.exec(t);return e?parseInt(e[1],10):null},CC=function(t){var e=/^\D+\d*\[(\d+)\]$/.exec(t);return e?parseInt(e[1],10):null},Uy=function(t){var e=typeof t;if(e==="string")return on.isHexStrict(t)?new Na(t.replace(/0x/i,""),16):new Na(t,10);if(e==="number")return new Na(t);if(on.isBigNumber(t))return new Na(t.toString(10));if(on.isBN(t))return t;throw new Error(t+" is not a number")},$y=function(t,e,r){var n,i;if(t=IC(t),t==="bytes"){if(e.replace(/^0x/i,"").length%2!==0)throw new Error("Invalid bytes characters "+e.length);return e}else{if(t==="string")return on.utf8ToHex(e);if(t==="bool")return e?"01":"00";if(t.startsWith("address")){if(r?n=64:n=40,!on.isAddress(e))throw new Error(e+" is not a valid address, or the checksum is invalid.");return on.leftPad(e.toLowerCase(),n)}}if(n=SC(t),t.startsWith("bytes")){if(!n)throw new Error("bytes[] not yet supported in solidity");if(r&&(n=32),n<1||n>32||n<e.replace(/^0x/i,"").length/2)throw new Error("Invalid bytes"+n+" for "+e);return on.rightPad(e,n*2)}else if(t.startsWith("uint")){if(n%8||n<8||n>256)throw new Error("Invalid uint"+n+" size");if(i=Uy(e),i.bitLength()>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+i.bitLength());if(i.lt(new Na(0)))throw new Error("Supplied uint "+i.toString()+" is negative");return n?on.leftPad(i.toString("hex"),n/8*2):i}else if(t.startsWith("int")){if(n%8||n<8||n>256)throw new Error("Invalid int"+n+" size");if(i=Uy(e),i.bitLength()>n)throw new Error("Supplied int exceeds width: "+n+" vs "+i.bitLength());return i.lt(new Na(0))?i.toTwos(n).toString("hex"):n?on.leftPad(i.toString("hex"),n/8*2):i}else throw new Error("Unsupported or invalid type: "+t)},lp=function(t){if(Array.isArray(t))throw new Error("Autodetection of array types is not supported.");var e,r="",n,i;if(t&&typeof t=="object"&&(t.hasOwnProperty("v")||t.hasOwnProperty("t")||t.hasOwnProperty("value")||t.hasOwnProperty("type"))?(e=t.hasOwnProperty("t")?t.t:t.type,r=t.hasOwnProperty("v")?t.v:t.value):(e=on.toHex(t,!0),r=on.toHex(t),!e.startsWith("int")&&!e.startsWith("uint")&&(e="bytes")),(e.startsWith("int")||e.startsWith("uint"))&&typeof r=="string"&&!/^(-)?0x/i.test(r)&&(r=new Na(r)),Array.isArray(r)){if(i=CC(e),i&&r.length!==i)throw new Error(e+" is not matching the given array "+JSON.stringify(r));i=r.length}return Array.isArray(r)?(n=r.map(function(a){return $y(e,a,i).toString("hex").replace("0x","")}),n.join("")):(n=$y(e,r,i),n.toString("hex").replace("0x",""))},NC=function(){var t=Array.prototype.slice.call(arguments),e=t.map(lp);return on.sha3("0x"+e.join(""))},RC=function(){return on.sha3Raw("0x"+Array.prototype.slice.call(arguments).map(lp).join(""))},PC=function(){var t=Array.prototype.slice.call(arguments),e=t.map(lp);return"0x"+e.join("").toLowerCase()},OC={soliditySha3:NC,soliditySha3Raw:RC,encodePacked:PC},Va=tM,$e=av,cl=OC,BC=bg,Hy=Ya,LC=function(t,e,r,n,i){return t&&typeof t=="object"&&!(t instanceof Error)&&t.data&&((t.data&&typeof t.data=="object"||Array.isArray(t.data))&&(t.data=JSON.stringify(t.data,null,2)),t=t.message+`
`+t.data),typeof t=="string"&&(t=new Error(t)),typeof n=="function"&&n(t,i),typeof r=="function"&&((e&&typeof e.listeners=="function"&&e.listeners("error").length||typeof n=="function")&&e.catch(function(){}),setTimeout(function(){r(t)},1)),e&&typeof e.emit=="function"&&setTimeout(function(){e.emit("error",t,i),e.removeAllListeners()},1),e},DC=function(t){return t&&typeof t=="object"&&t.name&&t.name.indexOf("(")!==-1?t.name:t.name+"("+hp(!1,t.inputs).join(",")+")"},hp=function(t,e){var r=[];return e.forEach(function(n){if(typeof n.components=="object"){if(n.type.substring(0,5)!=="tuple")throw new Error("components found but type is not tuple; report on GitHub");var i="",a=n.type.indexOf("[");a>=0&&(i=n.type.substring(a));var s=hp(t,n.components);Array.isArray(s)&&t?r.push("tuple("+s.join(",")+")"+i):t?r.push("("+s+")"):r.push("("+s.join(",")+")"+i)}else r.push(n.type)}),r},FC=function(t){return"0x"+BC(t).toString("hex")},zy=function(t){if(!$e.isHexStrict(t))throw new Error("The parameter must be a valid HEX string.");var e="",r=0,n=t.length;for(t.substring(0,2)==="0x"&&(r=2);r<n;r+=2){var i=parseInt(t.slice(r,r+2),16);e+=String.fromCharCode(i)}return e},qy=function(t){if(!t)return"0x00";for(var e="",r=0;r<t.length;r++){var n=t.charCodeAt(r),i=n.toString(16);e+=i.length<2?"0"+i:i}return"0x"+e},sv=function(t){if(t=t?t.toLowerCase():"ether",!Va.unitMap[t])throw new Error('This unit "'+t+`" doesn't exist, please use the one of the following units`+JSON.stringify(Va.unitMap,null,2));return t},UC=function(t,e){if(e=sv(e),!$e.isBN(t)&&typeof t!="string")throw new Error("Please pass numbers as strings or BN objects to avoid precision errors.");return $e.isBN(t)?Va.fromWei(t,e):Va.fromWei(t,e).toString(10)},$C=function(t,e){if(e=sv(e),!$e.isBN(t)&&typeof t!="string")throw new Error("Please pass numbers as strings or BN objects to avoid precision errors.");return $e.isBN(t)?Va.toWei(t,e):Va.toWei(t,e).toString(10)},HC=function(t){if(typeof t>"u")return"";if(!/^(0x)?[0-9a-f]{40}$/i.test(t))throw new Error('Given address "'+t+'" is not a valid Ethereum address.');t=t.toLowerCase().replace(/^0x/i,"");for(var e=$e.sha3(t).replace(/^0x/i,""),r="0x",n=0;n<t.length;n++)parseInt(e[n],16)>7?r+=t[n].toUpperCase():r+=t[n];return r},zC=function(t,e){if(t===e)return 0;if((t==="genesis"||t==="earliest"||t===0)&&(e==="genesis"||e==="earliest"||e===0))return 0;if(t==="genesis"||t==="earliest"||t===0)return-1;if(e==="genesis"||e==="earliest"||e===0)return 1;if(t==="latest"||t==="finalized")return e==="pending"?-1:1;if(e==="latest"||e==="finalized")return t==="pending"?1:-1;if(t==="pending")return 1;if(e==="pending")return-1;if(t==="safe"||e==="safe")return;{let r=new Hy(t),n=new Hy(e);return r.lt(n)?-1:r.eq(n)?0:1}},ov={_fireError:LC,_jsonInterfaceMethodToString:DC,_flattenTypes:hp,randomHex:FC,BN:$e.BN,isBN:$e.isBN,isBigNumber:$e.isBigNumber,isHex:$e.isHex,isHexStrict:$e.isHexStrict,sha3:$e.sha3,sha3Raw:$e.sha3Raw,keccak256:$e.sha3,soliditySha3:cl.soliditySha3,soliditySha3Raw:cl.soliditySha3Raw,encodePacked:cl.encodePacked,isAddress:$e.isAddress,checkAddressChecksum:$e.checkAddressChecksum,toChecksumAddress:HC,toHex:$e.toHex,toBN:$e.toBN,bytesToHex:$e.bytesToHex,hexToBytes:$e.hexToBytes,hexToNumberString:$e.hexToNumberString,hexToNumber:$e.hexToNumber,toDecimal:$e.hexToNumber,numberToHex:$e.numberToHex,fromDecimal:$e.numberToHex,hexToUtf8:$e.hexToUtf8,hexToString:$e.hexToUtf8,toUtf8:$e.hexToUtf8,stripHexPrefix:$e.stripHexPrefix,utf8ToHex:$e.utf8ToHex,stringToHex:$e.utf8ToHex,fromUtf8:$e.utf8ToHex,hexToAscii:zy,toAscii:zy,asciiToHex:qy,fromAscii:qy,unitMap:Va.unitMap,toWei:$C,fromWei:UC,padLeft:$e.leftPad,leftPad:$e.leftPad,padRight:$e.rightPad,rightPad:$e.rightPad,toTwosComplement:$e.toTwosComplement,isBloom:$e.isBloom,isUserEthereumAddressInBloom:$e.isUserEthereumAddressInBloom,isContractAddressInBloom:$e.isContractAddressInBloom,isTopic:$e.isTopic,isTopicInBloom:$e.isTopicInBloom,isInBloom:$e.isInBloom,compareBlockNumbers:zC,toNumber:$e.toNumber};const jy=ov,Ky=Ya,qC=function(t,e){let r=t;for(;r.length<e*2;)r="0"+r;return r},Gy=function(t){const e="A".charCodeAt(0),r="Z".charCodeAt(0);return t=t.toUpperCase(),t=t.slice(4)+t.slice(0,4),t.split("").map(function(n){const i=n.charCodeAt(0);return i>=e&&i<=r?i-e+10:n}).join("")},Vy=function(t){let e=t,r;for(;e.length>2;)r=e.slice(0,9),e=parseInt(r,10)%97+e.slice(r.length);return parseInt(e,10)%97};let jC=class Ta{constructor(e){this._iban=e}static toAddress(e){if(e=new Ta(e),!e.isDirect())throw new Error("IBAN is indirect and can't be converted");return e.toAddress()}static toIban(e){return Ta.fromAddress(e).toString()}static fromAddress(e){if(!jy.isAddress(e))throw new Error("Provided address is not a valid address: "+e);e=e.replace("0x","").replace("0X","");const n=new Ky(e,16).toString(36),i=qC(n,15);return Ta.fromBban(i.toUpperCase())}static fromBban(e){const r="XE",i=("0"+(98-Vy(Gy(r+"00"+e)))).slice(-2);return new Ta(r+i+e)}static createIndirect(e){return Ta.fromBban("ETH"+e.institution+e.identifier)}static isValid(e){return new Ta(e).isValid()}isValid(){return/^XE[0-9]{2}(ETH[0-9A-Z]{13}|[0-9A-Z]{30,31})$/.test(this._iban)&&Vy(Gy(this._iban))===1}isDirect(){return this._iban.length===34||this._iban.length===35}isIndirect(){return this._iban.length===20}checksum(){return this._iban.slice(2,4)}institution(){return this.isIndirect()?this._iban.slice(7,11):""}client(){return this.isIndirect()?this._iban.slice(11):""}toAddress(){if(this.isDirect()){const e=this._iban.slice(4),r=new Ky(e,36);return jy.toChecksumAddress(r.toString(16,20))}return""}toString(){return this._iban}};var KC=jC,De=ov,GC=KC,VC=function(t){return t.map(De.numberToHex)},WC=function(t){return t.address=De.toChecksumAddress(t.address),t.nonce=De.hexToNumberString(t.nonce),t.balance=De.hexToNumberString(t.balance),t},Ra=function(t){return De.toBN(t).toString(10)},JC=function(t){return["latest","pending","earliest","finalized","safe"].includes(t)},YC=function(t){return this&&t==null?fc(this.defaultBlock):fc(t)},fc=function(t){if(t!==void 0)return JC(t)?t:t==="genesis"?"0x0":De.isHexStrict(t)?typeof t=="string"?t.toLowerCase():t:De.numberToHex(t)},cv=function(t){if(t.to&&(t.to=Os(t.to)),t.data&&t.input)throw new Error(`You can't have "data" and "input" as properties of transactions at the same time, please use either "data" or "input" instead.`);if(!t.data&&t.input&&(t.data=t.input,delete t.input),t.data&&!t.data.startsWith("0x")&&(t.data="0x"+t.data),t.data&&!De.isHex(t.data))throw new Error("The data field must be HEX encoded data.");return(t.gas||t.gasLimit)&&(t.gas=t.gas||t.gasLimit),(t.maxPriorityFeePerGas||t.maxFeePerGas)&&delete t.gasPrice,["gasPrice","gas","value","maxPriorityFeePerGas","maxFeePerGas","nonce"].filter(function(e){return t[e]!==void 0}).forEach(function(e){t[e]=De.numberToHex(t[e])}),t},ZC=function(t){t=cv(t);var e=t.from||(this?this.defaultAccount:null);return e&&(t.from=Os(e)),t},QC=function(t){if(t=cv(t),typeof t.from!="number"&&!(t.from&&typeof t.from=="object")){if(t.from=t.from||(this?this.defaultAccount:null),!t.from&&typeof t.from!="number")throw new Error('The send transactions "from" field must be defined!');t.from=Os(t.from)}return t},XC=function(t){return De.isHexStrict(t)?t:De.utf8ToHex(t)},uv=function(t,e){return e||(t.blockNumber!==null&&(t.blockNumber=De.hexToNumber(t.blockNumber)),t.transactionIndex!==null&&(t.transactionIndex=De.hexToNumber(t.transactionIndex)),t.nonce=De.hexToNumber(t.nonce),t.gas=De.hexToNumber(t.gas),t.type&&(t.type=De.hexToNumber(t.type))),t.gasPrice&&(t.gasPrice=Ra(t.gasPrice)),t.maxFeePerGas&&(t.maxFeePerGas=Ra(t.maxFeePerGas)),t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=Ra(t.maxPriorityFeePerGas)),t.value=Ra(t.value),t.to&&De.isAddress(t.to)?t.to=De.toChecksumAddress(t.to):t.to=null,t.from&&(t.from=De.toChecksumAddress(t.from)),t},eN=function(t){if(typeof t!="object")throw new Error("Received receipt is invalid: "+t);return this.hexFormat||(t.blockNumber!==null&&(t.blockNumber=De.hexToNumber(t.blockNumber)),t.transactionIndex!==null&&(t.transactionIndex=De.hexToNumber(t.transactionIndex)),t.cumulativeGasUsed=De.hexToNumber(t.cumulativeGasUsed),t.gasUsed=De.hexToNumber(t.gasUsed),t.effectiveGasPrice&&(t.effectiveGasPrice=De.hexToNumber(t.effectiveGasPrice))),Array.isArray(t.logs)&&(t.logs=t.logs.map(fv)),t.contractAddress&&(t.contractAddress=De.toChecksumAddress(t.contractAddress)),typeof t.status<"u"&&t.status!==null&&(t.status=!!parseInt(t.status)),t},tN=function(t,e){return e||(t.gasLimit=De.hexToNumber(t.gasLimit),t.gasUsed=De.hexToNumber(t.gasUsed),t.size=De.hexToNumber(t.size),t.timestamp=De.hexToNumber(t.timestamp),t.number!==null&&(t.number=De.hexToNumber(t.number))),t.difficulty&&(t.difficulty=Ra(t.difficulty)),t.totalDifficulty&&(t.totalDifficulty=Ra(t.totalDifficulty)),Array.isArray(t.transactions)&&t.transactions.forEach(function(r){if(typeof r!="string")return uv(r,e)}),t.miner&&(t.miner=De.toChecksumAddress(t.miner)),t.baseFeePerGas&&(t.baseFeePerGas=De.hexToNumber(t.baseFeePerGas)),t},rN=function(t){var e=function(r){return r===null||typeof r>"u"?null:(r=String(r),r.indexOf("0x")===0?r:De.fromUtf8(r))};return t===void 0&&(t={}),t.fromBlock===void 0&&(t={...t,fromBlock:"latest"}),(t.fromBlock||t.fromBlock===0)&&(t.fromBlock=fc(t.fromBlock)),(t.toBlock||t.toBlock===0)&&(t.toBlock=fc(t.toBlock)),t.topics=t.topics||[],t.topics=t.topics.map(function(r){return Array.isArray(r)?r.map(e):e(r)}),e=null,t.address&&(t.address=Array.isArray(t.address)?t.address.map(function(r){return Os(r)}):Os(t.address)),t},fv=function(t){if(typeof t.blockHash=="string"&&typeof t.transactionHash=="string"&&typeof t.logIndex=="string"){var e=De.sha3(t.blockHash.replace("0x","")+t.transactionHash.replace("0x","")+t.logIndex.replace("0x",""));t.id="log_"+e.replace("0x","").slice(0,8)}else t.id||(t.id=null);return t.blockNumber!==null&&(t.blockNumber=De.hexToNumber(t.blockNumber)),t.transactionIndex!==null&&(t.transactionIndex=De.hexToNumber(t.transactionIndex)),t.logIndex!==null&&(t.logIndex=De.hexToNumber(t.logIndex)),t.address&&(t.address=De.toChecksumAddress(t.address)),t},nN=function(t){return t.ttl&&(t.ttl=De.numberToHex(t.ttl)),t.workToProve&&(t.workToProve=De.numberToHex(t.workToProve)),t.priority&&(t.priority=De.numberToHex(t.priority)),Array.isArray(t.topics)||(t.topics=t.topics?[t.topics]:[]),t.topics=t.topics.map(function(e){return e.indexOf("0x")===0?e:De.fromUtf8(e)}),t},iN=function(t){return t.expiry=De.hexToNumber(t.expiry),t.sent=De.hexToNumber(t.sent),t.ttl=De.hexToNumber(t.ttl),t.workProved=De.hexToNumber(t.workProved),t.topics||(t.topics=[]),t.topics=t.topics.map(function(e){return De.toUtf8(e)}),t},Os=function(t){var e=new GC(t);if(e.isValid()&&e.isDirect())return e.toAddress().toLowerCase();if(De.isAddress(t))return"0x"+t.toLowerCase().replace("0x","");throw new Error(`Provided address ${t} is invalid, the capitalization checksum test failed, or it's an indirect IBAN address which can't be converted.`)},aN=function(t){return t.startingBlock=De.hexToNumber(t.startingBlock),t.currentBlock=De.hexToNumber(t.currentBlock),t.highestBlock=De.hexToNumber(t.highestBlock),t.knownStates&&(t.knownStates=De.hexToNumber(t.knownStates),t.pulledStates=De.hexToNumber(t.pulledStates)),t},sN={inputDefaultBlockNumberFormatter:YC,inputBlockNumberFormatter:fc,inputCallFormatter:ZC,inputTransactionFormatter:QC,inputAddressFormatter:Os,inputPostFormatter:nN,inputLogFormatter:rN,inputSignFormatter:XC,inputStorageKeysFormatter:VC,outputProofFormatter:WC,outputBigNumberFormatter:Ra,outputTransactionFormatter:uv,outputTransactionReceiptFormatter:eN,outputBlockFormatter:tN,outputLogFormatter:fv,outputPostFormatter:iN,outputSyncingFormatter:aN},oN=GT,cN=sN,uN={errors:oN,formatters:cN},ul,Wy;function fN(){if(Wy)return ul;Wy=1;var t=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};return ul=function(){if(this)return this;if(typeof globalThis=="object"&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return t()}try{return __global__||t()}finally{delete Object.prototype.__global__}}(),ul}const dN="websocket",lN="Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",hN=["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],pN="Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)",mN=["Iñaki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],yN="1.0.34",bN={type:"git",url:"https://github.com/theturtle32/WebSocket-Node.git"},xN="https://github.com/theturtle32/WebSocket-Node",gN={node:">=4.0.0"},vN={bufferutil:"^4.0.1",debug:"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2",yaeti:"^0.0.6"},wN={"buffer-equal":"^1.0.0",gulp:"^4.0.2","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1",jshint:"^2.0.0",tape:"^4.9.1"},_N={verbose:!1},AN={test:"tape test/unit/*.js",gulp:"gulp"},EN="index",TN={lib:"./lib"},MN="lib/browser.js",kN="Apache-2.0",IN={name:dN,description:lN,keywords:hN,author:pN,contributors:mN,version:yN,repository:bN,homepage:xN,engines:gN,dependencies:vN,devDependencies:wN,config:_N,scripts:AN,main:EN,directories:TN,browser:MN,license:kN};var SN=IN.version,Ia;if(typeof globalThis=="object")Ia=globalThis;else try{Ia=fN()}catch{}finally{if(!Ia&&typeof window<"u"&&(Ia=window),!Ia)throw new Error("Could not determine global this")}var dc=Ia.WebSocket||Ia.MozWebSocket,CN=SN;function dv(t,e){var r;return e?r=new dc(t,e):r=new dc(t),r}dc&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(t){Object.defineProperty(dv,t,{get:function(){return dc[t]}})});var NN={w3cwebsocket:dc?dv:null,version:CN},lv=HT,fl=KT,Gn=uN.errors,RN=NN.w3cwebsocket,mr=function(e,r){lv.call(this),r=r||{},this.url=e,this._customTimeout=r.timeout||1e3*15,this.headers=r.headers||{},this.protocol=r.protocol||void 0,this.reconnectOptions=Object.assign({auto:!1,delay:5e3,maxAttempts:!1,onTimeout:!1},r.reconnect),this.clientConfig=r.clientConfig||void 0,this.requestOptions=r.requestOptions||void 0,this.DATA="data",this.CLOSE="close",this.ERROR="error",this.CONNECT="connect",this.RECONNECT="reconnect",this.connection=null,this.requestQueue=new Map,this.responseQueue=new Map,this.reconnectAttempts=0,this.reconnecting=!1,this.connectFailedDescription=null;var n=fl.parseURL(e);n.username&&n.password&&(this.headers.authorization="Basic "+fl.btoa(n.username+":"+n.password)),n.auth&&(this.headers.authorization="Basic "+fl.btoa(n.auth)),Object.defineProperty(this,"connected",{get:function(){return this.connection&&this.connection.readyState===this.connection.OPEN},enumerable:!0}),this.connect()};mr.prototype=Object.create(lv.prototype);mr.prototype.constructor=mr;mr.prototype.connect=function(){this.connection=new RN(this.url,this.protocol,void 0,this.headers,this.requestOptions,this.clientConfig),this._addSocketListeners()};mr.prototype._onMessage=function(t){var e=this;this._parseResponse(typeof t.data=="string"?t.data:"").forEach(function(r){if(r.method&&r.method.indexOf("_subscription")!==-1){e.emit(e.DATA,r);return}var n=r.id;Array.isArray(r)&&(n=r[0].id),e.responseQueue.has(n)&&(e.responseQueue.get(n).callback!==void 0&&e.responseQueue.get(n).callback(!1,r),e.responseQueue.delete(n))})};mr.prototype._onConnect=function(){if(this.emit(this.CONNECT),this.reconnectAttempts=0,this.reconnecting=!1,this.requestQueue.size>0){var t=this;this.requestQueue.forEach(function(e,r){t.send(e.payload,e.callback),t.requestQueue.delete(r)})}};mr.prototype._onConnectFailed=function(t){this.connectFailedDescription=t.toString().split(`
`)[0];var e=this;if(this.connectFailedDescription&&(t.description=this.connectFailedDescription,this.connectFailedDescription=null),t.code=1006,t.reason="connection failed",this.reconnectOptions.auto&&(![1e3,1001].includes(t.code)||t.wasClean===!1)){this.reconnect();return}this.emit(this.ERROR,t),this.requestQueue.size>0&&this.requestQueue.forEach(function(r,n){r.callback(Gn.ConnectionNotOpenError(t)),e.requestQueue.delete(n)}),this.responseQueue.size>0&&this.responseQueue.forEach(function(r,n){r.callback(Gn.InvalidConnection("on WS",t)),e.responseQueue.delete(n)}),this.connection._connection&&this.connection._connection.removeAllListeners(),this.connection._client.removeAllListeners(),this.connection._readyState=3,this.emit(this.CLOSE,t)};mr.prototype._onClose=function(t){var e=this;if(this.reconnectOptions.auto&&(![1e3,1001].includes(t.code)||t.wasClean===!1)){this.reconnect();return}this.emit(this.CLOSE,t),this.requestQueue.size>0&&this.requestQueue.forEach(function(r,n){r.callback(Gn.ConnectionNotOpenError(t)),e.requestQueue.delete(n)}),this.responseQueue.size>0&&this.responseQueue.forEach(function(r,n){r.callback(Gn.InvalidConnection("on WS",t)),e.responseQueue.delete(n)}),this._removeSocketListeners(),this.removeAllListeners()};mr.prototype._addSocketListeners=function(){this.connection.addEventListener("message",this._onMessage.bind(this)),this.connection.addEventListener("open",this._onConnect.bind(this)),this.connection.addEventListener("close",this._onClose.bind(this)),this.connection._client&&(this.connection._client.removeAllListeners("connectFailed"),this.connection._client.on("connectFailed",this._onConnectFailed.bind(this)))};mr.prototype._removeSocketListeners=function(){this.connection.removeEventListener("message",this._onMessage),this.connection.removeEventListener("open",this._onConnect),this.connection.removeEventListener("close",this._onClose),this.connection._connection&&this.connection._client.removeListener("connectFailed",this._onConnectFailed)};mr.prototype._parseResponse=function(t){var e=this,r=[],n=t.replace(/\}[\n\r]?\{/g,"}|--|{").replace(/\}\][\n\r]?\[\{/g,"}]|--|[{").replace(/\}[\n\r]?\[\{/g,"}|--|[{").replace(/\}\][\n\r]?\{/g,"}]|--|{").split("|--|");return n.forEach(function(i){e.lastChunk&&(i=e.lastChunk+i);var a=null;try{a=JSON.parse(i)}catch{e.lastChunk=i,clearTimeout(e.lastChunkTimeout),e.lastChunkTimeout=setTimeout(function(){if(e.reconnectOptions.auto&&e.reconnectOptions.onTimeout){e.reconnect();return}e.emit(e.ERROR,Gn.ConnectionTimeout(e._customTimeout)),e.requestQueue.size>0&&e.requestQueue.forEach(function(o,c){o.callback(Gn.ConnectionTimeout(e._customTimeout)),e.requestQueue.delete(c)})},e._customTimeout);return}clearTimeout(e.lastChunkTimeout),e.lastChunk=null,a&&r.push(a)}),r};mr.prototype.send=function(t,e){var r=this,n=t.id,i={payload:t,callback:e};if(Array.isArray(t)&&(n=t[0].id),this.connection.readyState===this.connection.CONNECTING||this.reconnecting){this.requestQueue.set(n,i);return}if(this.connection.readyState!==this.connection.OPEN){this.requestQueue.delete(n),this.emit(this.ERROR,Gn.ConnectionNotOpenError()),i.callback(Gn.ConnectionNotOpenError());return}this.responseQueue.set(n,i),this.requestQueue.delete(n);try{this.connection.send(JSON.stringify(i.payload))}catch(a){i.callback(a),r.responseQueue.delete(n)}};mr.prototype.reset=function(){this.responseQueue.clear(),this.requestQueue.clear(),this.removeAllListeners(),this._removeSocketListeners(),this._addSocketListeners()};mr.prototype.disconnect=function(t,e){this._removeSocketListeners(),this.connection.close(t||1e3,e)};mr.prototype.supportsSubscriptions=function(){return!0};mr.prototype.reconnect=function(){var t=this;if(this.reconnecting=!0,this.responseQueue.size>0&&this.responseQueue.forEach(function(e,r){try{t.responseQueue.delete(r),e.callback(Gn.PendingRequestsOnReconnectingError())}catch(n){console.error("Error encountered in reconnect: ",n)}}),!this.reconnectOptions.maxAttempts||this.reconnectAttempts<this.reconnectOptions.maxAttempts){setTimeout(function(){t.reconnectAttempts++,t._removeSocketListeners(),t.emit(t.RECONNECT,t.reconnectAttempts),t.connect()},this.reconnectOptions.delay);return}this.emit(this.ERROR,Gn.MaxAttemptsReachedOnReconnectingError()),this.reconnecting=!1,this.requestQueue.size>0&&this.requestQueue.forEach(function(e,r){e.callback(Gn.MaxAttemptsReachedOnReconnectingError()),t.requestQueue.delete(r)})};var PN=mr;const ON=Wn(PN),BN=window.fetch;var hv=["https://4everland.xyz/ipfs/{cid}{pathToResource}","https://w3s.link/ipfs/{cid}{pathToResource}","https://ipfs.io/ipfs/{cid}{pathToResource}","https://dweb.link/ipfs/{cid}{pathToResource}"],pv=/^ipfs:\/\/([^/]+)(.*)$/;function LN(t){let[,e="",r=""]=pv.exec(t)??[];return e?{cid:e,pathToResource:r}:null}function DN(t,e){let r=(()=>e.pathToResource===""||e.pathToResource.startsWith("/")?e.pathToResource:`/${e.pathToResource}`)();return t.replace(/{cid}/g,e.cid).replace(/\/?{pathToResource}/g,r)}function FN(t,e=hv){let r=LN(t);return r?e.map(n=>({gateway:n,url:DN(n,r)})):[]}function UN(t){return pv.test(t)}var $N=(t=>(t.allFailed="ipfsFetch all failed",t))($N||{}),HN=class extends Error{constructor(e,r,n){super(e),this.url=r,this.web2InfoList=n}name="IpfsFetchError"},zN=new Promise(()=>{});function qN(t,{gateways:e=hv,signal:r,...n}={}){let i=FN(t,e),a=new Set,s=0;return Promise.race(i.map(o=>{let c=new AbortController;a.add(c),r?.addEventListener("abort",()=>c.abort());let f=()=>(s+=1,s>=i.length?Promise.reject(new HN("ipfsFetch all failed",t,i)):zN);return fetch(o.url,{...n,signal:c.signal}).then(l=>l.ok?(a.delete(c),Object.assign(l,{_info:o})):f()).catch(l=>l instanceof Error&&l.name==="AbortError"?Promise.reject(l):f())})).finally(()=>{a.forEach(o=>o.abort()),a.clear()})}var mv=Object.defineProperty,jN=Object.getOwnPropertyDescriptor,KN=(t,e)=>{for(var r in e)mv(t,r,{get:e[r],enumerable:!0})},qe=(t,e,r,n)=>{for(var i=n>1?void 0:n?jN(e,r):e,a=t.length-1,s;a>=0;a--)(s=t[a])&&(i=(n?s(e,r,i):s(i))||i);return n&&i&&mv(e,r,i),i},yv=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},$n=(t,e,r)=>(yv(t,e,"read from private field"),r?r.call(t):e.get(t)),ei=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},Jy=(t,e,r,n)=>(yv(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Yy,qu,p0,m0,y0,b0,x0,g0,v0,ju,Ku,Lt=class{static getNetwork(){return $n(this,ju)}static setNetwork(e){if($n(this,v0).includes(e))Jy(this,ju,e);else throw new Error(`Network ${e} is not available`)}static getJsonRpcAddress(){return this.jsonRpcAddress}static getContractAddress(){return $n(this,qu)}static getPeripheryContractAddress(){return $n(this,p0)}static getNewbieVillaContractAddress(){return $n(this,m0)}static getCbtContractAddress(){return $n(this,y0)}static getTipsContractAddress(){return $n(this,b0)}static getMiraContractAddress(){return $n(this,x0)}static getLinklistContractAddress(){return $n(this,g0)}static getIpfsGateway(){return $n(this,Ku)}static setIpfsGateway(e){Jy(this,Ku,e)}static getCrossbellMainnetInfo(){return{chainName:"Crossbell",network:"crossbell",chainId:3737,tokenName:"CSB",tokenSymbol:"CSB",chainIdHex:"0x"+3737 .toString(16),rpc:"https://rpc.crossbell.io",explorer:"https://scan.crossbell.io",contract:$n(this,qu)}}static async isCrossbellMainnet(e){let{chainId:r}=this.getCrossbellMainnetInfo();return e instanceof $o||e instanceof Vs?(await e.getNetwork()).chainId===r:(e=new $o(e),(await e.getNetwork()).chainId===r)}static async switchToCrossbellMainnet(e){if(e instanceof $o&&(e=e.provider),typeof e.request!="function")throw new Error("this provider does not follow EIP-1193 API signature. It does not have the provider.request function");let{chainIdHex:r,chainName:n,tokenName:i,tokenSymbol:a,rpc:s,explorer:o}=this.getCrossbellMainnetInfo();try{await e.request({method:"wallet_switchEthereumChain",params:[{chainId:r}]})}catch{await e.request({method:"wallet_addEthereumChain",params:[{chainId:r,chainName:n,nativeCurrency:{name:i,symbol:a,decimals:18},rpcUrls:[s],blockExplorerUrls:[o]}]})}}};qu=new WeakMap,p0=new WeakMap,m0=new WeakMap,y0=new WeakMap,b0=new WeakMap,x0=new WeakMap,g0=new WeakMap,v0=new WeakMap,ju=new WeakMap,Ku=new WeakMap,ei(Lt,qu,"0xa6f969045641Cf486a747A2688F3a5A6d43cd0D8"),ei(Lt,p0,"0x96e96b7af62d628ce7eb2016d2c1d2786614ea73"),ei(Lt,m0,"0xD0c83f0BB2c61D55B3d33950b70C59ba2f131caA"),ei(Lt,y0,"0x3D1b588a6Bcd728Bb61570ced6656eA4C05e404f"),ei(Lt,b0,"0x0058be0845952D887D1668B5545de995E12e8783"),ei(Lt,x0,"0xAfB95CC0BD320648B3E8Df6223d9CDD05EbeDC64"),ei(Lt,g0,"0xFc8C75bD5c26F50798758f387B698f207a016b6A"),ei(Lt,v0,["crossbell"]),ei(Lt,ju,"crossbell"),ei(Lt,Ku,"https://w3s.link/ipfs/"),Lt.jsonRpcAddress=((Yy=globalThis.process)==null?void 0:Yy.env.CROSSBELL_RPC_ADDRESS)??"https://rpc.crossbell.io";var w0=[{inputs:[{internalType:"uint256",name:"characterId",type:"uint256"}],name:"ErrCharacterNotExists",type:"error"},{inputs:[],name:"ErrHandleContainsInvalidCharacters",type:"error"},{inputs:[],name:"ErrHandleExists",type:"error"},{inputs:[],name:"ErrHandleLengthInvalid",type:"error"},{inputs:[],name:"ErrNotAddressOwner",type:"error"},{inputs:[],name:"ErrNotCharacterOwner",type:"error"},{inputs:[],name:"ErrNotEnoughPermission",type:"error"},{inputs:[],name:"ErrNotEnoughPermissionForThisNote",type:"error"},{inputs:[],name:"ErrNoteIsDeleted",type:"error"},{inputs:[],name:"ErrNoteLocked",type:"error"},{inputs:[],name:"ErrNoteNotExists",type:"error"},{inputs:[],name:"ErrSocialTokenExists",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"handle",type:"string"},{internalType:"string",name:"uri",type:"string"},{internalType:"address",name:"linkModule",type:"address"},{internalType:"bytes",name:"linkModuleInitData",type:"bytes"}],internalType:"struct DataTypes.CreateCharacterData",name:"vars",type:"tuple"}],name:"createCharacter",outputs:[{internalType:"uint256",name:"characterId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"fromCharacterId",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes32",name:"linkType",type:"bytes32"}],internalType:"struct DataTypes.createThenLinkCharacterData",name:"vars",type:"tuple"}],name:"createThenLinkCharacter",outputs:[{internalType:"uint256",name:"characterId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"uint256",name:"noteId",type:"uint256"}],name:"deleteNote",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"characterId",type:"uint256"}],name:"getCharacter",outputs:[{components:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"string",name:"handle",type:"string"},{internalType:"string",name:"uri",type:"string"},{internalType:"uint256",name:"noteCount",type:"uint256"},{internalType:"address",name:"socialToken",type:"address"},{internalType:"address",name:"linkModule",type:"address"}],internalType:"struct DataTypes.Character",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"handle",type:"string"}],name:"getCharacterByHandle",outputs:[{components:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"string",name:"handle",type:"string"},{internalType:"string",name:"uri",type:"string"},{internalType:"uint256",name:"noteCount",type:"uint256"},{internalType:"address",name:"socialToken",type:"address"},{internalType:"address",name:"linkModule",type:"address"}],internalType:"struct DataTypes.Character",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"characterId",type:"uint256"}],name:"getCharacterUri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"characterId",type:"uint256"}],name:"getHandle",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"getLinkModule4Address",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getLinkModule4ERC721",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getLinkModule4Linklist",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getLinklistContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"bytes32",name:"linkType",type:"bytes32"}],name:"getLinklistId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"linkListId",type:"uint256"}],name:"getLinklistType",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getLinklistUri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"uint256",name:"noteId",type:"uint256"}],name:"getNote",outputs:[{components:[{internalType:"bytes32",name:"linkItemType",type:"bytes32"},{internalType:"bytes32",name:"linkKey",type:"bytes32"},{internalType:"string",name:"contentUri",type:"string"},{internalType:"address",name:"linkModule",type:"address"},{internalType:"address",name:"mintModule",type:"address"},{internalType:"address",name:"mintNFT",type:"address"},{internalType:"bool",name:"deleted",type:"bool"},{internalType:"bool",name:"locked",type:"bool"}],internalType:"struct DataTypes.Note",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"address",name:"operator",type:"address"}],name:"getOperatorPermissions",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"characterId",type:"uint256"}],name:"getOperators",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"uint256",name:"noteId",type:"uint256"}],name:"getOperators4Note",outputs:[{internalType:"address[]",name:"blocklist",type:"address[]"},{internalType:"address[]",name:"allowlist",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"getPrimaryCharacterId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getRevision",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"address",name:"operator",type:"address"},{internalType:"uint256",name:"permissionBitMap",type:"uint256"}],name:"grantOperatorPermissions",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"uint256",name:"noteId",type:"uint256"},{internalType:"address[]",name:"blocklist",type:"address[]"},{internalType:"address[]",name:"allowlist",type:"address[]"}],name:"grantOperators4Note",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"symbol_",type:"string"},{internalType:"address",name:"linklist_",type:"address"},{internalType:"address",name:"mintNFTImpl_",type:"address"},{internalType:"address",name:"periphery_",type:"address"},{internalType:"address",name:"newbieVilla_",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"uint256",name:"noteId",type:"uint256"},{internalType:"address",name:"operator",type:"address"}],name:"isOperatorAllowedForNote",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"characterId",type:"uint256"}],name:"isPrimaryCharacter",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"fromCharacterId",type:"uint256"},{internalType:"address",name:"ethAddress",type:"address"},{internalType:"bytes32",name:"linkType",type:"bytes32"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct DataTypes.linkAddressData",name:"vars",type:"tuple"}],name:"linkAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"fromCharacterId",type:"uint256"},{internalType:"string",name:"toUri",type:"string"},{internalType:"bytes32",name:"linkType",type:"bytes32"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct DataTypes.linkAnyUriData",name:"vars",type:"tuple"}],name:"linkAnyUri",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"fromCharacterId",type:"uint256"},{internalType:"uint256",name:"toCharacterId",type:"uint256"},{internalType:"bytes32",name:"linkType",type:"bytes32"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct DataTypes.linkCharacterData",name:"vars",type:"tuple"}],name:"linkCharacter",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"fromCharacterId",type:"uint256"},{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes32",name:"linkType",type:"bytes32"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct DataTypes.linkERC721Data",name:"vars",type:"tuple"}],name:"linkERC721",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"fromCharacterId",type:"uint256"},{internalType:"uint256",name:"toLinkListId",type:"uint256"},{internalType:"bytes32",name:"linkType",type:"bytes32"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct DataTypes.linkLinklistData",name:"vars",type:"tuple"}],name:"linkLinklist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"fromCharacterId",type:"uint256"},{internalType:"uint256",name:"toCharacterId",type:"uint256"},{internalType:"uint256",name:"toNoteId",type:"uint256"},{internalType:"bytes32",name:"linkType",type:"bytes32"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct DataTypes.linkNoteData",name:"vars",type:"tuple"}],name:"linkNote",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"uint256",name:"noteId",type:"uint256"}],name:"lockNote",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"uint256",name:"noteId",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes",name:"mintModuleData",type:"bytes"}],internalType:"struct DataTypes.MintNoteData",name:"vars",type:"tuple"}],name:"mintNote",outputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"string",name:"contentUri",type:"string"},{internalType:"address",name:"linkModule",type:"address"},{internalType:"bytes",name:"linkModuleInitData",type:"bytes"},{internalType:"address",name:"mintModule",type:"address"},{internalType:"bytes",name:"mintModuleInitData",type:"bytes"},{internalType:"bool",name:"locked",type:"bool"}],internalType:"struct DataTypes.PostNoteData",name:"vars",type:"tuple"}],name:"postNote",outputs:[{internalType:"uint256",name:"noteId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"string",name:"contentUri",type:"string"},{internalType:"address",name:"linkModule",type:"address"},{internalType:"bytes",name:"linkModuleInitData",type:"bytes"},{internalType:"address",name:"mintModule",type:"address"},{internalType:"bytes",name:"mintModuleInitData",type:"bytes"},{internalType:"bool",name:"locked",type:"bool"}],internalType:"struct DataTypes.PostNoteData",name:"vars",type:"tuple"},{internalType:"address",name:"ethAddress",type:"address"}],name:"postNote4Address",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"string",name:"contentUri",type:"string"},{internalType:"address",name:"linkModule",type:"address"},{internalType:"bytes",name:"linkModuleInitData",type:"bytes"},{internalType:"address",name:"mintModule",type:"address"},{internalType:"bytes",name:"mintModuleInitData",type:"bytes"},{internalType:"bool",name:"locked",type:"bool"}],internalType:"struct DataTypes.PostNoteData",name:"vars",type:"tuple"},{internalType:"string",name:"uri",type:"string"}],name:"postNote4AnyUri",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"string",name:"contentUri",type:"string"},{internalType:"address",name:"linkModule",type:"address"},{internalType:"bytes",name:"linkModuleInitData",type:"bytes"},{internalType:"address",name:"mintModule",type:"address"},{internalType:"bytes",name:"mintModuleInitData",type:"bytes"},{internalType:"bool",name:"locked",type:"bool"}],internalType:"struct DataTypes.PostNoteData",name:"vars",type:"tuple"},{internalType:"uint256",name:"toCharacterId",type:"uint256"}],name:"postNote4Character",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"string",name:"contentUri",type:"string"},{internalType:"address",name:"linkModule",type:"address"},{internalType:"bytes",name:"linkModuleInitData",type:"bytes"},{internalType:"address",name:"mintModule",type:"address"},{internalType:"bytes",name:"mintModuleInitData",type:"bytes"},{internalType:"bool",name:"locked",type:"bool"}],internalType:"struct DataTypes.PostNoteData",name:"vars",type:"tuple"},{components:[{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"uint256",name:"erc721TokenId",type:"uint256"}],internalType:"struct DataTypes.ERC721Struct",name:"erc721",type:"tuple"}],name:"postNote4ERC721",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"string",name:"contentUri",type:"string"},{internalType:"address",name:"linkModule",type:"address"},{internalType:"bytes",name:"linkModuleInitData",type:"bytes"},{internalType:"address",name:"mintModule",type:"address"},{internalType:"bytes",name:"mintModuleInitData",type:"bytes"},{internalType:"bool",name:"locked",type:"bool"}],internalType:"struct DataTypes.PostNoteData",name:"vars",type:"tuple"},{internalType:"uint256",name:"toLinklistId",type:"uint256"}],name:"postNote4Linklist",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"string",name:"contentUri",type:"string"},{internalType:"address",name:"linkModule",type:"address"},{internalType:"bytes",name:"linkModuleInitData",type:"bytes"},{internalType:"address",name:"mintModule",type:"address"},{internalType:"bytes",name:"mintModuleInitData",type:"bytes"},{internalType:"bool",name:"locked",type:"bool"}],internalType:"struct DataTypes.PostNoteData",name:"vars",type:"tuple"},{components:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"uint256",name:"noteId",type:"uint256"}],internalType:"struct DataTypes.NoteStruct",name:"note",type:"tuple"}],name:"postNote4Note",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"resolver",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"string",name:"newUri",type:"string"}],name:"setCharacterUri",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"string",name:"newHandle",type:"string"}],name:"setHandle",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"linkModule",type:"address"},{internalType:"bytes",name:"linkModuleInitData",type:"bytes"}],internalType:"struct DataTypes.setLinkModule4AddressData",name:"vars",type:"tuple"}],name:"setLinkModule4Address",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"linklistId",type:"uint256"},{internalType:"address",name:"linkModule",type:"address"},{internalType:"bytes",name:"linkModuleInitData",type:"bytes"}],internalType:"struct DataTypes.setLinkModule4LinklistData",name:"vars",type:"tuple"}],name:"setLinkModule4Linklist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"linklistId",type:"uint256"},{internalType:"string",name:"uri",type:"string"}],name:"setLinklistUri",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"uint256",name:"noteId",type:"uint256"},{internalType:"address",name:"mintModule",type:"address"},{internalType:"bytes",name:"mintModuleInitData",type:"bytes"}],internalType:"struct DataTypes.setMintModule4NoteData",name:"vars",type:"tuple"}],name:"setMintModule4Note",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"uint256",name:"noteId",type:"uint256"},{internalType:"string",name:"newUri",type:"string"}],name:"setNoteUri",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"characterId",type:"uint256"}],name:"setPrimaryCharacterId",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"address",name:"tokenAddress",type:"address"}],name:"setSocialToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"characterId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"fromCharacterId",type:"uint256"},{internalType:"address",name:"ethAddress",type:"address"},{internalType:"bytes32",name:"linkType",type:"bytes32"}],internalType:"struct DataTypes.unlinkAddressData",name:"vars",type:"tuple"}],name:"unlinkAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"fromCharacterId",type:"uint256"},{internalType:"string",name:"toUri",type:"string"},{internalType:"bytes32",name:"linkType",type:"bytes32"}],internalType:"struct DataTypes.unlinkAnyUriData",name:"vars",type:"tuple"}],name:"unlinkAnyUri",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"fromCharacterId",type:"uint256"},{internalType:"uint256",name:"toCharacterId",type:"uint256"},{internalType:"bytes32",name:"linkType",type:"bytes32"}],internalType:"struct DataTypes.unlinkCharacterData",name:"vars",type:"tuple"}],name:"unlinkCharacter",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"fromCharacterId",type:"uint256"},{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes32",name:"linkType",type:"bytes32"}],internalType:"struct DataTypes.unlinkERC721Data",name:"vars",type:"tuple"}],name:"unlinkERC721",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"fromCharacterId",type:"uint256"},{internalType:"uint256",name:"toLinkListId",type:"uint256"},{internalType:"bytes32",name:"linkType",type:"bytes32"}],internalType:"struct DataTypes.unlinkLinklistData",name:"vars",type:"tuple"}],name:"unlinkLinklist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"fromCharacterId",type:"uint256"},{internalType:"uint256",name:"toCharacterId",type:"uint256"},{internalType:"uint256",name:"toNoteId",type:"uint256"},{internalType:"bytes32",name:"linkType",type:"bytes32"}],internalType:"struct DataTypes.unlinkNoteData",name:"vars",type:"tuple"}],name:"unlinkNote",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"linklistId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"characterId",type:"uint256"},{indexed:!0,internalType:"bytes32",name:"linkType",type:"bytes32"}],name:"AttachLinklist",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"name",type:"string"},{indexed:!1,internalType:"string",name:"symbol",type:"string"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"BaseInitialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"characterId",type:"uint256"},{indexed:!0,internalType:"address",name:"creator",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"string",name:"handle",type:"string"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"CharacterCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"characterId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"noteId",type:"uint256"}],name:"DeleteNote",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"linklistId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"characterId",type:"uint256"},{indexed:!0,internalType:"bytes32",name:"linkType",type:"bytes32"}],name:"DetachLinklist",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"characterId",type:"uint256"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"uint256",name:"permissionBitMap",type:"uint256"}],name:"GrantOperatorPermissions",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"characterId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"noteId",type:"uint256"},{indexed:!1,internalType:"address[]",name:"blocklist",type:"address[]"},{indexed:!1,internalType:"address[]",name:"allowlist",type:"address[]"}],name:"GrantOperators4Note",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"fromCharacterId",type:"uint256"},{indexed:!0,internalType:"address",name:"ethAddress",type:"address"},{indexed:!1,internalType:"bytes32",name:"linkType",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"linklistId",type:"uint256"}],name:"LinkAddress",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"fromCharacterId",type:"uint256"},{indexed:!1,internalType:"string",name:"toUri",type:"string"},{indexed:!1,internalType:"bytes32",name:"linkType",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"linklistId",type:"uint256"}],name:"LinkAnyUri",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"uint256",name:"fromCharacterId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"toCharacterId",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"linkType",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"linklistId",type:"uint256"}],name:"LinkCharacter",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"fromCharacterId",type:"uint256"},{indexed:!0,internalType:"bytes32",name:"linkType",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"clFromCharacterId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"clToCharacterId",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"clLinkType",type:"bytes32"}],name:"LinkCharacterLink",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"fromCharacterId",type:"uint256"},{indexed:!0,internalType:"address",name:"tokenAddress",type:"address"},{indexed:!0,internalType:"uint256",name:"toNoteId",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"linkType",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"linklistId",type:"uint256"}],name:"LinkERC721",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"fromCharacterId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"toLinklistId",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"linkType",type:"bytes32"},{indexed:!0,internalType:"uint256",name:"linklistId",type:"uint256"}],name:"LinkLinklist",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"fromCharacterId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"toCharacterId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"toNoteId",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"linkType",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"linklistId",type:"uint256"}],name:"LinkNote",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"LinklistNFTInitialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"characterId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"noteId",type:"uint256"}],name:"LockNote",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"characterId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"noteId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"MintNFTInitialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"characterId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"noteId",type:"uint256"},{indexed:!1,internalType:"address",name:"tokenAddress",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"MintNote",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"characterId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"noteId",type:"uint256"},{indexed:!0,internalType:"bytes32",name:"linkKey",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"linkItemType",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"}],name:"PostNote",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"characterId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"noteId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"address[]",name:"approvedAddresses",type:"address[]"}],name:"SetApprovedMintAmount4Addresses",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"characterId",type:"uint256"},{indexed:!1,internalType:"string",name:"newUri",type:"string"}],name:"SetCharacterUri",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"uint256",name:"characterId",type:"uint256"},{indexed:!1,internalType:"string",name:"newHandle",type:"string"}],name:"SetHandle",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"linkModule",type:"address"},{indexed:!1,internalType:"bytes",name:"linkModuleInitData",type:"bytes"},{indexed:!1,internalType:"bytes",name:"returnData",type:"bytes"}],name:"SetLinkModule4Address",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"characterId",type:"uint256"},{indexed:!0,internalType:"address",name:"linkModule",type:"address"},{indexed:!1,internalType:"bytes",name:"linkModuleInitData",type:"bytes"},{indexed:!1,internalType:"bytes",name:"returnData",type:"bytes"}],name:"SetLinkModule4Character",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"tokenAddress",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"linkModule",type:"address"},{indexed:!1,internalType:"bytes",name:"linkModuleInitData",type:"bytes"},{indexed:!1,internalType:"bytes",name:"returnData",type:"bytes"}],name:"SetLinkModule4ERC721",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"linklistId",type:"uint256"},{indexed:!0,internalType:"address",name:"linkModule",type:"address"},{indexed:!1,internalType:"bytes",name:"linkModuleInitData",type:"bytes"},{indexed:!1,internalType:"bytes",name:"returnData",type:"bytes"}],name:"SetLinkModule4Linklist",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"characterId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"noteId",type:"uint256"},{indexed:!0,internalType:"address",name:"linkModule",type:"address"},{indexed:!1,internalType:"bytes",name:"linkModuleInitData",type:"bytes"},{indexed:!1,internalType:"bytes",name:"returnData",type:"bytes"}],name:"SetLinkModule4Note",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"characterId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"noteId",type:"uint256"},{indexed:!0,internalType:"address",name:"mintModule",type:"address"},{indexed:!1,internalType:"bytes",name:"mintModuleInitData",type:"bytes"},{indexed:!1,internalType:"bytes",name:"returnData",type:"bytes"}],name:"SetMintModule4Note",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"characterId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"noteId",type:"uint256"},{indexed:!1,internalType:"string",name:"newUri",type:"string"}],name:"SetNoteUri",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"uint256",name:"characterId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"oldCharacterId",type:"uint256"}],name:"SetPrimaryCharacterId",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"uint256",name:"characterId",type:"uint256"},{indexed:!0,internalType:"address",name:"tokenAddress",type:"address"}],name:"SetSocialToken",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"fromCharacterId",type:"uint256"},{indexed:!0,internalType:"address",name:"ethAddress",type:"address"},{indexed:!1,internalType:"bytes32",name:"linkType",type:"bytes32"}],name:"UnlinkAddress",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"fromCharacterId",type:"uint256"},{indexed:!1,internalType:"string",name:"toUri",type:"string"},{indexed:!1,internalType:"bytes32",name:"linkType",type:"bytes32"}],name:"UnlinkAnyUri",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"uint256",name:"fromCharacterId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"toCharacterId",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"linkType",type:"bytes32"}],name:"UnlinkCharacter",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"fromCharacterId",type:"uint256"},{indexed:!0,internalType:"bytes32",name:"linkType",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"clFromCharactereId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"clToCharacterId",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"clLinkType",type:"bytes32"}],name:"UnlinkCharacterLink",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"fromCharacterId",type:"uint256"},{indexed:!0,internalType:"address",name:"tokenAddress",type:"address"},{indexed:!0,internalType:"uint256",name:"toNoteId",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"linkType",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"linklistId",type:"uint256"}],name:"UnlinkERC721",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"fromCharacterId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"toLinklistId",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"linkType",type:"bytes32"},{indexed:!0,internalType:"uint256",name:"linklistId",type:"uint256"}],name:"UnlinkLinklist",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"fromCharacterId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"toCharacterId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"toNoteId",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"linkType",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"linklistId",type:"uint256"}],name:"UnlinkNote",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"Web3EntryInitialized",type:"event"}],bv=class{static createInterface(){return new Oi(w0)}static connect(e,r){return new es(e,w0,r)}};bv.abi=w0;var _0=[{inputs:[{internalType:"bytes32",name:"linkKey",type:"bytes32"}],name:"getLinkingAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"fromCharacterId",type:"uint256"},{internalType:"bytes32",name:"linkType",type:"bytes32"}],name:"getLinkingAddresses",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"linkKey",type:"bytes32"}],name:"getLinkingAnyUri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"fromCharacterId",type:"uint256"},{internalType:"bytes32",name:"linkType",type:"bytes32"}],name:"getLinkingAnyUris",outputs:[{internalType:"string[]",name:"results",type:"string[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"linkKey",type:"bytes32"}],name:"getLinkingCharacterId",outputs:[{internalType:"uint256",name:"characterId",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"fromCharacterId",type:"uint256"},{internalType:"bytes32",name:"linkType",type:"bytes32"}],name:"getLinkingCharacterIds",outputs:[{internalType:"uint256[]",name:"results",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"linkKey",type:"bytes32"}],name:"getLinkingERC721",outputs:[{components:[{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"uint256",name:"erc721TokenId",type:"uint256"}],internalType:"struct DataTypes.ERC721Struct",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"fromCharacterId",type:"uint256"},{internalType:"bytes32",name:"linkType",type:"bytes32"}],name:"getLinkingERC721s",outputs:[{components:[{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"uint256",name:"erc721TokenId",type:"uint256"}],internalType:"struct DataTypes.ERC721Struct[]",name:"results",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"linkKey",type:"bytes32"}],name:"getLinkingLinklistId",outputs:[{internalType:"uint256",name:"linklistId",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"fromCharacterId",type:"uint256"},{internalType:"bytes32",name:"linkType",type:"bytes32"}],name:"getLinkingLinklistIds",outputs:[{internalType:"uint256[]",name:"linklistIds",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"linkKey",type:"bytes32"}],name:"getLinkingNote",outputs:[{components:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"uint256",name:"noteId",type:"uint256"}],internalType:"struct DataTypes.NoteStruct",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"fromCharacterId",type:"uint256"},{internalType:"bytes32",name:"linkType",type:"bytes32"}],name:"getLinkingNotes",outputs:[{components:[{internalType:"bytes32",name:"linkItemType",type:"bytes32"},{internalType:"bytes32",name:"linkKey",type:"bytes32"},{internalType:"string",name:"contentUri",type:"string"},{internalType:"address",name:"linkModule",type:"address"},{internalType:"address",name:"mintModule",type:"address"},{internalType:"address",name:"mintNFT",type:"address"},{internalType:"bool",name:"deleted",type:"bool"},{internalType:"bool",name:"locked",type:"bool"}],internalType:"struct DataTypes.Note[]",name:"results",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"uint256",name:"offset",type:"uint256"},{internalType:"uint256",name:"limit",type:"uint256"}],name:"getNotesByCharacterId",outputs:[{components:[{internalType:"bytes32",name:"linkItemType",type:"bytes32"},{internalType:"bytes32",name:"linkKey",type:"bytes32"},{internalType:"string",name:"contentUri",type:"string"},{internalType:"address",name:"linkModule",type:"address"},{internalType:"address",name:"mintModule",type:"address"},{internalType:"address",name:"mintNFT",type:"address"},{internalType:"bool",name:"deleted",type:"bool"},{internalType:"bool",name:"locked",type:"bool"}],internalType:"struct DataTypes.Note[]",name:"results",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_web3Entry",type:"address"},{internalType:"address",name:"_linklist",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"fromCharacterId",type:"uint256"},{internalType:"uint256[]",name:"toCharacterIds",type:"uint256[]"},{internalType:"bytes[]",name:"data",type:"bytes[]"},{internalType:"address[]",name:"toAddresses",type:"address[]"},{internalType:"bytes32",name:"linkType",type:"bytes32"}],internalType:"struct DataTypes.linkCharactersInBatchData",name:"vars",type:"tuple"}],name:"linkCharactersInBatch",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"linklist",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address",name:"account",type:"address"},{internalType:"string",name:"handle",type:"string"},{internalType:"string",name:"uri",type:"string"},{internalType:"address[]",name:"toAddresses",type:"address[]"},{internalType:"bytes32",name:"linkType",type:"bytes32"}],internalType:"struct DataTypes.MigrateData",name:"vars",type:"tuple"}],name:"migrate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"web3Entry",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],xv=class{static createInterface(){return new Oi(_0)}static connect(e,r){return new es(e,_0,r)}};xv.abi=_0;var A0=[{inputs:[{internalType:"address",name:"web3Entry",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"from",type:"uint256"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"amount",type:"uint256"}],name:"Burn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"to",type:"uint256"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"tokenNumber",type:"uint256"}],name:"Mint",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256[]",name:"ids",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"TransferBatch",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"TransferSingle",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"value",type:"string"},{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"URI",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MINTER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"_web3Entry",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"accounts",type:"address[]"},{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"bytes",name:"",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"tokenURI",type:"string"}],name:"setTokenURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],gv=class{static createInterface(){return new Oi(A0)}static connect(e,r){return new es(e,A0,r)}};gv.abi=A0;var E0=[{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"characterId",type:"uint256"},{indexed:!1,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Withdraw",type:"event"},{inputs:[],name:"ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"ERC1820_REGISTRY",outputs:[{internalType:"contract IERC1820Registry",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"TOKENS_RECIPIENT_INTERFACE_HASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"characterId",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"web3Entry_",type:"address"},{internalType:"address",name:"xsyncOperator_",type:"address"},{internalType:"address",name:"token_",type:"address"},{internalType:"address",name:"admin_",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"},{internalType:"bytes",name:"operatorData",type:"bytes"}],name:"tokensReceived",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"web3Entry",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expires",type:"uint256"},{internalType:"bytes",name:"proof",type:"bytes"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"xsyncOperator",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],vv=class{static createInterface(){return new Oi(E0)}static connect(e,r){return new es(e,E0,r)}};vv.abi=E0;var T0=[{inputs:[],name:"ErrCallerNotCharacterOwner",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"fromCharacterId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"toCharacterId",type:"uint256"},{indexed:!1,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"TipCharacter",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"fromCharacterId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"toCharacterId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"toNoteId",type:"uint256"},{indexed:!1,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"TipCharacterForNote",type:"event"},{inputs:[],name:"ERC1820_REGISTRY",outputs:[{internalType:"contract IERC1820Registry",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"TOKENS_RECIPIENT_INTERFACE_HASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getWeb3Entry",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"web3Entry_",type:"address"},{internalType:"address",name:"token_",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"},{internalType:"bytes",name:"operatorData",type:"bytes"}],name:"tokensReceived",outputs:[],stateMutability:"nonpayable",type:"function"}],wv=class{static createInterface(){return new Oi(T0)}static connect(e,r){return new es(e,T0,r)}};wv.abi=T0;var M0=[{inputs:[{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"symbol_",type:"string"},{internalType:"address",name:"admin",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"tokenHolder",type:"address"}],name:"AuthorizedOperator",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"},{indexed:!1,internalType:"bytes",name:"operatorData",type:"bytes"}],name:"Burned",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"},{indexed:!1,internalType:"bytes",name:"operatorData",type:"bytes"}],name:"Minted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"tokenHolder",type:"address"}],name:"RevokedOperator",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"},{indexed:!1,internalType:"bytes",name:"operatorData",type:"bytes"}],name:"Sent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"BLOCK_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"holder",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"}],name:"authorizeOperator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"tokenHolder",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"pure",type:"function"},{inputs:[],name:"defaultOperators",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"granularity",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"address",name:"tokenHolder",type:"address"}],name:"isOperatorFor",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"bytes",name:"operatorData",type:"bytes"}],name:"operatorBurn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"bytes",name:"operatorData",type:"bytes"}],name:"operatorSend",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"}],name:"revokeOperator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"send",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"holder",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}],_v=class{static createInterface(){return new Oi(M0)}static connect(e,r){return new es(e,M0,r)}};_v.abi=M0;var k0=[{inputs:[],name:"ErrCallerNotWeb3Entry",type:"error"},{inputs:[],name:"ErrCallerNotWeb3EntryOrNotOwner",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"uint256",name:"characterId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"Web3Entry",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"ethAddress",type:"address"}],name:"addLinkingAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"toUri",type:"string"}],name:"addLinkingAnyUri",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"toCharacterId",type:"uint256"}],name:"addLinkingCharacterId",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{components:[{internalType:"uint256",name:"fromCharacterId",type:"uint256"},{internalType:"uint256",name:"toCharacterId",type:"uint256"},{internalType:"bytes32",name:"linkType",type:"bytes32"}],internalType:"struct DataTypes.CharacterLinkStruct",name:"linkData",type:"tuple"}],name:"addLinkingCharacterLink",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"uint256",name:"erc721TokenId",type:"uint256"}],name:"addLinkingERC721",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"linklistId",type:"uint256"}],name:"addLinkingLinklistId",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"toCharacterId",type:"uint256"},{internalType:"uint256",name:"toNoteId",type:"uint256"}],name:"addLinkingNote",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"characterId",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"characterOwnerOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getCurrentTakeOver",outputs:[{internalType:"uint256",name:"characterId",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getLinkType",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getLinkingAddressListLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getLinkingAddresses",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getLinkingAnyListLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"linkKey",type:"bytes32"}],name:"getLinkingAnyUri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getLinkingAnyUriKeys",outputs:[{internalType:"bytes32[]",name:"",type:"bytes32[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getLinkingAnyUris",outputs:[{internalType:"string[]",name:"results",type:"string[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getLinkingCharacterIds",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"linkKey",type:"bytes32"}],name:"getLinkingCharacterLink",outputs:[{components:[{internalType:"uint256",name:"fromCharacterId",type:"uint256"},{internalType:"uint256",name:"toCharacterId",type:"uint256"},{internalType:"bytes32",name:"linkType",type:"bytes32"}],internalType:"struct DataTypes.CharacterLinkStruct",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getLinkingCharacterLinkListLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getLinkingCharacterLinks",outputs:[{components:[{internalType:"uint256",name:"fromCharacterId",type:"uint256"},{internalType:"uint256",name:"toCharacterId",type:"uint256"},{internalType:"bytes32",name:"linkType",type:"bytes32"}],internalType:"struct DataTypes.CharacterLinkStruct[]",name:"results",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getLinkingCharacterListLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"linkKey",type:"bytes32"}],name:"getLinkingERC721",outputs:[{components:[{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"uint256",name:"erc721TokenId",type:"uint256"}],internalType:"struct DataTypes.ERC721Struct",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getLinkingERC721ListLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getLinkingERC721s",outputs:[{components:[{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"uint256",name:"erc721TokenId",type:"uint256"}],internalType:"struct DataTypes.ERC721Struct[]",name:"results",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getLinkingLinklistIds",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getLinkingLinklistLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"linkKey",type:"bytes32"}],name:"getLinkingNote",outputs:[{components:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"uint256",name:"noteId",type:"uint256"}],internalType:"struct DataTypes.NoteStruct",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getLinkingNoteListLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getLinkingNotes",outputs:[{components:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"uint256",name:"noteId",type:"uint256"}],internalType:"struct DataTypes.NoteStruct[]",name:"results",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getOwnerCharacterId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"symbol_",type:"string"},{internalType:"address",name:"web3Entry_",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"characterId",type:"uint256"},{internalType:"bytes32",name:"linkType",type:"bytes32"}],name:"mint",outputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"ethAddress",type:"address"}],name:"removeLinkingAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"toUri",type:"string"}],name:"removeLinkingAnyUri",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"toCharacterId",type:"uint256"}],name:"removeLinkingCharacterId",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{components:[{internalType:"uint256",name:"fromCharacterId",type:"uint256"},{internalType:"uint256",name:"toCharacterId",type:"uint256"},{internalType:"bytes32",name:"linkType",type:"bytes32"}],internalType:"struct DataTypes.CharacterLinkStruct",name:"linkData",type:"tuple"}],name:"removeLinkingCharacterLink",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"uint256",name:"erc721TokenId",type:"uint256"}],name:"removeLinkingERC721",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"linklistId",type:"uint256"}],name:"removeLinkingLinklistId",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"toCharacterId",type:"uint256"},{internalType:"uint256",name:"toNoteId",type:"uint256"}],name:"removeLinkingNote",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"newUri",type:"string"}],name:"setUri",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"}],Av=class{static createInterface(){return new Oi(k0)}static connect(e,r){return new es(e,k0,r)}};Av.abi=k0;var GN={};KN(GN,{Logger:()=>Bc,NIL_ADDRESS:()=>jn,createSearchParamsString:()=>Mt,isAddressEqual:()=>Ho,parseCsbUri:()=>VN,validateIsInSdn:()=>Ev});var dl="csb://";function VN(t){if(!t.startsWith(dl))throw new Error("Invalid csb uri. It should start with csb://");t=t.replace(dl,"http://");let e=new URL(t),r=dl,n=e.username,i=e.password,a=e.host,s=n==="account"?a:void 0,o=n==="asset"?a:void 0,c=n==="asset"?i.split("-")[0]:void 0,f=n==="asset"?i.split("-")[1]:void 0;return{scheme:r,scope:n,identity:i,host:a,platform:s,network:o,contract_address:c,token_id:f}}function Ho(t,e){return!t||!e?!1:t.toLowerCase()===e.toLowerCase()}var jn="0x0000000000000000000000000000000000000000",Bc=class{static log(...e){console.log(this.prefix,...e)}static warn(...e){console.warn(this.prefix,...e)}static error(...e){console.error(this.prefix,...e)}static info(...e){console.info(this.prefix,...e)}};Bc.prefix="[crossbell.js]";function Mt(t){return new URLSearchParams(Object.entries(t).filter(e=>e[1]!==void 0&&e[1]!==null).flatMap(([e,r])=>Array.isArray(r)?r.map(n=>[e,n.toString()]):[[e,r.toString()]])).toString()}var WN=new Set(["0x8589427373d6d84e98730d7795d8f6f8731fda16","0x722122df12d4e14e13ac3b6895a86e84145b6967","0xdd4c48c0b24039969fc16d1cdf626eab821d3384","0xd90e2f925da726b50c4ed8d0fb90ad053324f31b","0xd96f2b1c14db8458374d9aca76e26c3d18364307","0x4736dcf1b7a3d580672cce6e7c65cd5cc9cfba9d","0xd4b88df4d29f5cedd6857912842cff3b20c8cfa3","0x910cbd523d972eb0a6f4cae4618ad62622b39dbf","0xa160cdab225685da1d56aa342ad8841c3b53f291","0xfd8610d20aa15b7b2e3be39b396a1bc3516c7144","0xf60dd140cff0706bae9cd734ac3ae76ad9ebc32a","0x22aaa7720ddd5388a3c0a3333430953c68f1849b","0xba214c1c1928a32bffe790263e38b4af9bfcd659","0xb1c8094b234dce6e03f10a5b673c1d8c69739a00","0x527653ea119f3e6a1f5bd18fbf4714081d7b31ce","0x58e8dcc13be9780fc42e8723d8ead4cf46943df2","0xd691f27f38b395864ea86cfc7253969b409c362d","0xaeaac358560e11f52454d997aaff2c5731b6f8a6","0x1356c899d8c9467c7f71c195612f8a395abf2f0a","0xa60c772958a3ed56c1f15dd055ba37ac8e523a0d","0x169ad27a470d064dede56a2d3ff727986b15d52b","0x0836222f2b2b24a3f36f98668ed8f0b38d1a872f","0xf67721a2d8f736e75a49fdd7fad2e31d8676542a","0x9ad122c22b14202b4490edaf288fdb3c7cb3ff5e","0x905b63fff465b9ffbf41dea908ceb12478ec7601","0x07687e702b410fa43f4cb4af7fa097918ffd2730","0x94a1b5cdb22c43faab4abeb5c74999895464ddaf","0xb541fc07bc7619fd4062a54d96268525cbc6ffef","0x12d66f87a04a9e220743712ce6d9bb1b5616b8fc","0x47ce0c6ed5b0ce3d3a51fdb1c52dc66a7c3c2936","0x23773e65ed146a459791799d01336db287f25334","0xd21be7248e0197ee08e0c20d4a96debdac3d20af","0x610b717796ad172b316836ac95a2ffad065ceab4","0x178169b423a011fff22b9e3f3abea13414ddd0f1","0xbb93e510bbcd0b7beb5a853875f9ec60275cf498","0x2717c5e28cf931547b621a5dddb772ab6a35b701","0x03893a7c7463ae47d46bc7f091665f1893656003","0xca0840578f57fe71599d29375e16783424023357","0x58e8dcc13be9780fc42e8723d8ead4cf46943df2","0x8589427373d6d84e98730d7795d8f6f8731fda16","0x722122df12d4e14e13ac3b6895a86e84145b6967","0xdd4c48c0b24039969fc16d1cdf626eab821d3384","0xd90e2f925da726b50c4ed8d0fb90ad053324f31b","0xd96f2b1c14db8458374d9aca76e26c3d18364307","0x4736dcf1b7a3d580672cce6e7c65cd5cc9cfba9d"]),JN=t=>(t=t.toLowerCase(),WN.has(t)),Ev=t=>{if(JN(t))throw new Error(`This address ${t} is in the U.S. SDN list. All transactions from this address will be rejected. Info: https://home.treasury.gov/policy-issues/financial-sanctions/recent-actions/20220808`)},YN={createCharacter:"CharacterCreated(uint256,address,address,string,uint256)",linkCharacter:"LinkCharacter(address,uint256,uint256,bytes32,uint256)",linkNote:"LinkNote(uint256,uint256,uint256,bytes32,uint256)",linkAddress:"LinkAddress(uint256,address,bytes32,uint256)",linkLinklist:"LinkLinklist(uint256,uint256,bytes32,uint256)",linkERC721:"LinkERC721(uint256,address,uint256,bytes32,uint256)",linkAnyUri:"LinkAnyUri(uint256,string,bytes32,uint256)",postNote:"PostNote(uint256,uint256,bytes32,bytes32,bytes)",mintNote:"MintNote(address,uint256,uint256,address,uint256)",mint:"Mint(uint256,uint256,uint256)",grantOperatorPermissions:"GrantOperatorPermissions(uint256,address,uint256)",grantOperators4Note:"GrantOperators4Note(uint256,uint256,address[],address[])"},wi=class{constructor(t,e){this._moduleResponseCache=void 0,this._lastModuleResponseCacheTime=0,this._providerOrPrivateKey=t,this.options=this.initOptions(e),this._connect()}get contract(){return this.getContract(this._signerOrProvider)}getContract(t=this.getDefaultProvider()){return bv.connect(this.options.entryContractAddress,t)}get peripheryContract(){return this.getPeripheryContract(this._signerOrProvider)}getPeripheryContract(t=this.getDefaultProvider()){return xv.connect(this.options.peripheryContractAddress,t)}get cbtContract(){return this.getCbtContract(this._signerOrProvider)}getCbtContract(t=this.getDefaultProvider()){return gv.connect(this.options.cbtContractAddress,t)}get tipsContract(){return this.getTipsContract(this._signerOrProvider)}getTipsContract(t=this.getDefaultProvider()){return wv.connect(this.options.tipsContractAddress,t)}get miraContract(){return this.getMiraContract(this._signerOrProvider)}getMiraContract(t=this.getDefaultProvider()){return _v.connect(this.options.miraContractAddress,t)}get linklistContract(){return this.getLinklistContract(this._signerOrProvider)}getLinklistContract(t=this.getDefaultProvider()){return Av.connect(this.options.linklistContractAddress,t)}get newbieVillaContract(){return this.getNewbieVillaContract(this._signerOrProvider)}getNewbieVillaContract(t=this.getDefaultProvider()){return vv.connect(this.options.newbieVillaContractAddress,t)}_connect(){if(typeof this._providerOrPrivateKey>"u"){let t=this.getDefaultProvider();this._signerOrProvider=t}else if(typeof this._providerOrPrivateKey=="string"){let t=this.getDefaultProvider(),e=new ka(this._providerOrPrivateKey,t);this._signerOrProvider=e}else{let t=this.getExternalProvider(this._providerOrPrivateKey);try{if(typeof this._providerOrPrivateKey.sendAsync!="function")throw new Error("provider.sendAsync is not a function");this._providerOrPrivateKey.sendAsync({method:"eth_requestAccounts",params:[]},()=>{})}catch{if(typeof this._providerOrPrivateKey.request=="function")this._providerOrPrivateKey.request({method:"eth_requestAccounts",params:[]});else throw new Error("Provider does not support eth_requestAccounts and does not support send()")}this._signerOrProvider=t.getSigner()}}initOptions(t){return{entryContractAddress:t?.entryContractAddress??Lt.getContractAddress(),peripheryContractAddress:t?.peripheryContractAddress??Lt.getPeripheryContractAddress(),cbtContractAddress:t?.cbtContractAddress??Lt.getCbtContractAddress(),tipsContractAddress:t?.tipsContractAddress??Lt.getTipsContractAddress(),miraContractAddress:t?.miraContractAddress??Lt.getMiraContractAddress(),newbieVillaContractAddress:t?.newbieVillaContractAddress??Lt.getNewbieVillaContractAddress(),linklistContractAddress:t?.linklistContractAddress??Lt.getLinklistContractAddress()}}async connect(){Bc.warn("connect() is deprecated. You don't need to call this anymore.")}parseLog(t,e,{throwOnMultipleLogsFound:r=!0,returnMultipleLogs:n=!1}={}){let i=kt(jt(YN[e])),a=t.filter(o=>o.topics[0]===i);if(a.length===0)throw new Error(`Log with topic ${e} not found`);if(r&&a.length>1)throw new Error(`More than one log with topic ${e} found`);if(n)return a.map(o=>this.contract.interface.parseLog(o));let s=a[0];return this.contract.interface.parseLog(s)}getDefaultProvider(){let t=Lt.getJsonRpcAddress();if(t.startsWith("ws")){let e=new ON(t,{timeout:3e4,clientConfig:{keepalive:!0,keepaliveInterval:55e3,maxReceivedFrameSize:512e6,maxReceivedMessageSize:1024e6},reconnect:{auto:!0,delay:5e3,maxAttempts:5,onTimeout:!1}});return new $o(e)}else{let e=new Sf(t);return e.pollingInterval=100,e}}getExternalProvider(t){let e=new $o(t);return e.pollingInterval=100,e}validateAddress(t){Array.isArray(t)?t.forEach(e=>this.validateAddress(e)):Ev(t)}async getModules({type:t}={}){let e=Date.now(),r=e-this._lastModuleResponseCacheTime>60*1e3,n=[];return!this._moduleResponseCache||r?(n=await fetch("https://raw.githubusercontent.com/Crossbell-Box/Crossbell-Contracts/main/deployments/modules.json").then(i=>i.json()),this._moduleResponseCache=n,this._lastModuleResponseCacheTime=e):n=this._moduleResponseCache,t?n.filter(i=>i.type===t):n}async getModule(t){return(await this.getModules()).find(e=>Ho(e.address,t))}async getLinkModules(){return this.getModules({type:"link"})}async getLinkModule(t){return(await this.getLinkModules()).find(e=>Ho(e.address,t)&&e.type==="link")}async getMintModules(){return this.getModules({type:"mint"})}async getMintModule(t){return(await this.getMintModules()).find(e=>Ho(e.address,t)&&e.type==="mint")}async getModuleConfig(t){if(!t)return{address:jn,initData:jn};let e=await this.getModule(t.address);if(!e)throw new Error("Invalid module address "+t.address);let r=this.contract.interface._abiCoder.encode(e.initDataStructure.map(n=>n.type),t.data);return{address:t.address,initData:r}}async encodeModuleInitData(t,e){let r=await this.getModule(t);if(!r)throw new Error("Invalid module address "+t);return this.contract.interface._abiCoder.encode(r.initDataStructure.map(n=>n.type),e)}async decodeModuleInitData(t,e){let r=await this.getModule(t);if(!r)throw new Error("Invalid module address "+t);return this.contract.interface._abiCoder.decode(r.initDataStructure.map(n=>n.type),e)}};function je(){return(t,e,r)=>{let n=r.value;return r.value=async function(...i){let a=async()=>{let s=this.contract.provider;await Lt.isCrossbellMainnet(s)||(Bc.warn("You're not on the mainnet. Switching to mainnet."),await Lt.switchToCrossbellMainnet(s))};try{await a()}catch{await a()}return n.apply(this,i)},r}}var Tv=class extends wi{async getBalance(t){return this.validateAddress(t),{data:(await this.getContract().provider.getBalance(t)).toString()}}async transferCsb(t,e){var r;this.validateAddress(t);let n=this.contract.signer,i=await(await(((r=n.connectUnchecked)==null?void 0:r.call(n))??n).sendTransaction({to:t,value:e})).wait();return{data:{},transactionHash:i.transactionHash}}};qe([je()],Tv.prototype,"transferCsb",1);var $r=class extends wi{async linkCharacter(e,r,n,i,a={}){let s=await(await this.contract.linkCharacter({fromCharacterId:e,toCharacterId:r,linkType:xr(n),data:i??jn},a)).wait();return{data:this.parseLog(s.logs,"linkCharacter").args.linklistId.toNumber(),transactionHash:s.transactionHash}}async linkCharactersInBatch(e,r,n,i,a,s={}){n.forEach(c=>{this.validateAddress(c)});let o=await(await this.peripheryContract.linkCharactersInBatch({fromCharacterId:e,toCharacterIds:r,toAddresses:n,linkType:xr(i),data:a??r.map(()=>jn)},s)).wait();return{data:this.parseLog(o.logs,"linkCharacter",{throwOnMultipleLogsFound:!1}).args.linklistId.toNumber(),transactionHash:o.transactionHash}}async getLinklistIdByTransaction(e){let r=await this.contract.provider.getTransactionReceipt(e);return{data:this.parseLog(r.logs,"linkCharacter").args.linklistId.toNumber()}}async createThenLinkCharacter(e,r,n,i={}){this.validateAddress(r);let a=await(await this.contract.createThenLinkCharacter({fromCharacterId:e,to:r,linkType:xr(n)},i)).wait(),s=this.parseLog(a.logs,"createCharacter"),o=this.parseLog(a.logs,"linkCharacter");return{data:{toCharacterId:s.args.characterId.toNumber(),linklistId:o.args.linklistId.toNumber()},transactionHash:a.transactionHash}}async unlinkCharacter(e,r,n,i={}){return{data:void 0,transactionHash:(await(await this.contract.unlinkCharacter({fromCharacterId:e,toCharacterId:r,linkType:xr(n)},i)).wait()).transactionHash}}async getLinkingCharacterIds(e,r,n={}){return{data:(await this.getPeripheryContract().getLinkingCharacterIds(e,xr(r),n)).map(i=>i.toNumber())}}async getLinkingCharacters(e,r,n={}){let i=await this.getPeripheryContract().getLinkingCharacterIds(e,xr(r),n);return{data:(await Promise.all(i.map(a=>this.getCharacter(a.toNumber())))).map(a=>a.data)}}async linkAddress(e,r,n,i=jn,a={}){let s=await(await this.contract.linkAddress({fromCharacterId:e,ethAddress:r,linkType:xr(n),data:i},a)).wait();return{data:this.parseLog(s.logs,"linkAddress").args.linklistId.toNumber(),transactionHash:s.transactionHash}}async unlinkAddress(e,r,n,i={}){return{data:void 0,transactionHash:(await(await this.contract.unlinkAddress({fromCharacterId:e,ethAddress:r,linkType:xr(n)},i)).wait()).transactionHash}}async linkAnyUri(e,r,n,i=jn,a={}){let s=await(await this.contract.linkAnyUri({fromCharacterId:e,toUri:r,linkType:xr(n),data:i},a)).wait();return{data:this.parseLog(s.logs,"linkAnyUri").args.linklistId.toNumber(),transactionHash:s.transactionHash}}async unlinkAnyUri(e,r,n,i={}){return{data:void 0,transactionHash:(await(await this.contract.unlinkAnyUri({fromCharacterId:e,toUri:r,linkType:xr(n)},i)).wait()).transactionHash}}async linkErc721(e,r,n,i,a=jn,s={}){let o=await(await this.contract.linkERC721({fromCharacterId:e,tokenAddress:r,tokenId:n,linkType:xr(i),data:a},s)).wait();return{data:this.parseLog(o.logs,"linkAnyUri").args.linklistId.toNumber(),transactionHash:o.transactionHash}}async unlinkErc721(e,r,n,i,a={}){return{data:void 0,transactionHash:(await(await this.contract.unlinkERC721({fromCharacterId:e,tokenAddress:r,tokenId:n,linkType:xr(i)},a)).wait()).transactionHash}}async linkNote(e,r,n,i,a,s={}){let o=await(await this.contract.linkNote({fromCharacterId:e,toCharacterId:r,toNoteId:n,linkType:xr(i),data:a??jn},s)).wait();return{data:this.parseLog(o.logs,"linkNote").args.linklistId.toNumber(),transactionHash:o.transactionHash}}async unlinkNote(e,r,n,i,a={}){return{data:void 0,transactionHash:(await(await this.contract.unlinkNote({fromCharacterId:e,toCharacterId:r,toNoteId:n,linkType:xr(i)},a)).wait()).transactionHash}}async linkLinklist(e,r,n,i=jn,a={}){let s=await(await this.contract.linkLinklist({fromCharacterId:e,toLinkListId:r,linkType:xr(n),data:i},a)).wait();return{data:this.parseLog(s.logs,"linkNote").args.linklistId.toNumber(),transactionHash:s.transactionHash}}async unlinkLinklist(e,r,n,i={}){return{data:void 0,transactionHash:(await(await this.contract.unlinkLinklist({fromCharacterId:e,toLinkListId:r,linkType:xr(n)},i)).wait()).transactionHash}}};qe([je()],$r.prototype,"linkCharacter",1),qe([je()],$r.prototype,"linkCharactersInBatch",1),qe([je()],$r.prototype,"createThenLinkCharacter",1),qe([je()],$r.prototype,"unlinkCharacter",1),qe([je()],$r.prototype,"linkAddress",1),qe([je()],$r.prototype,"unlinkAddress",1),qe([je()],$r.prototype,"linkAnyUri",1),qe([je()],$r.prototype,"unlinkAnyUri",1),qe([je()],$r.prototype,"linkErc721",1),qe([je()],$r.prototype,"unlinkErc721",1),qe([je()],$r.prototype,"linkNote",1),qe([je()],$r.prototype,"unlinkNote",1),qe([je()],$r.prototype,"linkLinklist",1),qe([je()],$r.prototype,"unlinkLinklist",1);typeof globalThis.fetch>"u"&&(globalThis.fetch=BN);var An=class{static async uploadJson(e){return await Oo(async()=>await fetch("https://ipfs-relay.crossbell.io/json",{method:"POST",body:JSON.stringify(e)}).then(r=>r.json()),{retries:3})}static uploadFile(e){return Oo(async()=>{let r=new FormData;return r.append("file",e),await(await fetch("https://ipfs-relay.crossbell.io/upload",{method:"post",body:r})).json()},{retries:3})}static async metadataToUri(e){var r;let n=await this.uploadJson(e);if(!((r=n?.url)!=null&&r.startsWith("ipfs://")))throw new Error("upload to IPFS failed");return n.url}static async uriToMetadata(e){return Oo(async()=>{if(UN(e)){let n=await qN(e).then(i=>i.text());try{return JSON.parse(n)}catch{throw new Error("Failed to parse metadata from uri: "+e)}}let r;try{return r=await fetch(e).then(n=>n.text()),r=JSON.parse(r),r}catch{throw new Error(`Failed to fetch metadata from uri: ${e} . Response: `+r)}},{retries:3})}static async parseMetadataOrUri(e,r,n=!1){if(r==="")return{uri:"",metadata:void 0};let i,a;return typeof r=="string"?(i=r,a=n?await An.uriToMetadata(i):void 0):(a=r,a.type||(a.type=e),i=await An.metadataToUri(a)),{metadata:a,uri:i}}},ti=class extends wi{async postNote(e,r,{locked:n=!1,linkModule:i,mintModule:a}={},s={}){let{uri:o}=await An.parseMetadataOrUri("note",r),c=await this.getModuleConfig(i),f=await this.getModuleConfig(a),l=await(await this.contract.postNote({characterId:e,contentUri:o,linkModule:c.address,linkModuleInitData:c.initData,mintModule:f.address,mintModuleInitData:f.initData,locked:n},s)).wait();return{data:{noteId:this.parseLog(l.logs,"postNote").args.noteId.toNumber()},transactionHash:l.transactionHash}}async postNotes(e,r={}){let n=l2(10),i=await Promise.all(e.map(s=>n(async()=>{var o,c,f;let{uri:l}=await An.parseMetadataOrUri("note",s.metadataOrUri),x=await this.getModuleConfig((o=s.options)==null?void 0:o.linkModule),A=await this.getModuleConfig((c=s.options)==null?void 0:c.mintModule);return this.contract.interface.encodeFunctionData("postNote",[{characterId:s.characterId,contentUri:l,linkModule:x.address,linkModuleInitData:x.initData,mintModule:A.address,mintModuleInitData:A.initData,locked:((f=s.options)==null?void 0:f.locked)??!1}])}))),a=await(await this.contract.multicall(i,r)).wait();return{data:{noteIds:this.parseLog(a.logs,"postNote",{throwOnMultipleLogsFound:!1,returnMultipleLogs:!0}).map(s=>s.args.noteId.toNumber())},transactionHash:a.transactionHash}}async postNoteForAnyUri(e,r,n,{locked:i=!1,linkModule:a,mintModule:s}={},o={}){let{uri:c}=await An.parseMetadataOrUri("note",r),f=await this.getModuleConfig(a),l=await this.getModuleConfig(s),x=await(await this.contract.postNote4AnyUri({characterId:e,contentUri:c,linkModule:f.address,linkModuleInitData:f.initData,mintModule:l.address,mintModuleInitData:l.initData,locked:i},n,o)).wait();return{data:{noteId:this.parseLog(x.logs,"postNote").args.noteId.toNumber()},transactionHash:x.transactionHash}}async postNoteForNote(e,r,n,i,{locked:a=!1,linkModule:s,mintModule:o}={},c={}){let{uri:f}=await An.parseMetadataOrUri("note",r),l=await this.getModuleConfig(s),x=await this.getModuleConfig(o),A=await(await this.contract.postNote4Note({characterId:e,contentUri:f,linkModule:l.address,linkModuleInitData:l.initData,mintModule:x.address,mintModuleInitData:x.initData,locked:a},{characterId:n,noteId:i},c)).wait();return{data:{noteId:this.parseLog(A.logs,"postNote").args.noteId.toNumber()},transactionHash:A.transactionHash}}async setNoteUri(e,r,n,i={}){let{uri:a,metadata:s}=await An.parseMetadataOrUri("note",n,!0),o=await(await this.contract.setNoteUri(e,r,a,i)).wait();return{data:{uri:a,metadata:s},transactionHash:o.transactionHash}}async changeNoteMetadata(e,r,n,i={}){let a=await this.getNote(e,r),s=n(a.data.metadata);if(typeof s>"u")throw new Error("The modified metadata is undefined. Did you return it?");return s.type||(s.type="note"),this.setNoteMetadata(e,r,s,i)}async setNoteMetadata(e,r,n,i={}){return this.setNoteUri(e,r,n,i)}async getNote(e,r,n,i={}){let a=await this.getContract().getNote(e,r,i),s=g9(a.linkItemType),o=s===""?void 0:s,c=a.contentUri?await An.uriToMetadata(a.contentUri):void 0,f,l=this.getPeripheryContract();if(n==="AnyUri")f={uri:await l.getLinkingAnyUri(a.linkKey)};else if(n==="ERC721"){let x=await l.getLinkingERC721(a.linkKey);f={contractAddress:x.tokenAddress.toString(),tokenId:x.erc721TokenId.toString()}}else if(n==="Address")f={address:(await l.getLinkingAddress(a.linkKey)).toString()};else if(n==="Character")f={characterId:(await l.getLinkingCharacterId(a.linkKey)).toNumber()};else if(n==="Note"){let x=await l.getLinkingNote(a.linkKey);f={characterId:x.characterId.toNumber(),noteId:x.noteId.toNumber()}}else n==="Linklist"?f={linklistId:(await l.getLinkingLinklistId(a.linkKey)).toNumber()}:f=void 0;return{data:{characterId:Number(e),noteId:Number(r),contentUri:a.contentUri,metadata:c,linkItemType:a.linkItemType,linkItemTypeString:o,linkItem:f,linkKey:a.linkKey,linkModule:a.linkModule,contractAddress:a.mintNFT,mintModule:a.mintModule,deleted:a.deleted,locked:a.locked}}}async deleteNote(e,r,n={}){return{data:void 0,transactionHash:(await(await this.contract.deleteNote(e,r,n)).wait()).transactionHash}}async lockNote(e,r,n={}){return{data:void 0,transactionHash:(await(await this.contract.lockNote(e,r,n)).wait()).transactionHash}}async mintNote(e,r,n,i={}){this.validateAddress(n);let a=await(await this.contract.mintNote({characterId:e,noteId:r,to:n,mintModuleData:jn},i)).wait(),s=this.parseLog(a.logs,"mintNote");return{data:{contractAddress:s.args.tokenAddress,tokenId:s.args.tokenId.toNumber()},transactionHash:a.transactionHash}}getLinkKeyForCharacter(e){return fs(["string","uint"],["Character",e])}getLinkKeyForAddress(e){return this.validateAddress(e),fs(["string","address"],["Address",e])}getLinkKeyForNote(e,r){return fs(["string","uint","uint"],["Note",e,r])}getLinkKeyForERC721(e,r){return fs(["string","address","uint"],["ERC721",e,r])}getLinkKeyForLinklist(e){return fs(["string","uint"],["Linklist",e])}getLinkKeyForAnyUri(e){return fs(["string","string"],["AnyUri",e])}};qe([je()],ti.prototype,"postNote",1),qe([je()],ti.prototype,"postNotes",1),qe([je()],ti.prototype,"postNoteForAnyUri",1),qe([je()],ti.prototype,"postNoteForNote",1),qe([je()],ti.prototype,"setNoteUri",1),qe([je()],ti.prototype,"changeNoteMetadata",1),qe([je()],ti.prototype,"deleteNote",1),qe([je()],ti.prototype,"lockNote",1),qe([je()],ti.prototype,"mintNote",1);var _i=class extends wi{async createCharacter(e,r,n,{linkModule:i}={},a={}){this.validateAddress(e),this.validateHandleFormat(r);let{uri:s}=await An.parseMetadataOrUri("character",n),o=await this.getModuleConfig(i),c=await(await this.contract.createCharacter({to:e,handle:r,uri:s,linkModule:o.address,linkModuleInitData:o.initData},a)).wait();return{data:this.parseLog(c.logs,"createCharacter").args.characterId.toNumber(),transactionHash:c.transactionHash}}async setHandle(e,r,n={}){return this.validateHandleFormat(r),{data:void 0,transactionHash:(await(await this.contract.setHandle(e,r,n)).wait()).transactionHash}}async setCharacterUri(e,r,n={}){let{uri:i,metadata:a}=await An.parseMetadataOrUri("character",r,!0),s=await(await this.contract.setCharacterUri(e,i,n)).wait();return{data:{uri:i,metadata:a},transactionHash:s.transactionHash}}async setCharacterMetadata(e,r,n={}){return this.setCharacterUri(e,r,n)}async changeCharacterMetadata(e,r,n={}){let i=await this.getCharacter(e),a=r(i.data.metadata);if(typeof a>"u")throw new Error("The modified metadata is undefined. Did you return it?");return a.type||(a.type="character"),this.setCharacterMetadata(e,a,n)}async setSocialToken(e,r,n={}){return{data:void 0,transactionHash:(await(await this.contract.setSocialToken(e,r,n)).wait()).transactionHash}}async setPrimaryCharacterId(e,r={}){return{data:void 0,transactionHash:(await(await this.contract.setPrimaryCharacterId(e,r)).wait()).transactionHash}}async burnCharacter(e,r={}){return{data:void 0,transactionHash:(await(await this.contract.burn(e,r)).wait()).transactionHash}}async getPrimaryCharacterId(e,r={}){return this.validateAddress(e),{data:(await this.getContract().getPrimaryCharacterId(e,r)).toNumber()}}async isPrimaryCharacterId(e,r={}){return{data:await this.getContract().isPrimaryCharacter(e,r)}}async getCharacterByHandle(e,r={}){e=e.toLowerCase();let n=await this.getContract().getCharacterByHandle(e,r),i=n.uri?await An.uriToMetadata(n.uri):void 0;return{data:{characterId:n.characterId.toNumber(),handle:n.handle,uri:n.uri,metadata:i,socialToken:n.socialToken,noteCount:n.noteCount.toNumber()}}}async getCharacter(e,r={}){let n=await this.getContract().getCharacter(e,r),{metadata:i}=await An.parseMetadataOrUri("character",n.uri,!0);return{data:{characterId:n.characterId.toNumber(),handle:n.handle,uri:n.uri,socialToken:n.socialToken,noteCount:n.noteCount.toNumber(),metadata:i}}}async getHandle(e,r={}){return{data:await this.getContract().getHandle(e,r)}}async getCharacterUri(e,r={}){return{data:await this.getContract().getCharacterUri(e,r)}}async getCharacterByTransaction(e,r={}){let n=await this.getContract().provider.getTransactionReceipt(e),i=this.parseLog(n.logs,"createCharacter").args.characterId.toNumber();return await this.getCharacter(i,r)}async existsCharacterForAddress(e,r={}){return this.validateAddress(e),{data:(await this.getContract().getPrimaryCharacterId(e,r)).toString()!=="0"}}async existsCharacterForHandle(e,r={}){return{data:(await this.getContract().getCharacterByHandle(e,r)).handle!==""}}async withdrawCharacterFromNewbieVilla(e,r,n,i,a,s={}){return this.validateAddress(e),{data:void 0,transactionHash:(await(await this.newbieVillaContract.withdraw(e,r,n,i,a,s)).wait()).transactionHash}}validateHandleFormat(e){if(e.length>=32||e.length<=2)throw new Error("Invalid handle: handle must be between 3 and 31 characters.");if(!/^[a-z0-9\-\_]+$/.test(e))throw new Error("Invalid handle: handle must only contain [a-z0-9-_].")}};qe([je()],_i.prototype,"createCharacter",1),qe([je()],_i.prototype,"setHandle",1),qe([je()],_i.prototype,"setCharacterUri",1),qe([je()],_i.prototype,"changeCharacterMetadata",1),qe([je()],_i.prototype,"setSocialToken",1),qe([je()],_i.prototype,"setPrimaryCharacterId",1),qe([je()],_i.prototype,"burnCharacter",1),qe([je()],_i.prototype,"withdrawCharacterFromNewbieVilla",1);var Mv=class extends wi{constructor(){super(...arguments),this.CURRENT_SDK_REVISION=4}async getLatestRevision(){return{data:(await this.getContract().getRevision()).toNumber()}}async getCurrentRevision(){return{data:this.CURRENT_SDK_REVISION}}async checkRevision(){let{data:e}=await this.getLatestRevision(),r=this.CURRENT_SDK_REVISION;return{data:{isUpToDate:e===r,currentRevision:r,latestRevision:e}}}};qe([je()],Mv.prototype,"getLatestRevision",1);var I0=class extends wi{constructor(){super(...arguments),this.CHARACTER_PERMISSION_BITMAP={0:"SET_HANDLE",1:"SET_SOCIAL_TOKEN",2:"GRANT_OPERATOR_PERMISSIONS",3:"GRANT_OPERATORS_FOR_NOTE",176:"SET_CHARACTER_URI",177:"SET_LINKLIST_URI",178:"LINK_CHARACTER",179:"UNLINK_CHARACTER",180:"CREATE_THEN_LINK_CHARACTER",181:"LINK_NOTE",182:"UNLINK_NOTE",183:"LINK_ERC721",184:"UNLINK_ERC721",185:"LINK_ADDRESS",186:"UNLINK_ADDRESS",187:"LINK_ANY_URI",188:"UNLINK_ANY_URI",189:"LINK_LINKLIST",190:"UNLINK_LINKLIST",191:"SET_LINK_MODULE_FOR_CHARACTER",192:"SET_LINK_MODULE_FOR_NOTE",193:"SET_LINK_MODULE_FOR_LINKLIST",194:"SET_MINT_MODULE_FOR_NOTE",195:"SET_NOTE_URI",196:"LOCK_NOTE",197:"DELETE_NOTE",198:"POST_NOTE_FOR_CHARACTER",199:"POST_NOTE_FOR_ADDRESS",200:"POST_NOTE_FOR_LINKLIST",201:"POST_NOTE_FOR_NOTE",202:"POST_NOTE_FOR_ERC721",203:"POST_NOTE_FOR_ANY_URI",236:"POST_NOTE"}}async grantOperatorPermissionsForCharacter(e,r,n,i={}){this.validateAddress(r);let a=this.convertPermissionsToUint256ForCharacter(n),s=await(await this.contract.grantOperatorPermissions(e,r,a,i)).wait();return{data:{bitmapUint256:this.parseLog(s.logs,"grantOperatorPermissions").args.permissionBitMap},transactionHash:s.transactionHash}}async grantOperatorsForNote(e,r,n,i=[],a={}){this.validateAddress(n),this.validateAddress(i);let s=await(await this.contract.grantOperators4Note(e,r,i,n,a)).wait();return{data:{},transactionHash:s.transactionHash}}async getOperatorsForCharacter(e,r={}){return{data:await this.getContract().getOperators(e,r)}}async getOperatorsForNote(e,r,n={}){let{allowlist:i,blocklist:a}=await this.getContract().getOperators4Note(e,r,n);return{data:{allowlist:i,blocklist:a}}}async isOperatorAllowedForNote(e,r,n){return{data:await this.getContract().isOperatorAllowedForNote(e,r,n)}}async getOperatorPermissionsForCharacter(e,r,n={}){let i=await this.getContract().getOperatorPermissions(e,r,n);return{data:this.convertUint256ToPermissionsForCharacter(i)}}convertPermissionsToUint256ForCharacter(e){let r=e.map(i=>{let a=Object.entries(this.CHARACTER_PERMISSION_BITMAP).find(([,s])=>s===i)[0];return parseInt(a)}),n=Array(256).fill(0);return r.forEach(i=>{n[i]=1}),n.reverse(),this.convertsBinaryBitsToUint256(n)}convertUint256ToPermissionsForCharacter(e){return this.convertUint256ToBinaryBits(e).reverse().map((r,n)=>{if(r===1){if(this.isPermissionBitForCharacter(n))return this.CHARACTER_PERMISSION_BITMAP[n];Bc.warn("Found invalid permission bit.",n);return}}).filter(Boolean)}convertsBinaryBitsToUint256(e){return e.join("").replace(/^0+/,"").split("").reverse().reduce((r,n,i)=>n==="1"?r.add(ue.from(2).pow(i)):r,ue.from(0))}convertUint256ToBinaryBits(e){let r=ue.from(e).toString();return new He(r,10).toString(2).padStart(256,"0").split("").map(n=>parseInt(n))}isPermissionBitForCharacter(e){return Object.keys(this.CHARACTER_PERMISSION_BITMAP).includes(e.toString())}};qe([je()],I0.prototype,"grantOperatorPermissionsForCharacter",1),qe([je()],I0.prototype,"grantOperatorsForNote",1);var S0=class extends wi{async mintCbt(e,r,n={}){return{data:void 0,transactionHash:(await(await this.cbtContract.mint(e,r,n)).wait()).transactionHash}}async setCbtTokenUri(e,r,n={}){return{data:void 0,transactionHash:(await(await this.cbtContract.setTokenURI(e,r,n)).wait()).transactionHash}}async getCbtTokenUri(e,r={}){return{data:await this.getCbtContract().uri(e,r)}}};qe([je()],S0.prototype,"mintCbt",1),qe([je()],S0.prototype,"setCbtTokenUri",1);var C0=class extends wi{async tipCharacter(e,r,n,i={}){let a=this.miraContract.interface._abiCoder.encode(["uint256","uint256"],[e,r]);return{data:void 0,transactionHash:(await(await this.miraContract.send(this.options.tipsContractAddress,n,a,i)).wait()).transactionHash}}async tipCharacterForNote(e,r,n,i,a={}){let s=this.miraContract.interface._abiCoder.encode(["uint256","uint256","uint256"],[e,r,n]);return{data:void 0,transactionHash:(await(await this.miraContract.send(this.options.tipsContractAddress,i,s,a)).wait()).transactionHash}}async getMiraBalanceOfCharacter(e,r={}){let n=await this.getContract().ownerOf(e,r);return{data:(Ho(n,this.options.newbieVillaContractAddress)?await this.getNewbieVillaContract().balanceOf(e,r):await this.getMiraContract().balanceOf(n,r)).toString()}}async getMiraBalance(e,r={}){return{data:(await this.getMiraContract().balanceOf(e,r)).toString()}}async getMiraTokenAddress(e={}){return{data:await this.getTipsContract().getToken(e)}}async getMiraTokenDecimals(e={}){return{data:await this.getMiraContract().decimals(e)}}};qe([je()],C0.prototype,"tipCharacter",1),qe([je()],C0.prototype,"tipCharacterForNote",1);var N0=class extends wi{async setLinkModuleForAddress(e,r,n={}){let i=await this.getModuleConfig(r);return{data:void 0,transactionHash:(await(await this.contract.setLinkModule4Address({account:e,linkModule:i.address,linkModuleInitData:i.initData},n)).wait()).transactionHash}}async setLinkModuleForLinklist(e,r,n={}){let i=await this.getModuleConfig(r);return{data:void 0,transactionHash:(await(await this.contract.setLinkModule4Linklist({linklistId:e,linkModule:i.address,linkModuleInitData:i.initData},n)).wait()).transactionHash}}};qe([je()],N0.prototype,"setLinkModuleForAddress",1),qe([je()],N0.prototype,"setLinkModuleForLinklist",1);var kv=class extends wi{async setMintModuleForNote(t,e,r,n={}){let i=await this.getModuleConfig(r);return{data:void 0,transactionHash:(await(await this.contract.setMintModule4Note({characterId:t,noteId:e,mintModule:i.address,mintModuleInitData:i.initData},n)).wait()).transactionHash}}};qe([je()],kv.prototype,"setMintModuleForNote",1);var ZN=Mc(_i,$r,ti,I0,Tv,Mv,S0,C0,N0,kv),pp=class extends ZN{},Xr=class{constructor(e){if(this.endpoint="https://indexer.crossbell.io/v1",this.fetchOptions={},typeof e=="string")this.endpoint=e;else if(typeof e=="object")this.endpoint=e.endpoint??this.endpoint,this.fetchOptions=e.fetchOptions??this.fetchOptions;else if(typeof e<"u")throw new Error(`Invalid argument: ${JSON.stringify(e)}. It must be a string or an object.`)}fetch(e,r={}){return fetch(e,{...this.fetchOptions,...r})}},QN=class extends Xr{async getLinks(e,{limit:r=20,cursor:n,linkType:i,linkItemType:a,fromCharacterId:s,toCharacterId:o,toAddress:c,toNoteId:f,toContractAddress:l,toTokenId:x,toLinklistId:A,toUri:S,order:M}={}){let k=`${this.endpoint}/characters/${e}/links?`;return k+=Mt({limit:r,cursor:n,linkType:i,linkItemType:a,fromCharacterId:s,toCharacterId:o,toAddress:c,toNoteId:f,toContractAddress:l,toTokenId:x,toLinklistId:A,toUri:S,order:M}),await this.fetch(k).then(I=>I.json())}async getBacklinksOfCharacter(e,{limit:r=20,cursor:n,linkType:i,order:a}={}){let s=`${this.endpoint}/characters/${e}/backlinks?`;return s+=Mt({limit:r,cursor:n,linkType:i,order:a}),await this.fetch(s).then(o=>o.json())}async getBacklinksOfAddress(e,{limit:r=20,cursor:n,linkType:i,order:a}={}){let s=`${this.endpoint}/addresses/${e}/backlinks?`;return s+=Mt({limit:r,cursor:n,linkType:i,order:a}),await this.fetch(s).then(o=>o.json())}async getBacklinksOfNote(e,r,{limit:n=20,cursor:i,linkType:a,order:s}={}){let o=`${this.endpoint}/notes/${e}/${r}/backlinks?`;return o+=Mt({limit:n,cursor:i,linkType:a,order:s}),await this.fetch(o).then(c=>c.json())}async getBacklinksOfErc721(e,r,{limit:n=20,cursor:i,linkType:a,order:s}={}){let o=`${this.endpoint}/erc721s/${e}/${r}/backlinks?`;return o+=Mt({limit:n,cursor:i,linkType:a,order:s}),await this.fetch(o).then(c=>c.json())}async getBacklinksOfLinklist(e,{limit:r=20,cursor:n,linkType:i,order:a}={}){let s=`${this.endpoint}/linklists/${e}/backlinks?`;return s+=Mt({limit:r,cursor:n,linkType:i,order:a}),await this.fetch(s).then(o=>o.json())}async getBacklinksOfAnyUri(e,{limit:r=20,cursor:n,linkType:i,order:a}={}){let s=`${this.endpoint}/anyuris/${e}/backlinks?`;return s+=Mt({limit:r,cursor:n,linkType:i,order:a}),await this.fetch(s).then(o=>o.json())}},XN=class extends Xr{async getLinklistsOfCharacter(t,{linkType:e,limit:r=20,cursor:n}={}){let i=`${this.endpoint}/characters/${t}/linklists?`;return i+=Mt({linkType:e,limit:r,cursor:n}),await this.fetch(i).then(a=>a.json())}async getLinklist(t){let e=`${this.endpoint}/linklists/${t}`;return await this.fetch(e).then(r=>r.json())}},eR=class extends Xr{async getNotes(t={}){let e=`${this.endpoint}/notes?`;return e+=Mt(t),await this.fetch(e).then(r=>r.json())}async getNotesOfCharacterFollowing(t,e={}){let r=`${this.endpoint}/characters/${t}/notes/following?`;return r+=Mt(e),await this.fetch(r).then(n=>n.json())}async getNote(t,e){let r=`${this.endpoint}/characters/${t}/notes/${e}`;return await this.fetch(r).then(n=>n.json())}async getDistinctNoteTagsOfCharacter(t,{sources:e}={}){let r=`${this.endpoint}/characters/${t}/notes/tags?`;return r+=Mt({sources:e}),await this.fetch(r).then(n=>n.json())}async getDistinctNoteSourcesOfCharacter(t,{tags:e}={}){let r=`${this.endpoint}/characters/${t}/notes/sources?`;return r+=Mt({tags:e}),await this.fetch(r).then(n=>n.json())}},tR=class extends Xr{async getCharacters(t,{primary:e=void 0,limit:r=20,cursor:n}={}){let i=`${this.endpoint}/addresses/${t}/characters?`;return i+=Mt({primary:e,limit:r,cursor:n}),await this.fetch(i).then(a=>a.json())}async getPrimaryCharacter(t){return this.getCharacters(t,{limit:1,primary:!0}).then(e=>{var r;return((r=e.list)==null?void 0:r[0])??null})}async getCharacter(t){let e=`${this.endpoint}/characters/${t}`;return await this.fetch(e).then(r=>r.json())}async getCharacterByHandle(t){let e=`${this.endpoint}/handles/${t}/character`;return await this.fetch(e).then(r=>r.json())}},rR=class extends Xr{async searchCharacters(t,e){let r=`${this.endpoint}/characters/search?`;return r+=Mt({q:t,...e}),await this.fetch(r).then(n=>n.json())}async searchNotes(t,e){let r=`${this.endpoint}/notes/search?`;return r+=Mt({q:t,...e}),await this.fetch(r).then(n=>n.json())}},nR=class extends Xr{async getFeedsOfCharacter(t,{type:e,limit:r,cursor:n}={}){let i=`${this.endpoint}/characters/${t}/feed?`;return i+=Mt({type:e,limit:r,cursor:n}),await this.fetch(i).then(a=>a.json())}async getFollowingFeedsOfCharacter(t,{type:e,limit:r,cursor:n}={}){return this.getFeedsOfCharacterFollowing(t,{type:e,limit:r,cursor:n})}async getFeedsOfCharacterFollowing(t,{type:e,limit:r,cursor:n}={}){let i=`${this.endpoint}/characters/${t}/feed/follow?`;return i+=Mt({type:e,limit:r,cursor:n}),await this.fetch(i).then(a=>a.json())}async getFeed(t,e){let r=`${this.endpoint}/feed/${t}/${e}`;return await this.fetch(r).then(n=>n.json())}},iR=class extends Xr{async getMintedNotesOfAddress(t,{noteCharacterId:e,noteId:r,variant:n,limit:i,cursor:a,order:s}={}){let o=`${this.endpoint}/addresses/${t}/minted/notes?`;return o+=Mt({noteCharacterId:e,noteId:r,variant:n,limit:i,cursor:a,order:s}),await this.fetch(o).then(c=>c.json())}async getMintedNotesOfNote(t,e,{owner:r,limit:n,cursor:i,order:a}={}){let s=`${this.endpoint}/notes/${t}/${e}/minted?`;return s+=Mt({owner:r,limit:n,cursor:i,order:a}),await this.fetch(s).then(o=>o.json())}async getMintedNote(t,e){let r=`${this.endpoint}/minted/notes/${t}/${e}`;return await this.fetch(r).then(n=>n.json())}},aR=class extends Xr{async syncMetadataOfCharacter(t){let e=`${this.endpoint}/characters/${t}/metadata/sync`;return await this.fetch(e).then(r=>r.json())}async syncMetadataOfNote(t,e){let r=`${this.endpoint}/notes/${t}/${e}/metadata/sync`;return await this.fetch(r).then(n=>n.json())}},sR=class extends Xr{async getAchievements(t,{status:e}={}){let r=`${this.endpoint}/characters/${t}/achievements?`;return r+=Mt({status:e}),await this.fetch(r).then(n=>n.json())}async mintAchievement(t,e){let r=`${this.endpoint}/characters/${t}/achievements/${e}`;return await this.fetch(r,{method:"POST"}).then(n=>n.json())}},oR=class extends Xr{async getNotificationsOfCharacter(t,{type:e,includeCharacterMetadata:r,includeSelfInvoked:n,includeIsRead:i,read:a,limit:s,cursor:o}={}){let c=`${this.endpoint}/characters/${t}/notifications?`;return c+=Mt({type:e,includeCharacterMetadata:r,includeSelfInvoked:n,includeIsRead:i,read:a,limit:s,cursor:o}),await this.fetch(c).then(f=>f.json())}async markNotificationsAsRead(t){let e=`${this.endpoint}/characters/${t}/notifications/read`;return await this.fetch(e,{method:"POST"}).then(r=>r.json())}async getNotification(t,e,r,{includeCharacterMetadata:n}={}){let i=`${this.endpoint}/characters/${t}/notifications/${e}/${r}?`;return i+=Mt({includeCharacterMetadata:n}),await this.fetch(i).then(a=>a.json())}},cR=class extends Xr{async getCharacterOperators(t,{limit:e=20,cursor:r}={}){let n=`${this.endpoint}/characters/${t}/operators?`;return n+=Mt({limit:e,cursor:r}),await this.fetch(n).then(i=>i.json())}async getNoteOperators(t,e){let r=`${this.endpoint}/characters/${t}/notes/${e}/operators?`;return await this.fetch(r).then(n=>n.json())}async getCharacterOperator(t,e){let r=`${this.endpoint}/characters/${t}/operators/${e}`;return await this.fetch(r).then(n=>n.json())}async getNoteOperator(t,e,r){let n=`${this.endpoint}/characters/${t}/notes/${e}/operators/${r}`;return await this.fetch(n).then(i=>i.json())}},uR=class extends Xr{async getTips({characterId:t,toCharacterId:e,toNoteId:r,tokenAddress:n,includeZeroAmount:i,includeMetadata:a,limit:s,cursor:o}={}){let c=`${this.endpoint}/tips?`;return c+=Mt({characterId:t,toCharacterId:e,toNoteId:r,tokenAddress:n,includeZeroAmount:i,includeMetadata:a,limit:s,cursor:o}),await this.fetch(c).then(f=>f.json())}async getTip(t,e){let r=`${this.endpoint}/tips/${t}/${e}`;return await this.fetch(r).then(n=>n.json())}},fR=class extends Xr{async getLinkModules({targetItemType:t,toAddress:e,toCharacterId:r,toNoteId:n,toContractAddress:i,toTokenId:a,toLinklistId:s,limit:o,cursor:c}={}){let f=`${this.endpoint}/link-modules?`;return f+=Mt({targetItemType:t,toAddress:e,toCharacterId:r,toNoteId:n,toContractAddress:i,toTokenId:a,toLinklistId:s,limit:o,cursor:c}),await this.fetch(f).then(l=>l.json())}async getLinkModule(t,e){let r=`${this.endpoint}/link-modules/${t}/${e}`;return await this.fetch(r).then(n=>n.json())}},dR=class extends Xr{async getMintModules({targetItemType:t,toCharacterId:e,toNoteId:r,limit:n,cursor:i}={}){let a=`${this.endpoint}/mint-modules?`;return a+=Mt({targetItemType:t,toCharacterId:e,toNoteId:r,limit:n,cursor:i}),await this.fetch(a).then(s=>s.json())}async getMintModule(t,e){let r=`${this.endpoint}/mint-modules/${t}/${e}`;return await this.fetch(r).then(n=>n.json())}},lR=Mc(tR,XN,QN,eR,iR,rR,nR,aR,sR,oR),hR=Mc(lR,cR,uR,fR,dR),Bs=class extends hR{},pR=(t=>(t.INACTIVE="INACTIVE",t.MINTABLE="MINTABLE",t.MINTED="MINTED",t))(pR||{}),mR=(t=>(t.CREATE_CHARACTER="CREATE_CHARACTER",t.UPDATE_CHARACTER_HANDLE="UPDATE_CHARACTER_HANDLE",t.UPDATE_CHARACTER_METADATA="UPDATE_CHARACTER_METADATA",t.UPDATE_PRIMARY_CHARACTER="UPDATE_PRIMARY_CHARACTER",t.TRANSFER_CHARACTER="TRANSFER_CHARACTER",t.ADD_OPERATOR="ADD_OPERATOR",t.REMOVE_OPERATOR="REMOVE_OPERATOR",t.CREATE_LINKLIST="CREATE_LINKLIST",t.UPDATE_LINKLIST="UPDATE_LINKLIST",t.TRANSFER_LINKLIST="TRANSFER_LINKLIST",t.LINK="LINK",t.UNLINK="UNLINK",t.POST_NOTE="POST_NOTE",t.POST_NOTE_FOR_NOTE="POST_NOTE_FOR_NOTE",t.POST_NOTE_FOR_ANY_URI="POST_NOTE_FOR_ANY_URI",t.POST_NOTE_FOR_ADDRESS="POST_NOTE_FOR_ADDRESS",t.POST_NOTE_FOR_LINKLIST="POST_NOTE_FOR_LINKLIST",t.POST_NOTE_FOR_CHARACTER="POST_NOTE_FOR_CHARACTER",t.POST_NOTE_FOR_ERC721="POST_NOTE_FOR_ERC721",t.UPDATE_NOTE="UPDATE_NOTE",t.LOCK_NOTE="LOCK_NOTE",t.DELETE_NOTE="DELETE_NOTE",t.MINT_NOTE="MINT_NOTE",t.TRANSFER_MINTED_NOTE="TRANSFER_MINTED_NOTE",t.SET_LINK_MODULE="SET_LINK_MODULE",t.SET_MINT_MODULE="SET_MINT_MODULE",t.TIP_CHARACTER="TIP_CHARACTER",t))(mR||{}),yR=(t=>(t.OPERATOR_ADDED="OPERATOR_ADDED",t.OPERATOR_REMOVED="OPERATOR_REMOVED",t.LINKED="LINKED",t.UNLINKED="UNLINKED",t.NOTE_MINTED="NOTE_MINTED",t.NOTE_POSTED="NOTE_POSTED",t.MENTIONED="MENTIONED",t.TIPPED="TIPPED",t))(yR||{}),bR=(t=>(t.SET_HANDLE="SET_HANDLE",t.SET_SOCIAL_TOKEN="SET_SOCIAL_TOKEN",t.GRANT_OPERATOR_PERMISSIONS="GRANT_OPERATOR_PERMISSIONS",t.GRANT_OPERATORS_FOR_NOTE="GRANT_OPERATORS_FOR_NOTE",t.SET_CHARACTER_URI="SET_CHARACTER_URI",t.SET_LINKLIST_URI="SET_LINKLIST_URI",t.LINK_CHARACTER="LINK_CHARACTER",t.UNLINK_CHARACTER="UNLINK_CHARACTER",t.CREATE_THEN_LINK_CHARACTER="CREATE_THEN_LINK_CHARACTER",t.LINK_NOTE="LINK_NOTE",t.UNLINK_NOTE="UNLINK_NOTE",t.LINK_ERC721="LINK_ERC721",t.UNLINK_ERC721="UNLINK_ERC721",t.LINK_ADDRESS="LINK_ADDRESS",t.UNLINK_ADDRESS="UNLINK_ADDRESS",t.LINK_ANY_URI="LINK_ANY_URI",t.UNLINK_ANY_URI="UNLINK_ANY_URI",t.LINK_LINKLIST="LINK_LINKLIST",t.UNLINK_LINKLIST="UNLINK_LINKLIST",t.SET_LINK_MODULE_FOR_CHARACTER="SET_LINK_MODULE_FOR_CHARACTER",t.SET_LINK_MODULE_FOR_NOTE="SET_LINK_MODULE_FOR_NOTE",t.SET_LINK_MODULE_FOR_LINKLIST="SET_LINK_MODULE_FOR_LINKLIST",t.SET_MINT_MODULE_FOR_NOTE="SET_MINT_MODULE_FOR_NOTE",t.SET_NOTE_URI="SET_NOTE_URI",t.LOCK_NOTE="LOCK_NOTE",t.DELETE_NOTE="DELETE_NOTE",t.POST_NOTE_FOR_CHARACTER="POST_NOTE_FOR_CHARACTER",t.POST_NOTE_FOR_ADDRESS="POST_NOTE_FOR_ADDRESS",t.POST_NOTE_FOR_LINKLIST="POST_NOTE_FOR_LINKLIST",t.POST_NOTE_FOR_NOTE="POST_NOTE_FOR_NOTE",t.POST_NOTE_FOR_ERC721="POST_NOTE_FOR_ERC721",t.POST_NOTE_FOR_ANY_URI="POST_NOTE_FOR_ANY_URI",t.POST_NOTE="POST_NOTE",t))(bR||{}),Iv=class{},Sv=class{};(class extends Mc(Iv,Sv){});(class extends Mc(Iv,Sv){});function ad(){this._types=Object.create(null),this._extensions=Object.create(null);for(let t=0;t<arguments.length;t++)this.define(arguments[t]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}ad.prototype.define=function(t,e){for(let r in t){let n=t[r].map(function(i){return i.toLowerCase()});r=r.toLowerCase();for(let i=0;i<n.length;i++){const a=n[i];if(a[0]!=="*"){if(!e&&a in this._types)throw new Error('Attempt to change mapping for "'+a+'" extension from "'+this._types[a]+'" to "'+r+'". Pass `force=true` to allow this, otherwise remove "'+a+'" from the list of extensions for "'+r+'".');this._types[a]=r}}if(e||!this._extensions[r]){const i=n[0];this._extensions[r]=i[0]!=="*"?i:i.substr(1)}}};ad.prototype.getType=function(t){t=String(t);let e=t.replace(/^.*[/\\]/,"").toLowerCase(),r=e.replace(/^.*\./,"").toLowerCase(),n=e.length<t.length;return(r.length<e.length-1||!n)&&this._types[r]||null};ad.prototype.getExtension=function(t){return t=/^\s*([^;\s]*)/.test(t)&&RegExp.$1,t&&this._extensions[t.toLowerCase()]||null};var xR=ad,gR={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]},vR={"application/prs.cww":["cww"],"application/vnd.1000minds.decision-model+xml":["1km"],"application/vnd.3gpp.pic-bw-large":["plb"],"application/vnd.3gpp.pic-bw-small":["psb"],"application/vnd.3gpp.pic-bw-var":["pvb"],"application/vnd.3gpp2.tcap":["tcap"],"application/vnd.3m.post-it-notes":["pwn"],"application/vnd.accpac.simply.aso":["aso"],"application/vnd.accpac.simply.imp":["imp"],"application/vnd.acucobol":["acu"],"application/vnd.acucorp":["atc","acutc"],"application/vnd.adobe.air-application-installer-package+zip":["air"],"application/vnd.adobe.formscentral.fcdt":["fcdt"],"application/vnd.adobe.fxp":["fxp","fxpl"],"application/vnd.adobe.xdp+xml":["xdp"],"application/vnd.adobe.xfdf":["xfdf"],"application/vnd.ahead.space":["ahead"],"application/vnd.airzip.filesecure.azf":["azf"],"application/vnd.airzip.filesecure.azs":["azs"],"application/vnd.amazon.ebook":["azw"],"application/vnd.americandynamics.acc":["acc"],"application/vnd.amiga.ami":["ami"],"application/vnd.android.package-archive":["apk"],"application/vnd.anser-web-certificate-issue-initiation":["cii"],"application/vnd.anser-web-funds-transfer-initiation":["fti"],"application/vnd.antix.game-component":["atx"],"application/vnd.apple.installer+xml":["mpkg"],"application/vnd.apple.keynote":["key"],"application/vnd.apple.mpegurl":["m3u8"],"application/vnd.apple.numbers":["numbers"],"application/vnd.apple.pages":["pages"],"application/vnd.apple.pkpass":["pkpass"],"application/vnd.aristanetworks.swi":["swi"],"application/vnd.astraea-software.iota":["iota"],"application/vnd.audiograph":["aep"],"application/vnd.balsamiq.bmml+xml":["bmml"],"application/vnd.blueice.multipass":["mpm"],"application/vnd.bmi":["bmi"],"application/vnd.businessobjects":["rep"],"application/vnd.chemdraw+xml":["cdxml"],"application/vnd.chipnuts.karaoke-mmd":["mmd"],"application/vnd.cinderella":["cdy"],"application/vnd.citationstyles.style+xml":["csl"],"application/vnd.claymore":["cla"],"application/vnd.cloanto.rp9":["rp9"],"application/vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"application/vnd.cluetrust.cartomobile-config":["c11amc"],"application/vnd.cluetrust.cartomobile-config-pkg":["c11amz"],"application/vnd.commonspace":["csp"],"application/vnd.contact.cmsg":["cdbcmsg"],"application/vnd.cosmocaller":["cmc"],"application/vnd.crick.clicker":["clkx"],"application/vnd.crick.clicker.keyboard":["clkk"],"application/vnd.crick.clicker.palette":["clkp"],"application/vnd.crick.clicker.template":["clkt"],"application/vnd.crick.clicker.wordbank":["clkw"],"application/vnd.criticaltools.wbs+xml":["wbs"],"application/vnd.ctc-posml":["pml"],"application/vnd.cups-ppd":["ppd"],"application/vnd.curl.car":["car"],"application/vnd.curl.pcurl":["pcurl"],"application/vnd.dart":["dart"],"application/vnd.data-vision.rdz":["rdz"],"application/vnd.dbf":["dbf"],"application/vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"application/vnd.dece.ttml+xml":["uvt","uvvt"],"application/vnd.dece.unspecified":["uvx","uvvx"],"application/vnd.dece.zip":["uvz","uvvz"],"application/vnd.denovo.fcselayout-link":["fe_launch"],"application/vnd.dna":["dna"],"application/vnd.dolby.mlp":["mlp"],"application/vnd.dpgraph":["dpg"],"application/vnd.dreamfactory":["dfac"],"application/vnd.ds-keypoint":["kpxx"],"application/vnd.dvb.ait":["ait"],"application/vnd.dvb.service":["svc"],"application/vnd.dynageo":["geo"],"application/vnd.ecowin.chart":["mag"],"application/vnd.enliven":["nml"],"application/vnd.epson.esf":["esf"],"application/vnd.epson.msf":["msf"],"application/vnd.epson.quickanime":["qam"],"application/vnd.epson.salt":["slt"],"application/vnd.epson.ssf":["ssf"],"application/vnd.eszigno3+xml":["es3","et3"],"application/vnd.ezpix-album":["ez2"],"application/vnd.ezpix-package":["ez3"],"application/vnd.fdf":["fdf"],"application/vnd.fdsn.mseed":["mseed"],"application/vnd.fdsn.seed":["seed","dataless"],"application/vnd.flographit":["gph"],"application/vnd.fluxtime.clip":["ftc"],"application/vnd.framemaker":["fm","frame","maker","book"],"application/vnd.frogans.fnc":["fnc"],"application/vnd.frogans.ltf":["ltf"],"application/vnd.fsc.weblaunch":["fsc"],"application/vnd.fujitsu.oasys":["oas"],"application/vnd.fujitsu.oasys2":["oa2"],"application/vnd.fujitsu.oasys3":["oa3"],"application/vnd.fujitsu.oasysgp":["fg5"],"application/vnd.fujitsu.oasysprs":["bh2"],"application/vnd.fujixerox.ddd":["ddd"],"application/vnd.fujixerox.docuworks":["xdw"],"application/vnd.fujixerox.docuworks.binder":["xbd"],"application/vnd.fuzzysheet":["fzs"],"application/vnd.genomatix.tuxedo":["txd"],"application/vnd.geogebra.file":["ggb"],"application/vnd.geogebra.tool":["ggt"],"application/vnd.geometry-explorer":["gex","gre"],"application/vnd.geonext":["gxt"],"application/vnd.geoplan":["g2w"],"application/vnd.geospace":["g3w"],"application/vnd.gmx":["gmx"],"application/vnd.google-apps.document":["gdoc"],"application/vnd.google-apps.presentation":["gslides"],"application/vnd.google-apps.spreadsheet":["gsheet"],"application/vnd.google-earth.kml+xml":["kml"],"application/vnd.google-earth.kmz":["kmz"],"application/vnd.grafeq":["gqf","gqs"],"application/vnd.groove-account":["gac"],"application/vnd.groove-help":["ghf"],"application/vnd.groove-identity-message":["gim"],"application/vnd.groove-injector":["grv"],"application/vnd.groove-tool-message":["gtm"],"application/vnd.groove-tool-template":["tpl"],"application/vnd.groove-vcard":["vcg"],"application/vnd.hal+xml":["hal"],"application/vnd.handheld-entertainment+xml":["zmm"],"application/vnd.hbci":["hbci"],"application/vnd.hhe.lesson-player":["les"],"application/vnd.hp-hpgl":["hpgl"],"application/vnd.hp-hpid":["hpid"],"application/vnd.hp-hps":["hps"],"application/vnd.hp-jlyt":["jlt"],"application/vnd.hp-pcl":["pcl"],"application/vnd.hp-pclxl":["pclxl"],"application/vnd.hydrostatix.sof-data":["sfd-hdstx"],"application/vnd.ibm.minipay":["mpy"],"application/vnd.ibm.modcap":["afp","listafp","list3820"],"application/vnd.ibm.rights-management":["irm"],"application/vnd.ibm.secure-container":["sc"],"application/vnd.iccprofile":["icc","icm"],"application/vnd.igloader":["igl"],"application/vnd.immervision-ivp":["ivp"],"application/vnd.immervision-ivu":["ivu"],"application/vnd.insors.igm":["igm"],"application/vnd.intercon.formnet":["xpw","xpx"],"application/vnd.intergeo":["i2g"],"application/vnd.intu.qbo":["qbo"],"application/vnd.intu.qfx":["qfx"],"application/vnd.ipunplugged.rcprofile":["rcprofile"],"application/vnd.irepository.package+xml":["irp"],"application/vnd.is-xpr":["xpr"],"application/vnd.isac.fcs":["fcs"],"application/vnd.jam":["jam"],"application/vnd.jcp.javame.midlet-rms":["rms"],"application/vnd.jisp":["jisp"],"application/vnd.joost.joda-archive":["joda"],"application/vnd.kahootz":["ktz","ktr"],"application/vnd.kde.karbon":["karbon"],"application/vnd.kde.kchart":["chrt"],"application/vnd.kde.kformula":["kfo"],"application/vnd.kde.kivio":["flw"],"application/vnd.kde.kontour":["kon"],"application/vnd.kde.kpresenter":["kpr","kpt"],"application/vnd.kde.kspread":["ksp"],"application/vnd.kde.kword":["kwd","kwt"],"application/vnd.kenameaapp":["htke"],"application/vnd.kidspiration":["kia"],"application/vnd.kinar":["kne","knp"],"application/vnd.koan":["skp","skd","skt","skm"],"application/vnd.kodak-descriptor":["sse"],"application/vnd.las.las+xml":["lasxml"],"application/vnd.llamagraphics.life-balance.desktop":["lbd"],"application/vnd.llamagraphics.life-balance.exchange+xml":["lbe"],"application/vnd.lotus-1-2-3":["123"],"application/vnd.lotus-approach":["apr"],"application/vnd.lotus-freelance":["pre"],"application/vnd.lotus-notes":["nsf"],"application/vnd.lotus-organizer":["org"],"application/vnd.lotus-screencam":["scm"],"application/vnd.lotus-wordpro":["lwp"],"application/vnd.macports.portpkg":["portpkg"],"application/vnd.mapbox-vector-tile":["mvt"],"application/vnd.mcd":["mcd"],"application/vnd.medcalcdata":["mc1"],"application/vnd.mediastation.cdkey":["cdkey"],"application/vnd.mfer":["mwf"],"application/vnd.mfmp":["mfm"],"application/vnd.micrografx.flo":["flo"],"application/vnd.micrografx.igx":["igx"],"application/vnd.mif":["mif"],"application/vnd.mobius.daf":["daf"],"application/vnd.mobius.dis":["dis"],"application/vnd.mobius.mbk":["mbk"],"application/vnd.mobius.mqy":["mqy"],"application/vnd.mobius.msl":["msl"],"application/vnd.mobius.plc":["plc"],"application/vnd.mobius.txf":["txf"],"application/vnd.mophun.application":["mpn"],"application/vnd.mophun.certificate":["mpc"],"application/vnd.mozilla.xul+xml":["xul"],"application/vnd.ms-artgalry":["cil"],"application/vnd.ms-cab-compressed":["cab"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.addin.macroenabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroenabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.ms-excel.template.macroenabled.12":["xltm"],"application/vnd.ms-fontobject":["eot"],"application/vnd.ms-htmlhelp":["chm"],"application/vnd.ms-ims":["ims"],"application/vnd.ms-lrm":["lrm"],"application/vnd.ms-officetheme":["thmx"],"application/vnd.ms-outlook":["msg"],"application/vnd.ms-pki.seccat":["cat"],"application/vnd.ms-pki.stl":["*stl"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.ms-powerpoint.addin.macroenabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroenabled.12":["pptm"],"application/vnd.ms-powerpoint.slide.macroenabled.12":["sldm"],"application/vnd.ms-powerpoint.slideshow.macroenabled.12":["ppsm"],"application/vnd.ms-powerpoint.template.macroenabled.12":["potm"],"application/vnd.ms-project":["mpp","mpt"],"application/vnd.ms-word.document.macroenabled.12":["docm"],"application/vnd.ms-word.template.macroenabled.12":["dotm"],"application/vnd.ms-works":["wps","wks","wcm","wdb"],"application/vnd.ms-wpl":["wpl"],"application/vnd.ms-xpsdocument":["xps"],"application/vnd.mseq":["mseq"],"application/vnd.musician":["mus"],"application/vnd.muvee.style":["msty"],"application/vnd.mynfc":["taglet"],"application/vnd.neurolanguage.nlu":["nlu"],"application/vnd.nitf":["ntf","nitf"],"application/vnd.noblenet-directory":["nnd"],"application/vnd.noblenet-sealer":["nns"],"application/vnd.noblenet-web":["nnw"],"application/vnd.nokia.n-gage.ac+xml":["*ac"],"application/vnd.nokia.n-gage.data":["ngdat"],"application/vnd.nokia.n-gage.symbian.install":["n-gage"],"application/vnd.nokia.radio-preset":["rpst"],"application/vnd.nokia.radio-presets":["rpss"],"application/vnd.novadigm.edm":["edm"],"application/vnd.novadigm.edx":["edx"],"application/vnd.novadigm.ext":["ext"],"application/vnd.oasis.opendocument.chart":["odc"],"application/vnd.oasis.opendocument.chart-template":["otc"],"application/vnd.oasis.opendocument.database":["odb"],"application/vnd.oasis.opendocument.formula":["odf"],"application/vnd.oasis.opendocument.formula-template":["odft"],"application/vnd.oasis.opendocument.graphics":["odg"],"application/vnd.oasis.opendocument.graphics-template":["otg"],"application/vnd.oasis.opendocument.image":["odi"],"application/vnd.oasis.opendocument.image-template":["oti"],"application/vnd.oasis.opendocument.presentation":["odp"],"application/vnd.oasis.opendocument.presentation-template":["otp"],"application/vnd.oasis.opendocument.spreadsheet":["ods"],"application/vnd.oasis.opendocument.spreadsheet-template":["ots"],"application/vnd.oasis.opendocument.text":["odt"],"application/vnd.oasis.opendocument.text-master":["odm"],"application/vnd.oasis.opendocument.text-template":["ott"],"application/vnd.oasis.opendocument.text-web":["oth"],"application/vnd.olpc-sugar":["xo"],"application/vnd.oma.dd2+xml":["dd2"],"application/vnd.openblox.game+xml":["obgx"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openstreetmap.data+xml":["osm"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.osgeo.mapguide.package":["mgp"],"application/vnd.osgi.dp":["dp"],"application/vnd.osgi.subsystem":["esa"],"application/vnd.palm":["pdb","pqa","oprc"],"application/vnd.pawaafile":["paw"],"application/vnd.pg.format":["str"],"application/vnd.pg.osasli":["ei6"],"application/vnd.picsel":["efif"],"application/vnd.pmi.widget":["wg"],"application/vnd.pocketlearn":["plf"],"application/vnd.powerbuilder6":["pbd"],"application/vnd.previewsystems.box":["box"],"application/vnd.proteus.magazine":["mgz"],"application/vnd.publishare-delta-tree":["qps"],"application/vnd.pvi.ptid1":["ptid"],"application/vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"application/vnd.rar":["rar"],"application/vnd.realvnc.bed":["bed"],"application/vnd.recordare.musicxml":["mxl"],"application/vnd.recordare.musicxml+xml":["musicxml"],"application/vnd.rig.cryptonote":["cryptonote"],"application/vnd.rim.cod":["cod"],"application/vnd.rn-realmedia":["rm"],"application/vnd.rn-realmedia-vbr":["rmvb"],"application/vnd.route66.link66+xml":["link66"],"application/vnd.sailingtracker.track":["st"],"application/vnd.seemail":["see"],"application/vnd.sema":["sema"],"application/vnd.semd":["semd"],"application/vnd.semf":["semf"],"application/vnd.shana.informed.formdata":["ifm"],"application/vnd.shana.informed.formtemplate":["itp"],"application/vnd.shana.informed.interchange":["iif"],"application/vnd.shana.informed.package":["ipk"],"application/vnd.simtech-mindmapper":["twd","twds"],"application/vnd.smaf":["mmf"],"application/vnd.smart.teacher":["teacher"],"application/vnd.software602.filler.form+xml":["fo"],"application/vnd.solent.sdkm+xml":["sdkm","sdkd"],"application/vnd.spotfire.dxp":["dxp"],"application/vnd.spotfire.sfs":["sfs"],"application/vnd.stardivision.calc":["sdc"],"application/vnd.stardivision.draw":["sda"],"application/vnd.stardivision.impress":["sdd"],"application/vnd.stardivision.math":["smf"],"application/vnd.stardivision.writer":["sdw","vor"],"application/vnd.stardivision.writer-global":["sgl"],"application/vnd.stepmania.package":["smzip"],"application/vnd.stepmania.stepchart":["sm"],"application/vnd.sun.wadl+xml":["wadl"],"application/vnd.sun.xml.calc":["sxc"],"application/vnd.sun.xml.calc.template":["stc"],"application/vnd.sun.xml.draw":["sxd"],"application/vnd.sun.xml.draw.template":["std"],"application/vnd.sun.xml.impress":["sxi"],"application/vnd.sun.xml.impress.template":["sti"],"application/vnd.sun.xml.math":["sxm"],"application/vnd.sun.xml.writer":["sxw"],"application/vnd.sun.xml.writer.global":["sxg"],"application/vnd.sun.xml.writer.template":["stw"],"application/vnd.sus-calendar":["sus","susp"],"application/vnd.svd":["svd"],"application/vnd.symbian.install":["sis","sisx"],"application/vnd.syncml+xml":["xsm"],"application/vnd.syncml.dm+wbxml":["bdm"],"application/vnd.syncml.dm+xml":["xdm"],"application/vnd.syncml.dmddf+xml":["ddf"],"application/vnd.tao.intent-module-archive":["tao"],"application/vnd.tcpdump.pcap":["pcap","cap","dmp"],"application/vnd.tmobile-livetv":["tmo"],"application/vnd.trid.tpt":["tpt"],"application/vnd.triscape.mxs":["mxs"],"application/vnd.trueapp":["tra"],"application/vnd.ufdl":["ufd","ufdl"],"application/vnd.uiq.theme":["utz"],"application/vnd.umajin":["umj"],"application/vnd.unity":["unityweb"],"application/vnd.uoml+xml":["uoml"],"application/vnd.vcx":["vcx"],"application/vnd.visio":["vsd","vst","vss","vsw"],"application/vnd.visionary":["vis"],"application/vnd.vsf":["vsf"],"application/vnd.wap.wbxml":["wbxml"],"application/vnd.wap.wmlc":["wmlc"],"application/vnd.wap.wmlscriptc":["wmlsc"],"application/vnd.webturbo":["wtb"],"application/vnd.wolfram.player":["nbp"],"application/vnd.wordperfect":["wpd"],"application/vnd.wqd":["wqd"],"application/vnd.wt.stf":["stf"],"application/vnd.xara":["xar"],"application/vnd.xfdl":["xfdl"],"application/vnd.yamaha.hv-dic":["hvd"],"application/vnd.yamaha.hv-script":["hvs"],"application/vnd.yamaha.hv-voice":["hvp"],"application/vnd.yamaha.openscoreformat":["osf"],"application/vnd.yamaha.openscoreformat.osfpvg+xml":["osfpvg"],"application/vnd.yamaha.smaf-audio":["saf"],"application/vnd.yamaha.smaf-phrase":["spf"],"application/vnd.yellowriver-custom-menu":["cmp"],"application/vnd.zul":["zir","zirz"],"application/vnd.zzazz.deck+xml":["zaz"],"application/x-7z-compressed":["7z"],"application/x-abiword":["abw"],"application/x-ace-compressed":["ace"],"application/x-apple-diskimage":["*dmg"],"application/x-arj":["arj"],"application/x-authorware-bin":["aab","x32","u32","vox"],"application/x-authorware-map":["aam"],"application/x-authorware-seg":["aas"],"application/x-bcpio":["bcpio"],"application/x-bdoc":["*bdoc"],"application/x-bittorrent":["torrent"],"application/x-blorb":["blb","blorb"],"application/x-bzip":["bz"],"application/x-bzip2":["bz2","boz"],"application/x-cbr":["cbr","cba","cbt","cbz","cb7"],"application/x-cdlink":["vcd"],"application/x-cfs-compressed":["cfs"],"application/x-chat":["chat"],"application/x-chess-pgn":["pgn"],"application/x-chrome-extension":["crx"],"application/x-cocoa":["cco"],"application/x-conference":["nsc"],"application/x-cpio":["cpio"],"application/x-csh":["csh"],"application/x-debian-package":["*deb","udeb"],"application/x-dgc-compressed":["dgc"],"application/x-director":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],"application/x-doom":["wad"],"application/x-dtbncx+xml":["ncx"],"application/x-dtbook+xml":["dtb"],"application/x-dtbresource+xml":["res"],"application/x-dvi":["dvi"],"application/x-envoy":["evy"],"application/x-eva":["eva"],"application/x-font-bdf":["bdf"],"application/x-font-ghostscript":["gsf"],"application/x-font-linux-psf":["psf"],"application/x-font-pcf":["pcf"],"application/x-font-snf":["snf"],"application/x-font-type1":["pfa","pfb","pfm","afm"],"application/x-freearc":["arc"],"application/x-futuresplash":["spl"],"application/x-gca-compressed":["gca"],"application/x-glulx":["ulx"],"application/x-gnumeric":["gnumeric"],"application/x-gramps-xml":["gramps"],"application/x-gtar":["gtar"],"application/x-hdf":["hdf"],"application/x-httpd-php":["php"],"application/x-install-instructions":["install"],"application/x-iso9660-image":["*iso"],"application/x-iwork-keynote-sffkey":["*key"],"application/x-iwork-numbers-sffnumbers":["*numbers"],"application/x-iwork-pages-sffpages":["*pages"],"application/x-java-archive-diff":["jardiff"],"application/x-java-jnlp-file":["jnlp"],"application/x-keepass2":["kdbx"],"application/x-latex":["latex"],"application/x-lua-bytecode":["luac"],"application/x-lzh-compressed":["lzh","lha"],"application/x-makeself":["run"],"application/x-mie":["mie"],"application/x-mobipocket-ebook":["prc","mobi"],"application/x-ms-application":["application"],"application/x-ms-shortcut":["lnk"],"application/x-ms-wmd":["wmd"],"application/x-ms-wmz":["wmz"],"application/x-ms-xbap":["xbap"],"application/x-msaccess":["mdb"],"application/x-msbinder":["obd"],"application/x-mscardfile":["crd"],"application/x-msclip":["clp"],"application/x-msdos-program":["*exe"],"application/x-msdownload":["*exe","*dll","com","bat","*msi"],"application/x-msmediaview":["mvb","m13","m14"],"application/x-msmetafile":["*wmf","*wmz","*emf","emz"],"application/x-msmoney":["mny"],"application/x-mspublisher":["pub"],"application/x-msschedule":["scd"],"application/x-msterminal":["trm"],"application/x-mswrite":["wri"],"application/x-netcdf":["nc","cdf"],"application/x-ns-proxy-autoconfig":["pac"],"application/x-nzb":["nzb"],"application/x-perl":["pl","pm"],"application/x-pilot":["*prc","*pdb"],"application/x-pkcs12":["p12","pfx"],"application/x-pkcs7-certificates":["p7b","spc"],"application/x-pkcs7-certreqresp":["p7r"],"application/x-rar-compressed":["*rar"],"application/x-redhat-package-manager":["rpm"],"application/x-research-info-systems":["ris"],"application/x-sea":["sea"],"application/x-sh":["sh"],"application/x-shar":["shar"],"application/x-shockwave-flash":["swf"],"application/x-silverlight-app":["xap"],"application/x-sql":["sql"],"application/x-stuffit":["sit"],"application/x-stuffitx":["sitx"],"application/x-subrip":["srt"],"application/x-sv4cpio":["sv4cpio"],"application/x-sv4crc":["sv4crc"],"application/x-t3vm-image":["t3"],"application/x-tads":["gam"],"application/x-tar":["tar"],"application/x-tcl":["tcl","tk"],"application/x-tex":["tex"],"application/x-tex-tfm":["tfm"],"application/x-texinfo":["texinfo","texi"],"application/x-tgif":["*obj"],"application/x-ustar":["ustar"],"application/x-virtualbox-hdd":["hdd"],"application/x-virtualbox-ova":["ova"],"application/x-virtualbox-ovf":["ovf"],"application/x-virtualbox-vbox":["vbox"],"application/x-virtualbox-vbox-extpack":["vbox-extpack"],"application/x-virtualbox-vdi":["vdi"],"application/x-virtualbox-vhd":["vhd"],"application/x-virtualbox-vmdk":["vmdk"],"application/x-wais-source":["src"],"application/x-web-app-manifest+json":["webapp"],"application/x-x509-ca-cert":["der","crt","pem"],"application/x-xfig":["fig"],"application/x-xliff+xml":["*xlf"],"application/x-xpinstall":["xpi"],"application/x-xz":["xz"],"application/x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts":["dts"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.rip":["rip"],"audio/x-aac":["aac"],"audio/x-aiff":["aif","aiff","aifc"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-m4a":["*m4a"],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-pn-realaudio":["ram","ra"],"audio/x-pn-realaudio-plugin":["rmp"],"audio/x-realaudio":["*ra"],"audio/x-wav":["*wav"],"chemical/x-cdx":["cdx"],"chemical/x-cif":["cif"],"chemical/x-cmdf":["cmdf"],"chemical/x-cml":["cml"],"chemical/x-csml":["csml"],"chemical/x-xyz":["xyz"],"image/prs.btif":["btif"],"image/prs.pti":["pti"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.airzip.accelerator.azv":["azv"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":["*sub"],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.microsoft.icon":["ico"],"image/vnd.ms-dds":["dds"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.pco.b16":["b16"],"image/vnd.tencent.tap":["tap"],"image/vnd.valve.source.texture":["vtf"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/vnd.zbrush.pcx":["pcx"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["*ico"],"image/x-jng":["jng"],"image/x-mrsid-image":["sid"],"image/x-ms-bmp":["*bmp"],"image/x-pcx":["*pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"],"message/vnd.wfa.wsc":["wsc"],"model/vnd.collada+xml":["dae"],"model/vnd.dwf":["dwf"],"model/vnd.gdl":["gdl"],"model/vnd.gtw":["gtw"],"model/vnd.mts":["mts"],"model/vnd.opengex":["ogex"],"model/vnd.parasolid.transmit.binary":["x_b"],"model/vnd.parasolid.transmit.text":["x_t"],"model/vnd.sap.vds":["vds"],"model/vnd.usdz+zip":["usdz"],"model/vnd.valve.source.compiled-map":["bsp"],"model/vnd.vtu":["vtu"],"text/prs.lines.tag":["dsc"],"text/vnd.curl":["curl"],"text/vnd.curl.dcurl":["dcurl"],"text/vnd.curl.mcurl":["mcurl"],"text/vnd.curl.scurl":["scurl"],"text/vnd.dvb.subtitle":["sub"],"text/vnd.fly":["fly"],"text/vnd.fmi.flexstor":["flx"],"text/vnd.graphviz":["gv"],"text/vnd.in3d.3dml":["3dml"],"text/vnd.in3d.spot":["spot"],"text/vnd.sun.j2me.app-descriptor":["jad"],"text/vnd.wap.wml":["wml"],"text/vnd.wap.wmlscript":["wmls"],"text/x-asm":["s","asm"],"text/x-c":["c","cc","cxx","cpp","h","hh","dic"],"text/x-component":["htc"],"text/x-fortran":["f","for","f77","f90"],"text/x-handlebars-template":["hbs"],"text/x-java-source":["java"],"text/x-lua":["lua"],"text/x-markdown":["mkd"],"text/x-nfo":["nfo"],"text/x-opml":["opml"],"text/x-org":["*org"],"text/x-pascal":["p","pas"],"text/x-processing":["pde"],"text/x-sass":["sass"],"text/x-scss":["scss"],"text/x-setext":["etx"],"text/x-sfv":["sfv"],"text/x-suse-ymp":["ymp"],"text/x-uuencode":["uu"],"text/x-vcalendar":["vcs"],"text/x-vcard":["vcf"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["mxu","m4u"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-ms-asf":["asf","asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/x-msvideo":["avi"],"video/x-sgi-movie":["movie"],"video/x-smv":["smv"],"x-conference/x-cooltalk":["ice"]};let wR=xR;var _R=new wR(gR,vR);const AR=Wn(_R);function Cv(t,e){return function(){return t.apply(e,arguments)}}const{toString:ER}=Object.prototype,{getPrototypeOf:mp}=Object,sd=(t=>e=>{const r=ER.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),qi=t=>(t=t.toLowerCase(),e=>sd(e)===t),od=t=>e=>typeof e===t,{isArray:co}=Array,lc=od("undefined");function TR(t){return t!==null&&!lc(t)&&t.constructor!==null&&!lc(t.constructor)&&Fi(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Nv=qi("ArrayBuffer");function MR(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Nv(t.buffer),e}const kR=od("string"),Fi=od("function"),Rv=od("number"),yp=t=>t!==null&&typeof t=="object",IR=t=>t===!0||t===!1,pu=t=>{if(sd(t)!=="object")return!1;const e=mp(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},SR=qi("Date"),CR=qi("File"),NR=qi("Blob"),RR=qi("FileList"),PR=t=>yp(t)&&Fi(t.pipe),OR=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Fi(t.append)&&((e=sd(t))==="formdata"||e==="object"&&Fi(t.toString)&&t.toString()==="[object FormData]"))},BR=qi("URLSearchParams"),LR=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Lc(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),co(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{const a=r?Object.getOwnPropertyNames(t):Object.keys(t),s=a.length;let o;for(n=0;n<s;n++)o=a[n],e.call(null,t[o],o,t)}}function Pv(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const Ov=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Bv=t=>!lc(t)&&t!==Ov;function R0(){const{caseless:t}=Bv(this)&&this||{},e={},r=(n,i)=>{const a=t&&Pv(e,i)||i;pu(e[a])&&pu(n)?e[a]=R0(e[a],n):pu(n)?e[a]=R0({},n):co(n)?e[a]=n.slice():e[a]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Lc(arguments[n],r);return e}const DR=(t,e,r,{allOwnKeys:n}={})=>(Lc(e,(i,a)=>{r&&Fi(i)?t[a]=Cv(i,r):t[a]=i},{allOwnKeys:n}),t),FR=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),UR=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},$R=(t,e,r,n)=>{let i,a,s;const o={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),a=i.length;a-- >0;)s=i[a],(!n||n(s,t,e))&&!o[s]&&(e[s]=t[s],o[s]=!0);t=r!==!1&&mp(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},HR=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},zR=t=>{if(!t)return null;if(co(t))return t;let e=t.length;if(!Rv(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},qR=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&mp(Uint8Array)),jR=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=n.next())&&!i.done;){const a=i.value;e.call(t,a[0],a[1])}},KR=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},GR=qi("HTMLFormElement"),VR=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),Zy=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),WR=qi("RegExp"),Lv=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Lc(r,(i,a)=>{e(i,a,t)!==!1&&(n[a]=i)}),Object.defineProperties(t,n)},JR=t=>{Lv(t,(e,r)=>{if(Fi(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(Fi(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},YR=(t,e)=>{const r={},n=i=>{i.forEach(a=>{r[a]=!0})};return co(t)?n(t):n(String(t).split(e)),r},ZR=()=>{},QR=(t,e)=>(t=+t,Number.isFinite(t)?t:e),ll="abcdefghijklmnopqrstuvwxyz",Qy="0123456789",Dv={DIGIT:Qy,ALPHA:ll,ALPHA_DIGIT:ll+ll.toUpperCase()+Qy},XR=(t=16,e=Dv.ALPHA_DIGIT)=>{let r="";const{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r};function eP(t){return!!(t&&Fi(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const tP=t=>{const e=new Array(10),r=(n,i)=>{if(yp(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;const a=co(n)?[]:{};return Lc(n,(s,o)=>{const c=r(s,i+1);!lc(c)&&(a[o]=c)}),e[i]=void 0,a}}return n};return r(t,0)},X={isArray:co,isArrayBuffer:Nv,isBuffer:TR,isFormData:OR,isArrayBufferView:MR,isString:kR,isNumber:Rv,isBoolean:IR,isObject:yp,isPlainObject:pu,isUndefined:lc,isDate:SR,isFile:CR,isBlob:NR,isRegExp:WR,isFunction:Fi,isStream:PR,isURLSearchParams:BR,isTypedArray:qR,isFileList:RR,forEach:Lc,merge:R0,extend:DR,trim:LR,stripBOM:FR,inherits:UR,toFlatObject:$R,kindOf:sd,kindOfTest:qi,endsWith:HR,toArray:zR,forEachEntry:jR,matchAll:KR,isHTMLForm:GR,hasOwnProperty:Zy,hasOwnProp:Zy,reduceDescriptors:Lv,freezeMethods:JR,toObjectSet:YR,toCamelCase:VR,noop:ZR,toFiniteNumber:QR,findKey:Pv,global:Ov,isContextDefined:Bv,ALPHABET:Dv,generateString:XR,isSpecCompliantForm:eP,toJSONObject:tP};function gt(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}X.inherits(gt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:X.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Fv=gt.prototype,Uv={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Uv[t]={value:t}});Object.defineProperties(gt,Uv);Object.defineProperty(Fv,"isAxiosError",{value:!0});gt.from=(t,e,r,n,i,a)=>{const s=Object.create(Fv);return X.toFlatObject(t,s,function(c){return c!==Error.prototype},o=>o!=="isAxiosError"),gt.call(s,t.message,e,r,n,i),s.cause=t,s.name=t.name,a&&Object.assign(s,a),s};const rP=null;function P0(t){return X.isPlainObject(t)||X.isArray(t)}function $v(t){return X.endsWith(t,"[]")?t.slice(0,-2):t}function Xy(t,e,r){return t?t.concat(e).map(function(i,a){return i=$v(i),!r&&a?"["+i+"]":i}).join(r?".":""):e}function nP(t){return X.isArray(t)&&!t.some(P0)}const iP=X.toFlatObject(X,{},null,function(e){return/^is[A-Z]/.test(e)});function cd(t,e,r){if(!X.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=X.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(k,I){return!X.isUndefined(I[k])});const n=r.metaTokens,i=r.visitor||l,a=r.dots,s=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&X.isSpecCompliantForm(e);if(!X.isFunction(i))throw new TypeError("visitor must be a function");function f(M){if(M===null)return"";if(X.isDate(M))return M.toISOString();if(!c&&X.isBlob(M))throw new gt("Blob is not supported. Use a Buffer instead.");return X.isArrayBuffer(M)||X.isTypedArray(M)?c&&typeof Blob=="function"?new Blob([M]):Buffer.from(M):M}function l(M,k,I){let C=M;if(M&&!I&&typeof M=="object"){if(X.endsWith(k,"{}"))k=n?k:k.slice(0,-2),M=JSON.stringify(M);else if(X.isArray(M)&&nP(M)||(X.isFileList(M)||X.endsWith(k,"[]"))&&(C=X.toArray(M)))return k=$v(k),C.forEach(function(D,F){!(X.isUndefined(D)||D===null)&&e.append(s===!0?Xy([k],F,a):s===null?k:k+"[]",f(D))}),!1}return P0(M)?!0:(e.append(Xy(I,k,a),f(M)),!1)}const x=[],A=Object.assign(iP,{defaultVisitor:l,convertValue:f,isVisitable:P0});function S(M,k){if(!X.isUndefined(M)){if(x.indexOf(M)!==-1)throw Error("Circular reference detected in "+k.join("."));x.push(M),X.forEach(M,function(C,R){(!(X.isUndefined(C)||C===null)&&i.call(e,C,X.isString(R)?R.trim():R,k,A))===!0&&S(C,k?k.concat(R):[R])}),x.pop()}}if(!X.isObject(t))throw new TypeError("data must be an object");return S(t),e}function eb(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function bp(t,e){this._pairs=[],t&&cd(t,this,e)}const Hv=bp.prototype;Hv.append=function(e,r){this._pairs.push([e,r])};Hv.toString=function(e){const r=e?function(n){return e.call(this,n,eb)}:eb;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function aP(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function zv(t,e,r){if(!e)return t;const n=r&&r.encode||aP,i=r&&r.serialize;let a;if(i?a=i(e,r):a=X.isURLSearchParams(e)?e.toString():new bp(e,r).toString(n),a){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class sP{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){X.forEach(this.handlers,function(n){n!==null&&e(n)})}}const tb=sP,qv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},oP=typeof URLSearchParams<"u"?URLSearchParams:bp,cP=typeof FormData<"u"?FormData:null,uP=typeof Blob<"u"?Blob:null,fP=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),dP=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),fi={isBrowser:!0,classes:{URLSearchParams:oP,FormData:cP,Blob:uP},isStandardBrowserEnv:fP,isStandardBrowserWebWorkerEnv:dP,protocols:["http","https","file","blob","url","data"]};function lP(t,e){return cd(t,new fi.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,a){return fi.isNode&&X.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function hP(t){return X.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function pP(t){const e={},r=Object.keys(t);let n;const i=r.length;let a;for(n=0;n<i;n++)a=r[n],e[a]=t[a];return e}function jv(t){function e(r,n,i,a){let s=r[a++];const o=Number.isFinite(+s),c=a>=r.length;return s=!s&&X.isArray(i)?i.length:s,c?(X.hasOwnProp(i,s)?i[s]=[i[s],n]:i[s]=n,!o):((!i[s]||!X.isObject(i[s]))&&(i[s]=[]),e(r,n,i[s],a)&&X.isArray(i[s])&&(i[s]=pP(i[s])),!o)}if(X.isFormData(t)&&X.isFunction(t.entries)){const r={};return X.forEachEntry(t,(n,i)=>{e(hP(n),i,r,0)}),r}return null}const mP={"Content-Type":void 0};function yP(t,e,r){if(X.isString(t))try{return(e||JSON.parse)(t),X.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const ud={transitional:qv,adapter:["xhr","http"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,a=X.isObject(e);if(a&&X.isHTMLForm(e)&&(e=new FormData(e)),X.isFormData(e))return i&&i?JSON.stringify(jv(e)):e;if(X.isArrayBuffer(e)||X.isBuffer(e)||X.isStream(e)||X.isFile(e)||X.isBlob(e))return e;if(X.isArrayBufferView(e))return e.buffer;if(X.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return lP(e,this.formSerializer).toString();if((o=X.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return cd(o?{"files[]":e}:e,c&&new c,this.formSerializer)}}return a||i?(r.setContentType("application/json",!1),yP(e)):e}],transformResponse:[function(e){const r=this.transitional||ud.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(e&&X.isString(e)&&(n&&!this.responseType||i)){const s=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(o){if(s)throw o.name==="SyntaxError"?gt.from(o,gt.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:fi.classes.FormData,Blob:fi.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};X.forEach(["delete","get","head"],function(e){ud.headers[e]={}});X.forEach(["post","put","patch"],function(e){ud.headers[e]=X.merge(mP)});const xp=ud,bP=X.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),xP=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(s){i=s.indexOf(":"),r=s.substring(0,i).trim().toLowerCase(),n=s.substring(i+1).trim(),!(!r||e[r]&&bP[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},rb=Symbol("internals");function ko(t){return t&&String(t).trim().toLowerCase()}function mu(t){return t===!1||t==null?t:X.isArray(t)?t.map(mu):String(t)}function gP(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const vP=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function hl(t,e,r,n,i){if(X.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!X.isString(e)){if(X.isString(n))return e.indexOf(n)!==-1;if(X.isRegExp(n))return n.test(e)}}function wP(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function _P(t,e){const r=X.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,a,s){return this[n].call(this,e,i,a,s)},configurable:!0})})}class fd{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function a(o,c,f){const l=ko(c);if(!l)throw new Error("header name must be a non-empty string");const x=X.findKey(i,l);(!x||i[x]===void 0||f===!0||f===void 0&&i[x]!==!1)&&(i[x||c]=mu(o))}const s=(o,c)=>X.forEach(o,(f,l)=>a(f,l,c));return X.isPlainObject(e)||e instanceof this.constructor?s(e,r):X.isString(e)&&(e=e.trim())&&!vP(e)?s(xP(e),r):e!=null&&a(r,e,n),this}get(e,r){if(e=ko(e),e){const n=X.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return gP(i);if(X.isFunction(r))return r.call(this,i,n);if(X.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=ko(e),e){const n=X.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||hl(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function a(s){if(s=ko(s),s){const o=X.findKey(n,s);o&&(!r||hl(n,n[o],o,r))&&(delete n[o],i=!0)}}return X.isArray(e)?e.forEach(a):a(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const a=r[n];(!e||hl(this,this[a],a,e,!0))&&(delete this[a],i=!0)}return i}normalize(e){const r=this,n={};return X.forEach(this,(i,a)=>{const s=X.findKey(n,a);if(s){r[s]=mu(i),delete r[a];return}const o=e?wP(a):String(a).trim();o!==a&&delete r[a],r[o]=mu(i),n[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return X.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&X.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[rb]=this[rb]={accessors:{}}).accessors,i=this.prototype;function a(s){const o=ko(s);n[o]||(_P(i,s),n[o]=!0)}return X.isArray(e)?e.forEach(a):a(e),this}}fd.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);X.freezeMethods(fd.prototype);X.freezeMethods(fd);const Ni=fd;function pl(t,e){const r=this||xp,n=e||r,i=Ni.from(n.headers);let a=n.data;return X.forEach(t,function(o){a=o.call(r,a,i.normalize(),e?e.status:void 0)}),i.normalize(),a}function Kv(t){return!!(t&&t.__CANCEL__)}function Dc(t,e,r){gt.call(this,t??"canceled",gt.ERR_CANCELED,e,r),this.name="CanceledError"}X.inherits(Dc,gt,{__CANCEL__:!0});function AP(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new gt("Request failed with status code "+r.status,[gt.ERR_BAD_REQUEST,gt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const EP=fi.isStandardBrowserEnv?function(){return{write:function(r,n,i,a,s,o){const c=[];c.push(r+"="+encodeURIComponent(n)),X.isNumber(i)&&c.push("expires="+new Date(i).toGMTString()),X.isString(a)&&c.push("path="+a),X.isString(s)&&c.push("domain="+s),o===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(r){const n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function TP(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function MP(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function Gv(t,e){return t&&!TP(e)?MP(t,e):e}const kP=fi.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let n;function i(a){let s=a;return e&&(r.setAttribute("href",s),s=r.href),r.setAttribute("href",s),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(s){const o=X.isString(s)?i(s):s;return o.protocol===n.protocol&&o.host===n.host}}():function(){return function(){return!0}}();function IP(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function SP(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,a=0,s;return e=e!==void 0?e:1e3,function(c){const f=Date.now(),l=n[a];s||(s=f),r[i]=c,n[i]=f;let x=a,A=0;for(;x!==i;)A+=r[x++],x=x%t;if(i=(i+1)%t,i===a&&(a=(a+1)%t),f-s<e)return;const S=l&&f-l;return S?Math.round(A*1e3/S):void 0}}function nb(t,e){let r=0;const n=SP(50,250);return i=>{const a=i.loaded,s=i.lengthComputable?i.total:void 0,o=a-r,c=n(o),f=a<=s;r=a;const l={loaded:a,total:s,progress:s?a/s:void 0,bytes:o,rate:c||void 0,estimated:c&&s&&f?(s-a)/c:void 0,event:i};l[e?"download":"upload"]=!0,t(l)}}const CP=typeof XMLHttpRequest<"u",NP=CP&&function(t){return new Promise(function(r,n){let i=t.data;const a=Ni.from(t.headers).normalize(),s=t.responseType;let o;function c(){t.cancelToken&&t.cancelToken.unsubscribe(o),t.signal&&t.signal.removeEventListener("abort",o)}X.isFormData(i)&&(fi.isStandardBrowserEnv||fi.isStandardBrowserWebWorkerEnv)&&a.setContentType(!1);let f=new XMLHttpRequest;if(t.auth){const S=t.auth.username||"",M=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";a.set("Authorization","Basic "+btoa(S+":"+M))}const l=Gv(t.baseURL,t.url);f.open(t.method.toUpperCase(),zv(l,t.params,t.paramsSerializer),!0),f.timeout=t.timeout;function x(){if(!f)return;const S=Ni.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders()),k={data:!s||s==="text"||s==="json"?f.responseText:f.response,status:f.status,statusText:f.statusText,headers:S,config:t,request:f};AP(function(C){r(C),c()},function(C){n(C),c()},k),f=null}if("onloadend"in f?f.onloadend=x:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(x)},f.onabort=function(){f&&(n(new gt("Request aborted",gt.ECONNABORTED,t,f)),f=null)},f.onerror=function(){n(new gt("Network Error",gt.ERR_NETWORK,t,f)),f=null},f.ontimeout=function(){let M=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const k=t.transitional||qv;t.timeoutErrorMessage&&(M=t.timeoutErrorMessage),n(new gt(M,k.clarifyTimeoutError?gt.ETIMEDOUT:gt.ECONNABORTED,t,f)),f=null},fi.isStandardBrowserEnv){const S=(t.withCredentials||kP(l))&&t.xsrfCookieName&&EP.read(t.xsrfCookieName);S&&a.set(t.xsrfHeaderName,S)}i===void 0&&a.setContentType(null),"setRequestHeader"in f&&X.forEach(a.toJSON(),function(M,k){f.setRequestHeader(k,M)}),X.isUndefined(t.withCredentials)||(f.withCredentials=!!t.withCredentials),s&&s!=="json"&&(f.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&f.addEventListener("progress",nb(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&f.upload&&f.upload.addEventListener("progress",nb(t.onUploadProgress)),(t.cancelToken||t.signal)&&(o=S=>{f&&(n(!S||S.type?new Dc(null,t,f):S),f.abort(),f=null)},t.cancelToken&&t.cancelToken.subscribe(o),t.signal&&(t.signal.aborted?o():t.signal.addEventListener("abort",o)));const A=IP(l);if(A&&fi.protocols.indexOf(A)===-1){n(new gt("Unsupported protocol "+A+":",gt.ERR_BAD_REQUEST,t));return}f.send(i||null)})},yu={http:rP,xhr:NP};X.forEach(yu,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const RP={getAdapter:t=>{t=X.isArray(t)?t:[t];const{length:e}=t;let r,n;for(let i=0;i<e&&(r=t[i],!(n=X.isString(r)?yu[r.toLowerCase()]:r));i++);if(!n)throw n===!1?new gt(`Adapter ${r} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(X.hasOwnProp(yu,r)?`Adapter '${r}' is not available in the build`:`Unknown adapter '${r}'`);if(!X.isFunction(n))throw new TypeError("adapter is not a function");return n},adapters:yu};function ml(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Dc(null,t)}function ib(t){return ml(t),t.headers=Ni.from(t.headers),t.data=pl.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),RP.getAdapter(t.adapter||xp.adapter)(t).then(function(n){return ml(t),n.data=pl.call(t,t.transformResponse,n),n.headers=Ni.from(n.headers),n},function(n){return Kv(n)||(ml(t),n&&n.response&&(n.response.data=pl.call(t,t.transformResponse,n.response),n.response.headers=Ni.from(n.response.headers))),Promise.reject(n)})}const ab=t=>t instanceof Ni?t.toJSON():t;function Ls(t,e){e=e||{};const r={};function n(f,l,x){return X.isPlainObject(f)&&X.isPlainObject(l)?X.merge.call({caseless:x},f,l):X.isPlainObject(l)?X.merge({},l):X.isArray(l)?l.slice():l}function i(f,l,x){if(X.isUndefined(l)){if(!X.isUndefined(f))return n(void 0,f,x)}else return n(f,l,x)}function a(f,l){if(!X.isUndefined(l))return n(void 0,l)}function s(f,l){if(X.isUndefined(l)){if(!X.isUndefined(f))return n(void 0,f)}else return n(void 0,l)}function o(f,l,x){if(x in e)return n(f,l);if(x in t)return n(void 0,f)}const c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(f,l)=>i(ab(f),ab(l),!0)};return X.forEach(Object.keys(t).concat(Object.keys(e)),function(l){const x=c[l]||i,A=x(t[l],e[l],l);X.isUndefined(A)&&x!==o||(r[l]=A)}),r}const Vv="1.3.6",gp={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{gp[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const sb={};gp.transitional=function(e,r,n){function i(a,s){return"[Axios v"+Vv+"] Transitional option '"+a+"'"+s+(n?". "+n:"")}return(a,s,o)=>{if(e===!1)throw new gt(i(s," has been removed"+(r?" in "+r:"")),gt.ERR_DEPRECATED);return r&&!sb[s]&&(sb[s]=!0,console.warn(i(s," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(a,s,o):!0}};function PP(t,e,r){if(typeof t!="object")throw new gt("options must be an object",gt.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const a=n[i],s=e[a];if(s){const o=t[a],c=o===void 0||s(o,a,t);if(c!==!0)throw new gt("option "+a+" must be "+c,gt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new gt("Unknown option "+a,gt.ERR_BAD_OPTION)}}const O0={assertOptions:PP,validators:gp},Yi=O0.validators;class Gu{constructor(e){this.defaults=e,this.interceptors={request:new tb,response:new tb}}request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Ls(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:a}=r;n!==void 0&&O0.assertOptions(n,{silentJSONParsing:Yi.transitional(Yi.boolean),forcedJSONParsing:Yi.transitional(Yi.boolean),clarifyTimeoutError:Yi.transitional(Yi.boolean)},!1),i!=null&&(X.isFunction(i)?r.paramsSerializer={serialize:i}:O0.assertOptions(i,{encode:Yi.function,serialize:Yi.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let s;s=a&&X.merge(a.common,a[r.method]),s&&X.forEach(["delete","get","head","post","put","patch","common"],M=>{delete a[M]}),r.headers=Ni.concat(s,a);const o=[];let c=!0;this.interceptors.request.forEach(function(k){typeof k.runWhen=="function"&&k.runWhen(r)===!1||(c=c&&k.synchronous,o.unshift(k.fulfilled,k.rejected))});const f=[];this.interceptors.response.forEach(function(k){f.push(k.fulfilled,k.rejected)});let l,x=0,A;if(!c){const M=[ib.bind(this),void 0];for(M.unshift.apply(M,o),M.push.apply(M,f),A=M.length,l=Promise.resolve(r);x<A;)l=l.then(M[x++],M[x++]);return l}A=o.length;let S=r;for(x=0;x<A;){const M=o[x++],k=o[x++];try{S=M(S)}catch(I){k.call(this,I);break}}try{l=ib.call(this,S)}catch(M){return Promise.reject(M)}for(x=0,A=f.length;x<A;)l=l.then(f[x++],f[x++]);return l}getUri(e){e=Ls(this.defaults,e);const r=Gv(e.baseURL,e.url);return zv(r,e.params,e.paramsSerializer)}}X.forEach(["delete","get","head","options"],function(e){Gu.prototype[e]=function(r,n){return this.request(Ls(n||{},{method:e,url:r,data:(n||{}).data}))}});X.forEach(["post","put","patch"],function(e){function r(n){return function(a,s,o){return this.request(Ls(o||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:s}))}}Gu.prototype[e]=r(),Gu.prototype[e+"Form"]=r(!0)});const bu=Gu;class vp{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(i=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](i);n._listeners=null}),this.promise.then=i=>{let a;const s=new Promise(o=>{n.subscribe(o),a=o}).then(i);return s.cancel=function(){n.unsubscribe(a)},s},e(function(a,s,o){n.reason||(n.reason=new Dc(a,s,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}static source(){let e;return{token:new vp(function(i){e=i}),cancel:e}}}const OP=vp;function BP(t){return function(r){return t.apply(null,r)}}function LP(t){return X.isObject(t)&&t.isAxiosError===!0}const B0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(B0).forEach(([t,e])=>{B0[e]=t});const DP=B0;function Wv(t){const e=new bu(t),r=Cv(bu.prototype.request,e);return X.extend(r,bu.prototype,e,{allOwnKeys:!0}),X.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return Wv(Ls(t,i))},r}const nr=Wv(xp);nr.Axios=bu;nr.CanceledError=Dc;nr.CancelToken=OP;nr.isCancel=Kv;nr.VERSION=Vv;nr.toFormData=cd;nr.AxiosError=gt;nr.Cancel=nr.CanceledError;nr.all=function(e){return Promise.all(e)};nr.spread=BP;nr.isAxiosError=LP;nr.mergeConfig=Ls;nr.AxiosHeaders=Ni;nr.formToJSON=t=>jv(X.isHTMLForm(t)?new FormData(t):t);nr.HttpStatusCode=DP;nr.default=nr;const It=nr;var Po={NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType"};class L0 extends Error{constructor(e,r,n,i,a,s,o){super(e),this.name="GraphQLError",this.message=e,a&&(this.path=a),r&&(this.nodes=Array.isArray(r)?r:[r]),n&&(this.source=n),i&&(this.positions=i),s&&(this.originalError=s);var c=o;if(!c&&s){var f=s.extensions;f&&typeof f=="object"&&(c=f)}this.extensions=c||{}}toJSON(){return{...this,message:this.message}}toString(){return this.message}get[Symbol.toStringTag](){return"GraphQLError"}}var Nt,We;function Qt(t){return new L0(`Syntax Error: Unexpected token at ${We} in ${t}`)}function nn(t){if(t.lastIndex=We,t.test(Nt))return Nt.slice(We,We=t.lastIndex)}var eu=/ +(?=[^\s])/y;function FP(t){for(var e=t.split(`
`),r="",n=0,i=0,a=e.length-1,s=0;s<e.length;s++)eu.lastIndex=0,eu.test(e[s])&&(s&&(!n||eu.lastIndex<n)&&(n=eu.lastIndex),i=i||s,a=s);for(var o=i;o<=a;o++)o!==i&&(r+=`
`),r+=e[o].slice(n).replace(/\\"""/g,'"""');return r}function tt(){for(var t=0|Nt.charCodeAt(We++);t===9||t===10||t===13||t===32||t===35||t===44||t===65279;t=0|Nt.charCodeAt(We++))if(t===35)for(;(t=Nt.charCodeAt(We++))!==10&&t!==13;);We--}var Jv=/[_\w][_\d\w]*/y;function bi(){var t;if(t=nn(Jv))return{kind:"Name",value:t}}var UP=/null|true|false/y,Yv=/\$[_\w][_\d\w]*/y,$P=/-?\d+/y,HP=/(?:\.\d+)?(?:[eE][+-]?\d+)?/y,zP=/\\/g,qP=/"""(?:[\s\S]+(?="""))?"""/y,jP=/"(?:[^"\r\n]+)?"/y;function Vu(t){var e,r;if(r=nn(UP))e=r==="null"?{kind:"NullValue"}:{kind:"BooleanValue",value:r==="true"};else if(!t&&(r=nn(Yv)))e={kind:"Variable",name:{kind:"Name",value:r.slice(1)}};else if(r=nn($P)){var n=r;(r=nn(HP))?e={kind:"FloatValue",value:n+r}:e={kind:"IntValue",value:n}}else if(r=nn(Jv))e={kind:"EnumValue",value:r};else if(r=nn(qP))e={kind:"StringValue",value:FP(r.slice(3,-3)),block:!0};else if(r=nn(jP))e={kind:"StringValue",value:zP.test(r)?JSON.parse(r):r.slice(1,-1),block:!1};else if(e=function(a){var s;if(Nt.charCodeAt(We)===91){We++,tt();for(var o=[];s=Vu(a);)o.push(s);if(Nt.charCodeAt(We++)!==93)throw Qt("ListValue");return tt(),{kind:"ListValue",values:o}}}(t)||function(a){if(Nt.charCodeAt(We)===123){We++,tt();for(var s=[],o;o=bi();){if(tt(),Nt.charCodeAt(We++)!==58)throw Qt("ObjectField");tt();var c=Vu(a);if(!c)throw Qt("ObjectField");s.push({kind:"ObjectField",name:o,value:c})}if(Nt.charCodeAt(We++)!==125)throw Qt("ObjectValue");return tt(),{kind:"ObjectValue",fields:s}}}(t))return e;return tt(),e}function Zv(t){var e=[];if(tt(),Nt.charCodeAt(We)===40){We++,tt();for(var r;r=bi();){if(tt(),Nt.charCodeAt(We++)!==58)throw Qt("Argument");tt();var n=Vu(t);if(!n)throw Qt("Argument");e.push({kind:"Argument",name:r,value:n})}if(!e.length||Nt.charCodeAt(We++)!==41)throw Qt("Argument");tt()}return e}function Ds(t){var e=[];for(tt();Nt.charCodeAt(We)===64;){We++;var r=bi();if(!r)throw Qt("Directive");tt(),e.push({kind:"Directive",name:r,arguments:Zv(t)})}return e}function KP(){var t=bi();if(t){tt();var e;if(Nt.charCodeAt(We)===58){if(We++,tt(),e=t,!(t=bi()))throw Qt("Field");tt()}return{kind:"Field",alias:e,name:t,arguments:Zv(!1),directives:Ds(!1),selectionSet:dd()}}}function Qv(){var t;if(tt(),Nt.charCodeAt(We)===91){We++,tt();var e=Qv();if(!e||Nt.charCodeAt(We++)!==93)throw Qt("ListType");t={kind:"ListType",type:e}}else if(t=bi())t={kind:"NamedType",name:t};else throw Qt("NamedType");return tt(),Nt.charCodeAt(We)===33?(We++,tt(),{kind:"NonNullType",type:t}):t}var GP=/on/y;function Xv(){if(nn(GP)){tt();var t=bi();if(!t)throw Qt("NamedType");return tt(),{kind:"NamedType",name:t}}}var VP=/\.\.\./y;function WP(){if(nn(VP)){tt();var t=We,e;if((e=bi())&&e.value!=="on")return{kind:"FragmentSpread",name:e,directives:Ds(!1)};We=t;var r=Xv(),n=Ds(!1),i=dd();if(!i)throw Qt("InlineFragment");return{kind:"InlineFragment",typeCondition:r,directives:n,selectionSet:i}}}function dd(){var t;if(tt(),Nt.charCodeAt(We)===123){We++,tt();for(var e=[];t=WP()||KP();)e.push(t);if(!e.length||Nt.charCodeAt(We++)!==125)throw Qt("SelectionSet");return tt(),{kind:"SelectionSet",selections:e}}}var JP=/fragment/y;function YP(){if(nn(JP)){tt();var t=bi();if(!t)throw Qt("FragmentDefinition");tt();var e=Xv();if(!e)throw Qt("FragmentDefinition");var r=Ds(!1),n=dd();if(!n)throw Qt("FragmentDefinition");return{kind:"FragmentDefinition",name:t,typeCondition:e,directives:r,selectionSet:n}}}var ZP=/query|mutation|subscription/y;function QP(){var t,e,r=[],n=[];(t=nn(ZP))&&(tt(),e=bi(),r=function(){var s,o=[];if(tt(),Nt.charCodeAt(We)===40){for(We++,tt();s=nn(Yv);){if(tt(),Nt.charCodeAt(We++)!==58)throw Qt("VariableDefinition");var c=Qv(),f=void 0;if(Nt.charCodeAt(We)===61&&(We++,tt(),!(f=Vu(!0))))throw Qt("VariableDefinition");tt(),o.push({kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:s.slice(1)}},type:c,defaultValue:f,directives:Ds(!0)})}if(Nt.charCodeAt(We++)!==41)throw Qt("VariableDefinition");tt()}return o}(),n=Ds(!1));var i=dd();if(i)return{kind:"OperationDefinition",operation:t||"query",name:e,variableDefinitions:r,directives:n,selectionSet:i}}function XP(t,e){return Nt=typeof t.body=="string"?t.body:t,We=0,function(){var n;tt();for(var i=[];n=YP()||QP();)i.push(n);return{kind:"Document",definitions:i}}()}function eO(t){return JSON.stringify(t)}function tO(t){return`"""
`+t.replace(/"""/g,'\\"""')+`
"""`}var yn=t=>!(!t||!t.length),Ar={OperationDefinition(t){if(t.operation==="query"&&!t.name&&!yn(t.variableDefinitions)&&!yn(t.directives))return Ar.SelectionSet(t.selectionSet);var e=t.operation;return t.name&&(e+=" "+t.name.value),yn(t.variableDefinitions)&&(t.name||(e+=" "),e+="("+t.variableDefinitions.map(Ar.VariableDefinition).join(", ")+")"),yn(t.directives)&&(e+=" "+t.directives.map(Ar.Directive).join(" ")),e+" "+Ar.SelectionSet(t.selectionSet)},VariableDefinition(t){var e=Ar.Variable(t.variable)+": "+xn(t.type);return t.defaultValue&&(e+=" = "+xn(t.defaultValue)),yn(t.directives)&&(e+=" "+t.directives.map(Ar.Directive).join(" ")),e},Field(t){var e=(t.alias?t.alias.value+": ":"")+t.name.value;if(yn(t.arguments)){var r=t.arguments.map(Ar.Argument),n=e+"("+r.join(", ")+")";e=n.length>80?e+`(
  `+r.join(`
`).replace(/\n/g,`
  `)+`
)`:n}return yn(t.directives)&&(e+=" "+t.directives.map(Ar.Directive).join(" ")),t.selectionSet?e+" "+Ar.SelectionSet(t.selectionSet):e},StringValue:t=>t.block?tO(t.value):eO(t.value),BooleanValue:t=>""+t.value,NullValue:t=>"null",IntValue:t=>t.value,FloatValue:t=>t.value,EnumValue:t=>t.value,Name:t=>t.value,Variable:t=>"$"+t.name.value,ListValue:t=>"["+t.values.map(xn).join(", ")+"]",ObjectValue:t=>"{"+t.fields.map(Ar.ObjectField).join(", ")+"}",ObjectField:t=>t.name.value+": "+xn(t.value),Document:t=>yn(t.definitions)?t.definitions.map(xn).join(`

`):"",SelectionSet:t=>`{
  `+t.selections.map(xn).join(`
`).replace(/\n/g,`
  `)+`
}`,Argument:t=>t.name.value+": "+xn(t.value),FragmentSpread(t){var e="..."+t.name.value;return yn(t.directives)&&(e+=" "+t.directives.map(Ar.Directive).join(" ")),e},InlineFragment(t){var e="...";return t.typeCondition&&(e+=" on "+t.typeCondition.name.value),yn(t.directives)&&(e+=" "+t.directives.map(Ar.Directive).join(" ")),e+" "+xn(t.selectionSet)},FragmentDefinition(t){var e="fragment "+t.name.value;return e+=" on "+t.typeCondition.name.value,yn(t.directives)&&(e+=" "+t.directives.map(Ar.Directive).join(" ")),e+" "+xn(t.selectionSet)},Directive(t){var e="@"+t.name.value;return yn(t.arguments)&&(e+="("+t.arguments.map(Ar.Argument).join(", ")+")"),e},NamedType:t=>t.name.value,ListType:t=>"["+xn(t.type)+"]",NonNullType:t=>xn(t.type)+"!"};function xn(t){return Ar[t.kind]?Ar[t.kind](t):""}var e6=()=>{},dn=e6;function Qn(t){return{tag:0,0:t}}function Fc(t){return{tag:1,0:t}}var rO=t=>t;function Vr(t){return e=>r=>{var n=dn;e(i=>{i===0?r(0):i.tag===0?(n=i[0],r(i)):t(i[0])?r(i):n(0)})}}function zo(t){return e=>r=>e(n=>{n===0||n.tag===0?r(n):r(Fc(t(n[0])))})}function t6(t){return e=>r=>{var n=[],i=dn,a=!1,s=!1;e(o=>{s||(o===0?(s=!0,n.length||r(0)):o.tag===0?i=o[0]:(a=!1,function(f){var l=dn;f(x=>{if(x===0){if(n.length){var A=n.indexOf(l);A>-1&&(n=n.slice()).splice(A,1),n.length||(s?r(0):a||(a=!0,i(0)))}}else x.tag===0?(n.push(l=x[0]),l(0)):n.length&&(r(x),l(0))})}(t(o[0])),a||(a=!0,i(0))))}),r(Qn(o=>{if(o===1){s||(s=!0,i(1));for(var c=0,f=n,l=n.length;c<l;c++)f[c](1);n.length=0}else{!s&&!a?(a=!0,i(0)):a=!1;for(var x=0,A=n,S=n.length;x<S;x++)A[x](0)}}))}}function nO(t){return t6(rO)(t)}function hc(t){return nO(cO(t))}function iO(t){return e=>r=>{var n=!1;e(i=>{if(!n)if(i===0)n=!0,r(0),t();else if(i.tag===0){var a=i[0];r(Qn(s=>{s===1?(n=!0,a(1),t()):a(s)}))}else r(i)})}}function r6(t){return e=>r=>{var n=!1;e(i=>{if(!n)if(i===0)n=!0,r(0);else if(i.tag===0){var a=i[0];r(Qn(s=>{s===1&&(n=!0),a(s)}))}else t(i[0]),r(i)})}}function ob(t){return e=>r=>e(n=>{n===0?r(0):n.tag===0?(r(n),t()):r(n)})}function pc(t){var e=[],r=dn,n=!1;return i=>{e.push(i),e.length===1&&t(a=>{if(a===0){for(var s=0,o=e,c=e.length;s<c;s++)o[s](0);e.length=0}else if(a.tag===0)r=a[0];else{n=!1;for(var f=0,l=e,x=e.length;f<x;f++)l[f](a)}}),i(Qn(a=>{if(a===1){var s=e.indexOf(i);s>-1&&(e=e.slice()).splice(s,1),e.length||r(1)}else n||(n=!0,r(0))}))}}function cb(t){return e=>r=>{var n=dn,i=dn,a=!1,s=!1,o=!1,c=!1;e(f=>{c||(f===0?(c=!0,o||r(0)):f.tag===0?n=f[0]:(o&&(i(1),i=dn),a?a=!1:(a=!0,n(0)),function(x){o=!0,x(A=>{o&&(A===0?(o=!1,c?r(0):a||(a=!0,n(0))):A.tag===0?(s=!1,(i=A[0])(0)):(r(A),s?s=!1:i(0)))})}(t(f[0]))))}),r(Qn(f=>{f===1?(c||(c=!0,n(1)),o&&(o=!1,i(1))):(!c&&!a&&(a=!0,n(0)),o&&!s&&(s=!0,i(0)))}))}}function n6(t){return e=>r=>{var n=dn,i=!1,a=0;e(s=>{i||(s===0?(i=!0,r(0)):s.tag===0?t<=0?(i=!0,r(0),s[0](1)):n=s[0]:a++<t?(r(s),!i&&a>=t&&(i=!0,r(0),n(1))):r(s))}),r(Qn(s=>{s===1&&!i?(i=!0,n(1)):s===0&&!i&&a<t&&n(0)}))}}function i6(t){return e=>r=>{var n=dn,i=dn,a=!1;e(s=>{a||(s===0?(a=!0,i(1),r(0)):s.tag===0?(n=s[0],t(o=>{o===0||(o.tag===0?(i=o[0])(0):(a=!0,i(1),n(1),r(0)))})):r(s))}),r(Qn(s=>{s===1&&!a?(a=!0,n(1),i(1)):a||n(0)}))}}function aO(t,e){return r=>n=>{var i=dn,a=!1;r(s=>{a||(s===0?(a=!0,n(0)):s.tag===0?(i=s[0],n(s)):t(s[0])?n(s):(a=!0,e&&n(s),n(0),i(1)))})}}function sO(t){return e=>t()(e)}function a6(t){return e=>{var r=t[Symbol.asyncIterator](),n=!1,i=!1,a=!1,s;e(Qn(async o=>{if(o===1)n=!0,r.return&&r.return();else if(i)a=!0;else{for(a=i=!0;a&&!n;)if((s=await r.next()).done)n=!0,r.return&&await r.return(),e(0);else try{a=!1,e(Fc(s.value))}catch(c){if(r.throw)(n=!!(await r.throw(c)).done)&&e(0);else throw c}i=!1}}))}}function oO(t){return t[Symbol.asyncIterator]?a6(t):e=>{var r=t[Symbol.iterator](),n=!1,i=!1,a=!1,s;e(Qn(o=>{if(o===1)n=!0,r.return&&r.return();else if(i)a=!0;else{for(a=i=!0;a&&!n;)if((s=r.next()).done)n=!0,r.return&&r.return(),e(0);else try{a=!1,e(Fc(s.value))}catch(c){if(r.throw)(n=!!r.throw(c).done)&&e(0);else throw c}i=!1}}))}}var cO=oO;function yl(t){return e=>{var r=!1;e(Qn(n=>{n===1?r=!0:r||(r=!0,e(Fc(t)),e(0))}))}}function uO(t){return e=>{var r=!1,n=t({next(i){r||e(Fc(i))},complete(){r||(r=!0,e(0))}});e(Qn(i=>{i===1&&!r&&(r=!0,n())}))}}function fO(){var t,e;return{source:pc(uO(r=>(t=r.next,e=r.complete,e6))),next(r){t&&t(r)},complete(){e&&e()}}}function wp(t){return e=>{var r=dn,n=!1;return e(i=>{i===0?n=!0:i.tag===0?(r=i[0])(0):n||(t(i[0]),r(0))}),{unsubscribe(){n||(n=!0,r(1))}}}}function dO(t){wp(e=>{})(t)}function lO(t){return new Promise(e=>{var r=dn,n;t(i=>{i===0?Promise.resolve(n).then(e):i.tag===0?(r=i[0])(0):(n=i[0],r(0))})})}var hO=t=>t&&t.message&&(t.extensions||t.name==="GraphQLError")?t:typeof t=="object"&&t.message?new L0(t.message,t.nodes,t.source,t.positions,t.path,t,t.extensions||{}):new L0(t);class _p extends Error{constructor(e){var r=(e.graphQLErrors||[]).map(hO),n=((i,a)=>{var s="";if(i)return`[Network] ${i.message}`;if(a)for(var o of a)s&&(s+=`
`),s+=`[GraphQL] ${o.message}`;return s})(e.networkError,r);super(n),this.name="CombinedError",this.message=n,this.graphQLErrors=r,this.networkError=e.networkError,this.response=e.response}toString(){return this.message}}var D0=(t,e)=>{for(var r=0|(e||5381),n=0,i=0|t.length;n<i;n++)r=(r<<5)+r+t.charCodeAt(n);return r},Fa=new Set,ub=new WeakMap,ps=t=>{if(t===null||Fa.has(t))return"null";if(typeof t!="object")return JSON.stringify(t)||"";if(t.toJSON)return ps(t.toJSON());if(Array.isArray(t)){var e="[";for(var r of t)e.length>1&&(e+=","),e+=ps(r)||"null";return e+="]"}else if(Ju!==Fs&&t instanceof Ju||Yu!==Fs&&t instanceof Yu)return"null";var n=Object.keys(t).sort();if(!n.length&&t.constructor&&t.constructor!==Object){var i=ub.get(t)||Math.random().toString(36).slice(2);return ub.set(t,i),ps({__key:i})}Fa.add(t);var a="{";for(var s of n){var o=ps(t[s]);o&&(a.length>1&&(a+=","),a+=ps(s)+":"+o)}return Fa.delete(t),a+="}"},F0=(t,e,r)=>{if(!(r==null||typeof r!="object"||r.toJSON||Fa.has(r)))if(Array.isArray(r))for(var n=0,i=r.length;n<i;n++)F0(t,`${e}.${n}`,r[n]);else if(r instanceof Ju||r instanceof Yu)t.set(e,r);else{Fa.add(r);for(var a of Object.keys(r))F0(t,`${e}.${a}`,r[a])}},Wu=t=>(Fa.clear(),ps(t));class Fs{}var Ju=typeof File<"u"?File:Fs,Yu=typeof Blob<"u"?Blob:Fs,pO=/("{3}[\s\S]*"{3}|"(?:\\.|[^"])*")/g,mO=/(?:#[^\n\r]+)?(?:[\r\n]+|$)/g,yO=(t,e)=>e%2==0?t.replace(mO,`
`):t,fb=t=>t.split(pO).map(yO).join("").trim(),db=new Map,xu=new Map,Ap=t=>{var e;return typeof t=="string"?e=fb(t):t.loc&&xu.get(t.__key)===t?e=t.loc.source.body:(e=db.get(t)||fb(xn(t)),db.set(t,e)),typeof t!="string"&&!t.loc&&(t.loc={start:0,end:e.length,source:{body:e,name:"gql",locationOffset:{line:1,column:1}}}),e},lb=t=>{var e=D0(Ap(t));if(t.definitions){var r=o6(t);r&&(e=D0(`
# ${r}`,e))}return e},s6=t=>{var e,r;return typeof t=="string"?(e=lb(t),r=xu.get(e)||XP(t)):(e=t.__key||lb(t),r=xu.get(e)||t),r.loc||Ap(r),r.__key=e,xu.set(e,r),r},bl=(t,e,r)=>{var n=e||{},i=s6(t),a=Wu(n),s=i.__key;return a!=="{}"&&(s=D0(a,s)),{key:s,query:i,variables:n,extensions:r}},o6=t=>{for(var e of t.definitions)if(e.kind===Po.OPERATION_DEFINITION)return e.name?e.name.value:void 0},hb=(t,e,r)=>{if(!("data"in e)&&!("errors"in e))throw new Error("No Content");var n=t.kind==="subscription";return{operation:t,data:e.data,error:Array.isArray(e.errors)?new _p({graphQLErrors:e.errors,response:r}):void 0,extensions:e.extensions?{...e.extensions}:void 0,hasNext:e.hasNext==null?n:e.hasNext,stale:!1}},U0=(t,e)=>{if(typeof t=="object"&&t!=null&&(!t.constructor||t.constructor===Object||Array.isArray(t))){t=Array.isArray(t)?[...t]:{...t};for(var r of Object.keys(e))t[r]=U0(t[r],e[r]);return t}return e},bO=(t,e,r)=>{var n=t.error?t.error.graphQLErrors:[],i=!!t.extensions||!!e.extensions,a={...t.extensions,...e.extensions},s=e.incremental;"path"in e&&(s=[e]);var o={data:t.data};if(s)for(var c of s){Array.isArray(c.errors)&&n.push(...c.errors),c.extensions&&(Object.assign(a,c.extensions),i=!0);for(var f="data",l=o,x=0,A=c.path.length;x<A;f=c.path[x++])l=l[f]=Array.isArray(l[f])?[...l[f]]:{...l[f]};if(c.items)for(var S=+f>=0?f:0,M=0,k=c.items.length;M<k;M++)l[S+M]=U0(l[S+M],c.items[M]);else c.data!==void 0&&(l[f]=U0(l[f],c.data))}else o.data=e.data||t.data,n=e.errors||n;return{operation:t.operation,data:o.data,error:n.length?new _p({graphQLErrors:n,response:r}):void 0,extensions:i?a:void 0,hasNext:e.hasNext!=null?e.hasNext:t.hasNext,stale:!1}},xO=(t,e,r)=>({operation:t,data:void 0,error:new _p({networkError:e,response:r}),extensions:void 0,hasNext:!1,stale:!1});function gO(t){return{query:t.extensions&&t.extensions.persistedQuery&&!t.extensions.persistedQuery.miss?void 0:Ap(t.query),operationName:o6(t.query),variables:t.variables||void 0,extensions:t.extensions}}var vO=(t,e)=>{var r=t.kind==="query"&&t.context.preferGetMethod;if(!r||!e)return t.context.url;var n=new URL(t.context.url);for(var i in e){var a=e[i];a&&n.searchParams.set(i,typeof a=="object"?Wu(a):a)}var s=n.toString();return s.length>2047&&r!=="force"?(t.context.preferGetMethod=!1,t.context.url):s},wO=(t,e)=>{if(e&&!(t.kind==="query"&&t.context.preferGetMethod)){var r=Wu(e),n=(o=>{var c=new Map;return(Ju!==Fs||Yu!==Fs)&&(Fa.clear(),F0(c,"variables",o)),c})(e.variables);if(n.size){var i=new FormData;i.append("operations",r),i.append("map",Wu({...[...n.keys()].map(o=>[o])}));var a=0;for(var s of n.values())i.append(""+a++,s);return i}return r}},_O=(t,e)=>{var r={accept:t.kind==="subscription"?"text/event-stream, multipart/mixed":"application/graphql-response+json, application/graphql+json, application/json, text/event-stream, multipart/mixed"},n=(typeof t.context.fetchOptions=="function"?t.context.fetchOptions():t.context.fetchOptions)||{};if(n.headers)for(var i in n.headers)r[i.toLowerCase()]=n.headers[i];var a=wO(t,e);return typeof a=="string"&&!r["content-type"]&&(r["content-type"]="application/json"),{...n,method:a?"POST":"GET",body:a,headers:r}},AO=typeof TextDecoder<"u"?new TextDecoder:null,EO=/boundary="?([^=";]+)"?/i,TO=/data: ?([^\n]+)/,pb=t=>t.constructor.name==="Buffer"?t.toString():AO.decode(t);async function*mb(t){if(t.body[Symbol.asyncIterator])for await(var e of t.body)yield pb(e);else{var r=t.body.getReader(),n;try{for(;!(n=await r.read()).done;)yield pb(n.value)}finally{r.cancel()}}}async function*yb(t,e){var r="",n;for await(var i of t)for(r+=i;(n=r.indexOf(e))>-1;)yield r.slice(0,n),r=r.slice(n+e.length)}async function*MO(t,e,r){var n=!0,i,a=null,s;try{typeof AbortController<"u"&&(r.signal=(i=new AbortController).signal),yield await Promise.resolve();var o=(s=await(t.context.fetch||fetch)(e,r)).headers.get("Content-Type")||"",c;if(/multipart\/mixed/i.test(o))c=async function*(x,A){var S=x.match(EO),M="--"+(S?S[1]:"-"),k=!0,I;for await(var C of yb(mb(A),`\r
`+M)){if(k){k=!1;var R=C.indexOf(M);if(R>-1)C=C.slice(R+M.length);else continue}try{yield I=JSON.parse(C.slice(C.indexOf(`\r
\r
`)+4))}catch(D){if(!I)throw D}if(I&&!I.hasNext)break}I&&I.hasNext&&(yield{hasNext:!1})}(o,s);else if(/text\/event-stream/i.test(o))c=async function*(x){var A;for await(var S of yb(mb(x),`

`)){var M=S.match(TO);if(M){var k=M[1];try{yield A=JSON.parse(k)}catch(I){if(!A)throw I}if(A&&!A.hasNext)break}}A&&A.hasNext&&(yield{hasNext:!1})}(s);else if(!/text\//i.test(o))c=async function*(x){yield JSON.parse(await x.text())}(s);else throw new Error(await s.text());for await(var f of c)a=a?bO(a,f,s):hb(t,f,s),n=!1,yield a,n=!0;a||(yield a=hb(t,{},s))}catch(l){if(!n)throw l;yield xO(t,s&&(s.status<200||s.status>=300)&&s.statusText?new Error(s.statusText):l,s)}finally{i&&i.abort()}}function kO(t,e,r){return Vr(n=>!!n)(a6(MO(t,e,r)))}var $0=(t,e)=>{if(Array.isArray(t))for(var r of t)$0(r,e);else if(typeof t=="object"&&t!==null)for(var n in t)n==="__typename"&&typeof t[n]=="string"?e.add(t[n]):$0(t[n],e);return e},H0=t=>{var e=!1;if("definitions"in t){var r=[];for(var n of t.definitions){var i=H0(n);e=e||i!==n,r.push(i)}if(e)return{...t,definitions:r}}else if("selectionSet"in t){var a=[],s=t.kind===Po.OPERATION_DEFINITION;if(t.selectionSet){for(var o of t.selectionSet.selections||[]){s=s||o.kind===Po.FIELD&&o.name.value==="__typename"&&!o.alias;var c=H0(o);e=e||c!==o,a.push(c)}if(s||(e=!0,a.push({kind:Po.FIELD,name:{kind:Po.NAME,value:"__typename"}})),e)return{...t,selectionSet:{...t.selectionSet,selections:a}}}}return t},bb=new Map,IO=t=>{var e=s6(t),r=bb.get(e.__key);return r||(bb.set(e.__key,r=H0(e)),Object.defineProperty(r,"__key",{value:e.__key,enumerable:!1})),r},z0=(t,e)=>{if(!t||typeof t!="object")return t;if(Array.isArray(t))return t.map(i=>z0(i));if(t&&typeof t=="object"&&(e||"__typename"in t)){var r={};for(var n in t)n==="__typename"?Object.defineProperty(r,"__typename",{enumerable:!1,value:t.__typename}):r[n]=z0(t[n]);return r}else return t};function xb(t){var e=r=>t(r);return e.toPromise=()=>lO(n6(1)(Vr(r=>!r.stale&&!r.hasNext)(e))),e.then=(r,n)=>e.toPromise().then(r,n),e.subscribe=r=>wp(r)(e),e}function Zu(t,e,r){return{...e,kind:t,context:e.context?{...e.context,...r}:r||e.context}}var SO=()=>{},xl=({kind:t})=>t!=="mutation"&&t!=="query",CO=({forward:t,client:e,dispatchDebug:r})=>{var n=new Map,i=new Map,a=o=>{var c=Zu(o.kind,o);return c.query=IO(o.query),c},s=o=>o.kind==="query"&&o.context.requestPolicy!=="network-only"&&(o.context.requestPolicy==="cache-only"||n.has(o.key));return o=>{var c=zo(l=>{var x=n.get(l.key),A=x;return l.context.requestPolicy==="cache-and-network"&&(A.stale=!0,gb(e,l)),A})(Vr(l=>!xl(l)&&s(l))(o)),f=r6(l=>{var{operation:x}=l;if(x){var A=(j=>[...$0(j,new Set)])(l.data).concat(x.context.additionalTypenames||[]);if(l.operation.kind==="mutation"){for(var S=new Set,M=0;M<A.length;M++){var k=A[M],I=i.get(k);I||i.set(k,I=new Set);for(var C of I.values())S.add(C);I.clear()}for(var R of S.values())n.has(R)&&(x=n.get(R).operation,n.delete(R),gb(e,x))}else if(x.kind==="query"&&l.data){n.set(x.key,l);for(var D=0;D<A.length;D++){var F=A[D],H=i.get(F);H||i.set(F,H=new Set),H.add(x.key)}}}})(t(Vr(l=>l.kind!=="query"||l.context.requestPolicy!=="cache-only")(zo(l=>l)(hc([zo(a)(Vr(l=>!xl(l)&&!s(l))(o)),Vr(l=>xl(l))(o)])))));return hc([c,f])}},gb=(t,e)=>t.reexecuteOperation(Zu(e.kind,e,{requestPolicy:"network-only"})),NO=({forward:t,dispatchDebug:e})=>r=>{var n=t6(a=>{var s=gO(a),o=vO(a,s),c=_O(a,s),f=i6(Vr(l=>l.kind==="teardown"&&l.key===a.key)(r))(kO(a,o,c));return f})(Vr(a=>a.kind!=="teardown"&&(a.kind!=="subscription"||!!a.context.fetchSubscriptions))(r)),i=t(Vr(a=>a.kind==="teardown"||a.kind==="subscription"&&!a.context.fetchSubscriptions)(r));return hc([n,i])},RO=t=>({client:e,forward:r,dispatchDebug:n})=>t.reduceRight((i,a)=>a({client:e,forward(s){return pc(i(pc(s)))},dispatchDebug(s){}}),r),PO=({dispatchDebug:t})=>e=>Vr(r=>!1)(e),OO=function t(e){var r=0,n=new Map,i=new Map,a=new Set,s=[],o={url:e.url,fetchOptions:e.fetchOptions,fetch:e.fetch,preferGetMethod:!!e.preferGetMethod,requestPolicy:e.requestPolicy||"cache-first"},c=fO();function f(R){(R.kind==="mutation"||R.kind==="teardown"||!a.has(R.key))&&(R.kind==="teardown"?a.delete(R.key):R.kind!=="mutation"&&a.add(R.key),c.next(R))}var l=!1;function x(R){if(R&&f(R),!l){for(l=!0;l&&(R=s.shift());)f(R);l=!1}}var A=R=>{var D=i6(Vr(F=>F.kind==="teardown"&&F.key===R.key)(c.source))(Vr(F=>F.operation.kind===R.kind&&F.operation.key===R.key&&(!F.operation.context._instance||F.operation.context._instance===R.context._instance))(C));return R.kind!=="query"?D=aO(F=>!!F.hasNext,!0)(D):D=cb(F=>{var H=yl(F);return F.stale||F.hasNext?H:hc([H,zo(()=>(F.stale=!0,F))(n6(1)(Vr(j=>j.key===R.key)(c.source)))])})(D),R.kind!=="mutation"?D=iO(()=>{a.delete(R.key),n.delete(R.key),i.delete(R.key),l=!1;for(var F=s.length-1;F>=0;F--)s[F].key===R.key&&s.splice(F,1);f(Zu("teardown",R,R.context))})(r6(F=>{if(F.stale){for(var H of s)if(H.key===F.operation.key){a.delete(H.key);break}}else F.hasNext||a.delete(R.key);n.set(R.key,F)})(D)):D=ob(()=>{f(R)})(D),e.maskTypename&&(D=zo(F=>({...F,data:z0(F.data,!0)}))(D)),pc(D)},S=this instanceof t?this:Object.create(t.prototype),M=Object.assign(S,{suspense:!!e.suspense,operations$:c.source,reexecuteOperation(R){R.kind==="teardown"?x(R):(R.kind==="mutation"||i.has(R.key))&&(s.push(R),Promise.resolve().then(x))},createRequestOperation(R,D,F){return F||(F={}),Zu(R,D,{_instance:R==="mutation"?r=r+1|0:void 0,...o,...F,requestPolicy:F.requestPolicy||o.requestPolicy,suspense:F.suspense||F.suspense!==!1&&M.suspense})},executeRequestOperation(R){return R.kind==="mutation"?xb(A(R)):xb(sO(()=>{var D=i.get(R.key);D||i.set(R.key,D=A(R)),D=ob(()=>{x(R)})(D);var F=n.get(R.key);return R.kind==="query"&&F&&(F.stale||F.hasNext)?cb(yl)(hc([D,Vr(H=>H===n.get(R.key))(yl(F))])):D}))},executeQuery(R,D){var F=M.createRequestOperation("query",R,D);return M.executeRequestOperation(F)},executeSubscription(R,D){var F=M.createRequestOperation("subscription",R,D);return M.executeRequestOperation(F)},executeMutation(R,D){var F=M.createRequestOperation("mutation",R,D);return M.executeRequestOperation(F)},readQuery(R,D,F){var H=null;return wp(j=>{H=j})(M.query(R,D,F)).unsubscribe(),H},query:(R,D,F)=>M.executeQuery(bl(R,D),F),subscription:(R,D,F)=>M.executeSubscription(bl(R,D),F),mutation:(R,D,F)=>M.executeMutation(bl(R,D),F)}),k=SO,I=RO(e.exchanges),C=pc(I({client:M,dispatchDebug:k,forward:PO({dispatchDebug:k})})(c.source));return dO(C),M},BO=OO;const LO=new Set(["ENOTFOUND","ENETUNREACH","UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_CRL","UNABLE_TO_DECRYPT_CERT_SIGNATURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","CERT_SIGNATURE_FAILURE","CRL_SIGNATURE_FAILURE","CERT_NOT_YET_VALID","CERT_HAS_EXPIRED","CRL_NOT_YET_VALID","CRL_HAS_EXPIRED","ERROR_IN_CERT_NOT_BEFORE_FIELD","ERROR_IN_CERT_NOT_AFTER_FIELD","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD","OUT_OF_MEM","DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_CHAIN_TOO_LONG","CERT_REVOKED","INVALID_CA","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","CERT_UNTRUSTED","CERT_REJECTED","HOSTNAME_MISMATCH"]);var DO=t=>!LO.has(t&&t.code);const FO=Wn(DO);function vb(t,e,r,n,i,a,s){try{var o=t[a](s),c=o.value}catch(f){r(f);return}o.done?e(c):Promise.resolve(c).then(n,i)}function c6(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function s(c){vb(a,n,i,s,o,"next",c)}function o(c){vb(a,n,i,s,o,"throw",c)}s(void 0)})}}function wb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _b(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wb(Object(r),!0).forEach(function(n){UO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wb(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UO(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var q0="axios-retry";function u6(t){return!t.response&&!!t.code&&t.code!=="ECONNABORTED"&&FO(t)}var f6=["get","head","options"],$O=f6.concat(["put","delete"]);function Ep(t){return t.code!=="ECONNABORTED"&&(!t.response||t.response.status>=500&&t.response.status<=599)}function HO(t){return t.config?Ep(t)&&f6.indexOf(t.config.method)!==-1:!1}function d6(t){return t.config?Ep(t)&&$O.indexOf(t.config.method)!==-1:!1}function Tp(t){return u6(t)||d6(t)}function zO(){return 0}function qO(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=Math.pow(2,t)*100,r=e*.2*Math.random();return e+r}function Ab(t){var e=t[q0]||{};return e.retryCount=e.retryCount||0,t[q0]=e,e}function jO(t,e){return _b(_b({},e),t[q0])}function KO(t,e){t.defaults.agent===e.agent&&delete e.agent,t.defaults.httpAgent===e.httpAgent&&delete e.httpAgent,t.defaults.httpsAgent===e.httpsAgent&&delete e.httpsAgent}function GO(t,e,r,n){return j0.apply(this,arguments)}function j0(){return j0=c6(function*(t,e,r,n){var i=r.retryCount<t&&e(n);if(typeof i=="object")try{var a=yield i;return a!==!1}catch{return!1}return i}),j0.apply(this,arguments)}function da(t,e){t.interceptors.request.use(r=>{var n=Ab(r);return n.lastRequestTime=Date.now(),r}),t.interceptors.response.use(null,function(){var r=c6(function*(n){var{config:i}=n;if(!i)return Promise.reject(n);var{retries:a=3,retryCondition:s=Tp,retryDelay:o=zO,shouldResetTimeout:c=!1,onRetry:f=()=>{}}=jO(i,e),l=Ab(i);if(yield GO(a,s,l,n)){l.retryCount+=1;var x=o(l.retryCount,n);if(KO(t,i),!c&&i.timeout&&l.lastRequestTime){var A=Date.now()-l.lastRequestTime,S=i.timeout-A-x;if(S<=0)return Promise.reject(n);i.timeout=S}return i.transformRequest=[M=>M],f(l.retryCount,n,i),new Promise(M=>setTimeout(()=>M(t(i)),x))}return Promise.reject(n)});return function(n){return r.apply(this,arguments)}}())}da.isNetworkError=u6;da.isSafeRequestError=HO;da.isIdempotentRequestError=d6;da.isNetworkOrIdempotentRequestError=Tp;da.exponentialDelay=qO;da.isRetryableError=Ep;var VO=class{main;indexer;constructor(t){this.main=t}replaceIPFS(t){return/^[a-zA-Z0-9]{46}$/.test(t)&&(t="ipfs://"+t),t.replace("ipfs://ipfs/","ipfs://").replace("ipfs://",this.main.options.ipfsGateway)}replaceIPFSs(t){return t.map(e=>this.replaceIPFS(e))}async getCrossbellCharacter(t){let e;switch(this.indexer||(this.indexer=new Bs),t.platform){case"Ethereum":e=await this.indexer.getPrimaryCharacter(t.identity);break;case"Crossbell":e=await this.indexer.getCharacterByHandle(t.identity);break;default:throw new Error(`Unsupported platform: ${t.platform}`)}return e}removeEmpty(t,e){for(let r in t)typeof t[r]=="object"?!t[r]||Object.keys(t[r]).length===0?delete t[r]:this.removeEmpty(t[r],{obj:t,key:r}):t[r]||delete t[r];Object.keys(t).length===0&&e&&delete e.obj[e.key]}getMimeType(t){t=this.main.utils.replaceIPFS(t);let e=AR.getType(t);if(e)return e}async uploadToIPFS(t){return(await It.post(this.main.options.ipfsRelay,t)).data.url}},WO=VO,JO=class{main;inited;constructor(t){this.main=t}},l6=JO,YO=class extends l6{ethersProvider;urqlClient;constructor(t){super(t)}async init(){this.ethersProvider=new Wx("homestead",this.main.options.infuraProjectID),this.urqlClient=BO({url:"https://api.thegraph.com/subgraphs/name/ensdomains/ens",maskTypename:!1,exchanges:[CO,NO]}),this.inited=!0}async get(t){this.inited||await this.init();let e=await this.urqlClient.query(`
                query getRegistrations($identity: ID!, $limit: Int, $cursor: Int) {
                    account(id: $identity) {
                    domains(orderBy: createdAt, orderDirection: "desc", skip: $cursor, first: $limit) {
                        id
                        name
                        createdAt
                        labelhash
                        resolver {
                            texts
                            id
                                address
                            }
                        }
                    }
                }`,{identity:t.identity.toLowerCase(),cursor:t.cursor||0,limit:t.limit}).toPromise(),r=await Promise.all(e?.data?.account?.domains?.map(async n=>{let i={date_created:new Date(+n.createdAt).toISOString(),name:n.name,username:n.name,source:"ENS",metadata:{network:"Ethereum",proof:n.name}},a=await this.ethersProvider.getResolver(n.name);if(a){let s=n.resolver?.texts||[];await Promise.all(s.map(async o=>{switch(o){case"avatar":i.avatars=[await a.getText(o)];break;case"description":i.bio=await a.getText(o);break;case"url":i.websites=[await a.getText(o)];break;default:let c=o.split(".");c.length===2&&(c[0]==="com"||c[0]==="org")&&(i.connected_accounts||(i.connected_accounts=[]),i.connected_accounts.push({identity:await a.getText(o),platform:c[1]}));break}}))}return i}))||[];return{total:r.length,...t.limit&&r.length>=t.limit&&{cursor:t.limit+(t.cursor||0)},list:r}}set},ZO=YO,QO=class extends l6{indexer;contract;constructor(t){super(t),Lt.setIpfsGateway(this.main.options.ipfsGateway)}async get(t){this.indexer||(this.indexer=new Bs),t=Object.assign({platform:"Ethereum"},t);let e;if(t.platform==="Ethereum")e=await this.indexer.getCharacters(t.identity,{cursor:t.cursor,limit:t.limit,primary:t.filter?.primary});else{let n=await this.indexer.getCharacterByHandle(t.identity);n?e={count:1,cursor:"",list:[n]}:e={count:0,cursor:"",list:[]}}let r=await Promise.all(e.list?.map(async n=>{if(n.uri&&!(n.metadata&&n.metadata.content))try{let i=await It.get(this.main.utils.replaceIPFS(n.uri),{...typeof window>"u"&&{headers:{"User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.0.0 Safari/537.36"}}});n.metadata={content:i.data}}catch{}return Object.assign({date_created:n.createdAt,date_updated:n.updatedAt,username:n.handle,source:"Crossbell Profile",metadata:{network:"Crossbell",proof:n.characterId,raw:n.metadata?.content||{},uri:n.uri,primary:n.primary,block_number:n.blockNumber,owner:n.owner,transactions:[n.transactionHash,...n.transactionHash!==n.updatedTransactionHash?[n.updatedTransactionHash]:[]]}},{...n.metadata?.content?.name&&{name:n.metadata.content.name},...n.metadata?.content?.bio&&{bio:n.metadata.content.bio},...n.metadata?.content?.banners?.[0].address&&n.metadata?.content?.banners?.[0].mime_type&&{banners:n.metadata?.content?.banners},...n.metadata?.content?.avatars&&{avatars:n.metadata.content.avatars},...n.metadata?.content?.websites&&{websites:n.metadata.content.websites},...n.metadata?.content?.tags&&{tags:n.metadata.content.tags},...n.metadata?.content?.connected_accounts&&{connected_accounts:n.metadata.content.connected_accounts},...n.metadata?.content?.attributes&&{attributes:(n.metadata?.content).attributes}})}));return{total:r.length,...e.cursor&&{cursor:e.cursor},list:r.map(n=>(n.connected_accounts&&(n.connected_accounts=n.connected_accounts.map(i=>{if(i.uri&&(i=i.uri),typeof i=="string"){let a=i.match(/:\/\/account:(.*)@(.*)/);return a?{identity:a[1],platform:a[2]}:{identity:i,platform:""}}return i})),n))}}async set(t,e,r){switch(t=Object.assign({platform:"Ethereum",action:"update"},t),!this.contract&&!r?.newbieToken&&(this.contract=new pp(this.main.options.ethereumProvider),await this.contract.connect()),this.indexer||(this.indexer=new Bs),t.action){case"update":{let n=await this.main.utils.getCrossbellCharacter({identity:t.identity,platform:t.platform});if(!n)return{code:1,message:"Profile not found"};if(e.username&&e.username!==n.handle&&!r?.newbieToken&&await this.contract.setHandle(n.characterId+"",e.username),Object.keys(e).filter(i=>i!=="username").length){delete e.username,e.connected_accounts&&(e.connected_accounts=e.connected_accounts.map(a=>a.identity&&a.platform?`csb://account:${a.identity}@${a.platform.toLowerCase()}`:a)),n.metadata?.uri&&!n.metadata?.content&&(n.metadata.content=(await It.get(this.main.utils.replaceIPFS(n.metadata.uri),{...typeof window>"u"&&{headers:{"User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.0.0 Safari/537.36"}}})).data);let i=Object.assign({},n.metadata?.content,e);if(e.attributes&&n.metadata?.content?.attributes&&(i.attributes=Nb(e.attributes,(n.metadata?.content).attributes,"trait_type")),r?.newbieToken)await It.post(`${this.indexer.endpoint}/newbie/contract/characters/me/metadata`,{metadata:i,mode:"replace"},{headers:{authorization:`Bearer ${r?.newbieToken}`}});else{let a=await this.main.utils.uploadToIPFS(i);await this.contract.setCharacterUri(n.characterId+"",a)}return{code:0,message:"Success"}}else return{code:0,message:"Success"}}case"add":{if(r?.newbieToken)throw new Error(`Unsupported action ${t.action} for newbie`);switch(t.platform){case"Ethereum":{let n=e.username||t.identity;delete e.username;let i=e,a=await this.main.utils.uploadToIPFS(i);return await this.contract.createCharacter(t.identity,n,a),{code:0,message:"Success"}}default:throw new Error(`Unsupported platform: ${t.platform}`)}}default:throw new Error(`Unsupported action: ${t.action}`)}}},XO=QO,eB=class{main;map;accountsMap;constructor(t){this.main=t,this.map={ENS:new ZO(t),"Crossbell Profile":new XO(t)},this.accountsMap={github:{platform:"GitHub",url:"https://github.com/$$id"},twitter:{platform:"Twitter",url:"https://twitter.com/$$id"},twitter_id:{platform:"Twitter",url:"https://twitter.com/i/user/$$id"},telegram:{platform:"Telegram",url:"https://t.me/$$id"},discord:{platform:"Discord"},reddit:{platform:"Reddit",url:"https://www.reddit.com/user/$$id"},jike:{platform:"Jike",url:"https://web.okjike.com/u/$$id"}}}async get(t){let e=await this.map[t.source].get(t);return e.list=e.list.map(r=>(r.avatars&&(r.avatars=this.main.utils.replaceIPFSs(r.avatars)),r.banners&&r.banners.map(n=>(n.address=this.main.utils.replaceIPFS(n.address),n)),r.connected_accounts&&(r.connected_accounts=r.connected_accounts.map(n=>{let i=this.accountsMap[n.platform?.toLowerCase()];return i&&(n.platform=i.platform,i.url&&(n.url=i.url.replace("$$id",n.identity))),n})),r)),e}async set(t,e,r){return this.map[t.source].set?this.map[t.source].set(t,e,r):{code:1,message:"Method not implemented"}}},tB=eB,rB=class{main;inited;constructor(t){this.main=t}},nB=rB,iB=class extends nB{indexer;contract;constructor(t){super(t)}async get(t){this.indexer||(this.indexer=new Bs),t=Object.assign({type:"follow",platform:"Ethereum"},t);let e=await this.main.utils.getCrossbellCharacter({identity:t.identity,platform:t.platform}),r;t.filter?.to&&(r=await this.main.utils.getCrossbellCharacter({identity:t.filter?.to,platform:"Crossbell"}));let n=await this.indexer[t.reversed?"getBacklinksOfCharacter":"getLinks"](e?.characterId+"",{linkType:t.type,limit:t.limit,cursor:t.cursor,...r?.characterId&&{toCharacterId:r.characterId+""}}),i=n?.list?.map(a=>({date_created:a.createdAt,from:(t.reversed?a.fromCharacter?.handle:e?.handle)||"",to:(t.reversed?e?.handle:a.toCharacter?.handle)||"",type:t.type||"",source:"Crossbell Link",metadata:{network:"Crossbell",proof:a.transactionHash,block_number:a.blockNumber,from_owner:t.reversed?a.fromCharacter?.owner:t.identity,to_owner:t.reversed?t.identity:a.toCharacter?.owner,...a.fromCharacter&&{from_raw:a.fromCharacter},...a.toCharacter&&{to_raw:a.toCharacter}}}));return{total:n?.count,...n?.cursor&&{cursor:n?.cursor},list:i}}async set(t,e){t=Object.assign({platform:"Ethereum",action:"add"},t),this.contract||(this.contract=new pp(this.main.options.ethereumProvider),await this.contract.connect());let r=(await this.main.utils.getCrossbellCharacter({identity:t.identity,platform:t.platform}))?.characterId;if(!r)return{code:1,message:"Character not found"};let n=(await this.main.utils.getCrossbellCharacter({identity:e.to,platform:"Crossbell"}))?.characterId;if(!n)return{code:1,message:"Character not found"};switch(t.action){case"add":return await this.contract.linkCharacter(r+"",n+"",e.type),{code:0,message:"Success"};case"remove":return await this.contract.unlinkCharacter(r+"",n+"",e.type),{code:0,message:"Success"};default:throw new Error(`Unsupported action: ${t.action}`)}}},aB=iB,sB=class{map;constructor(t){this.map={"Crossbell Link":new aB(t)}}async get(t){return this.map[t.source].get(t)}async set(t,e){return this.map[t.source].set?this.map[t.source].set(t,e):{code:1,message:"Method not implemented"}}},oB=sB,cB=class{main;inited;constructor(t){this.main=t}generateAttributes(t){if(Array.isArray(t))return t.map(e=>(e.trait_type||e.name)&&e.value?{key:e.trait_type||e.name,value:e.value}:null).filter(e=>e)}},ji=cB,uB=class extends ji{constructor(t){super(t)}async get(t){if(!this.main.options.moralisWeb3APIKey)return{total:0,list:[]};let e=["eth","polygon","bsc","avalanche","fantom"],r={eth:"Ethereum",polygon:"Polygon",bsc:"Binance Smart Chain",avalanche:"Avalanche",fantom:"Fantom"},n=[],i=1,a=[],s=0;return await Promise.all(e.map(async(o,c)=>{let f={};try{f=await It.get(`https://deep-index.moralis.io/api/v2/${t.identity}/nft`,{params:{chain:o,cursor:t.cursor?.[c],limit:t.limit},headers:{"x-api-key":this.main.options.moralisWeb3APIKey}})}catch{}let l=[];return f.data?.result&&f.data?.result.length&&(l=await Promise.all(f.data?.result.map(async x=>{let A;try{x.metadata?A=JSON.parse(x.metadata):x.token_uri&&(setTimeout(()=>{It.get(`https://deep-index.moralis.io/api/v2/nft/${x.token_address}/${x.token_id}/metadata/resync`,{params:{chain:o,flag:"metadata",mode:"sync"},headers:{"x-api-key":this.main.options.moralisWeb3APIKey}})},i*1e4),i++)}catch{}let S={tags:["NFT"],owners:[At(x.owner_of||t.identity)],name:A?.name,description:A?.description,source:"Ethereum NFT",metadata:{network:r[o],proof:`${x.token_address}-${x.token_id}`,token_standard:`${x.contract_type.slice(0,3)}-${x.contract_type.slice(3)}`,token_id:x.token_id,token_symbol:x.symbol,collection_address:x.token_address,collection_name:x.name,block_number_minted:x.block_number_minted,block_number:x.block_number,providers:["Moralis"]}},M=A?.image||A?.image_url;M&&(S.previews=[{address:M}]);let k=A?.animation_url||A?.image||A?.image_url;if(k&&(S.items=[{address:k}]),A?.attributes){let I=this.generateAttributes(A?.attributes);I&&(S.attributes=I)}return(A?.external_url||A?.external_link)&&(S.related_urls||(S.related_urls=[]),S.related_urls.push(A?.external_url||A?.external_link)),S}))),n=n.concat(l),l.length<f.data?.total&&(a[c]=f.data?.cursor),s+=f.data?.total||l.length,o})),n=n.sort((o,c)=>parseInt(c.metadata?.block_number||0)-parseInt(o.metadata?.block_number||0)),{total:s,...a.find(o=>o)&&{cursor:a},list:n}}},fB=uB,dB=class extends ji{constructor(t){super(t)}async get(t){let e=await It.get("https://api.opensea.io/api/v1/assets",{params:{format:"json",owner:t.identity,limit:t.limit||50,next:t.cursor},headers:{"x-api-key":this.main.options.openseaAPIKey||""}}),r=e.data?.assets.map(n=>{let i={tags:["NFT"],owners:[At(t.identity)],name:n.name,description:n.description,source:"Ethereum NFT",metadata:{network:"Ethereum",proof:`${n.asset_contract.address}-${n.token_id}`,token_standard:`${n.asset_contract.schema_name.slice(0,3)}-${n.asset_contract.schema_name.slice(3)}`,token_id:n.token_id,token_symbol:n.asset_contract.symbol,collection_address:n.asset_contract.address,collection_name:n.asset_contract.name,providers:["OpenSea"]}};if(n.image_original_url&&(i.previews=[{address:n.image_original_url.replace("https://opensea-private.mypinata.cloud/ipfs/","ipfs://").replace("https://opensea.mypinata.cloud/ipfs/","ipfs://")}]),n.animation_original_url&&(i.items=[{address:n.animation_original_url.replace("https://opensea-private.mypinata.cloud/ipfs/","ipfs://").replace("https://opensea.mypinata.cloud/ipfs/","ipfs://")}]),n.traits){let a=this.generateAttributes(n.traits);a&&(i.attributes=a)}return n.external_link&&(i.related_urls||(i.related_urls=[]),i.related_urls.push(n.external_link)),i});return{total:r.length,...e.data?.next&&{cursor:e.data?.next},list:r}}},lB=dB,hB=class extends ji{constructor(t){super(t)}async get(t){let e=(this.main.options.poapAPIKey?await It.get(`https://api.poap.tech/actions/scan/${t.identity}`,{headers:{"X-API-KEY":this.main.options.poapAPIKey}}):await It.get(`https://frontend.poap.tech/actions/scan/${t.identity}`)).data?.map(r=>({tags:["NFT","POAP"],owners:[At(r.owner)],name:r.event.name,description:r.event.description,items:[{address:r.event.image_url,mime_type:"image/png"}],attributes:[{key:"country",value:r.event.country},{key:"city",value:r.event.city},{key:"year",value:r.event.year},{key:"start_date",value:r.event.start_date},{key:"end_date",value:r.event.end_date},{key:"expiry_date",value:r.event.expiry_date},{key:"supply",value:r.event.supply},{key:"event_url",value:r.event.event_url}],source:"Ethereum NFT",metadata:{network:"Gnosis",proof:`0x22C1f6050E56d2876009903609a2cC3fEf83B415-${r.tokenId}`,token_standard:"ERC-721",token_id:r.tokenId,token_symbol:"The Proof of Attendance Protocol",collection_address:"0x22C1f6050E56d2876009903609a2cC3fEf83B415",collection_name:"POAP",providers:["POAP"]}}));return{total:e.length,list:e}}},pB=hB,mB=class extends ji{constructor(t){super(t)}async get(t){let e=(await It.get("https://public-api.solscan.io/account/tokens",{params:{account:t.identity}})).data,r=(await Promise.all(e.map(async n=>{let i={};try{i=(await It.get(`https://public-api.solscan.io/account/${n.tokenAddress}`)).data}catch{}if(i.tokenInfo.type!=="nft")return!1;let a={tags:["NFT"],owners:[t.identity],name:i.metadata?.data.name||i.onchainMetadata?.data.name,description:i.metadata?.data.description,source:"Solana NFT",metadata:{network:"Solana",proof:n.tokenAddress,token_standard:"Metaplex",token_id:n.tokenAddress,token_symbol:i.onchainMetadata?.data.symbol,collection_name:i.metadata?.data.collection.name,providers:["Solscan"]}};i.metadata?.data.image&&(a.previews=[{address:i.metadata?.data.image}]);let s=i.metadata?.data.animation_url||i.metadata?.data.image;if(s&&(a.items=[{address:s}]),i.metadata?.data.attributes){let o=this.generateAttributes(i.metadata?.data.attributes);o&&(a.attributes=o)}return i.metadata?.data.external_url&&(a.related_urls||(a.related_urls=[]),a.related_urls.push(i.metadata?.data.external_url)),a}))).filter(n=>n);return{total:r.length,list:r}}},yB=mB,bB=class extends ji{constructor(t){super(t)}async get(t){if(!this.main.options.moralisWeb3APIKey)return{total:0,list:[]};let e=(await It.get(`https://solana-gateway.moralis.io/account/mainnet/${t.identity}/nft`,{headers:{"x-api-key":this.main.options.moralisWeb3APIKey}})).data,r=await Promise.all(e.map(async n=>{let i={};try{i=(await It.get(`https://solana-gateway.moralis.io/nft/mainnet/${n.mint}/metadata`,{headers:{"x-api-key":this.main.options.moralisWeb3APIKey}})).data}catch{}let a={};try{a=(await It.get(i.metaplex?.metadataUri)).data}catch{}let s={tags:["NFT"],owners:[t.identity],name:a.name||i.name,description:a.description,source:"Solana NFT",metadata:{network:"Solana",proof:n.mint,token_standard:i.standard,token_id:n.mint,token_symbol:a.symbol||i.symbol,collection_name:a.collection?.name,providers:["Moralis"]}};a.image&&(s.previews=[{address:a.image}]);let o=a.animation_url||a.image;if(o&&(s.items=[{address:o}]),a.attributes){let c=this.generateAttributes(a.attributes);c&&(s.attributes=c)}return a.external_url&&(s.related_urls||(s.related_urls=[]),s.related_urls.push(a.external_url)),s}));return{total:r.length,list:r}}},xB=bB,gB=class extends ji{constructor(t){super(t)}async get(t){let e=[],r={Ethereum:{endpoint:"https://eth-mainnet.alchemyapi.io/v2/",keyName:"alchemyEthereumAPIKey"},Polygon:{endpoint:"https://polygon-mainnet.g.alchemy.com/v2/",keyName:"alchemyPolygonAPIKey"}},n=[],i=0;return await Promise.all(Object.keys(r).map(async(a,s)=>{let o=this.main.options[r[a].keyName];if(!o)return;let c=await It.get(`${r[a].endpoint}${o}/getNFTs/`,{params:{owner:t.identity,pageKey:t.cursor?.[s]}}),f=c.data?.ownedNfts.map(l=>{let x=ue.from(l.id.tokenId).toString(),A={tags:["NFT"],owners:[At(t.identity)],name:l.title,description:l.description,source:"Ethereum NFT",metadata:{network:a,proof:`${l.contract.address}-${x}`,token_standard:`${l.id.tokenMetadata.tokenType.slice(0,3)}-${l.id.tokenMetadata.tokenType.slice(3)}`,token_id:x,collection_address:l.contract.address,providers:["Alchemy"]}},S=l.metadata?.image||l.metadata?.image_url;S&&(A.previews=[{address:S}]);let M=l.metadata?.animation_url||l.metadata?.image||l.metadata?.image_url;if(M&&(A.items=[{address:M}]),l.metadata?.attributes){let k=this.generateAttributes(l.metadata?.attributes);k&&(A.attributes=k)}return(l.metadata?.external_url||l.metadata?.external_link)&&(A.related_urls||(A.related_urls=[]),A.related_urls.push(l.metadata?.external_url||l.metadata?.external_link)),A});return e=e.concat(f),f.length<c.data?.totalCount&&(n[s]=c.data?.pageKey),i+=c.data?.totalCount||f.length,a})),{total:i,...n.find(a=>a)&&{cursor:n},list:e}}},vB=gB,wB=class extends ji{constructor(t){super(t)}async get(t){if(!this.main.options.alchemyFlowAPIKey)return{total:0,list:[]};let e=await It.get(`https://flow-mainnet.g.alchemy.com/v2/${this.main.options.alchemyFlowAPIKey}/getNFTs/`,{params:{owner:t.identity,limit:t.limit,offset:t.cursor}}),r=e.data?.nfts.map(n=>{let i=ue.from(n.id.tokenId).toString(),a={tags:["NFT"],owners:[t.identity],name:n.title,description:n.description,source:"Flow NFT",metadata:{network:"Flow",proof:`${n.contract.address}-${i}`,token_id:i,collection_address:n.contract.address,collection_name:n.contract.name,providers:["Alchemy"]}};if(n.media?.length&&(a.items=n.media.map(s=>({address:s.uri}))),n.metadata.metadata){let s=this.generateAttributes(n.metadata.metadata);s&&(a.attributes=s)}return n.externalDomainViewUrl&&(a.related_urls||(a.related_urls=[]),a.related_urls.push(n.externalDomainViewUrl)),a});return{total:e.data.nftCount,...(t.cursor||0)+r.length<e.data.nftCount&&{cursor:(t.cursor||0)+r.length},list:r}}},_B=wB,AB=class extends ji{constructor(t){super(t)}async get(t){let e=(await It.get(`https://pregod.rss3.dev/v0.4.0/account:${t.identity}@ethereum/notes`,{params:{item_sources:"Gitcoin Contribution"}})).data,r={total:e.total,list:e.list.map(s=>{let o={date_created:s.date_created,date_updated:s.date_updated,tags:["Donation"],owners:[At(t.identity)],name:s.title,description:s.attachments.filter(f=>f.type==="description")[0].content,source:"Gitcoin Contribution",related_urls:s.related_urls,metadata:{network:s.metadata.approach==="Standard"?"Ethereum":s.metadata.approach,proof:s.metadata.destination,amounts:[{value:s.metadata.value_amount,symbol:s.metadata.value_symbol}],providers:["RSS3"]}},c=s.attachments.filter(f=>f.type==="logo")[0].address;return c&&(o.previews=[{address:c}]),o})},n=r.list,i=gu([n[0]],s=>s.metadata?.proof);for(let s=1;s<n.length;s++)i=Ib(i,gu([n[s]],o=>o.metadata?.proof),(o,c)=>{if(Array.isArray(o))return Rb(o.concat(c),kb)});let a=Sb(i);return r.list=a,r}},EB=AB,TB=class extends ji{constructor(t){super(t)}async get(t){if(!this.main.options.nftscanAPIKey)return{total:0,list:[]};let e=[],r={Ethereum:"https://restapi.nftscan.com/",Polygon:"https://polygonapi.nftscan.com/","Binance Smart Chain":"https://bnbapi.nftscan.com/",Arbitrum:"https://arbitrumapi.nftscan.com/",Moonbeam:"https://moonbeamapi.nftscan.com/",Optimism:"https://optimismapi.nftscan.com/"},n=[],i=0,a=[],s=Object.keys(r);for(let o=0;o<s.length;o++)a=a.concat([[s[o],"erc721"],[s[o],"erc1155"]]);return await Promise.all(a.map(async(o,c)=>{let f=await It.get(`${r[o[0]]}api/v2/account/own/${t.identity}`,{params:{erc_type:o[1],limit:100,cursor:t.cursor?.[c]},headers:{"X-API-KEY":this.main.options.nftscanAPIKey}}),l=f.data?.data?.content?.map(x=>{let A;if(x.metadata_json)try{A=JSON.parse(x.metadata_json)}catch{}let S={date_created:new Date(x.mint_timestamp).toISOString(),tags:["NFT"],owners:[At(t.identity)],name:x.name||A?.name,description:A?.description,source:"Ethereum NFT",metadata:{network:o[0],proof:`${x.contract_address}-${x.token_id}`,token_standard:o[1]==="erc721"?"ERC-721":"ERC-1155",token_id:x.token_id,collection_address:x.contract_address,collection_name:x.contract_name,providers:["NFTScan"]}},M=A?.image||A?.image_url;M&&(S.previews=[{address:M}]);let k=A?.animation_url||A?.image||A?.image_url;if(k&&(S.items=[{address:k}]),A?.attributes){let I=this.generateAttributes(A?.attributes);I&&(S.attributes=I)}return(A?.external_url||A?.external_link)&&(S.related_urls||(S.related_urls=[]),S.related_urls.push(A?.external_url||A?.external_link)),S});return e=e.concat(l),i+=f.data?.data?.total,f.data?.data?.total&&f.data?.data?.total>l.length&&(n[c]=f.data?.data?.next),o[0]})),{total:i,...n.find(o=>o)&&{cursor:n},list:e}}},MB=TB,kB=class{main;map;constructor(t){this.main=t,this.map={"Ethereum NFT":{NFTScan:new MB(t),Alchemy:new vB(t),Moralis:new fB(t),OpenSea:new lB(t),POAP:new pB(t)},"Solana NFT":{Solscan:new yB(t),Moralis:new xB(t)},"Flow NFT":{Alchemy:new _B(t)},"Gitcoin Contribution":{RSS3:new EB(t)}}}generateRelatedUrls(t){switch(t.related_urls||(t.related_urls=[]),t.metadata?.network){case"Ethereum":t.metadata.token_id&&t.metadata.collection_address&&(t.related_urls=t.related_urls.concat([`https://etherscan.io/nft/${t.metadata.collection_address}/${t.metadata.token_id}`,`https://opensea.io/assets/${t.metadata.collection_address}/${t.metadata.token_id}`]));break;case"Polygon":t.metadata.token_id&&t.metadata.collection_address&&(t.related_urls=t.related_urls.concat([`https://polygonscan.com/token/${t.metadata.collection_address}?a=${t.metadata.token_id}`,`https://opensea.io/assets/matic/${t.metadata.collection_address}/${t.metadata.token_id}`]));break;case"Binance Smart Chain":t.metadata.token_id&&t.metadata.collection_address&&(t.related_urls=t.related_urls.concat([`https://bscscan.com/token/${t.metadata.collection_address}?a=${t.metadata.token_id}`]));break;case"Gnosis":t.metadata.token_id&&t.metadata.collection_address&&(t.related_urls=t.related_urls.concat([`https://blockscout.com/xdai/mainnet/token/0x22c1f6050e56d2876009903609a2cc3fef83b415/instance/${t.metadata.token_id}/token-transfers`,`https://app.poap.xyz/token/${t.metadata.token_id}`]));break;case"Solana":t.metadata.token_id&&(t.related_urls=t.related_urls.concat([`https://solscan.io/token/${t.metadata.token_id}`]));break;case"Crossbell":t.metadata.token_id&&(t.related_urls=t.related_urls.concat([`https://scan.crossbell.io/token/${t.metadata.collection_address}/instance/${t.metadata.token_id}`]));break}}async get(t){t=Object.assign({providers:Object.keys(this.map[t.source])},t);let e;if(t.providers.length>1){let n=await Promise.all(t.providers.map(async(o,c)=>{try{let f=await this.map[t.source][o].get(Object.assign(t,{cursor:t.cursor?.[c]}));return f.list=f.list.filter(l=>l),this.main.utils.removeEmpty(f.list),f}catch(f){return console.warn(f),{total:0,list:[]}}})),i=gu(n[0].list,o=>o.metadata?.proof);for(let o=1;o<n.length;o++)i=Ib(i,gu(n[o].list,c=>c.metadata?.proof),(c,f)=>{if(Array.isArray(c))return Rb(f.concat(c),kb)});let a=Sb(i),s=n.map(o=>o.cursor);e={total:a.length,...s.find(o=>o)&&{cursor:s},list:a}}else e=await this.map[t.source][t.providers[0]].get(t);let r=["Gnosis","Binance Smart Chain","Polygon","Crossbell","Ethereum"];return e.list=e.list.map(n=>(n.name||(n.name=`${n.metadata?.collection_name||n.metadata?.token_symbol||""} #${n.metadata?.token_id||""}`),n.description||(n.description=n.name),n.previews&&n.previews.forEach(i=>{i.address&&(i.address=this.main.utils.replaceIPFS(i.address)),i.address&&!i.mime_type&&(i.mime_type=this.main.utils.getMimeType(i.address))}),n.items&&n.items.forEach(i=>{i.address&&(i.address=this.main.utils.replaceIPFS(i.address)),i.address&&!i.mime_type&&(i.mime_type=this.main.utils.getMimeType(i.address))}),n.items&&!n.previews&&(n.previews=n.items),n.previews&&!n.items&&(n.items=n.previews),this.generateRelatedUrls(n),n)).sort((n,i)=>r.indexOf(i.metadata?.network||"")-r.indexOf(n.metadata?.network||"")||(n.metadata?.block_number&&i.metadata?.block_number?parseInt(i.metadata?.block_number||0)-parseInt(n.metadata?.block_number||0):n.date_created&&i.date_created?+new Date(i.date_created)-+new Date(n.date_created):0)),e}},IB=kB,SB=class{main;inited;accountsMap;constructor(t){this.main=t}},ld=SB,CB=class extends ld{constructor(t){super(t)}async get(t){let e=(await It.get(`https://pregod.rss3.dev/v0.4.0/account:${t.identity}@ethereum/notes`,{params:{item_sources:"Mirror Entry",limit:t.limit,last_identifier:t.cursor}})).data;return{total:e.total,...e.identifier_next&&new URL(e.identifier_next).searchParams.get("last_identifier")&&{cursor:new URL(e.identifier_next).searchParams.get("last_identifier")},list:e.list.map(r=>{delete r.links,delete r.backlinks,r.id=r.identifier,delete r.identifier,r.authors=r.authors.map(i=>({identity:i.match(/account:(.*)@/)?.[1],platform:i.match(/@(.*)$/)?.[1]})),r.summary={content:r.summary,mime_type:"text/markdown"},r.attachments||(r.attachments=[]),r.attachments.forEach(i=>(i.address&&(i.address=this.main.utils.replaceIPFS(i.address)),i.name=i.type,delete i.type,i));let n=r.attachments?.find(i=>i.name==="body");return n?(r.body=n,r.attachments=r.attachments.filter(i=>i.name!=="body"),r.attachments.length||delete r.attachments,delete r.body.type):r.body=r.summary,r})}}set},NB=CB,RB=class extends ld{constructor(t){super(t)}async get(t){let e=(await It.get(`https://pregod.rss3.dev/v0.4.0/account:${t.identity}@ethereum/notes`,{params:{item_sources:"Ethereum NFT",limit:t.limit,last_identifier:t.cursor}})).data;return{total:e.total,...new URL(e.identifier_next&&e.identifier_next).searchParams.get("last_identifier")&&{cursor:new URL(e.identifier_next).searchParams.get("last_identifier")},list:e.list.map(r=>{delete r.links,delete r.backlinks,r.id=r.identifier,delete r.identifier,r.authors=r.authors.map(i=>({identity:i.match(/account:(.*)@/)?.[1],platform:i.match(/@(.*)$/)?.[1]})),r.title=r.metadata.from===t.identity?"Lost an NFT: ":"Got an NFT: "+(r.title||""),r.summary={content:r.summary,mime_type:"text/plain"},r.attachments||(r.attachments=[]),r.attachments.forEach(i=>(i.address&&(i.address=this.main.utils.replaceIPFS(i.address)),i.name=i.type,delete i.type,i));let n=r.attachments?.find(i=>i.name==="body");return n?(r.body=n,r.attachments=r.attachments.filter(i=>i.name!=="body"),r.attachments.length||delete r.attachments,delete r.body.type):r.body=r.summary,r})}}set},PB=RB,OB=class extends ld{constructor(t){super(t)}async get(t){let e=(await It.get(`https://pregod.rss3.dev/v0.4.0/account:${t.identity}@ethereum/notes`,{params:{item_sources:"Gitcoin Contribution",limit:t.limit,last_identifier:t.cursor}})).data;return{total:e.total,...e.identifier_next&&new URL(e.identifier_next&&e.identifier_next).searchParams.get("last_identifier")&&{cursor:new URL(e.identifier_next).searchParams.get("last_identifier")},list:e.list.map(r=>{delete r.links,delete r.backlinks,r.id=r.identifier,delete r.identifier,r.authors=r.authors.map(i=>({identity:i.match(/account:(.*)@/)?.[1],platform:i.match(/@(.*)$/)?.[1]})),r.title=`Contributed ${r.metadata.value_amount}${r.metadata.value_symbol} to `+(r.title||""),r.summary={content:r.summary,mime_type:"text/plain"},r.attachments||(r.attachments=[]),r.attachments.forEach(i=>(i.address&&(i.address=this.main.utils.replaceIPFS(i.address)),i.name=i.type,delete i.type,i));let n=r.attachments?.find(i=>i.name==="description");return n?(r.body=n,r.attachments=r.attachments.filter(i=>i.name!=="description"),r.attachments.length||delete r.attachments,delete r.body.type):r.body=r.summary,r})}}set},BB=OB,LB={date_created:"createdAt",date_updated:"updatedAt",date_published:"publishedAt"},DB=class extends ld{indexer;contract;constructor(t){super(t),Lt.setIpfsGateway(this.main.options.ipfsGateway)}async get(t){this.indexer||(this.indexer=new Bs),t=Object.assign({platform:"Ethereum"},t);let e;if(t.identity&&(e=(await this.main.utils.getCrossbellCharacter({identity:t.identity,platform:t.platform}))?.characterId,!e))return{total:0,list:[]};let r;if(t.filter?.id){let i=await this.indexer.getNote(e+"",t.filter.id.split("-")[1]);i?r={count:1,cursor:null,list:[i]}:r={count:0,cursor:null,list:[]}}else r=await this.indexer.getNotes({cursor:t.cursor,includeDeleted:t.include_deleted,limit:t.limit,includeEmptyMetadata:!0,...t.order_by&&{orderBy:LB[t.order_by]},...e&&{characterId:e+""},...t.filter?.url&&{externalUrls:t.filter?.url},...t.filter?.tags&&{tags:t.filter?.tags},...t.filter?.applications&&{sources:t.filter?.applications}});let n=(await Promise.all(r?.list.map(async i=>{if(i.metadata.uri&&!i.metadata.content)try{let s=await It.get(this.main.utils.replaceIPFS(i.metadata.uri),{...typeof window>"u"&&{headers:{"User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.0.0 Safari/537.36"}}});if(i.metadata.content=s.data,t.filter?.url&&!i.metadata.content.external_urls?.includes(t.filter?.url)||t.filter?.tags&&(Array.isArray(t.filter?.tags)||(t.filter.tags=[t.filter.tags]),!t.filter.tags.every(o=>i.metadata.content.tags?.includes(o)))||t.filter?.applications&&(Array.isArray(t.filter?.applications)||(t.filter.applications=[t.filter.applications]),!t.filter.applications.every(o=>i.metadata.content.sources?.includes(o))))return r.count--,null}catch(s){console.warn(s)}let a=Object.assign({date_published:i.createdAt},i.metadata?.content,{id:`${e}-${i.noteId}`,date_created:i.createdAt,date_updated:i.updatedAt,related_urls:[...i.toUri?[i.toUri]:[],...i.uri?[this.main.utils.replaceIPFS(i.uri)]:[],`https://scan.crossbell.io/tx/${i.transactionHash}`,...i.updatedTransactionHash&&i.updatedTransactionHash!==i.transactionHash?[`https://scan.crossbell.io/tx/${i.updatedTransactionHash}`]:[]],authors:[i.operator],source:"Crossbell Note",metadata:{network:"Crossbell",proof:`${e}-${i.noteId}`,block_number:i.blockNumber,owner:i.owner,transactions:[i.transactionHash,...i.transactionHash!==i.updatedTransactionHash?[i.updatedTransactionHash]:[]],raw:i.metadata?.content}});return a.summary&&(a.summary={content:a.summary,mime_type:"text/markdown"}),a.content&&(a.body={content:a.content,mime_type:"text/markdown"},delete a.content),a.attachments&&a.attachments.forEach(s=>{s.address&&(s.address=this.main.utils.replaceIPFS(s.address)),s.address&&!s.mime_type&&(s.mime_type=this.main.utils.getMimeType(s.address))}),a.sources&&(a.applications=a.sources,delete a.sources),a}))).filter(i=>i);return{total:r.count,...r.cursor&&{cursor:r.cursor},list:n}}async set(t,e,r){t=Object.assign({platform:"Ethereum",action:"add"},t),!this.contract&&!r?.newbieToken&&(this.contract=new pp(this.main.options.ethereumProvider),await this.contract.connect()),this.indexer||(this.indexer=new Bs);let n=(await this.main.utils.getCrossbellCharacter({identity:t.identity,platform:t.platform}))?.characterId;if(!n)return{code:1,message:"Character not found"};switch(e.body&&(e.content=e.body.content,delete e.body),e.summary&&(e.summary=e.summary.content),e.related_urls&&(e.external_urls=e.related_urls,delete e.related_urls),e.applications&&(e.sources=e.applications,delete e.applications),t.action){case"add":{let i;if(r?.newbieToken){let a={};r&&r.targetUri?a={linkItemType:"AnyUri",linkItem:{uri:r.targetUri}}:r&&r.targetNote&&(a={linkItemType:"Note",linkItem:{characterId:r.targetNote.split("-")?.[0],noteId:r.targetNote.split("-")?.[1]}}),i=(await It.put(`${this.indexer.endpoint}/newbie/contract/notes`,Object.assign({metadata:e,locked:!1},a),{headers:{authorization:`Bearer ${r?.newbieToken}`}})).data}else{let a=await this.main.utils.uploadToIPFS(e);r&&r.targetUri?i=await this.contract.postNoteForAnyUri(n+"",a,r.targetUri):r&&r.targetNote?i=await this.contract.postNoteForNote(n+"",a,r.targetNote.split("-")?.[0],r.targetNote.split("-")?.[1]):i=await this.contract.postNote(n+"",a)}return{code:0,message:"Success",data:i.data.noteId}}case"remove":{if(e.id){if(e.id.split("-")[0]!==n+"")return{code:1,message:"Wrong id"};r?.newbieToken?await It.delete(`${this.indexer.endpoint}/newbie/contract/notes/${e.id.split("-")[1]}`,{headers:{authorization:`Bearer ${r?.newbieToken}`}}):await this.contract.deleteNote(n+"",e.id.split("-")[1])}else return{code:1,message:"Missing id"};return{code:0,message:"Success"}}case"update":if(e.id){if(e.id.split("-")[0]!==n+"")return{code:1,message:"Wrong id"};{let i=await this.indexer.getNote(n+"",e.id.split("-")[1]);if(i){let a=e.id;delete e.id,i.metadata?.uri&&!i.metadata?.content&&(i.metadata.content=(await It.get(this.main.utils.replaceIPFS(i.metadata.uri),{...typeof window>"u"&&{headers:{"User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.0.0 Safari/537.36"}}})).data);let s=Object.assign({},i.metadata?.content,e);if(e.attributes&&i.metadata?.content?.attributes&&(s.attributes=Nb(e.attributes,i.metadata.content.attributes,"trait_type")),r?.newbieToken)await It.post(`${this.indexer.endpoint}/newbie/contract/notes/${a.split("-")[1]}/metadata`,{metadata:s,mode:"replace"},{headers:{authorization:`Bearer ${r?.newbieToken}`}});else{let o=await this.main.utils.uploadToIPFS(s);await this.contract.setNoteUri(n+"",a.split("-")[1],o)}return{code:0,message:"Success"}}else return{code:1,message:"Note not found"}}}else return{code:1,message:"Missing id"};default:throw new Error(`Unsupported action: ${t.action}`)}}},FB=DB,UB=class{map;constructor(t){this.map={"Mirror Entry":new NB(t),"Ethereum NFT Activity":new PB(t),"Gitcoin Contribution":new BB(t),"Crossbell Note":new FB(t)}}async get(t){t=Object.assign({limit:10},t);let e=await this.map[t.source].get(t);return e?.list&&(e.list=e.list.map(r=>(r.date_published||(r.date_published=r.date_created),r))),e}async set(t,e,r){return this.map[t.source].set?this.map[t.source].set(t,e,r):{code:1,message:"Method not implemented"}}},$B=UB;console.log(`
 %c Unidata v0.7.20 %c https://unidata.app 
`,"color: #fecc02; background: #030307; padding: 5px 0;","background: #fecc02; padding: 5px 0;");var HB=class{options;utils;profiles;links;assets;notes;constructor(t){this.options=Object.assign({},{ipfsGateway:"https://gateway.ipfs.io/ipfs/",ipfsRelay:"https://ipfs-relay.crossbell.io/json",...typeof window<"u"&&{ethereumProvider:window.ethereum}},t),da(It,{retries:3,retryDelay:da.exponentialDelay,retryCondition:e=>e.response?.status===429||Tp(e)}),this.utils=new WO(this),this.profiles=new tB(this),this.links=new oB(this),this.assets=new IB(this),this.notes=new $B(this)}},zB=HB;const Eb=new zB,qB="https://ipfs.4everland.xyz/ipfs/",jB=t=>t?.replaceAll(qB,"").replaceAll("https://gateway.ipfs.io/ipfs/","").replaceAll("https://ipfs.io/ipfs/","").replaceAll("https://cf-ipfs.com/ipfs/","").replaceAll("https://ipfs.4everland.xyz/ipfs/","").replaceAll("https://rss3.mypinata.cloud/ipfs/","");class TL{static SITE_ID="";static setSiteId(e){this.SITE_ID=e}static createOrUpdate(e){const r=["hide","password","secret"];for(const n of r)if(n in e&&e[n])return message.info(`跳过隐藏笔记，命中字段：${n}`),Promise.resolve();return new Promise(n=>{if(!("ethereum"in window)){n(null);return}if(!this.SITE_ID){n(null);return}dialog.create({title:"已连接到 xLog",content:`已连接到 xLog (${this.SITE_ID})，此文章的更新需要同步吗？`,onNegativeClick(){n(null)},onPositiveClick(){i()},negativeText:"不需要",positiveText:"嗯！"});const i=async()=>{const a=this.SITE_ID,s=window.ethereum,o=R7(s);if(message.loading("准备发布到 xLog，等待钱包响应..."),await o.walletClient.requestAddresses(),!o.account.address){console.error("no address");return}let c=!1,f=e.meta?.xLog?.pageId;const l="slug"in e?e.slug:`note-${e.nid}`;await(async()=>{if(c)return Promise.resolve();const{text:A,title:S}=e;c=!0,(!f||this.isNoteModel(e))&&(f=await this.fetchPageId(l));const M=await Uc.api.helper("url-builder")(e.id).get().then(({data:C})=>C).catch(()=>"");if(!M)throw new Error("文章链接生成失败");const k=`${A}

<span style="text-align: right;font-size: 0.8em; float: right">此文由 [Mix Space](https://github.com/mx-space) 同步更新至 xLog
原始链接为 <${M}></span>`;message.loading("正在发布到 xLog...");const I={siteId:a,content:k,title:S,isPost:!0,slug:l,published:!0,applications:["xlog"],externalUrl:`https://${a}.xlog.app/posts/${l}`,pageId:f,tags:"tags"in e?e.tags.toString():this.isNoteModel(e)?"Note":"",publishedAt:e.created};return Eb.notes.set({source:"Crossbell Note",identity:I.siteId,platform:"Crossbell",action:I.pageId?"update":"add"},{...I.externalUrl&&{related_urls:[I.externalUrl]},...I.pageId&&{id:I.pageId},...I.title&&{title:I.title},...I.content&&{body:{content:I.content,mime_type:"text/markdown"}},...I.publishedAt&&{date_published:I.publishedAt},tags:["post",...I.tags?.split(",").map(C=>C.trim()).filter(C=>C)||[]],applications:["xlog",...I.applications?.filter(C=>C!=="xlog")||[]],...I.slug&&{attributes:[{trait_type:"xlog_slug",value:I.slug}]}})})().then(()=>{message.success("xLog 发布成功"),M6(),(f?Promise.resolve(f):this.fetchPageId(l)).then(A=>{if(!A){message.error("无法获取 xLog pageId 任务终止");return}this.updateModel(e,{pageId:A}),Eb.notes.get({source:"Crossbell Note",identity:a,platform:"Crossbell",filter:{id:A}}).then(S=>{if(!S)return;const{list:M}=S,k=M[0];if(!k)return;const{metadata:I,related_urls:C}=k,R={...I};delete R.raw,console.debug(k),this.updateModel(e,{pageId:A,related_urls:C,metadata:R,cid:jB(C?.[0]||"")})})}),n(null)}).catch(()=>{message.error("xLog 发布失败"),n(null)})}})}static isNoteModel(e){return"nid"in e}static async fetchPageId(e){if(!this.SITE_ID)return;const{characterId:r,noteId:n}=await Uc.api.fn.xlog.get_page_id.get({params:{handle:this.SITE_ID,slug:e}}).catch(()=>({noteId:"",characterId:""}));if(!(!r||!n))return`${r}-${n}`}static async updateModel(e,r){const n=e.id,{cid:i,pageId:a,related_urls:s,metadata:o}=r;for(const f in r)r[f]===void 0&&delete r[f];const c={meta:{...e.meta,xLog:{...e.meta?.xLog,pageId:a,cid:i,related_urls:s,metadata:o}}};this.isNoteModel(e)?await Uc.api.notes(n).patch({data:c}):await Uc.api.posts(n).patch({data:c})}}export{TL as CrossBellConnector};
